(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16db71c8"],{"01d3":function(t,e,n){},"0247":function(t,e,n){"use strict";n("486e")},"04d2":function(t,e,n){},"0516":function(t,e,n){},"0740":function(t,e,n){},"077a":function(t,e,n){},"07be":function(t,e,n){},"09a0":function(t,e,n){},"0a35":function(t,e,n){},"105c":function(t,e,n){},"114d":function(t,e,n){"use strict";n("09a0")},"151b":function(t,e,n){"use strict";n("771a")},1553:function(t,e,n){},1643:function(t,e,n){},1765:function(t,e,n){"use strict";n("87b5")},"1b94":function(t,e,n){},"1bb2":function(t,e,n){"use strict";n("0a35")},"1ef1":function(t,e,n){},"22e3":function(t,e,n){"use strict";n("683a")},"22f3":function(t,e,n){},2366:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);function i(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}t.exports=i},"249e":function(t,e,n){},"25bd":function(t,e,n){"use strict";n("bb93")},2755:function(t,e,n){"use strict";n("22f3")},2816:function(t,e,n){},2965:function(t,e,n){"use strict";n("9940")},"2ad2":function(t,e,n){"use strict";n("0516")},"2af9":function(t,e,n){},"2b04":function(t,e,n){"use strict";n("dafd")},"2c23":function(t,e,n){"use strict";n("2816")},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),a="includes";r(r.P+r.F*n("5147")(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3056:function(t,e,n){},3139:function(t,e,n){var r,i,a;(function(o,s){i=[e,n("313e")],r=s,a="function"===typeof r?r.apply(e,i):r,void 0===a||(t.exports=a)})(0,(function(t,e){var n=function(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)};e?e.registerMap?e.registerMap("china",{type:"FeatureCollection",features:[{type:"Feature",id:"710000",properties:{id:"710000",cp:[121.509062,24.044332],name:"台湾",childNum:6},geometry:{type:"MultiPolygon",coordinates:[["@@°Ü¯Û"],["@@ƛĴÕƊÉɼģºðʀ\\ƎsÆNŌÔĚänÜƤɊĂǀĆĴĤǊŨxĚĮǂƺòƌâÔ®ĮXŦţƸZûÐƕƑGđ¨ĭMó·ęcëƝɉlÝƯֹÅŃ^Ó·śŃǋƏďíåɛGɉ¿@ăƑ¥ĘWǬÏĶŁâ"],["@@\\p|WoYG¿¥Ij@¢"],["@@¡@V^RqBbAnTXeRz¤L«³I"],["@@ÆEEkWqë @"],["@@fced"],["@@¯ɜÄèaì¯ØǓIġĽ"],["@@çûĖëĄhòř "]],encodeOffsets:[[[122886,24033]],[[123335,22980]],[[122375,24193]],[[122518,24117]],[[124427,22618]],[[124862,26043]],[[126259,26318]],[[127671,26683]]]}},{type:"Feature",id:"130000",properties:{id:"130000",cp:[114.502461,38.045474],name:"河北",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@o~Z]ªrºc_ħ²G¼s`jÎŸnüsÂłNX_M`Ç½ÓnUKĜēs¤­©yrý§uģcJe"],["@@U`Ts¿mÂ"],["@@oºƋÄdeVDJj£J|ÅdzÂFt~KŨ¸IÆv|¢r}èonb}`RÎÄn°ÒdÞ²^®lnÐèĄlðÓ×]ªÆ}LiĂ±Ö`^°Ç¶p®đDcŋ`ZÔ¶êqvFÆN®ĆTH®¦O¾IbÐã´BĐɢŴÆíȦpĐÞXR·nndO¤OÀĈƒ­QgµFo|gȒęSWb©osx|hYhgŃfmÖĩnºTÌSp¢dYĤ¶UĈjlǐpäìë|³kÛfw²Xjz~ÂqbTÑěŨ@|oMzv¢ZrÃVw¬ŧĖ¸f°ÐTªqs{S¯r æÝlNd®²Ğ ǆiGĘJ¼lr}~K¨ŸƐÌWöÆzR¤lêmĞLÎ@¡|q]SvKÑcwpÏÏĿćènĪWlĄkT}J¤~ÈTdpddʾĬBVtEÀ¢ôPĎƗè@~kü\\rÊĔÖæW_§¼F´©òDòjYÈrbĞāøŀG{ƀ|¦ðrb|ÀH`pʞkvGpuARhÞÆǶgĘTǼƹS£¨¡ù³ŘÍ]¿ÂyôEP xX¶¹ÜO¡gÚ¡IwÃé¦ÅBÏ|Ç°N«úmH¯âDùyŜŲIÄuĐ¨D¸dɂFOhđ©OiÃ`ww^ÌkÑH«ƇǤŗĺtFu{Z}Ö@U´ʚLg®¯Oı°Ãw ^VbÉsmAê]]w§RRl£ȭµu¯b{ÍDěïÿȧuT£ġěŗƃĝQ¨fVƋƅn­a@³@ďyÃ½IĹÊKŭfċŰóxV@tƯJ]eR¾fe|rHA|h~Ėƍl§ÏlTíb ØoÅbbx³^zÃĶ¶Sj®AyÂhðk`«PËµEFÛ¬Y¨Ļrõqi¼Wi°§Ð±´°^[À|ĠO@ÆxO\\ta\\tĕtû{ġȧXýĪÓjùÎRb^ÎfK[ÝděYfíÙTyuUSyŌŏů@Oi½éŅ­aVcř§ax¹XŻácWU£ôãºQ¨÷Ñws¥qEHÙ|šYQoŕÇyáĂ£MÃ°oťÊP¡mWO¡v{ôvîēÜISpÌhp¨ jdeŔQÖjX³àĈ[n`Yp@UcM`RKhEbpŞlNut®EtqnsÁgAiúoHqCXhfgu~ÏWP½¢G^}¯ÅīGCÑ^ãziMáļMTÃƘrMc|O_¯Ŏ´|morDkO\\mĆJfl@cĢ¬¢aĦtRıÒ¾ùƀ^juųœK­UFyƝīÛ÷ąV×qƥV¿aȉd³BqPBmaËđŻģmÅ®V¹d^KKonYg¯XhqaLdu¥Ípǅ¡KąÅkĝęěhq}HyÃ]¹ǧ£Í÷¿qáµ§g¤o^á¾ZE¤i`ĳ{nOl»WÝĔįhgF[¿¡ßkOüš_ūiǱàUtėGyl}ÓM}jpEC~¡FtoQiHkk{Ãmï"]],encodeOffsets:[[[119712,40641]],[[121616,39981]],[[116462,37237]]]}},{type:"Feature",id:"140000",properties:{id:"140000",cp:[111.849248,36.857014],name:"山西",childNum:1},geometry:{type:"Polygon",coordinates:["@@ÞĩÒSra}ÁyWix±Üe´lèßÓǏokćiµVZģ¡coTSË¹ĪmnÕńehZg{gtwªpXaĚThȑp{¶Eh®RćƑP¿£Pmc¸mQÝWďȥoÅîɡųAďä³aÏJ½¥PG­ąSM­EÅruµéYÓŌ_dĒCo­Èµ]¯_²ÕjāK~©ÅØ^ÔkïçămÏk]­±cÝ¯ÑÃmQÍ~_apm~ç¡qu{JÅŧ·Ls}EyÁÆcI{¤IiCfUcƌÃp§]ě«vD@¡SÀµMÅwuYY¡DbÑc¡h×]nkoQdaMç~eDÛtT©±@¥ù@É¡ZcW|WqOJmĩl«ħşvOÓ«IqăV¥D[mI~Ó¢cehiÍ]Ɠ~ĥqX·eƷn±}v[ěďŕ]_œ`¹§ÕōIo©b­s^}Ét±ū«³p£ÿ·Wµ|¡¥ăFÏs×¥ŅxÊdÒ{ºvĴÎêÌɊ²¶ü¨|ÞƸµȲLLúÉƎ¤ϊęĔV`_bªS^|dzY|dz¥pZbÆ£¶ÒK}tĦÔņƠPYznÍvX¶Ěn ĠÔzý¦ª÷ÑĸÙUȌ¸dòÜJð´ìúNM¬XZ´¤ŊǸ_tldI{¦ƀðĠȤ¥NehXnYGR° ƬDj¬¸|CĞKqºfƐiĺ©ª~ĆOQª ¤@ìǦɌ²æBÊTŸʂōĖĴŞȀÆÿȄlŤĒötÎ½î¼ĨXh|ªM¤Ðz"],encodeOffsets:[[116874,41716]]}},{type:"Feature",id:"150000",properties:{id:"150000",cp:[111.670801,41.818311],name:"内蒙古",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@¯PqFB|S³C|kñHdiÄ¥sŉÅPóÑÑE^ÅPpy_YtShQ·aHwsOnŉÃs©iqjUSiº]ïW«gW¡ARë¥_sgÁnUI«m]jvV¼euhwqAaW_µj»çjioQR¹ēÃßt@r³[ÛlćË^ÍÉáGOUÛOB±XkÅ¹£k|e]olkVÍ¼ÕqtaÏõjgÁ£§U^RLËnX°ÇBz^~wfvypV ¯ƫĉ˭ȫƗŷɿÿĿƑ˃ĝÿÃǃßËőó©ǐȍŒĖM×ÍEyxþp]ÉvïèvƀnÂĴÖ@V~Ĉv¦wĖtējyÄDXÄxGQuv_i¦aBçw˛wD©{tāmQ{EJ§KPśƘƿ¥@sCTÉ}ɃwƇy±gÑ}T[÷kÐç¦«SÒ¥¸ëBX½HáÅµÀğtSÝÂa[ƣ°¯¦Pï¡]£ġÒk®G²èQ°óMq}EóƐÇ\\@áügQÍu¥FTÕ¿Jû]|mvāÎYua^WoÀa·­ząÒot×¶CLƗi¯¤mƎHǊ¤îìɾŊìTdåwsRÖgĒųúÍġäÕ}Q¶¿A[¡{d×uQAMxVvMOmăl«ct[wº_ÇÊjbÂ£ĦS_éQZ_lwgOiýe`YYLq§IÁǳ£ÙË[ÕªuƏ³ÍTs·bÁĽäė[b[ŗfãcn¥îC¿÷µ[ŏÀQ­ōĉm¿Á^£mJVmL[{Ï_£F¥Ö{ŹA}×Wu©ÅaųĳƳhB{·TQqÙIķËZđ©Yc|M¡LeVUóK_QWk_ĥ¿ãZ»X\\ĴuUèlG®ěłTĠğDŃOrÍdÆÍz]±ŭ©Å]ÅÐ}UË¥©TċïxgckfWgi\\ÏĒ¥HkµEë{»ÏetcG±ahUiñiWsɁ·cCÕk]wȑ|ća}wVaĚá G°ùnM¬¯{ÈÐÆA¥ÄêJxÙ¢hP¢ÛºµwWOóFÁz^ÀŗÎú´§¢T¤ǻƺSėǵhÝÅQgvBHouʝl_o¿Ga{ïq{¥|ſĿHĂ÷aĝÇqZñiñC³ª»E`¨åXēÕqÉû[l}ç@čƘóO¿¡FUsAʽīccocÇS}£IS~ălkĩXçmĈŀÐoÐdxÒuL^T{r@¢ÍĝKén£kQyÅõËXŷƏL§~}kq»IHėǅjĝ»ÑÞoå°qTt|r©ÏS¯·eŨĕx«È[eM¿yupN~¹ÏyN£{©għWí»Í¾səšǅ_ÃĀɗ±ąĳĉʍŌŷSÉA±åǥɋ@ë£R©ąP©}ĹªƏj¹erLDĝ·{i«ƫC£µsKCGS|úþXgp{ÁX¿ć{ƱȏñZáĔyoÁhA}ŅĆfdŉ_¹Y°ėǩÑ¡H¯¶oMQqð¡Ë|Ñ`ƭŁX½·óÛxğįÅcQs«tȋǅFù^it«Č¯[hAi©á¥ÇĚ×l|¹y¯YȵƓñǙµïċĻ|Düȭ¶¡oŽäÕG\\ÄT¿Òõr¯LguÏYęRƩɷŌO\\İÐ¢æ^Ŋ ĲȶȆbÜGĝ¬¿ĚVĎgª^íu½jÿĕęjık@Ľ]ėl¥ËĭûÁėéV©±ćn©­ȇÍq¯½YÃÔŉÉNÑÅÝy¹NqáʅDǡËñ­ƁYÅy̱os§ȋµʽǘǏƬɱàưN¢ƔÊuľýľώȪƺɂļxZĈ}ÌŉŪĺœĭFЛĽ̅ȣͽÒŵìƩÇϋÿȮǡŏçƑůĕ~Ç¼ȳÐUfdIxÿ\\G zâɏÙOº·pqy£@qþ@Ǟ˽IBäƣzsÂZÁàĻdñ°ŕzéØűzșCìDȐĴĺf®Àľưø@ɜÖÞKĊŇƄ§͑těï͡VAġÑÑ»d³öǍÝXĉĕÖ{þĉu¸ËʅğU̎éhɹƆ̗̮ȘǊ֥ड़ࡰţાíϲäʮW¬®ҌeרūȠkɬɻ̼ãüfƠSצɩςåȈHϚÎKǳͲOðÏȆƘ¼CϚǚ࢚˼ФÔ¤ƌĞ̪Qʤ´¼mȠJˀƲÀɠmǐnǔĎȆÞǠN~ʢĜ¶ƌĆĘźʆȬ˪ĚĒ¸ĞGȖƴƀj`ĢçĶāàŃºēĢĖćYÀŎüôQÐÂŎŞǆŞêƖoˆDĤÕºÑǘÛˤ³̀gńƘĔÀ^ªƂ`ªt¾äƚêĦĀ¼ÐĔǎ¨Ȕ»͠^ˮÊȦƤøxRrŜH¤¸ÂxDÄ|ø˂˜ƮÐ¬ɚwɲFjĔ²Äw°ǆdÀÉ_ĸdîàŎjÊêTĞªŌŜWÈ|tqĢUB~´°ÎFCU¼pĀēƄN¦¾O¶łKĊOjĚj´ĜYp{¦SĚÍ\\T×ªV÷Ší¨ÅDK°ßtŇĔK¨ǵÂcḷ̌ĚǣȄĽFlġUĵŇȣFʉɁMğįʏƶɷØŭOǽ«ƽū¹Ʊő̝Ȩ§ȞʘĖiɜɶʦ}¨֪ࠜ̀ƇǬ¹ǨE˦ĥªÔêFxúQEr´Wrh¤Ɛ \\talĈDJÜ|[Pll̚¸ƎGú´P¬W¦^¦H]prRn|or¾wLVnÇIujkmon£cX^Bh`¥V¦U¤¸}xRj[^xN[~ªxQ[`ªHÆÂExx^wN¶Ê|¨ìMrdYpoRzNyÀDs~bcfÌ`L¾n|¾T°c¨È¢ar¤`[|òDŞĔöxElÖdHÀI`Ď\\Àì~ÆR¼tf¦^¢ķ¶eÐÚMptgjɡČÅyġLûŇV®ÄÈƀĎ°P|ªVVªj¬ĚÒêp¬E|ŬÂc|ÀtƐK f{ĘFĒƌXƲąo½Ę\\¥o}Ûu£ç­kX{uĩ«āíÓUŅßŢqŤ¥lyň[oi{¦LńðFȪȖĒL¿Ìf£K£ʺoqNwğc`uetOj×°KJ±qÆġmĚŗos¬qehqsuH{¸kH¡ÊRǪÇƌbȆ¢´äÜ¢NìÉʖ¦â©Ġu¦öČ^â£ĂhĖMÈÄw\\fŦ°W ¢¾luŸDw\\̀ʉÌÛMĀ[bÓEn}¶Vcês"]],encodeOffsets:[[[129102,52189]]]}},{type:"Feature",id:"210000",properties:{id:"210000",cp:[123.429096,41.796767],name:"辽宁",childNum:16},geometry:{type:"MultiPolygon",coordinates:[["@@L@@sa"],["@@MnNm"],["@@dc"],["@@eÀC@b"],["@@fXwkbrÄ`qg"],["@@^jtWQ"],["@@~ Y]c"],["@@G`ĔN^_¿ZÃM"],["@@iX¶BY"],["@@YZ"],["@@L_{Epf"],["@@^WqCT\\"],["@@\\[§t|¤_"],["@@m`n_"],["@@Ïxǌ{q_×^Giip"],["@@@é^BntaÊU]x ¯ÄPĲ­°hʙK³VÕ@Y~|EvĹsÇ¦­L^pÃ²ŸÒG Ël]xxÄ_fT¤Ď¤cPC¨¸TVjbgH²sdÎdHt`B²¬GJję¶[ÐhjeXdlwhðSČ¦ªVÊÏÆZÆŶ®²^ÎyÅÎcPqńĚDMħĜŁH­kçvV[ĳ¼WYÀäĦ`XlR`ôLUVfK¢{NZdĒªYĸÌÚJRr¸SA|ƴgŴĴÆbvªØX~źB|¦ÕE¤Ð`\\|KUnnI]¤ÀÂĊnŎR®Ő¿¶\\ÀøíDm¦ÎbŨabaĘ\\ľãÂ¸atÎSƐ´©v\\ÖÚÌǴ¤Â¨JKrZ_ZfjþhPkx`YRIjJcVf~sCN¤ EhæmsHy¨SðÑÌ\\\\ĐRZk°IS§fqŒßýáĞÙÉÖ[^¯ǤŲê´\\¦¬ĆPM¯£»uïpùzExanµyoluqe¦W^£ÊL}ñrkqWňûPUP¡ôJoo·U}£[·¨@XĸDXm­ÛÝºGUCÁª½{íĂ^cjk¶Ã[q¤LÉö³cux«zZf²BWÇ®Yß½ve±ÃCý£W{Ú^q^sÑ·¨ÍOt¹·C¥GDrí@wÕKţÃ«V·i}xËÍ÷i©ĝɝǡ]{c±OW³Ya±_ç©HĕoƫŇqr³Lys[ñ³¯OSďOMisZ±ÅFC¥Pq{Ã[Pg}\\¿ghćOk^ģÁFıĉĥM­oEqqZûěŉ³F¦oĵhÕP{¯~TÍlªNßYÐ{Ps{ÃVUeĎwk±ŉVÓ½ŽJãÇÇ»Jm°dhcÀffdF~ĀeĖd`sx² ®EżĀdQÂd^~ăÔH¦\\LKpĄVez¤NP ǹÓRÆąJSh­a[¦´ÂghwmBÐ¨źhI|VV|p] Â¼èNä¶ÜBÖ¼L`¼bØæKVpoúNZÞÒKxpw|ÊEMnzEQIZZNBčÚFÜçmĩWĪñtÞĵÇñZ«uD±|Əlĳ¥ãn·±PmÍada CLǑkùó¡³Ï«QaċÏOÃ¥ÕđQȥċƭy³ÃA"]],encodeOffsets:[[[123686,41445]],[[126019,40435]],[[124393,40128]],[[126117,39963]],[[125322,40140]],[[126686,40700]],[[126041,40374]],[[125584,40168]],[[125453,40165]],[[125362,40214]],[[125280,40291]],[[125774,39997]],[[125976,40496]],[[125822,39993]],[[125509,40217]],[[122731,40949]]]}},{type:"Feature",id:"220000",properties:{id:"220000",cp:[125.3245,43.886841],name:"吉林",childNum:1},geometry:{type:"Polygon",coordinates:["@@pä³PClFbbÍzwBGĭZÅi»lY­ċ²SgkÇ£^Sqd¯R©é£¯S\\cZ¹iűƏCuƍÓXoR}M^o£R}oªU­FuuXHlEÅÏ©¤ÛmTþ¤D²ÄufàÀ­XXÈ±AeyYw¬dvõ´KÊ£\\rµÄlidā]|î©¾DÂVH¹Þ®ÜWnCķ W§@\\¸~¤Vp¸póIO¢VOŇürXql~òÉK]¤¥Xrfkvzpm¶bwyFoúvð¼¤ N°ąO¥«³[éǡű_°Õ\\ÚÊĝþâőàerR¨­JYlďQ[ ÏYëÐ§TGztnß¡gFkMāGÁ¤ia ÉÈ¹`\\xs¬dĆkNnuNUuP@vRY¾\\¢GªóĄ~RãÖÎĢùđŴÕhQxtcæëSɽŉíëǉ£ƍG£nj°KƘµDsØÑpyĆ¸®¿bXp]vbÍZuĂ{n^IüÀSÖ¦EvRÎûh@â[ƏÈô~FNr¯ôçR±­HÑlĢ^¤¢OðævxsŒ]ÞÁTĠs¶¿âÆGW¾ìA¦·TÑ¬è¥ÏÐJ¨¼ÒÖ¼ƦɄxÊ~StD@Ă¼Ŵ¡jlºWvÐzƦZÐ²CH AxiukdGgetqmcÛ£Ozy¥cE}|¾cZk¿uŐã[oxGikfeäT@SUwpiÚFM©£è^Ú`@v¶eňf heP¶täOlÃUgÞzŸU`l}ÔÆUvØ_Ō¬Öi^ĉi§²ÃB~¡ĈÚEgc|DC_Ȧm²rBx¼MÔ¦ŮdĨÃâYxƘDVÇĺĿg¿cwÅ\\¹¥Yĭl¤OvLjM_a W`zļMž·\\swqÝSAqŚĳ¯°kRē°wx^ĐkǂÒ\\]nrĂ}²ĊŲÒøãh·M{yMzysěnĒġV·°G³¼XÀ¤¹i´o¤ŃÈ`ÌǲÄUĞd\\iÖmÈBĤÜɲDEh LG¾ƀÄ¾{WaYÍÈĢĘÔRîĐj}ÇccjoUb½{h§Ǿ{KƖµÎ÷GĀÖŠåưÎs­lyiē«`å§H¥Ae^§GK}iã\\c]v©ģZmÃ|[M}ģTɟĵÂÂ`ÀçmFK¥ÚíÁbX³ÌQÒHof{]ept·GŋĜYünĎųVY^ydõkÅZW«WUa~U·SbwGçǑiW^qFuNĝ·EwUtW·Ýďæ©PuqEzwAVXRãQ`­©GMehccďÏd©ÑW_ÏYƅ»é\\ɹ~ǙG³mØ©BšuT§Ĥ½¢Ã_Ã½L¡ýqT^rme\\PpZZbyuybQefµ]UhĿDCmûvaÙNSkCwncćfv~YÇG"],encodeOffsets:[[130196,42528]]}},{type:"Feature",id:"230000",properties:{id:"230000",cp:[128.642464,46.756967],name:"黑龙江",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@UµNÿ¥īèçHÍøƕ¶Lǽ|g¨|a¾pVidd~ÈiíďÓQġėÇZÎXb½|ſÃH½KFgɱCģÛÇAnjÕc[VĝǱÃËÇ_ £ń³pj£º¿»WH´¯U¸đĢmtĜyzzNN|g¸÷äűÑ±ĉā~mq^[ǁÑďlw]¯xQĔ¯l°řĴrBÞTxr[tŽ¸ĻN_yX`biNKuP£kZĮ¦[ºxÆÀdhĹŀUÈƗCwáZħÄŭcÓ¥»NAw±qȥnD`{ChdÙFć}¢A±Äj¨]ĊÕjŋ«×`VuÓÅ~_kŷVÝyhVkÄãPsOµfgeŇµf@u_Ù ÙcªNªÙEojVxT@ãSefjlwH\\pŏäÀvlY½d{F~¦dyz¤PÜndsrhfHcvlwjF£G±DÏƥYyÏu¹XikĿ¦ÏqƗǀOŜ¨LI|FRĂn sª|C˜zxAè¥bfudTrFWÁ¹Am|ĔĕsķÆF´N}ćUÕ@Áĳſmuçuð^ÊýowFzØÎĕNőǏȎôªÌŒǄàĀÄ˄ĞŀƒʀĀƘŸˮȬƬĊ°Uzouxe]}AyÈW¯ÌmKQ]Īºif¸ÄX|sZt|½ÚUÎ lk^p{f¤lºlÆW A²PVÜPHÊâ]ÎĈÌÜk´\\@qàsĔÄQºpRij¼èi`¶bXrBgxfv»uUi^v~J¬mVp´£´VWrnP½ì¢BX¬hðX¹^TjVriªjtŊÄmtPGx¸bgRsT`ZozÆO]ÒFôÒOÆŊvÅpcGêsx´DR{AEOr°x|íb³Wm~DVjºéNNËÜ˛ɶ­GxŷCSt}]ûōSmtuÇÃĕNāg»íT«u}ç½BĵÞʣ¥ëÊ¡MÛ³ãȅ¡ƋaǩÈÉQG¢·lG|tvgrrf«ptęŘnÅĢrI²¯LiØsPf_vĠdxM prʹL¤¤eËÀđKïÙVY§]Ióáĥ]ķK¥j|pŇ\\kzţ¦šnņäÔVĂîĪ¬|vW®l¤èØrxm¶ă~lÄƯĄ̈́öȄEÔ¤ØQĄĄ»ƢjȦOǺ¨ìSŖÆƬyQv`cwZSÌ®ü±Ǆ]ŀç¬B¬©ńzƺŷɄeeOĨSfm ĊƀP̎ēz©ĊÄÕÊmgÇsJ¥ƔŊśæÎÑqv¿íUOµªÂnĦÁ_½ä@êí£P}Ġ[@gġ}gɊ×ûÏWXá¢užƻÌsNÍ½ƎÁ§čŐAēeL³àydl¦ĘVçŁpśǆĽĺſÊQíÜçÛġÔsĕ¬Ǹ¯YßċġHµ ¡eå`ļrĉŘóƢFìĎWøxÊkƈdƬv|I|·©NqńRŀ¤éeŊŀàŀU²ŕƀBQ£Ď}L¹Îk@©ĈuǰųǨÚ§ƈnTËÇéƟÊcfčŤ^XmHĊĕË«W·ċëx³ǔķÐċJāwİ_ĸȀ^ôWr­°oú¬ĦŨK~ȰCĐ´Ƕ£fNÎèâw¢XnŮeÂÆĶ¾¾xäLĴĘlļO¤ÒĨA¢Êɚ¨®ØCÔ ŬGƠƦYĜĘÜƬDJg_ͥœ@čŅĻA¶¯@wÎqC½Ĉ»NăëKďÍQÙƫ[«ÃígßÔÇOÝáWñuZ¯ĥŕā¡ÑķJu¤E å¯°WKÉ±_d_}}vyõu¬ï¹ÓU±½@gÏ¿rÃ½DgCdµ°MFYxw¿CG£Rƛ½Õ{]L§{qqą¿BÇƻğëܭǊË|c²}Fµ}ÙRsÓpg±QNqǫŋRwŕnéÑÉK«SeYRŋ@{¤SJ}D Ûǖ֍]gr¡µŷjqWÛham³~S«Þ]"]],encodeOffsets:[[[134456,44547]]]}},{type:"Feature",id:"320000",properties:{id:"320000",cp:[119.767413,33.041544],name:"江苏",childNum:1},geometry:{type:"Polygon",coordinates:["@@cþÅPi`ZRu¥É\\]~°Y`µÓ^phÁbnÀşúòaĬºTÖŒbe¦¦{¸ZâćNp©Hr|^mjhSEb\\afv`sz^lkljÄtg¤D­¾X¿À|ĐiZȀåB·î}GL¢õcßjayBFµÏC^ĭcÙt¿sğH]j{s©HM¢QnDÀ©DaÜÞ·jgàiDbPufjDk`dPOîhw¡ĥ¥GP²ĐobºrYî¶aHŢ´ ]´rılw³r_{£DB_Ûdåuk|Ũ¯F Cºyr{XFye³Þċ¿ÂkĭB¿MvÛpm`rÚã@Ę¹hågËÖƿxnlč¶Åì½Ot¾dJlVJĂǀŞqvnO^JZż·Q}êÍÅmµÒ]ƍ¦Dq}¬R^èĂ´ŀĻĊIÔtĲyQŐĠMNtR®òLhĚs©»}OÓGZz¶A\\jĨFäOĤHYJvÞHNiÜaĎÉnFQlNM¤B´ĄNöɂtpŬdfåqm¿QûùŞÚb¤uŃJŴu»¹ĄlȖħŴw̌ŵ²ǹǠ͛hĭłƕrçü±Yxcitğ®jű¢KOķCoy`å®VTa­_Ā]ŐÝɞï²ʯÊ^]afYǸÃĆēĪȣJđ͍ôƋÄÄÍīçÛɈǥ£­ÛmY`ó£Z«§°Ó³QafusNıǅ_k}¢m[ÝóDµ¡RLčiXyÅNïă¡¸iĔÏNÌŕoēdōîåŤûHcs}~Ûwbù¹£¦ÓCtOPrE^ÒogĉIµÛÅʹK¤½phMü`oæŀ"],encodeOffsets:[[121740,32276]]}},{type:"Feature",id:"330000",properties:{id:"330000",cp:[120.153576,29.287459],name:"浙江",childNum:45},geometry:{type:"MultiPolygon",coordinates:[["@@E^dQ]K"],["@@jX^j"],["@@sfbU"],["@@qP\\xz[ck"],["@@R¢FX}°[s_"],["@@Cb\\}"],["@@e|v\\la{u"],["@@v~u}"],["@@QxÂF¯}"],["@@¹nvÞs¯o"],["@@rSkUEj"],["@@bi­ZP"],["@@p[}INf"],["@@À¿"],["@@¹dnb"],["@@rSBnR"],["@@g~h}"],["@@FlEk"],["@@OdPc"],["@@v[u\\"],["@@FjâL~wyoo~sµL\\"],["@@¬e¹aN"],["@@\\nÔ¡q]L³ë\\ÿ®QÖ"],["@@ÊA­©[¬"],["@@Kxv­"],["@@@hlIk]"],["@@pW{o||j"],["@@Md|_mC"],["@@¢X£ÏylD¼XtH"],["@@hlÜ[LykAvyfw^E¤"],["@@fp¤MusR"],["@@®_ma~LÁ¬Z"],["@@iMxZ"],["@@ZcYd"],["@@Z~dOSo|A¿qZv"],["@@@`EN¡v"],["@@|TY{"],["@@@n@m"],["@@XWkCT\\"],["@@ºwZRkĕWO¢"],["@@X®±GrÆª\\ÔáXq{"],["@@ůTG°ĄLHm°UC"],["@@¤aÜx~}dtüGæţŎíĔcŖpMËÐjē¢·ðĄÆMzjWKĎ¢Q¶À_ê_Bıi«pZgf¤Nrq]§ĂN®«H±yƳí¾×ŸīàLłčŴǝĂíÀBŖÕªÁŖHŗŉåqûõi¨hÜ·ñt»¹ýv_[«¸mYL¯QªmĉÅdMgÇjcº«ę¬­K­´B«Âącoċ\\xKd¡gěŧ«®á[~ıxu·ÅKsËÉc¢Ù\\ĭƛëbf¹­ģSĜkáƉÔ­ĈZB{aMµfzŉfåÂŧįƋǝÊĕġć£g³ne­ą»@­¦S®\\ßðChiqªĭiAuA­µ_W¥ƣO\\lċĢttC¨£t`PZäuXßBsĻyekOđġĵHuXBµ]×­­\\°®¬F¢¾pµ¼kŘó¬Wät¸|@L¨¸µrºù³Ù~§WIZW®±Ð¨ÒÉx`²pĜrOògtÁZ}þÙ]¡FKwsPlU[}¦Rvn`hq¬\\nQ´ĘRWb_ rtČFIÖkĦPJ¶ÖÀÖJĈĄTĚòC ²@PúØz©Pî¢£CÈÚĒ±hŖl¬â~nm¨f©iļ«mntuÖZÜÄjL®EÌFª²iÊxØ¨IÈhhst"],["@@o\\VzRZ}y"],["@@@°¡mÛGĕ¨§Ianá[ýƤjfæØLäGr"]],encodeOffsets:[[[125592,31553]],[[125785,31436]],[[125729,31431]],[[125513,31380]],[[125223,30438]],[[125115,30114]],[[124815,29155]],[[124419,28746]],[[124095,28635]],[[124005,28609]],[[125e3,30713]],[[125111,30698]],[[125078,30682]],[[125150,30684]],[[124014,28103]],[[125008,31331]],[[125411,31468]],[[125329,31479]],[[125626,30916]],[[125417,30956]],[[125254,30976]],[[125199,30997]],[[125095,31058]],[[125083,30915]],[[124885,31015]],[[125218,30798]],[[124867,30838]],[[124755,30788]],[[124802,30809]],[[125267,30657]],[[125218,30578]],[[125200,30562]],[[124968,30474]],[[125167,30396]],[[124955,29879]],[[124714,29781]],[[124762,29462]],[[124325,28754]],[[123990,28459]],[[125366,31477]],[[125115,30363]],[[125369,31139]],[[122495,31878]],[[125329,30690]],[[125192,30787]]]}},{type:"Feature",id:"340000",properties:{id:"340000",cp:[117.283042,31.26119],name:"安徽",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@^iuLX^"],["@@e©Ehl"],["@@°ZÆëĎµmkǀwÌÕæhºgBĝâqÙĊzÖgņtÀÁĂÆáhEz|WzqD¹°Eŧl{ævÜcA`¤C`|´qxĲkq^³³GšµbíZ¹qpa±ď OH¦Ħx¢gPícOl_iCveaOjChß¸iÝbÛªCC¿mRV§¢A|t^iĠGÀtÚsd]ĮÐDE¶zAb àiödK¡~H¸íæAǿYj{ď¿À½W®£ChÃsikkly]_teu[bFaTign{]GqªoĈMYá|·¥f¥őaSÕėNµñĞ«Im_m¿Âa]uĜp Z_§{Cäg¤°r[_YjÆOdý[I[á·¥Q_nùgL¾mvˊBÜÆ¶ĊJhpc¹O]iŠ]¥ jtsggJÇ§w×jÉ©±EFË­KiÛÃÕYvsm¬njĻª§emná}k«ŕgđ²ÙDÇ¤í¡ªOy×Où±@DñSęćăÕIÕ¿IµĥOjNÕËT¡¿tNæŇàåyķrĕq§ÄĩsWÆßF¶X®¿mwRIÞfßoG³¾©uyHį{Ɓħ¯AFnuPÍÔzVdàôº^Ðæd´oG¤{S¬ćxã}ŧ×Kǥĩ«ÕOEÐ·ÖdÖsƘÑ¨[Û^Xr¢¼§xvÄÆµ`K§ tÒ´Cvlo¸fzŨð¾NY´ı~ÉĔēßúLÃÃ_ÈÏ|]ÂÏFlg`ben¾¢pUh~ƴĖ¶_r sĄ~cƈ]|r c~`¼{À{ȒiJjz`îÀT¥Û³]u}fïQl{skloNdjäËzDvčoQďHI¦rbtHĔ~BmlRV_ħTLnñH±DL¼Lªl§Ťa¸ĚlK²\\RòvDcÎJbt[¤D@®hh~kt°ǾzÖ@¾ªdbYhüóZ ň¶vHrľ\\ÊJuxAT|dmÀO[ÃÔG·ĚąĐlŪÚpSJ¨ĸLvÞcPæķŨ®mÐálwKhïgA¢ųÆ©Þ¤OÈm°K´"]],encodeOffsets:[[[121722,32278]],[[119475,30423]],[[119168,35472]]]}},{type:"Feature",id:"350000",properties:{id:"350000",cp:[118.306239,26.075302],name:"福建",childNum:18},geometry:{type:"MultiPolygon",coordinates:[["@@zht´]"],["@@aj^~ĆG©O"],["@@ed¨C}}i"],["@@@vPGsQ"],["@@sBzddW]Q"],["@@S¨Q{"],["@@NVucW"],["@@qptBAq"],["@@¸[mu"],["@@Q\\pD]_"],["@@jSwUadpF"],["@@eXª~"],["@@AjvFso"],["@@fT_Çí\\v|ba¦jZÆy°"],["@@IjJi"],["@@wJIx«¼AoNe{M­"],["@@K±¡ÓČäeZ"],["@@k¡¹Eh~c®wBkUplÀ¡I~Māe£bN¨gZý¡a±Öcp©PhI¢QqÇGj|¥U g[Ky¬ŏv@OptÉEF\\@ åA¬V{XģĐBycpě¼³Ăp·¤¥ohqqÚ¡ŅLs^Ã¡§qlÀhH¨MCe»åÇGD¥zPO£čÙkJA¼ßėuĕeûÒiÁŧSW¥Qûŗ½ùěcÝ§SùĩąSWó«íęACµeRåǃRCÒÇZÍ¢ź±^dlstjD¸ZpuÔâÃH¾oLUêÃÔjjēò´ĄWƛ^Ñ¥Ħ@ÇòmOw¡õyJyD}¢ďÑÈġfZda©º²z£NjD°Ötj¶¬ZSÎ~¾c°¶ÐmxO¸¢Pl´SL|¥AȪĖMņĲg®áIJČĒü` QF¬h|ĂJ@zµ |ê³È ¸UÖŬŬÀEttĸr]ðM¤ĶĲHtÏ AĬkvsq^aÎbvdfÊòSD´Z^xPsĂrvƞŀjJd×ŘÉ ®AÎ¦ĤdxĆqAZRÀMźnĊ»İÐZ YXæJyĊ²·¶q§·K@·{sXãô«lŗ¶»o½E¡­«¢±¨Y®Ø¶^AvWĶGĒĢPlzfļtàAvWYãO_¤sD§ssČġ[kƤPX¦`¶®BBvĪjv©jx[L¥àï[F¼ÍË»ğV`«Ip}ccÅĥZEãoP´B@D¸m±z«Ƴ¿å³BRØ¶Wlâþäą`]Z£Tc ĹGµ¶Hm@_©k¾xĨôȉðX«½đCIbćqK³ÁÄš¬OAwã»aLŉËĥW[ÂGIÂNxĳ¤D¢îĎÎB§°_JGs¥E@¤ućPåcuMuw¢BI¿]zG¹guĮck\\_"]],encodeOffsets:[[[123250,27563]],[[122541,27268]],[[123020,27189]],[[122916,27125]],[[122887,26845]],[[122808,26762]],[[122568,25912]],[[122778,26197]],[[122515,26757]],[[122816,26587]],[[123388,27005]],[[122450,26243]],[[122578,25962]],[[121255,25103]],[[120987,24903]],[[122339,25802]],[[121042,25093]],[[122439,26024]]]}},{type:"Feature",id:"360000",properties:{id:"360000",cp:[115.592151,27.676493],name:"江西",childNum:1},geometry:{type:"Polygon",coordinates:["@@ĢĨƐgļ¼ÂMD~ņªe^\\^§ý©j×cZØ¨zdÒa¶lÒJìõ`oz÷@¤uŞ¸´ôęöY¼HČƶajlÞƩ¥éZ[|h}^U  ¥pĄžƦO lt¸Æ Q\\aÆ|CnÂOjt­ĚĤdÈF`¶@Ðë ¦ōÒ¨SêvHĢûXD®QgÄWiØPÞìºr¤ǆNĠ¢lĄtZoCƞÔºCxrpĠV®Ê{f_Y`_eq®Aot`@oDXfkp¨|s¬\\DÄSfè©Hn¬^DhÆyøJhØxĢĀLÊƠPżċĄwȠĚ¦G®ǒĤäTŠÆ~Ħw«|TF¡nc³Ïå¹]ĉđxe{ÎÓvOEm°BƂĨİ|Gvz½ª´HàpeJÝQxnÀW­EµàXÅĪt¨ÃĖrÄwÀFÎ|ňÓMå¼ibµ¯»åDT±m[r«_gmQu~¥V\\OkxtL E¢Ú^~ýêPóqoě±_Êw§ÑªåƗā¼mĉŹ¿NQYBąrwģcÍ¥B­ŗÊcØiIƝĿuqtāwO]³YCñTeÉcaubÍ]trluīBÐGsĵıN£ï^ķqss¿FūūVÕ·´Ç{éĈýÿOER_đûIċâJh­ŅıNȩĕB¦K{Tk³¡OP·wnµÏd¯}½TÍ«YiµÕsC¯iM¤­¦¯P|ÿUHvhe¥oFTuõ\\OSsMòđƇiaºćXĊĵà·çhƃ÷Ç{ígu^đgm[×zkKN¶Õ»lčÓ{XSÆv©_ÈëJbVkĔVÀ¤P¾ºÈMÖxlò~ªÚàGĂ¢B±ÌKyáV¼Ã~­`gsÙfIƋlę¹e|~udjuTlXµf`¿Jd[\\L²"],encodeOffsets:[[116689,26234]]}},{type:"Feature",id:"370000",properties:{id:"370000",cp:[118.000923,36.275807],name:"山东",childNum:13},geometry:{type:"MultiPolygon",coordinates:[["@@Xjd]{K"],["@@itbFHy"],["@@HlGk"],["@@TGy"],["@@K¬U"],["@@WdXc"],["@@PtOs"],["@@LnXhc"],["@@ppVu]Or"],["@@cdzAUa"],["@@udRhnCI"],["@@oIpR"],["@@Ľč{fzƤîKÎMĮ]ZF½Y]â£ph¶¨râøÀÎǨ¤^ºÄGz~grĚĜlĞÆLĆǆ¢Îo¦cvKbgr°WhmZp L]LºcUÆ­nżĤÌĒbAnrOA´ȊcÀbƦUØrĆUÜøĬƞEzVL®öØBkŖÝĐĖ¹ŧ̄±ÀbÎÉnb²ĦhņBĖįĦåXćì@L¯´ywƕCéÃµė ƿ¸lµ¾Z|ZWyFY¨Mf~C¿`à_RÇzwƌfQnny´INoƬèôº|sTJULîVjǎ¾ĒØDz²XPn±ŴPè¸ŔLƔÜƺ_TüÃĤBBċÈöA´faM¨{«M`¶d¡ôÖ°mȰBÔjj´PM|c^d¤u¤Û´ä«ƢfPk¶Môl]Lb}su^ke{lCMrDÇ­]NÑFsmoõľHyGă{{çrnÓEƕZGª¹Fj¢ïWuøCǷë¡ąuhÛ¡^KxC`C\\bÅxì²ĝÝ¿_NīCȽĿåB¥¢·IŖÕy\\¹kxÃ£Č×GDyÃ¤ÁçFQ¡KtŵƋ]CgÏAùSedcÚźuYfyMmhUWpSyGwMPqŀÁ¼zK¶G­Y§Ë@´śÇµƕBm@IogZ¯uTMx}CVKï{éƵP_K«pÛÙqċtkkù]gTğwoɁsMõ³ăAN£MRkmEÊčÛbMjÝGuIZGPģãħE[iµBEuDPÔ~ª¼ęt]ûG§¡QMsğNPŏįzs£Ug{đJĿļā³]ç«Qr~¥CƎÑ^n¶ÆéÎR~Ż¸YI] PumŝrƿIā[xeÇ³L¯v¯s¬ÁY~}ťuŁgƋpÝĄ_ņī¶ÏSR´ÁP~¿Cyċßdwk´SsX|t`Ä ÈðAªìÎT°¦Dda^lĎDĶÚY°`ĪŴǒàŠv\\ebZHŖR¬ŢƱùęOÑM­³FÛWp["]],encodeOffsets:[[[123806,39303]],[[123821,39266]],[[123742,39256]],[[123702,39203]],[[123649,39066]],[[123847,38933]],[[123580,38839]],[[123894,37288]],[[123043,36624]],[[123344,38676]],[[123522,38857]],[[123628,38858]],[[118260,36742]]]}},{type:"Feature",id:"410000",properties:{id:"410000",cp:[113.665412,33.757975],name:"河南",childNum:1},geometry:{type:"Polygon",coordinates:["@@ýLùµP³swIÓxcŢĞð´E®ÚPtĴXØxÂ¶@«ŕŕQGYfa[şußǩđš_X³ĳÕčC]kbc¥CS¯ëÍB©÷³­Si_}mYTt³xlàcČzÀD}ÂOQ³ÐTĨ¯ƗòËŖ[hłŦv~}ÂZ«¤lPÇ£ªÝŴÅR§ØnhctâknÏ­ľŹUÓÝdKuķI§oTũÙďkęĆH¸Ó\\Ä¿PcnS{wBIvÉĽ[GqµuŇôYgûZca©@½Õǽys¯}lgg@­C\\£asIdÍuCQñ[L±ęk·ţb¨©kK»KC²òGKmĨS`UQnk}AGēsqaJ¥ĐGRĎpCuÌy ã iMcplk|tRkðev~^´¦ÜSí¿_iyjI|ȑ|¿_»d}q^{Ƈdă}tqµ`Ƴĕg}V¡om½faÇo³TTj¥tĠRyK{ùÓjuµ{t}uËRivGçJFjµÍyqÎàQÂFewixGw½Yŷpµú³XU½ġyłåkÚwZX·l¢Á¢KzOÎÎjc¼htoDHr|­J½}JZ_¯iPq{tę½ĕ¦Zpĵø«kQĹ¤]MÛfaQpě±ǽ¾]u­Fu÷nčÄ¯ADp}AjmcEÇaª³o³ÆÍSƇĈÙDIzËčľ^KLiÞñ[aA²zzÌ÷D|[íÄ³gfÕÞd®|`Ć~oĠƑô³ŊD×°¯CsøÀ«ìUMhTº¨¸ǡîSÔDruÂÇZÖEvPZW~ØÐtĄE¢¦Ðy¸bô´oŬ¬²Ês~]®tªapŎJ¨Öº_Ŕ`Ŗ^Đ\\Ĝu~m²Ƹ¸fWĦrƔ}Î^gjdfÔ¡J}\\n C¦þWxªJRÔŠu¬ĨĨmFdM{\\d\\YÊ¢ú@@¦ª²SÜsC}fNècbpRmlØ^gd¢aÒ¢CZZxvÆ¶N¿¢T@uC¬^ĊðÄn|lGlRjsp¢ED}Fio~ÔN~zkĘHVsǲßjŬŢ`Pûàl¢\\ÀEhİgÞē X¼Pk|m"],encodeOffsets:[[118256,37017]]}},{type:"Feature",id:"420000",properties:{id:"420000",cp:[113.298572,30.684355],name:"湖北",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@AB"],["@@lskt"],["@@¾«}{ra®pîÃ\\{øCËyyB±b\\òÝjKL ]ĎĽÌJyÚCƈćÎT´Å´pb©ÈdFin~BCo°BĎÃømv®E^vǾ½Ĝ²RobÜeN^ĺ£R¬lĶ÷YoĖ¥Ě¾|sOr°jY`~I¾®I{GqpCgyl{£ÍÍyPLÂ¡¡¸kWxYlÙæŁĢz¾V´W¶ùŸo¾ZHxjwfxGNÁ³Xéæl¶EièIH ujÌQ~v|sv¶Ôi|ú¢FhQsğ¦SiŠBgÐE^ÁÐ{čnOÂÈUÎóĔÊēĲ}Z³½Mŧïeyp·uk³DsÑ¨L¶_ÅuÃ¨w»¡WqÜ]\\Ò§tƗcÕ¸ÕFÏǝĉăxŻČƟOKÉġÿ×wg÷IÅzCg]m«ªGeçÃTC«[t§{loWeC@ps_Bp­rf_``Z|ei¡oċMqow¹DƝÓDYpûsYkıǃ}s¥ç³[§cY§HK«Qy]¢wwö¸ïx¼ņ¾Xv®ÇÀµRĠÐHM±cÏdƒǍũȅȷ±DSyúĝ£ŤĀàtÖÿï[îb\\}pĭÉI±Ñy¿³x¯No|¹HÏÛmjúË~TuęjCöAwě¬Rđl¯ Ñb­ŇTĿ_[IčĄʿnM¦ğ\\É[T·k¹©oĕ@A¾wya¥Y\\¥Âaz¯ãÁ¡k¥ne£ÛwE©Êō¶˓uoj_U¡cF¹­[WvP©whuÕyBF`RqJUw\\i¡{jEPïÿ½fćQÑÀQ{°fLÔ~wXgītêÝ¾ĺHd³fJd]HJ²EoU¥HhwQsƐ»Xmg±çve]DmÍPoCc¾_hhøYrŊU¶eD°Č_N~øĹĚ·`z]Äþp¼äÌQv\\rCé¾TnkžŐÚÜa¼ÝƆĢ¶ÛodĔňÐ¢JqPb ¾|J¾fXƐîĨ_Z¯À}úƲN_ĒÄ^ĈaŐyp»CÇÄKñL³ġM²wrIÒŭxjb[n«øæà ^²­h¯ÚŐªÞ¸Y²ĒVø}Ā^İ´LÚm¥ÀJÞ{JVųÞŃx×sxxƈē ģMřÚðòIfĊŒ\\Ʈ±ŒdÊ§ĘDvČ_Àæ~Dċ´A®µ¨ØLV¦êHÒ¤"]],encodeOffsets:[[[113712,34e3]],[[115612,30507]],[[113649,34054]]]}},{type:"Feature",id:"430000",properties:{id:"430000",cp:[111.782279,28.09409],name:"湖南",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@nFTs"],["@@ßÅÆá½ÔXrCOËRïÿĩ­TooQyÓ[ŅBE¬ÎÓXaį§Ã¸G °ITxpúxÚĳ¥ÏĢ¾edÄ©ĸGàGhM¤Â_U}Ċ}¢pczfþg¤ÇòAVM"],["@@©KA·³CQ±Á«³BUƑ¹AtćOwD]JiØSm¯b£ylXHËÑ±H«C^õľAÅ§¤É¥ïyuǙuA¢^{ÌC´­¦ŷJ£^[ª¿ĕ~ƇN skóā¹¿ï]ă~÷O§­@Vm¡Qđ¦¢Ĥ{ºjÔª¥nf´~Õo×ÛąMąıuZmZcÒ ĲĪ²SÊǄŶ¨ƚCÖŎªQØ¼rŭ­«}NÏürÊ¬mjr@ĘrTW ­SsdHzƓ^ÇÂyUi¯DÅYlŹu{hT}mĉ¹¥ěDÿë©ıÓ[Oº£¥ótł¹MÕƪ`PDiÛU¾ÅâìUñBÈ£ýhedy¡oċ`pfmjP~kZaZsÐd°wj§@Ĵ®w~^kÀÅKvNmX\\¨aŃqvíó¿F¤¡@ũÑVw}S@j}¾«pĂrªg àÀ²NJ¶¶DôK|^ª°LX¾ŴäPĪ±£EXd^¶ĲÞÜ~u¸ǔMRhsRe`ÄofIÔ\\Ø  ićymnú¨cj ¢»GČìƊÿÐ¨XeĈĀ¾Oð Fi ¢|[jVxrIQ_EzAN¦zLU`cªxOTu RLÄ¢dVi`p˔vŎµªÉF~Ød¢ºgİàw¸Áb[¦Zb¦z½xBĖ@ªpºlS¸Ö\\Ĕ[N¥ˀmĎăJ\\ŀ`ňSÚĖÁĐiOĜ«BxDõĚivSÌ}iùÜnÐºG{p°M´wÀÒzJ²ò¨ oTçüöoÛÿñőĞ¤ùTz²CȆȸǎŪƑÐc°dPÎğË¶[È½u¯½WM¡­ÉB·rínZÒ `¨GA¾\\pēXhÃRC­üWGġuTé§ŎÑ©ò³I±³}_EÃħg®ęisÁPDmÅ{b[RÅs·kPŽƥóRoOV~]{g\\êYƪ¦kÝbiċƵGZ»Ěõó·³vŝ£ø@pyö_ëIkÑµbcÑ§y×dYØªiþ¨[]f]Ņ©C}ÁN»hĻħƏĩ"]],encodeOffsets:[[[115640,30489]],[[112543,27312]],[[116690,26230]]]}},{type:"Feature",id:"440000",properties:{id:"440000",cp:[113.280637,23.125178],name:"广东",childNum:24},geometry:{type:"MultiPolygon",coordinates:[["@@QdAua"],["@@lxDLo"],["@@sbhNLo"],["@@Ă ā"],["@@WltO[["],["@@Kr]S"],["@@eI]y"],["@@I|Mym"],["@@Û³LS¼Y"],["@@nvºBëui©`¾"],["@@zdÛJw®"],["@@°¯"],["@@a yAª¸ËJIxØ@ĀHAmÃV¡ofuo"],["@@sŗÃÔėAƁZÄ ~°ČPäh"],["@@¶ÝÌvmĞh­ıQ"],["@@HdSjĒ¢D}waru«ZqadYM"],["@@el\\LqqU"],["@@~rMo\\"],["@@f^C"],["@@øPªoj÷ÍÝħXČx°Q¨ıXNv"],["@@gÇƳo[~tly"],["@@EÆC¿"],["@@OP"],["@@wđógĝ[³¡VÙæÅöMÌ³¹pÁaËýý©D©ÜJŹƕģGą¤{ÙūÇO²«BƱéAÒĥ¡«BhlmtÃPµyU¯ucd·w_bŝcīímGO|KPȏŹãŝIŕŭŕ@Óoo¿ē±ß}ŭĲWÈCőâUâǙIğŉ©IĳE×Á³AówXJþ±ÌÜÓĨ£L]ĈÙƺZǾĆĖMĸĤfÎĵlŨnÈĐtFFĤêk¶^k°f¶g}®Faf`vXŲxl¦ÔÁ²¬Ð¦pqÊÌ²iXØRDÎ}Ä@ZĠsx®AR~®ETtĄZƈfŠŠHâÒÐAµ\\S¸^wĖkRzalŜ|E¨ÈNĀňZTpBh£\\ĎƀuXĖtKL¶G|»ĺEļĞ~ÜĢÛĊrOÙîvd]n¬VÊĜ°RÖpMƂªFbwEÀ©\\¤]ŸI®¥D³|Ë]CöAŤ¦æ´¥¸Lv¼¢ĽBaôF~®²GÌÒEYzk¤°ahlVÕI^CxĈPsBƒºV¸@¾ªR²ĨN]´_eavSivc}p}Đ¼ƌkJÚe th_¸ ºx±ò_xNË²@ă¡ßH©Ùñ}wkNÕ¹ÇO½¿£ĕ]ly_WìIÇª`uTÅxYĒÖ¼kÖµMjJÚwn\\hĒv]îh|ÈƄøèg¸Ķß ĉĈWb¹ƀdéĘNTtP[öSvrCZaGubo´ŖÒÇĐ~¡zCIözx¢PnÈñ @ĥÒ¦]ƞV}³ăĔñiiÄÓVépKG½ÄÓávYoC·sitiaÀyŧÎ¡ÈYDÑům}ý|m[węõĉZÅxUO}÷N¹³ĉo_qtăqwµŁYÙǝŕ¹tïÛUÃ¯mRCºĭ|µÕÊK½Rē ó]GªęAx»HO£|ām¡diď×YïYWªŉOeÚtĐ«zđ¹TāúEá²\\ķÍ}jYàÙÆſ¿Çdğ·ùTßÇţʄ¡XgWÀǇğ·¿ÃOj YÇ÷Qěi"]],encodeOffsets:[[[117381,22988]],[[116552,22934]],[[116790,22617]],[[116973,22545]],[[116444,22536]],[[116931,22515]],[[116496,22490]],[[116453,22449]],[[113301,21439]],[[118726,21604]],[[118709,21486]],[[113210,20816]],[[115482,22082]],[[113171,21585]],[[113199,21590]],[[115232,22102]],[[115739,22373]],[[115134,22184]],[[113056,21175]],[[119573,21271]],[[119957,24020]],[[115859,22356]],[[116561,22649]],[[116285,22746]]]}},{type:"Feature",id:"450000",properties:{id:"450000",cp:[108.320004,22.82402],name:"广西",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@H TQ§A"],["@@ĨÊªLƊDÎĹĐCǦė¸zÚGn£¾rªŀÜt¬@ÖÚSx~øOŒŶÐÂæȠ\\ÈÜObĖw^oÞLf¬°bI lTØBÌF£Ć¹gñĤaYt¿¤VSñK¸¤nM¼JE±½¸ñoÜCƆæĪ^ĚQÖ¦^f´QüÜÊz¯lzUĺš@ìp¶n]sxtx¶@~ÒĂJb©gk{°~c°`Ô¬rV\\la¼¤ôá`¯¹LCÆbxEræOv[H­[~|aB£ÖsºdAĐzNÂðsÞÆĤªbab`ho¡³F«èVlo¤ÔRzpp®SĪº¨ÖºNĳd`a¦¤F³ºDÎńĀìCĜº¦Ċ~nS|gźvZkCÆj°zVÈÁƔ]LÊFZgčP­kini«qÇczÍY®¬Ů»qR×ō©DÕ§ƙǃŵTÉĩ±ıdÑnYYĲvNĆĆØÜ Öp}e³¦m©iÓ|¹ħņ|ª¦QF¢Â¬ʖovg¿em^ucà÷gÕuíÙćĝ}FĻ¼Ĺ{µHKsLSđƃrč¤[AgoSŇYMÿ§Ç{FśbkylQxĕ]T·¶[BÑÏGáşşƇeăYSs­FQ}­BwtYğÃ@~CÍQ ×WjË±rÉ¥oÏ ±«ÓÂ¥kwWűmcih³K~µh¯e]lµélEģEďsmÇŧē`ãògK_ÛsUʝćğ¶höO¤Ǜn³c`¡y¦CezYwa[ďĵűMę§]XÎ_íÛ]éÛUćİÕBƣ±dy¹T^dûÅÑŦ·PĻþÙ`K¦¢ÍeĥR¿³£[~äu¼dltW¸oRM¢ď\\z}Æzdvň{ÎXF¶°Â_ÒÂÏL©ÖTmu¼ãlīkiqéfA·Êµ\\őDc¥ÝFyÔćcűH_hLÜêĺĐ¨c}rn`½Ì@¸¶ªVLhŒ\\Ţĺk~Ġið°|gtTĭĸ^xvKVGréAébUuMJVÃO¡qĂXËSģãlýà_juYÛÒBG^éÖ¶§EGÅzěƯ¤EkN[kdåucé¬dnYpAyČ{`]þ¯TbÜÈk¡ĠvàhÂƄ¢Jî¶²"]],encodeOffsets:[[[111707,21520]],[[107619,25527]]]}},{type:"Feature",id:"460000",properties:{id:"460000",cp:[109.83119,19.031971],name:"海南",childNum:1},geometry:{type:"Polygon",coordinates:["@@¦Ŝil¢XƦƞòïè§ŞCêɕrŧůÇąĻõ·ĉ³œ̅kÇm@ċȧŧĥĽʉ­ƅſȓÒË¦ŝE}ºƑ[ÍĜȋ gÎfǐÏĤ¨êƺ\\Ɔ¸ĠĎvʄȀÐ¾jNðĀÒRZǆzÐŘÎ°H¨Ƣb²_Ġ "],encodeOffsets:[[112750,20508]]}},{type:"Feature",id:"510000",properties:{id:"510000",cp:[104.065735,30.659462],name:"四川",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@LqKr"],["@@[ĻéV£_ţġñpG réÏ·~ąSfy×Í·ºſƽiÍıƣıĻmHH}siaX@iÇ°ÁÃ×t«­T¤JJJyJÈ`Ohß¦¡uËhIyCjmÿwZGTiSsOB²fNmsPa{M{õE^Hj}gYpaeu¯oáwHjÁ½M¡pMuåmni{fk\\oÎqCwEZ¼KĝAy{m÷LwO×SimRI¯rKõBS«sFe]fµ¢óY_ÆPRcue°Cbo×bd£ŌIHgtrnyPt¦foaXďxlBowz_{ÊéWiêEGhÜ¸ºuFĈIxf®Y½ĀǙ]¤EyF²ċw¸¿@g¢§RGv»áW`ÃĵJwi]t¥wO­½a[×]`Ãi­üL¦LabbTÀåc}ÍhÆh®BHî|îºÉk­¤Sy£ia©taį·Ɖ`ō¥UhOĝLk}©Fos´JmµlŁuønÑJWÎªYÀïAetTŅÓGË«bo{ıwodƟ½OġÜÂµxàNÖ¾P²§HKv¾]|BÆåoZ`¡Ø`ÀmºĠ~ÌÐ§nÇ¿¤]wğ@srğu~Io[é±¹ ¿ſđÓ@qg¹zƱřaí°KtÇ¤V»Ã[ĩǭƑ^ÇÓ@áťsZÏÅĭƋěpwDóÖáŻneQËq·GCœýS]x·ýq³OÕ¶Qzßti{řáÍÇWŝŭñzÇWpç¿JXĩè½cFÂLiVjx}\\NŇĖ¥GeJA¼ÄHfÈu~¸Æ«dE³ÉMA|bÒćhG¬CMõƤąAvüVéŀ_VÌ³ĐwQj´·ZeÈÁ¨X´Æ¡Qu·»ÕZ³ġqDoy`L¬gdp°şp¦ėìÅĮZ°Iähzĵf²å ĚÑKpIN|Ñz]ń·FU×é»R³MÉ»GM«kiér}Ã`¹ăÞmÈnÁîRǀ³ĜoİzŔwǶVÚ£À]ɜ»ĆlƂ²ĠþTº·àUȞÏʦ¶I«dĽĢdĬ¿»Ĕ×h\\c¬ä²GêëĤł¥ÀǿżÃÆMº}BÕĢyFVvwxBèĻĒ©ĈtCĢɽŠȣ¦āæ·HĽîôNÔ~^¤Ɗu^s¼{TA¼ø°¢İªDè¾Ň¶ÝJ®Z´ğ~Sn|ªWÚ©òzPOȸbð¢|øĞŒQìÛÐ@ĞǎRS¤Á§di´ezÝúØã]HqkIþËQÇ¦ÃsÇ¤[E¬ÉŪÍxXƒ·ÖƁİlƞ¹ª¹|XÊwnÆƄmÀêErĒtD®ċæcQE®³^ĭ¥©l}äQtoŖÜqÆkµªÔĻĴ¡@Ċ°B²Èw^^RsºTĀ£ŚæQPJvÄz^Đ¹Æ¯fLà´GC²dt­ĀRt¼¤ĦOðğfÔðDŨŁĞƘïPÈ®âbMüÀXZ ¸£@Å»»QÉ­]dsÖ×_Í_ÌêŮPrĔĐÕGĂeZÜîĘqBhtO ¤tE[h|YÔZśÎs´xº±Uñt|OĩĠºNbgþJy^dÂY Į]Řz¦gC³R`Āz¢Aj¸CL¤RÆ»@­Ŏk\\Ç´£YW}z@Z}Ã¶oû¶]´^NÒ}èNªPÍy¹`S°´ATeVamdUĐwʄvĮÕ\\uÆŗ¨Yp¹àZÂmWh{á}WØǍÉüwga§áCNęÎ[ĀÕĪgÖÉªXøx¬½Ů¦¦[NÎLÜUÖ´òrÙŠxR^JkĳnDX{U~ET{ļº¦PZcjF²Ė@pg¨B{u¨ŦyhoÚD®¯¢ WòàFÎ¤¨GDäz¦kŮPġqË¥À]eâÚ´ªKxīPÖ|æ[xÃ¤JÞĥsNÖ½I¬nĨY´®ÐƐmDŝuäđđEbee_v¡}ìęǊē}qÉåT¯µRs¡M@}ůaa­¯wvƉåZw\\Z{åû^"]],encodeOffsets:[[[108815,30935]],[[110617,31811]]]}},{type:"Feature",id:"520000",properties:{id:"520000",cp:[106.713478,26.578343],name:"贵州",childNum:3},geometry:{type:"MultiPolygon",coordinates:[["@@G\\lY£in"],["@@q|mc¯tÏVSÎ"],["@@hÑ£IsNgßHHªķÃh_¹¡ĝÄ§ń¦uÙùgS¯JH|sÝÅtÁïyMDč»eÕtA¤{b\\}G®u\\åPFqwÅaDK°ºâ_£ùbµmÁÛĹM[q|hlaªāI}Ñµ@swtwm^oµDéĽŠyVky°ÉûÛR³e¥]RÕěħ[ƅåÛDpJiVÂF²I»mN·£LbÒYbWsÀbpkiTZĄă¶Hq`ĥ_J¯ae«KpÝx]aĕÛPÇȟ[ÁåŵÏő÷Pw}TÙ@Õs«ĿÛq©½m¤ÙH·yǥĘĉBµĨÕnđ]K©œáGçş§ÕßgǗĦTèƤƺ{¶ÉHÎd¾ŚÊ·OÐjXWrãLyzÉAL¾ę¢bĶėy_qMĔąro¼hĊw¶øV¤w²Ĉ]ÊKx|`ź¦ÂÈdrcÈbe¸`I¼čTF´¼Óýȃr¹ÍJ©k_șl³´_pĐ`oÒh¶pa^ÓĔ}D»^Xy`d[KvJPhèhCrĂĚÂ^Êƌ wZL­Ġ£ÁbrzOIlMMĪŐžËr×ÎeŦtw|¢mKjSǘňĂStÎŦEtqFT¾Eì¬¬ôxÌO¢ K³ŀºäYPVgŎ¦ŊmŞ¼VZwVlz¤£Tl®ctĽÚó{G­AÇge~Îd¿æaSba¥KKûj®_Ä^\\Ø¾bP®¦x^sxjĶI_Ä Xâ¼Hu¨Qh¡À@Ëô}±GNìĎlT¸`V~R°tbÕĊ`¸úÛtÏFDu[MfqGH·¥yAztMFe|R_GkChZeÚ°tov`xbDnÐ{E}ZèxNEÞREn[Pv@{~rĆAB§EO¿|UZ~ìUf¨J²ĂÝÆsªB`s¶fvö¦Õ~dÔq¨¸º»uù[[§´sb¤¢zþF¢ÆÀhÂW\\ıËIÝo±ĭŠ£þÊs}¡R]ěDg´VG¢j±®èºÃmpU[Áëº°rÜbNu¸}º¼`niºÔXĄ¤¼ÔdaµÁ_ÃftQQgR·Ǔv}Ý×ĵ]µWc¤F²OĩųãW½¯K©]{LóµCIµ±Mß¿h©āq¬o½~@i~TUxŪÒ¢@£ÀEîôruńb[§nWuMÆLl¿]x}ĳ­½"]],encodeOffsets:[[[112158,27383]],[[112105,27474]],[[112095,27476]]]}},{type:"Feature",id:"530000",properties:{id:"530000",cp:[101.512251,24.740609],name:"云南",childNum:1},geometry:{type:"Polygon",coordinates:["@@[ùx½}ÑRHYīĺûsÍniEoã½Ya²ė{c¬ĝgĂsAØÅwďõzFjw}«Dx¿}Uũlê@HÅ­F¨ÇoJ´Ónũuą¡Ã¢pÒÅØ TF²xa²ËXcÊlHîAßËŁkŻƑŷÉ©hW­æßUËs¡¦}teèÆ¶StÇÇ}Fd£jĈZĆÆ¤Tč\\D}O÷£U§~ŃGåŃDĝ¸Tsd¶¶Bª¤u¢ŌĎo~t¾ÍŶÒtD¦ÚiôözØX²ghįh½Û±¯ÿm·zR¦Ɵ`ªŊÃh¢rOÔ´£Ym¼èêf¯ŪĽncÚbw\\zlvWªâ ¦gmĿBĹ£¢ƹřbĥkǫßeeZkÙIKueT»sVesbaĕ  ¶®dNĄÄpªy¼³BE®lGŭCǶwêżĔÂepÍÀQƞpC¼ŲÈ­AÎô¶RäQ^Øu¬°_Èôc´¹ò¨PÎ¢hlĎ¦´ĦÆ´sâÇŲPnÊD^¯°Upv}®BPÌªjǬxSöwlfòªvqĸ|`H­viļndĜ­Ćhňem·FyÞqóSį¯³X_ĞçêtryvL¤§z¦c¦¥jnŞklD¤øz½ĜàĂŧMÅ|áƆàÊcðÂFÜáŢ¥\\\\ºİøÒÐJĴîD¦zK²ǏÎEh~CD­hMn^ÌöÄ©ČZÀaüfɭyœpį´ěFűk]Ôě¢qlÅĆÙa¶~ÄqêljN¬¼HÊNQ´ê¼VØ¸E^ŃÒyM{JLoÒęæe±Ķygã¯JYÆĭĘëo¥Šo¯hcK«z_prC´ĢÖY¼ v¸¢RÅW³Â§fÇ¸Yi³xR´ďUË`êĿUûuĆBƣöNDH«ĈgÑaB{ÊNF´¬c·Åv}eÇÃGB»If¦HňĕM~[iwjUÁKE¾dĪçWIèÀoÈXòyŞŮÈXâÎŚj|àsRyµÖPr´þ ¸^wþTDŔHr¸RÌmfżÕâCôoxĜƌÆĮÐYtâŦÔ@]ÈǮƒ\\Ī¼Ä£UsÈ¯LbîƲŚºyhr@ĒÔƀÀ²º\\êpJ}ĠvqtĠ@^xÀ£È¨mËÏğ}n¹_¿¢×Y_æpÅA^{½Lu¨GO±Õ½ßM¶wÁĢÛPƢ¼pcĲx|apÌ¬HÐŊSfsðBZ¿©XÏÒKk÷Eû¿SrEFsÕūkóVǥŉiTL¡n{uxţÏhôŝ¬ğōNNJkyPaqÂğ¤K®YxÉƋÁ]āęDqçgOgILu\\_gz]W¼~CÔē]bµogpÑ_oď`´³Țkl`IªºÎȄqÔþ»E³ĎSJ»_f·adÇqÇc¥Á_Źw{L^É±ćxU£µ÷xgĉp»ĆqNē`rĘzaĵĚ¡K½ÊBzyäKXqiWPÏÉ¸½řÍcÊG|µƕƣGË÷k°_^ý|_zċBZocmø¯hhcæ\\lMFlư£ĜÆyHF¨µêÕ]HAàÓ^it `þßäkĤÎT~Wlÿ¨ÔPzUCNVv [jâôDôď[}z¿msSh¯{jïğl}šĹ[őgK©U·µË@¾m_~q¡f¹ÅË^»f³ø}Q¡ÖË³gÍ±^Ç\\ëÃA_¿bWÏ[¶ƛé£F{īZgm@|kHǭƁć¦UĔť×ë}ǝeďºȡȘÏíBÉ£āĘPªĳ¶ŉÿy©nď£G¹¡I±LÉĺÑdĉÜW¥}gÁ{aqÃ¥aıęÏZï`"],encodeOffsets:[[104636,22969]]}},{type:"Feature",id:"540000",properties:{id:"540000",cp:[89.132212,30.860361],name:"西藏",childNum:1},geometry:{type:"Polygon",coordinates:["@@ÂhľxŖxÒVºÅâAĪÝȆµę¯Ňa±r_w~uSÕňqOj]ɄQ£ZUDûoY»©M[L¼qãË{VÍçWVi]ë©Ä÷àyƛhÚU°adcQ~Mx¥cc¡ÙaSyFÖk­uRýq¿ÔµQĽ³aG{¿FµëªéĜÿª@¬·K·àariĕĀ«V»ŶĴūgèLǴŇƶaftèBŚ£^âǐÝ®M¦ÁǞÿ¬LhJ¾óƾÆºcxwf]Y´¦|QLn°adĊ\\¨oǀÍŎ´ĩĀd`tÊQŞŕ|¨C^©Ĉ¦¦ÎJĊ{ëĎjª²rÐl`¼Ą[t|¦Stè¾PÜK¸dƄı]s¤î_v¹ÎVòŦj£Əsc¬_Ğ´|Ł¦Av¦w`ăaÝaa­¢e¤ı²©ªSªÈMĄwÉØŔì@T¤Ę\\õª@þo´­xA sÂtŎKzó´ÇĊµ¢r^nĊ­Æ¬×üG¢³ {âĊ]G~bÀgVjzlhǶfOfdªB]pjTOtĊn¤}®¦Č¥d¢¼»ddY¼t¢eȤJ¤}Ǿ¡°§¤AÐlc@ĝsªćļđAçwxUuzEÖġ~AN¹ÄÅȀŻ¦¿ģŁéì±Hãd«g[Ø¼ēÀcīľġ¬cJµÐʥVȝ¸ßS¹ý±ğkƁ¼ą^ɛ¤Ûÿb[}¬ōõÃ]ËNm®g@Bg}ÍF±ǐyL¥íCIĳÏ÷Ñį[¹¦[âšEÛïÁÉdƅß{âNÆāŨß¾ě÷yC£k­´ÓH@Â¹TZ¥¢į·ÌAÐ§®Zcv½Z­¹|ÅWZqgW|ieZÅYVÓqdqbc²R@c¥Rã»GeeƃīQ}J[ÒK¬Ə|oėjġĠÑN¡ð¯EBčnwôɍėª²CλŹġǝʅįĭạ̃ūȹ]ΓͧgšsgȽóϧµǛęgſ¶ҍć`ĘąŌJÞä¤rÅň¥ÖÁUětęuůÞiĊÄÀ\\Æs¦ÓRb|Â^řÌkÄŷ¶½÷f±iMÝ@ĥ°G¬ÃM¥n£Øąğ¯ß§aëbéüÑOčk£{\\eµª×MÉfm«Ƒ{Å×Gŏǩãy³©WÑăû··Qòı}¯ãIéÕÂZ¨īès¶ZÈsæĔTŘvgÌsN@îá¾ó@ÙwU±ÉTå»£TđWxq¹Zobs[×¯cĩvėŧ³BM|¹kªħ¥TzNYnÝßpęrñĠĉRS~½ěVVµõ«M££µBĉ¥áºae~³AuĐh`Ü³ç@BÛïĿa©|z²Ý¼D£àč²ŸIûI āóK¥}rÝ_Á´éMaň¨~ªSĈ½½KÙóĿeƃÆB·¬ën×W|Uº}LJrƳlŒµ`bÔ`QÐÓ@s¬ñIÍ@ûws¡åQÑßÁ`ŋĴ{ĪTÚÅTSÄ³Yo|Ç[Ç¾µMW¢ĭiÕØ¿@MhpÕ]jéò¿OƇĆƇpêĉâlØwěsǩĵ¸cbU¹ř¨WavquSMzeo_^gsÏ·¥Ó@~¯¿RiīB\\qTGªÇĜçPoÿfñòą¦óQīÈáPābß{ZŗĸIæÅhnszÁCËìñÏ·ąĚÝUm®ó­L·ăUÈíoù´Êj°ŁŤ_uµ^°ìÇ@tĶĒ¡ÆM³Ģ«İĨÅ®ğRāðggheÆ¢zÊ©Ô\\°ÝĎz~ź¤PnMĪÖB£kné§żćĆKĒ°¼L¶èâz¨u¦¥LDĘz¬ýÎmĘd¾ßFzhg²Fy¦ĝ¤ċņbÎ@yĄæm°NĮZRÖíJ²öLĸÒ¨Y®ƌÐVàtt_ÚÂyĠz]ŢhzĎ{ÂĢXc|ÐqfO¢¤ögÌHNPKŖUú´xx[xvĐCûĀìÖT¬¸^}Ìsòd´_KgžLĴÀBon|H@Êx¦BpŰŌ¿fµƌA¾zǈRx¶FkĄźRzŀ~¶[´HnªVƞuĒ­È¨ƎcƽÌm¸ÁÈM¦x͊ëÀxǆBú^´W£dkɾĬpw˂ØɦļĬIŚÊnŔa¸~J°îlɌxĤÊÈðhÌ®gT´øàCÀ^ªerrƘd¢İP|Ė ŸWªĦ^¶´ÂLaT±üWƜǀRÂŶUńĖ[QhlLüAÜ\\qRĄ©"],encodeOffsets:[[90849,37210]]}},{type:"Feature",id:"610000",properties:{id:"610000",cp:[108.948024,34.263161],name:"陕西",childNum:1},geometry:{type:"Polygon",coordinates:["@@p¢ȮµûGĦ}Ħðǚ¶òƄjɂz°{ºØkÈęâ¦jªBg\\ċ°s¬]jú EȌǆ¬stRÆdĠİwÜ¸ôW¾ƮłÒ_{Ìû¼jº¹¢GǪÒ¯ĘZ`ºŊecņą~BÂgzpâēòYǠȰÌTÎ¨ÂW|fcă§uF@N¢XLRMº[ğȣſï|¥Jkc`sŉǷY¹W@µ÷Kãï³ÛIcñ·VȋÚÒķø©þ¥yÓğęmWµÎumZyOŅƟĥÓ~sÑL¤µaÅY¦ocyZ{y c]{Ta©`U_Ěē£ωÊƍKùK¶ȱÝƷ§{û»ÅÁȹÍéuĳ|¹cÑdìUYOuFÕÈYvÁCqÓTǢí§·S¹NgV¬ë÷Át°DØ¯C´ŉƒópģ}ċcEËFéGU¥×K§­¶³BČ}C¿åċ`wġB·¤őcƭ²ő[Å^axwQOÿEËßŚĤNĔwƇÄńwĪ­o[_KÓª³ÙnKÇěÿ]ďă_d©·©Ýŏ°Ù®g]±ßå¬÷m\\iaǑkěX{¢|ZKlçhLtŇîŵœè[É@ƉĄEtƇÏ³­ħZ«mJ×¾MtÝĦ£IwÄå\\Õ{OwĬ©LÙ³ÙgBƕŀrÌĢŭO¥lãyC§HÍ£ßEñX¡­°ÙCgpťzb`wIvA|§hoĕ@E±iYd¥OĻ¹S|}F@¾oAO²{tfÜ¢FǂÒW²°BĤh^Wx{@¬­F¸¡ķn£P|ªĴ@^ĠĈæbÔc¶lYi^MicĎ°Â[ävï¶gv@ÀĬ·lJ¸sn|¼u~a]ÆÈtŌºJpþ£KKf~¦UbyäIĺãnÔ¿^­ŵMThĠÜ¤ko¼Ŏìąǜh`[tRd²Ĳ_XPrɲlXiL§à¹H°Ȧqº®QCbAŌJ¸ĕÚ³ĺ§ `d¨YjiZvRĺ±öVKkjGȊÄePĞZmļKÀ[`ösìhïÎoĬdtKÞ{¬èÒÒBÔpĲÇĬJŊ¦±J«Y§@·pHµàåVKepWftsAÅqC·¬ko«pHÆuK@oHĆÛķhxenS³àǍrqƶRbzy¸ËÐl¼EºpĤ¼x¼½~Ğà@ÚüdK^mÌSj"],encodeOffsets:[[110234,38774]]}},{type:"Feature",id:"620000",properties:{id:"620000",cp:[103.823557,36.058039],name:"甘肃",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@VuUv"],["@@ũEĠtt~nkh`Q¦ÅÄÜdwAb×ĠąJ¤DüègĺqBqj°lI¡ĨÒ¤úSHbjÎB°aZ¢KJO[|A£Dx}NĂ¬HUnrk kp¼Y kMJn[aGáÚÏ[½rc}aQxOgsPMnUsncZsKúvAtÞġ£®ĀYKdnFw¢JE°Latf`¼h¬we|Æbj}GA·~W`¢MC¤tL©Ĳ°qdfObÞĬ¹ttu`^ZúE`[@Æsîz®¡CƳƜG²R¢RmfwĸgÜą G@pzJM½mhVy¸uÈÔO±¨{LfæU¶ßGĂq\\ª¬²I¥IŉÈīoıÓÑAçÑ|«LÝcspīðÍgtë_õ\\ĉñLYnĝgRǡÁiHLlõUĹ²uQjYi§Z_c¨´ĹĖÙ·ŋIaBD­R¹ȥr¯GºßK¨jWkɱOqWĳ\\a­Q\\sg_ĆǛōëp»£lğÛgSŶN®À]ÓämĹãJaz¥V}Le¤Lýo¹IsŋÅÇ^bz³tmEÁ´a¹cčecÇNĊãÁ\\č¯dNj]jZµkÓdaćå]ğĳ@ ©O{¤ĸm¢E·®«|@Xwg]Aģ±¯XǁÑǳªcwQÚŝñsÕ³ÛV_ý¥\\ů¥©¾÷w©WÕÊĩhÿÖÁRo¸V¬âDb¨hûxÊ×ǌ~Zâg|XÁnßYoº§ZÅŘv[ĭÖʃuďxcVbnUSfB¯³_TzºÎO©çMÑ~M³]µ^püµÄY~y@X~¤Z³[Èōl@®Å¼£QK·Di¡ByÿQ_´D¥hŗy^ĭÁZ]cIzýah¹MĪğPs{ò²Vw¹t³ŜË[Ñ}X\\gsF£sPAgěp×ëfYHāďÖqēŭOÏëdLü\\it^c®RÊº¶¢H°mrY£B¹čIoľu¶uI]vģSQ{UŻÅ}QÂ|Ì°ƅ¤ĩŪU ęĄÌZÒ\\v²PĔ»ƢNHĂyAmƂwVm`]ÈbH`Ì¢²ILvĜH®¤Dlt_¢JJÄämèÔDëþgºƫaʎÌrêYi~ Îİ¤NpÀA¾Ĕ¼bð÷®üszMzÖĖQdȨýv§Tè|ªHÃ¾a¸|Ð ƒwKĢx¦ivr^ÿ ¸l öæfƟĴ·PJv}n\\h¹¶v·À|\\ƁĚN´ĜçèÁz]ġ¤²¨QÒŨTIlªťØ}¼˗ƦvÄùØEÂ«FïËIqōTvāÜŏíÛßÛVj³âwGăÂíNOPìyV³ŉĖýZso§HÑiYw[ß\\X¦¥c]ÔƩÜ·«jÐqvÁ¦m^ċ±R¦΋ƈťĚgÀ»IïĨʗƮ°ƝĻþÍAƉſ±tÍEÕÞāNUÍ¡\\ſčåÒʻĘm ƭÌŹöʥëQ¤µ­ÇcƕªoIýIÉ_mkl³ăƓ¦j¡YzŇi}Msßõīʋ }ÁVm_[n}eı­Uĥ¼ªI{Î§DÓƻėojqYhĹT©oūĶ£]ďxĩǑMĝq`B´ƃ˺Чç~²ņj@¥@đ´ί}ĥtPńÇ¾V¬ufÓÉCtÓ̻¹£G³]ƖƾŎĪŪĘ̖¨ʈĢƂlɘ۪üºňUðǜȢƢż̌ȦǼĤŊɲĖÂ­Kq´ï¦ºĒǲņɾªǀÞĈĂD½ĄĎÌŗĞrôñnN¼â¾ʄľԆ|Ǆ֦ज़ȗǉ̘̭ɺƅêgV̍ʆĠ·ÌĊv|ýĖÕWĊǎÞ´õ¼cÒÒBĢ͢UĜð͒s¨ňƃLĉÕÝ@ɛƯ÷¿Ľ­ĹeȏĳëCȚDŲyê×Ŗyò¯ļcÂßYtÁƤyAã˾J@ǝrý@¤rz¸oP¹ɐÚyáHĀ[JwcVeȴÏ»ÈĖ}ƒŰŐèȭǢόĀƪÈŶë;Ñ̆ȤМľĮEŔĹŊũ~ËUă{ĻƹɁύȩþĽvĽƓÉ@ēĽɲßǐƫʾǗĒpäWÐxnsÀ^ƆwW©¦cÅ¡Ji§vúF¶¨c~c¼īeXǚ\\đ¾JwÀďksãAfÕ¦L}waoZD½Ml«]eÒÅaÉ²áo½FõÛ]ĻÒ¡wYR£¢rvÓ®y®LFLzĈôe]gx}|KK}xklL]c¦£fRtív¦PĤoH{tK"]],encodeOffsets:[[[108619,36299]],[[108589,36341]]]}},{type:"Feature",id:"630000",properties:{id:"630000",cp:[96.778916,35.623178],name:"青海",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@InJm"],["@@CÆ½OŃĦsΰ~Ē³¦@@Ņi±è}ШƄ˹A³r_ĞǒNĪĐw¤^ŬĵªpĺSZgrpiƼĘÔ¨C|ÍJ©Ħ»®VĲ~f\\m `UnÂ~ʌĬàöNt~ňjy¢ZiƔ¥Ąk´nl`JÊJþ©pdƖ®È£¶ìRʦźõƮËnʼėæÑƀĎ[¢VÎĂMÖÝÎF²sƊƀÎBļýƞ¯ʘƭðħ¼Jh¿ŦęΌƇ¥²Q]Č¥nuÂÏri¸¬ƪÛ^Ó¦d¥[Wàx\\ZjÒ¨GtpþYŊĕ´zUOëPîMĄÁxH´áiÜUàîÜŐĂÛSuŎrJðÌ¬EFÁú×uÃÎkrĒ{V}İ«O_ÌËĬ©ÓŧSRÑ±§Ģ£^ÂyèçěM³Ƃę{[¸¿uºµ[gt£¸OƤĿéYõ·kĀq]juw¥DĩƍõÇPéÄ½G©ã¤GuȧþRcÕĕNyyût­øï»a½ē¿BMoį£Íj}éZËqbʍƬh¹ìÿÓAçãnIÃ¡I`ks£CG­ěUy×Cy@¶ʡÊBnāzGơMē¼±O÷õJËĚăVĪũƆ£¯{ËL½ÌzżVR|ĠTbuvJvµhĻĖHAëáa­OÇðñęNwœľ·LmI±íĠĩPÉ×®ÿscB³±JKßĊ«`ađ»·QAmOVţéÿ¤¹SQt]]Çx±¯A@ĉĳ¢Óļ©l¶ÅÛrŕspãRk~¦ª]Į­´FRåd­ČsCqđéFn¿ÅƃmÉx{W©ºƝºįkÕƂƑ¸wWūÐ©ÈF£\\tÈ¥ÄRÈýÌJ lGr^×äùyÞ³fjc¨£ÂZ|ǓMĝÏ@ëÜőRĝ÷¡{aïȷPu°ËXÙ{©TmĠ}Y³­ÞIňµç½©C¡į÷¯B»|St»]vųs»}MÓ ÿʪƟǭA¡fs»PY¼c¡»¦cċ­¥£~msĉPSi^o©AecPeǵkgyUi¿h}aHĉ^|á´¡HØûÅ«ĉ®]m¡qĉ¶³ÈyôōLÁstB®wn±ă¥HSòė£Së@×œÊăxÇN©©T±ª£Ĳ¡fb®Þbb_Ą¥xu¥B{łĝ³«`dƐt¤ťiñÍUuºí`£^tƃĲc·ÛLO½sç¥Ts{ă\\_»kÏ±q©čiìĉ|ÍI¥ć¥]ª§D{ŝŖÉR_sÿc³ĪōƿÎ§p[ĉc¯bKmR¥{³Ze^wx¹dƽÅ½ôIg §Mĕ ƹĴ¿ǣÜÍ]Ý]snåA{eƭ`ǻŊĿ\\ĳŬűYÂÿ¬jĖqßb¸L«¸©@ěĀ©ê¶ìÀEH|´bRľÓ¶rÀQþvl®ÕETzÜdb hw¤{LRdcb¯ÙVgƜßzÃôì®^jUèXÎ|UäÌ»rK\\ªN¼pZCüVY¤ɃRi^rPŇTÖ}|br°qňbĚ°ªiƶGQ¾²x¦PmlŜ[Ĥ¡ΞsĦÔÏâ\\ªÚŒU\\f¢N²§x|¤§xĔsZPòʛ²SÐqF`ªVÞŜĶƨVZÌL`¢dŐIqr\\oäõFÎ·¤»Ŷ×h¹]ClÙ\\¦ďÌį¬řtTӺƙgQÇÓHţĒ´ÃbEÄlbʔC|CŮkƮ[ʼ¬ň´KŮÈΰÌĪ¶ƶlðļATUvdTGº̼ÔsÊDÔveOg"]],encodeOffsets:[[[105308,37219]],[[95370,40081]]]}},{type:"Feature",id:"640000",properties:{id:"640000",cp:[106.278179,37.26637],name:"宁夏",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@KëÀęĞ«Oęȿȕı]ŉ¡åįÕÔ«ǴõƪĚQÐZhv K°öqÀÑS[ÃÖHƖčËnL]ûcÙß@ĝ¾}w»»oģF¹»kÌÏ·{zP§B­¢íyÅt@@á]Yv_ssģ¼ißĻL¾ġsKD£¡N_X¸}B~HaiÅf{«x»ge_bsKF¯¡IxmELcÿZ¤­ĢÝsuBLùtYdmVtNmtOPhRw~bd¾qÐ\\âÙH\\bImlNZ»loqlVmGā§~QCw¤{A\\PKNY¯bFkC¥sks_Ã\\ă«¢ħkJi¯rrAhĹûç£CUĕĊ_ÔBixÅÙĄnªÑaM~ħpOu¥sîeQ¥¤^dkKwlL~{L~hw^ófćKyE­K­zuÔ¡qQ¤xZÑ¢^ļöÜ¾Ep±âbÊÑÆ^fk¬NC¾YpxbK~¥eÖäBlt¿Đx½I[ĒǙWf»Ĭ}d§dµùEuj¨IÆ¢¥dXªƅx¿]mtÏwßRĶX¢͎vÆzƂZò®ǢÌʆCrâºMÞzÆMÒÊÓŊZÄ¾r°Î®Ȉmª²ĈUªĚîøºĮ¦ÌĘk^FłĬhĚiĀĖ¾iİbjÕ"],["@@mfwěwMrŢªv@G"]],encodeOffsets:[[[109366,40242]],[[108600,36303]]]}},{type:"Feature",id:"650000",properties:{id:"650000",cp:[85.617733,40.792818],name:"新疆",childNum:1},geometry:{type:"Polygon",coordinates:["@@QØĔ²X¨~ǘBºjʐßØvKƔX¨vĊOÃ·¢i@~cĝe_«E}QxgɪëÏÃ@sÅyXoŖ{ô«ŸuXêÎf`C¹ÂÿÐGĮÕĞXŪōŸMźÈƺQèĽôe|¿ƸJR¤ĘEjcUóº¯Ĩ_ŘÁMª÷Ð¥OéÈ¿ÖğǤǷÂFÒzÉx[]­Ĥĝœ¦EP}ûƥé¿İƷTėƫœŕƅƱB»Đ±ēO¦E}`cȺrĦáŖuÒª«ĲπdƺÏØZƴwʄ¤ĖGĐǂZĶèH¶}ÚZצʥĪï|ÇĦMŔ»İĝǈì¥Βba­¯¥ǕǚkĆŵĦɑĺƯxūД̵nơʃĽá½M»òmqóŘĝčË¾ăCćāƿÝɽ©ǱŅ¹đ¥³ðLrÁ®ɱĕģŉǻ̋ȥơŻǛȡVï¹Ň۩ûkɗġƁ§ʇė̕ĩũƽō^ƕUv£ƁQïƵkŏ½ΉÃŭÇ³LŇʻ«ƭ\\lŭD{ʓDkaFÃÄa³ŤđÔGRÈƚhSӹŚsİ«ĐË[¥ÚDkº^Øg¼ŵ¸£EÍöůŉT¡c_ËKYƧUśĵÝU_©rETÏʜ±OñtYwē¨{£¨uM³x½şL©Ùá[ÓÐĥ Νtģ¢\\śnkOw¥±T»ƷFɯàĩÞáB¹ÆÑUwŕĽw[mG½Èå~Æ÷QyěCFmĭZīŵVÁƿQƛûXS²b½KÏ½ĉS©ŷXĕ{ĕK·¥Ɨcqq©f¿]ßDõU³h­gËÇïģÉɋwk¯í}I·œbmÉřīJɥĻˁ×xoɹīlc¤³Xù]ǅA¿w͉ì¥wÇN·ÂËnƾƍdÇ§đ®ƝvUm©³G\\}µĿQyŹlăµEwǇQ½yƋBe¶ŋÀůo¥AÉw@{Gpm¿AĳŽKLh³`ñcËtW±»ÕSëüÿďDu\\wwwù³VLŕOMËGh£õP¡erÏd{ġWÁč|yšg^ğyÁzÙs`s|ÉåªÇ}m¢Ń¨`x¥ù^}Ì¥H«YªƅAÐ¹n~ź¯f¤áÀzgÇDIÔ´AňĀÒ¶ûEYospõD[{ù°]uJqU|Soċxţ[õÔĥkŋÞŭZËºóYËüċrw ÞkrťË¿XGÉbřaDü·Ē÷AÃª[ÄäIÂ®BÕĐÞ_¢āĠpÛÄȉĖġDKwbmÄNôfƫVÉviǳHQµâFù­Âœ³¦{YGd¢ĚÜO {Ö¦ÞÍÀP^bƾl[vt×ĈÍEË¨¡Đ~´î¸ùÎhuè`¸HÕŔVºwĠââWò@{ÙNÝ´ə²ȕn{¿¥{l÷eé^eďXj©î\\ªÑòÜìc\\üqÕ[Č¡xoÂċªbØ­ø|¶ȴZdÆÂońéG\\¼C°ÌÆn´nxÊOĨŪƴĸ¢¸òTxÊǪMīĞÖŲÃɎOvʦƢ~FRěò¿ġ~åŊúN¸qĘ[Ĕ¶ÂćnÒPĒÜvúĀÊbÖ{Äî¸~Ŕünp¤ÂH¾ĄYÒ©ÊfºmÔĘcDoĬMŬS¤s²ʘÚžȂVŦ èW°ªB|ĲXŔþÈJĦÆæFĚêYĂªĂ]øªŖNÞüAfɨJ¯ÎrDDĤ`mz\\§~D¬{vJÂ«lµĂb¤pŌŰNĄ¨ĊXW|ų ¿¾ɄĦƐMTòP÷fØĶK¢ȝ˔Sô¹òEð­`Ɩ½ǒÂň×äı§ĤƝ§C~¡hlåǺŦŞkâ~}FøàĲaĞfƠ¥Ŕd®U¸źXv¢aƆúŪtŠųƠjdƺƺÅìnrh\\ĺ¯äɝĦ]èpĄ¦´LƞĬ´ƤǬ˼Ēɸ¤rºǼ²¨zÌPðŀbþ¹ļD¢¹\\ĜÑŚ¶ZƄ³àjĨoâȴLÊȮĐ­ĚăÀêZǚŐ¤qȂ\\L¢ŌİfÆs|zºeªÙæ§΢{Ā´ƐÚ¬¨Ĵà²łhʺKÞºÖTiƢ¾ªì°`öøu®Ê¾ãØ"],encodeOffsets:[[88824,50096]]}},{type:"Feature",id:"110000",properties:{id:"110000",cp:[116.405285,39.904989],name:"北京",childNum:1},geometry:{type:"Polygon",coordinates:["@@ĽOÁûtŷmiÍt_H»Ĩ±d`¹­{bwYr³S]§§o¹qGtm_SŧoaFLgQN_dV@Zom_ć\\ßcÂ±x¯oœRcfe£o§ËgToÛJíĔóu|wP¤XnO¢ÉŦ¯rNÄā¤zâŖÈRpŢZÚ{GrFt¦Òx§ø¹RóäV¤XdżâºWbwŚ¨Ud®bêņ¾jnŎGŃŶnzÚSeîĜZczî¾i]ÍQaúÍÔiþĩȨWĢü|Ėu[qb[swP@ÅğP¿{\\¥A¨ÏÑ¨j¯X\\¯MKpA³[Hīu}}"],encodeOffsets:[[120023,41045]]}},{type:"Feature",id:"120000",properties:{id:"120000",cp:[117.190182,39.125596],name:"天津",childNum:1},geometry:{type:"Polygon",coordinates:["@@ŬgX§Ü«E¶FÌ¬O_ïlÁgz±AXeµÄĵ{¶]gitgIj·¥îakS¨ÐƎk}ĕ{gBqGf{¿aU^fIư³õ{YıëNĿk©ïËZŏR§òoY×Ógcĥs¡bġ«@dekąI[nlPqCnp{ō³°`{PNdƗqSÄĻNNâyj]äÒD ĬH°Æ]~¡HO¾X}ÐxgpgWrDGpù^LrzWxZ^¨´T\\|~@IzbĤjeĊªz£®ĔvěLmV¾Ô_ÈNW~zbĬvG²ZmDM~~"],encodeOffsets:[[120237,41215]]}},{type:"Feature",id:"310000",properties:{id:"310000",cp:[121.472644,31.231706],name:"上海",childNum:6},geometry:{type:"MultiPolygon",coordinates:[["@@ɧư¬EpƸÁxc"],["@@©ª"],["@@MA"],["@@QpİE§ÉC¾"],["@@bŝÕÕEȣÚƥêImɇǦèÜĠÚÃƌÃ͎ó"],["@@ǜûȬɋŭ×^sYɍDŋŽąñCG²«ªč@h_p¯A{oloY¬j@Ĳ`gQÚhr|ǀ^MĲvtbe´R¯Ô¬¨Yô¤r]ìƬį"]],encodeOffsets:[[[124702,32062]],[[124547,32200]],[[124808,31991]],[[124726,32110]],[[124903,32376]],[[124438,32149]]]}},{type:"Feature",id:"500000",properties:{id:"500000",cp:[107.304962,29.533155],name:"重庆",childNum:2},geometry:{type:"MultiPolygon",coordinates:[["@@vjG~nGŘŬĶȂƀƾ¹¸ØÎezĆT¸}êÐqHðqĖä¥^CÆIj²p\\_ æüY|[YxƊæu°xb®Űb@~¢NQt°¶Sæ Ê~rǉĔëĚ¢~uf`faĔJåĊnÖ]jƎćÊ@£¾a®£Ű{ŶĕFègLk{Y|¡ĜWƔtƬJÑxq±ĢN´òKLÈÃ¼D|s`ŋć]Ã`đMûƱ½~Y°ħ`ƏíW½eI½{aOIrÏ¡ĕŇapµÜƅġ^ÖÛbÙŽŏml½SêqDu[RãË»ÿw`»y¸_ĺę}÷`M¯ċfCVµqŉ÷Zgg`d½pDOÎCn^uf²ènh¼WtƏxRGg¦pVFI±G^Ic´ecGĹÞ½sëĬhxW}KÓe­XsbkF¦LØgTkïƵNï¶}Gyw\\oñ¡nmĈzj@Óc£»Wă¹Ój_m»¹·~MvÛaq»­ê\\ÂoVnÓØÍ²«bq¿efE Ĝ^Q~ Évýş¤²ĮpEİ}zcĺL½¿gÅ¡ýE¡ya£³t\\¨\\vú»¼§·Ñr_oÒý¥u_n»_At©ÞÅ±ā§IVeëY}{VPÀFA¨ąB}q@|Ou\\FmQFÝMwå}]|FmÏCawu_p¯sfÙgYDHl`{QEfNysB¦zG¸rHeN\\CvEsÐùÜ_·ÖĉsaQ¯}_UxÃđqNH¬Äd^ÝŰR¬ã°wećJE·vÝ·HgéFXjÉê`|ypxkAwWĐpb¥eOsmzwqChóUQl¥F^lafanòsrEvfQdÁUVfÎvÜ^eftET¬ôA\\¢sJnQTjPØxøK|nBzĞ»LYFDxÓvr[ehľvN¢o¾NiÂxGpâ¬zbfZo~hGi]öF||NbtOMn eA±tPTLjpYQ|SHYĀxinzDJÌg¢và¥Pg_ÇzIIII£®S¬ØsÎ¼£N"],["@@ifjN@s"]],encodeOffsets:[[[109628,30765]],[[111725,31320]]]}},{type:"Feature",id:"810000",properties:{id:"810000",cp:[114.173355,22.320048],name:"香港",childNum:5},geometry:{type:"MultiPolygon",coordinates:[["@@AlBk"],["@@mn"],["@@EpFo"],["@@ea¢pl¸Eõ¹hj[]ÔCÎ@lj¡uBX´AI¹[yDU]W`çwZkmcMpÅv}IoJlcafŃK°ä¬XJmÐ đhI®æÔtSHnEÒrÈc"],["@@rMUwAS®e"]],encodeOffsets:[[[117111,23002]],[[117072,22876]],[[117045,22887]],[[116975,23082]],[[116882,22747]]]}},{type:"Feature",id:"820000",properties:{id:"820000",cp:[113.54909,22.198951],name:"澳门",childNum:1},geometry:{type:"Polygon",coordinates:["@@kÊd°å§s"],encodeOffsets:[[116279,22639]]}}],UTF8Encoding:!0}):n("ECharts Map is not loaded"):n("ECharts is not Loaded")}))},"31a4":function(t,e,n){"use strict";n("a497")},3419:function(t,e,n){"use strict";n("65c6")},"342a":function(t,e,n){"use strict";n("8e44")},"396a":function(t,e,n){"use strict";n("f35e")},"3ac0":function(t,e,n){"use strict";n("a560")},"3c24":function(t,e,n){},"3cf8":function(t,e,n){"use strict";n("bb32")},4052:function(t,e,n){},"439b":function(t,e,n){"use strict";n("7cbb")},4813:function(t,e,n){"use strict";n("c47a")},"486e":function(t,e,n){},"48c5":function(t,e,n){"use strict";n("98e2")},"49dd":function(t,e,n){"use strict";n("c386")},"4d2c":function(t,e,n){},"4d3e":function(t,e,n){},"4dab":function(t,e,n){},"4df3":function(t,e,n){"use strict";n("0740")},"4fdd":function(t,e,n){"use strict";n("f2b4")},"504c":function(t,e,n){var r=n("9e1e"),i=n("0d58"),a=n("6821"),o=n("52a7").f;t.exports=function(t){return function(e){var n,s=a(e),l=i(s),c=l.length,u=0,A=[];while(c>u)n=l[u++],r&&!o.call(s,n)||A.push(t?[n,s[n]]:s[n]);return A}}},5109:function(t,e,n){"use strict";n("d010b")},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},"51dc":function(t,e,n){"use strict";n("cb45")},5655:function(t,e,n){"use strict";n("7165")},5698:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return r})),n.d(e,"bisect",(function(){return u})),n.d(e,"bisectRight",(function(){return l})),n.d(e,"bisectLeft",(function(){return c})),n.d(e,"ascending",(function(){return i})),n.d(e,"bisector",(function(){return a})),n.d(e,"cross",(function(){return f})),n.d(e,"descending",(function(){return d})),n.d(e,"deviation",(function(){return g})),n.d(e,"extent",(function(){return v})),n.d(e,"histogram",(function(){return O})),n.d(e,"thresholdFreedmanDiaconis",(function(){return I})),n.d(e,"thresholdScott",(function(){return L})),n.d(e,"thresholdSturges",(function(){return D})),n.d(e,"max",(function(){return F})),n.d(e,"mean",(function(){return R})),n.d(e,"median",(function(){return P})),n.d(e,"merge",(function(){return Q})),n.d(e,"min",(function(){return H})),n.d(e,"pairs",(function(){return A})),n.d(e,"permute",(function(){return k})),n.d(e,"quantile",(function(){return U})),n.d(e,"range",(function(){return C})),n.d(e,"scan",(function(){return z})),n.d(e,"shuffle",(function(){return V})),n.d(e,"sum",(function(){return G})),n.d(e,"ticks",(function(){return S})),n.d(e,"tickIncrement",(function(){return M})),n.d(e,"tickStep",(function(){return N})),n.d(e,"transpose",(function(){return K})),n.d(e,"variance",(function(){return m})),n.d(e,"zip",(function(){return X})),n.d(e,"axisTop",(function(){return st})),n.d(e,"axisRight",(function(){return lt})),n.d(e,"axisBottom",(function(){return ct})),n.d(e,"axisLeft",(function(){return ut})),n.d(e,"brush",(function(){return ks})),n.d(e,"brushX",(function(){return Qs})),n.d(e,"brushY",(function(){return Hs})),n.d(e,"brushSelection",(function(){return Ps})),n.d(e,"chord",(function(){return qs})),n.d(e,"ribbon",(function(){return Al})),n.d(e,"nest",(function(){return ml})),n.d(e,"set",(function(){return Cl})),n.d(e,"map",(function(){return pl})),n.d(e,"keys",(function(){return Bl})),n.d(e,"values",(function(){return El})),n.d(e,"entries",(function(){return Tl})),n.d(e,"color",(function(){return Jn})),n.d(e,"rgb",(function(){return er})),n.d(e,"hsl",(function(){return ar})),n.d(e,"lab",(function(){return _r})),n.d(e,"hcl",(function(){return Er})),n.d(e,"cubehelix",(function(){return Rr})),n.d(e,"dispatch",(function(){return gt})),n.d(e,"drag",(function(){return Un})),n.d(e,"dragDisable",(function(){return Bn})),n.d(e,"dragEnable",(function(){return En})),n.d(e,"dsvFormat",(function(){return Fl})),n.d(e,"csvParse",(function(){return Pl})),n.d(e,"csvParseRows",(function(){return Ql})),n.d(e,"csvFormat",(function(){return Hl})),n.d(e,"csvFormatRows",(function(){return kl})),n.d(e,"tsvParse",(function(){return Vl})),n.d(e,"tsvParseRows",(function(){return Gl})),n.d(e,"tsvFormat",(function(){return Kl})),n.d(e,"tsvFormatRows",(function(){return jl})),n.d(e,"easeLinear",(function(){return wo})),n.d(e,"easeQuad",(function(){return Co})),n.d(e,"easeQuadIn",(function(){return xo})),n.d(e,"easeQuadOut",(function(){return bo})),n.d(e,"easeQuadInOut",(function(){return Co})),n.d(e,"easeCubic",(function(){return To})),n.d(e,"easeCubicIn",(function(){return Bo})),n.d(e,"easeCubicOut",(function(){return Eo})),n.d(e,"easeCubicInOut",(function(){return To})),n.d(e,"easePoly",(function(){return Do})),n.d(e,"easePolyIn",(function(){return Mo})),n.d(e,"easePolyOut",(function(){return No})),n.d(e,"easePolyInOut",(function(){return Do})),n.d(e,"easeSin",(function(){return Fo})),n.d(e,"easeSinIn",(function(){return Io})),n.d(e,"easeSinOut",(function(){return Lo})),n.d(e,"easeSinInOut",(function(){return Fo})),n.d(e,"easeExp",(function(){return Qo})),n.d(e,"easeExpIn",(function(){return Ro})),n.d(e,"easeExpOut",(function(){return Po})),n.d(e,"easeExpInOut",(function(){return Qo})),n.d(e,"easeCircle",(function(){return zo})),n.d(e,"easeCircleIn",(function(){return Ho})),n.d(e,"easeCircleOut",(function(){return ko})),n.d(e,"easeCircleInOut",(function(){return zo})),n.d(e,"easeBounce",(function(){return ts})),n.d(e,"easeBounceIn",(function(){return $o})),n.d(e,"easeBounceOut",(function(){return ts})),n.d(e,"easeBounceInOut",(function(){return es})),n.d(e,"easeBack",(function(){return as})),n.d(e,"easeBackIn",(function(){return rs})),n.d(e,"easeBackOut",(function(){return is})),n.d(e,"easeBackInOut",(function(){return as})),n.d(e,"easeElastic",(function(){return us})),n.d(e,"easeElasticIn",(function(){return cs})),n.d(e,"easeElasticOut",(function(){return us})),n.d(e,"easeElasticInOut",(function(){return As})),n.d(e,"forceCenter",(function(){return Xl})),n.d(e,"forceCollide",(function(){return yc})),n.d(e,"forceLink",(function(){return bc})),n.d(e,"forceManyBody",(function(){return Nc})),n.d(e,"forceRadial",(function(){return Dc})),n.d(e,"forceSimulation",(function(){return Mc})),n.d(e,"forceX",(function(){return Oc})),n.d(e,"forceY",(function(){return Uc})),n.d(e,"formatDefaultLocale",(function(){return Jc})),n.d(e,"format",(function(){return jc})),n.d(e,"formatPrefix",(function(){return Xc})),n.d(e,"formatLocale",(function(){return qc})),n.d(e,"formatSpecifier",(function(){return Vc})),n.d(e,"precisionFixed",(function(){return Zc})),n.d(e,"precisionPrefix",(function(){return $c})),n.d(e,"precisionRound",(function(){return tu})),n.d(e,"geoArea",(function(){return Xu})),n.d(e,"geoBounds",(function(){return QA})),n.d(e,"geoCentroid",(function(){return JA})),n.d(e,"geoCircle",(function(){return lh})),n.d(e,"geoClipAntimeridian",(function(){return _h})),n.d(e,"geoClipCircle",(function(){return bh})),n.d(e,"geoClipExtent",(function(){return Dh})),n.d(e,"geoClipRectangle",(function(){return Th})),n.d(e,"geoContains",(function(){return qh})),n.d(e,"geoDistance",(function(){return kh})),n.d(e,"geoGraticule",(function(){return $h})),n.d(e,"geoGraticule10",(function(){return tf})),n.d(e,"geoInterpolate",(function(){return of})),n.d(e,"geoLength",(function(){return Ph})),n.d(e,"geoPath",(function(){return od})),n.d(e,"geoAlbers",(function(){return Sd})),n.d(e,"geoAlbersUsa",(function(){return Nd})),n.d(e,"geoAzimuthalEqualArea",(function(){return Id})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return Ud})),n.d(e,"geoAzimuthalEquidistant",(function(){return Fd})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return Ld})),n.d(e,"geoConicConformal",(function(){return zd})),n.d(e,"geoConicConformalRaw",(function(){return kd})),n.d(e,"geoConicEqualArea",(function(){return Td})),n.d(e,"geoConicEqualAreaRaw",(function(){return Ed})),n.d(e,"geoConicEquidistant",(function(){return jd})),n.d(e,"geoConicEquidistantRaw",(function(){return Kd})),n.d(e,"geoEquirectangular",(function(){return Gd})),n.d(e,"geoEquirectangularRaw",(function(){return Vd})),n.d(e,"geoGnomonic",(function(){return Wd})),n.d(e,"geoGnomonicRaw",(function(){return Xd})),n.d(e,"geoIdentity",(function(){return qd})),n.d(e,"geoProjection",(function(){return xd})),n.d(e,"geoProjectionMutator",(function(){return bd})),n.d(e,"geoMercator",(function(){return Pd})),n.d(e,"geoMercatorRaw",(function(){return Rd})),n.d(e,"geoNaturalEarth1",(function(){return Zd})),n.d(e,"geoNaturalEarth1Raw",(function(){return Jd})),n.d(e,"geoOrthographic",(function(){return tp})),n.d(e,"geoOrthographicRaw",(function(){return $d})),n.d(e,"geoStereographic",(function(){return np})),n.d(e,"geoStereographicRaw",(function(){return ep})),n.d(e,"geoTransverseMercator",(function(){return ip})),n.d(e,"geoTransverseMercatorRaw",(function(){return rp})),n.d(e,"geoRotation",(function(){return ah})),n.d(e,"geoStream",(function(){return Qu})),n.d(e,"geoTransform",(function(){return sd})),n.d(e,"cluster",(function(){return hp})),n.d(e,"hierarchy",(function(){return Ep})),n.d(e,"pack",(function(){return tm})),n.d(e,"packSiblings",(function(){return Wp})),n.d(e,"packEnclose",(function(){return Ip})),n.d(e,"partition",(function(){return om})),n.d(e,"stratify",(function(){return hm})),n.d(e,"tree",(function(){return wm})),n.d(e,"treemap",(function(){return Em})),n.d(e,"treemapBinary",(function(){return Tm})),n.d(e,"treemapDice",(function(){return am})),n.d(e,"treemapSlice",(function(){return xm})),n.d(e,"treemapSliceDice",(function(){return Sm})),n.d(e,"treemapSquarify",(function(){return Bm})),n.d(e,"treemapResquarify",(function(){return Mm})),n.d(e,"interpolate",(function(){return Ai})),n.d(e,"interpolateArray",(function(){return Zr})),n.d(e,"interpolateBasis",(function(){return Hr})),n.d(e,"interpolateBasisClosed",(function(){return kr})),n.d(e,"interpolateDate",(function(){return $r})),n.d(e,"interpolateNumber",(function(){return ti})),n.d(e,"interpolateObject",(function(){return ei})),n.d(e,"interpolateRound",(function(){return hi})),n.d(e,"interpolateString",(function(){return ui})),n.d(e,"interpolateTransformCss",(function(){return _i})),n.d(e,"interpolateTransformSvg",(function(){return yi})),n.d(e,"interpolateZoom",(function(){return Si})),n.d(e,"interpolateRgb",(function(){return Wr})),n.d(e,"interpolateRgbBasis",(function(){return qr})),n.d(e,"interpolateRgbBasisClosed",(function(){return Jr})),n.d(e,"interpolateHsl",(function(){return Ni})),n.d(e,"interpolateHslLong",(function(){return Di})),n.d(e,"interpolateLab",(function(){return Oi})),n.d(e,"interpolateHcl",(function(){return Ii})),n.d(e,"interpolateHclLong",(function(){return Li})),n.d(e,"interpolateCubehelix",(function(){return Qi})),n.d(e,"interpolateCubehelixLong",(function(){return Hi})),n.d(e,"quantize",(function(){return ki})),n.d(e,"path",(function(){return al})),n.d(e,"polygonArea",(function(){return Nm})),n.d(e,"polygonCentroid",(function(){return Dm})),n.d(e,"polygonHull",(function(){return Lm})),n.d(e,"polygonContains",(function(){return Fm})),n.d(e,"polygonLength",(function(){return Rm})),n.d(e,"quadtree",(function(){return dc})),n.d(e,"queue",(function(){return jm})),n.d(e,"randomUniform",(function(){return Wm})),n.d(e,"randomNormal",(function(){return Ym})),n.d(e,"randomLogNormal",(function(){return qm})),n.d(e,"randomBates",(function(){return Zm})),n.d(e,"randomIrwinHall",(function(){return Jm})),n.d(e,"randomExponential",(function(){return $m})),n.d(e,"request",(function(){return tg})),n.d(e,"html",(function(){return ig})),n.d(e,"json",(function(){return ag})),n.d(e,"text",(function(){return og})),n.d(e,"xml",(function(){return sg})),n.d(e,"csv",(function(){return ug})),n.d(e,"tsv",(function(){return Ag})),n.d(e,"scaleBand",(function(){return gg})),n.d(e,"scalePoint",(function(){return _g})),n.d(e,"scaleIdentity",(function(){return Ug})),n.d(e,"scaleLinear",(function(){return Og})),n.d(e,"scaleLog",(function(){return kg})),n.d(e,"scaleOrdinal",(function(){return mg})),n.d(e,"scaleImplicit",(function(){return pg})),n.d(e,"scalePow",(function(){return Vg})),n.d(e,"scaleSqrt",(function(){return Gg})),n.d(e,"scaleQuantile",(function(){return Kg})),n.d(e,"scaleQuantize",(function(){return jg})),n.d(e,"scaleThreshold",(function(){return Xg})),n.d(e,"scaleTime",(function(){return Jy})),n.d(e,"scaleUtc",(function(){return Zy})),n.d(e,"schemeCategory10",(function(){return tw})),n.d(e,"schemeCategory20b",(function(){return ew})),n.d(e,"schemeCategory20c",(function(){return nw})),n.d(e,"schemeCategory20",(function(){return rw})),n.d(e,"interpolateCubehelixDefault",(function(){return iw})),n.d(e,"interpolateRainbow",(function(){return lw})),n.d(e,"interpolateWarm",(function(){return aw})),n.d(e,"interpolateCool",(function(){return ow})),n.d(e,"interpolateViridis",(function(){return uw})),n.d(e,"interpolateMagma",(function(){return Aw})),n.d(e,"interpolateInferno",(function(){return hw})),n.d(e,"interpolatePlasma",(function(){return fw})),n.d(e,"scaleSequential",(function(){return dw})),n.d(e,"create",(function(){return fn})),n.d(e,"creator",(function(){return bt})),n.d(e,"local",(function(){return pn})),n.d(e,"matcher",(function(){return Ut})),n.d(e,"mouse",(function(){return _n})),n.d(e,"namespace",(function(){return yt})),n.d(e,"namespaces",(function(){return _t})),n.d(e,"clientPoint",(function(){return vn})),n.d(e,"select",(function(){return hn})),n.d(e,"selectAll",(function(){return yn})),n.d(e,"selection",(function(){return An})),n.d(e,"selector",(function(){return Bt})),n.d(e,"selectorAll",(function(){return St})),n.d(e,"style",(function(){return he})),n.d(e,"touch",(function(){return wn})),n.d(e,"touches",(function(){return xn})),n.d(e,"window",(function(){return se})),n.d(e,"event",(function(){return We})),n.d(e,"customEvent",(function(){return nn})),n.d(e,"arc",(function(){return Fw})),n.d(e,"area",(function(){return zw})),n.d(e,"line",(function(){return kw})),n.d(e,"pie",(function(){return Kw})),n.d(e,"areaRadial",(function(){return Jw})),n.d(e,"radialArea",(function(){return Jw})),n.d(e,"lineRadial",(function(){return qw})),n.d(e,"radialLine",(function(){return qw})),n.d(e,"pointRadial",(function(){return Zw})),n.d(e,"linkHorizontal",(function(){return ox})),n.d(e,"linkVertical",(function(){return sx})),n.d(e,"linkRadial",(function(){return lx})),n.d(e,"symbol",(function(){return Sx})),n.d(e,"symbols",(function(){return Tx})),n.d(e,"symbolCircle",(function(){return cx})),n.d(e,"symbolCross",(function(){return ux})),n.d(e,"symbolDiamond",(function(){return fx})),n.d(e,"symbolSquare",(function(){return _x})),n.d(e,"symbolStar",(function(){return vx})),n.d(e,"symbolTriangle",(function(){return wx})),n.d(e,"symbolWye",(function(){return Ex})),n.d(e,"curveBasisClosed",(function(){return Ix})),n.d(e,"curveBasisOpen",(function(){return Fx})),n.d(e,"curveBasis",(function(){return Ox})),n.d(e,"curveBundle",(function(){return Px})),n.d(e,"curveCardinalClosed",(function(){return Vx})),n.d(e,"curveCardinalOpen",(function(){return Kx})),n.d(e,"curveCardinal",(function(){return kx})),n.d(e,"curveCatmullRomClosed",(function(){return qx})),n.d(e,"curveCatmullRomOpen",(function(){return Zx})),n.d(e,"curveCatmullRom",(function(){return Wx})),n.d(e,"curveLinearClosed",(function(){return tb})),n.d(e,"curveLinear",(function(){return Pw})),n.d(e,"curveMonotoneX",(function(){return lb})),n.d(e,"curveMonotoneY",(function(){return cb})),n.d(e,"curveNatural",(function(){return hb})),n.d(e,"curveStep",(function(){return db})),n.d(e,"curveStepAfter",(function(){return mb})),n.d(e,"curveStepBefore",(function(){return pb})),n.d(e,"stack",(function(){return yb})),n.d(e,"stackOffsetExpand",(function(){return wb})),n.d(e,"stackOffsetDiverging",(function(){return xb})),n.d(e,"stackOffsetNone",(function(){return gb})),n.d(e,"stackOffsetSilhouette",(function(){return bb})),n.d(e,"stackOffsetWiggle",(function(){return Cb})),n.d(e,"stackOrderAscending",(function(){return Bb})),n.d(e,"stackOrderDescending",(function(){return Tb})),n.d(e,"stackOrderInsideOut",(function(){return Sb})),n.d(e,"stackOrderNone",(function(){return vb})),n.d(e,"stackOrderReverse",(function(){return Mb})),n.d(e,"timeInterval",(function(){return qg})),n.d(e,"timeMillisecond",(function(){return Zg})),n.d(e,"timeMilliseconds",(function(){return $g})),n.d(e,"utcMillisecond",(function(){return Zg})),n.d(e,"utcMilliseconds",(function(){return $g})),n.d(e,"timeSecond",(function(){return ov})),n.d(e,"timeSeconds",(function(){return sv})),n.d(e,"utcSecond",(function(){return ov})),n.d(e,"utcSeconds",(function(){return sv})),n.d(e,"timeMinute",(function(){return cv})),n.d(e,"timeMinutes",(function(){return uv})),n.d(e,"timeHour",(function(){return hv})),n.d(e,"timeHours",(function(){return fv})),n.d(e,"timeDay",(function(){return pv})),n.d(e,"timeDays",(function(){return mv})),n.d(e,"timeWeek",(function(){return vv})),n.d(e,"timeWeeks",(function(){return Bv})),n.d(e,"timeSunday",(function(){return vv})),n.d(e,"timeSundays",(function(){return Bv})),n.d(e,"timeMonday",(function(){return _v})),n.d(e,"timeMondays",(function(){return Ev})),n.d(e,"timeTuesday",(function(){return yv})),n.d(e,"timeTuesdays",(function(){return Tv})),n.d(e,"timeWednesday",(function(){return wv})),n.d(e,"timeWednesdays",(function(){return Sv})),n.d(e,"timeThursday",(function(){return xv})),n.d(e,"timeThursdays",(function(){return Mv})),n.d(e,"timeFriday",(function(){return bv})),n.d(e,"timeFridays",(function(){return Nv})),n.d(e,"timeSaturday",(function(){return Cv})),n.d(e,"timeSaturdays",(function(){return Dv})),n.d(e,"timeMonth",(function(){return Uv})),n.d(e,"timeMonths",(function(){return Iv})),n.d(e,"timeYear",(function(){return Fv})),n.d(e,"timeYears",(function(){return Rv})),n.d(e,"utcMinute",(function(){return Qv})),n.d(e,"utcMinutes",(function(){return Hv})),n.d(e,"utcHour",(function(){return zv})),n.d(e,"utcHours",(function(){return Vv})),n.d(e,"utcDay",(function(){return Kv})),n.d(e,"utcDays",(function(){return jv})),n.d(e,"utcWeek",(function(){return Wv})),n.d(e,"utcWeeks",(function(){return e_})),n.d(e,"utcSunday",(function(){return Wv})),n.d(e,"utcSundays",(function(){return e_})),n.d(e,"utcMonday",(function(){return Yv})),n.d(e,"utcMondays",(function(){return n_})),n.d(e,"utcTuesday",(function(){return qv})),n.d(e,"utcTuesdays",(function(){return r_})),n.d(e,"utcWednesday",(function(){return Jv})),n.d(e,"utcWednesdays",(function(){return i_})),n.d(e,"utcThursday",(function(){return Zv})),n.d(e,"utcThursdays",(function(){return a_})),n.d(e,"utcFriday",(function(){return $v})),n.d(e,"utcFridays",(function(){return o_})),n.d(e,"utcSaturday",(function(){return t_})),n.d(e,"utcSaturdays",(function(){return s_})),n.d(e,"utcMonth",(function(){return c_})),n.d(e,"utcMonths",(function(){return u_})),n.d(e,"utcYear",(function(){return h_})),n.d(e,"utcYears",(function(){return f_})),n.d(e,"timeFormatDefaultLocale",(function(){return Uy})),n.d(e,"timeFormat",(function(){return __})),n.d(e,"timeParse",(function(){return y_})),n.d(e,"utcFormat",(function(){return w_})),n.d(e,"utcParse",(function(){return x_})),n.d(e,"timeFormatLocale",(function(){return g_})),n.d(e,"isoFormat",(function(){return Ry})),n.d(e,"isoParse",(function(){return Hy})),n.d(e,"now",(function(){return Ji})),n.d(e,"timer",(function(){return ta})),n.d(e,"timerFlush",(function(){return ea})),n.d(e,"timeout",(function(){return oa})),n.d(e,"interval",(function(){return sa})),n.d(e,"transition",(function(){return vo})),n.d(e,"active",(function(){return ms})),n.d(e,"interrupt",(function(){return xa})),n.d(e,"voronoi",(function(){return _C})),n.d(e,"zoom",(function(){return UC})),n.d(e,"zoomTransform",(function(){return CC})),n.d(e,"zoomIdentity",(function(){return bC}));var r="4.13.0",i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},a=function(t){return 1===t.length&&(t=o(t)),{left:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}};function o(t){return function(e,n){return i(t(e),n)}}var s=a(i),l=s.right,c=s.left,u=l,A=function(t,e){null==e&&(e=h);var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);while(n<r)a[n]=e(i,i=t[++n]);return a};function h(t,e){return[t,e]}var f=function(t,e,n){var r,i,a,o,s=t.length,l=e.length,c=new Array(s*l);for(null==n&&(n=h),r=a=0;r<s;++r)for(o=t[r],i=0;i<l;++i,++a)c[a]=n(o,e[i]);return c},d=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},m=function(t,e){var n,r,i=t.length,a=0,o=-1,s=0,l=0;if(null==e)while(++o<i)isNaN(n=p(t[o]))||(r=n-s,s+=r/++a,l+=r*(n-s));else while(++o<i)isNaN(n=p(e(t[o],o,t)))||(r=n-s,s+=r/++a,l+=r*(n-s));if(a>1)return l/(a-1)},g=function(t,e){var n=m(t,e);return n?Math.sqrt(n):n},v=function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){while(++o<a)if(null!=(n=t[o])&&n>=n){r=i=n;while(++o<a)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}}else while(++o<a)if(null!=(n=e(t[o],o,t))&&n>=n){r=i=n;while(++o<a)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n))}return[r,i]},_=Array.prototype,y=_.slice,w=_.map,x=function(t){return function(){return t}},b=function(t){return t},C=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);while(++r<i)a[r]=t+r*n;return a},B=Math.sqrt(50),E=Math.sqrt(10),T=Math.sqrt(2),S=function(t,e,n){var r,i,a,o,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=M(t,e,n))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));while(++s<i)a[s]=(t+s)*o}else{t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));while(++s<i)a[s]=(t-s)/o}return r&&a.reverse(),a};function M(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=B?10:a>=E?5:a>=T?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=B?10:a>=E?5:a>=T?2:1)}function N(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=B?i*=10:a>=E?i*=5:a>=T&&(i*=2),e<t?-i:i}var D=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},O=function(){var t=b,e=v,n=D;function r(r){var i,a,o=r.length,s=new Array(o);for(i=0;i<o;++i)s[i]=t(r[i],i,r);var l=e(s),c=l[0],A=l[1],h=n(s,c,A);Array.isArray(h)||(h=N(c,A,h),h=C(Math.ceil(c/h)*h,Math.floor(A/h)*h,h));var f=h.length;while(h[0]<=c)h.shift(),--f;while(h[f-1]>A)h.pop(),--f;var d,p=new Array(f+1);for(i=0;i<=f;++i)d=p[i]=[],d.x0=i>0?h[i-1]:c,d.x1=i<f?h[i]:A;for(i=0;i<o;++i)a=s[i],c<=a&&a<=A&&p[u(h,a,0,f)].push(r[i]);return p}return r.value=function(e){return arguments.length?(t="function"===typeof e?e:x(e),r):t},r.domain=function(t){return arguments.length?(e="function"===typeof t?t:x([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?x(y.call(t)):x(t),r):n},r},U=function(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}},I=function(t,e,n){return t=w.call(t,p).sort(i),Math.ceil((n-e)/(2*(U(t,.75)-U(t,.25))*Math.pow(t.length,-1/3)))},L=function(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(t.length,-1/3)))},F=function(t,e){var n,r,i=t.length,a=-1;if(null==e){while(++a<i)if(null!=(n=t[a])&&n>=n){r=n;while(++a<i)null!=(n=t[a])&&n>r&&(r=n)}}else while(++a<i)if(null!=(n=e(t[a],a,t))&&n>=n){r=n;while(++a<i)null!=(n=e(t[a],a,t))&&n>r&&(r=n)}return r},R=function(t,e){var n,r=t.length,i=r,a=-1,o=0;if(null==e)while(++a<r)isNaN(n=p(t[a]))?--i:o+=n;else while(++a<r)isNaN(n=p(e(t[a],a,t)))?--i:o+=n;if(i)return o/i},P=function(t,e){var n,r=t.length,a=-1,o=[];if(null==e)while(++a<r)isNaN(n=p(t[a]))||o.push(n);else while(++a<r)isNaN(n=p(e(t[a],a,t)))||o.push(n);return U(o.sort(i),.5)},Q=function(t){var e,n,r,i=t.length,a=-1,o=0;while(++a<i)o+=t[a].length;n=new Array(o);while(--i>=0){r=t[i],e=r.length;while(--e>=0)n[--o]=r[e]}return n},H=function(t,e){var n,r,i=t.length,a=-1;if(null==e){while(++a<i)if(null!=(n=t[a])&&n>=n){r=n;while(++a<i)null!=(n=t[a])&&r>n&&(r=n)}}else while(++a<i)if(null!=(n=e(t[a],a,t))&&n>=n){r=n;while(++a<i)null!=(n=e(t[a],a,t))&&r>n&&(r=n)}return r},k=function(t,e){var n=e.length,r=new Array(n);while(n--)r[n]=t[e[n]];return r},z=function(t,e){if(n=t.length){var n,r,a=0,o=0,s=t[o];null==e&&(e=i);while(++a<n)(e(r=t[a],s)<0||0!==e(s,s))&&(s=r,o=a);return 0===e(s,s)?o:void 0}},V=function(t,e,n){var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);while(a)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},G=function(t,e){var n,r=t.length,i=-1,a=0;if(null==e)while(++i<r)(n=+t[i])&&(a+=n);else while(++i<r)(n=+e(t[i],i,t))&&(a+=n);return a},K=function(t){if(!(i=t.length))return[];for(var e=-1,n=H(t,j),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r};function j(t){return t.length}var X=function(){return K(arguments)},W=Array.prototype.slice,Y=function(t){return t},q=1,J=2,Z=3,$=4,tt=1e-6;function et(t){return"translate("+(t+.5)+",0)"}function nt(t){return"translate(0,"+(t+.5)+")"}function rt(t){return function(e){return+t(e)}}function it(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function at(){return!this.__axis}function ot(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=t===q||t===$?-1:1,c=t===$||t===J?"x":"y",u=t===q||t===Z?et:nt;function A(A){var h=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,f=null==i?e.tickFormat?e.tickFormat.apply(e,n):Y:i,d=Math.max(a,0)+s,p=e.range(),m=+p[0]+.5,g=+p[p.length-1]+.5,v=(e.bandwidth?it:rt)(e.copy()),_=A.selection?A.selection():A,y=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(h,e).order(),x=w.exit(),b=w.enter().append("g").attr("class","tick"),C=w.select("line"),B=w.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(b),C=C.merge(b.append("line").attr("stroke","#000").attr(c+"2",l*a)),B=B.merge(b.append("text").attr("fill","#000").attr(c,l*d).attr("dy",t===q?"0em":t===Z?"0.71em":"0.32em")),A!==_&&(y=y.transition(A),w=w.transition(A),C=C.transition(A),B=B.transition(A),x=x.transition(A).attr("opacity",tt).attr("transform",(function(t){return isFinite(t=v(t))?u(t):this.getAttribute("transform")})),b.attr("opacity",tt).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:v(t))}))),x.remove(),y.attr("d",t===$||t==J?"M"+l*o+","+m+"H0.5V"+g+"H"+l*o:"M"+m+","+l*o+"V0.5H"+g+"V"+l*o),w.attr("opacity",1).attr("transform",(function(t){return u(v(t))})),C.attr(c+"2",l*a),B.attr(c,l*d).text(f),_.filter(at).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===J?"start":t===$?"end":"middle"),_.each((function(){this.__axis=v}))}return A.scale=function(t){return arguments.length?(e=t,A):e},A.ticks=function(){return n=W.call(arguments),A},A.tickArguments=function(t){return arguments.length?(n=null==t?[]:W.call(t),A):n.slice()},A.tickValues=function(t){return arguments.length?(r=null==t?null:W.call(t),A):r&&r.slice()},A.tickFormat=function(t){return arguments.length?(i=t,A):i},A.tickSize=function(t){return arguments.length?(a=o=+t,A):a},A.tickSizeInner=function(t){return arguments.length?(a=+t,A):a},A.tickSizeOuter=function(t){return arguments.length?(o=+t,A):o},A.tickPadding=function(t){return arguments.length?(s=+t,A):s},A}function st(t){return ot(q,t)}function lt(t){return ot(J,t)}function ct(t){return ot(Z,t)}function ut(t){return ot($,t)}var At={value:function(){}};function ht(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new ft(r)}function ft(t){this._=t}function dt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function pt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function mt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=At,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ft.prototype=ht.prototype={constructor:ft,on:function(t,e){var n,r=this._,i=dt(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++a<o)if(n=(t=i[a]).type)r[n]=mt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=mt(r[n],t.name,null);return this}while(++a<o)if((n=(t=i[a]).type)&&(n=pt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ft(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var gt=ht,vt="http://www.w3.org/1999/xhtml",_t={svg:"http://www.w3.org/2000/svg",xhtml:vt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),_t.hasOwnProperty(e)?{space:_t[e],local:t}:t};function wt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vt&&e.documentElement.namespaceURI===vt?e.createElement(t):e.createElementNS(n,t)}}function xt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var bt=function(t){var e=yt(t);return(e.local?xt:wt)(e)};function Ct(){}var Bt=function(t){return null==t?Ct:function(){return this.querySelector(t)}},Et=function(t){"function"!==typeof t&&(t=Bt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=t.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new cn(r,this._parents)};function Tt(){return[]}var St=function(t){return null==t?Tt:function(){return this.querySelectorAll(t)}},Mt=function(t){"function"!==typeof t&&(t=St(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new cn(r,i)},Nt=function(t){return function(){return this.matches(t)}};if("undefined"!==typeof document){var Dt=document.documentElement;if(!Dt.matches){var Ot=Dt.webkitMatchesSelector||Dt.msMatchesSelector||Dt.mozMatchesSelector||Dt.oMatchesSelector;Nt=function(t){return function(){return Ot.call(this,t)}}}}var Ut=Nt,It=function(t){"function"!==typeof t&&(t=Ut(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new cn(r,this._parents)},Lt=function(t){return new Array(t.length)},Ft=function(){return new cn(this._enter||this._groups.map(Lt),this._parents)};function Rt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Rt.prototype={constructor:Rt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Pt=function(t){return function(){return t}},Qt="$";function Ht(t,e,n,r,i,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Rt(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function kt(t,e,n,r,i,a,o){var s,l,c,u={},A=e.length,h=a.length,f=new Array(A);for(s=0;s<A;++s)(l=e[s])&&(f[s]=c=Qt+o.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<h;++s)c=Qt+o.call(t,a[s],s,a),(l=u[c])?(r[s]=l,l.__data__=a[s],u[c]=null):n[s]=new Rt(t,a[s]);for(s=0;s<A;++s)(l=e[s])&&u[f[s]]===l&&(i[s]=l)}var zt=function(t,e){if(!t)return f=new Array(this.size()),c=-1,this.each((function(t){f[++c]=t})),f;var n=e?kt:Ht,r=this._parents,i=this._groups;"function"!==typeof t&&(t=Pt(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],A=i[c],h=A.length,f=t.call(u,u&&u.__data__,c,r),d=f.length,p=s[c]=new Array(d),m=o[c]=new Array(d),g=l[c]=new Array(h);n(u,A,p,m,g,f,e);for(var v,_,y=0,w=0;y<d;++y)if(v=p[y]){y>=w&&(w=y+1);while(!(_=m[w])&&++w<d);v._next=_||null}}return o=new cn(o,r),o._enter=s,o._exit=l,o},Vt=function(){return new cn(this._exit||this._groups.map(Lt),this._parents)},Gt=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],A=c.length,h=o[s]=new Array(A),f=0;f<A;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<r;++s)o[s]=e[s];return new cn(o,this._parents)},Kt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},jt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Xt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(e)}return new cn(i,this._parents).order()};function Xt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Wt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Yt=function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},qt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},Jt=function(){var t=0;return this.each((function(){++t})),t},Zt=function(){return!this.node()},$t=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this};function te(t){return function(){this.removeAttribute(t)}}function ee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ne(t,e){return function(){this.setAttribute(t,e)}}function re(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ie(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ae(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var oe=function(t,e){var n=yt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ee:te:"function"===typeof e?n.local?ae:ie:n.local?re:ne)(n,e))},se=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function le(t){return function(){this.style.removeProperty(t)}}function ce(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ue(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var Ae=function(t,e,n){return arguments.length>1?this.each((null==e?le:"function"===typeof e?ue:ce)(t,e,null==n?"":n)):he(this.node(),t)};function he(t,e){return t.style.getPropertyValue(e)||se(t).getComputedStyle(t,null).getPropertyValue(e)}function fe(t){return function(){delete this[t]}}function de(t,e){return function(){this[t]=e}}function pe(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var me=function(t,e){return arguments.length>1?this.each((null==e?fe:"function"===typeof e?pe:de)(t,e)):this.node()[t]};function ge(t){return t.trim().split(/^|\s+/)}function ve(t){return t.classList||new _e(t)}function _e(t){this._node=t,this._names=ge(t.getAttribute("class")||"")}function ye(t,e){var n=ve(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function we(t,e){var n=ve(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function xe(t){return function(){ye(this,t)}}function be(t){return function(){we(this,t)}}function Ce(t,e){return function(){(e.apply(this,arguments)?ye:we)(this,t)}}_e.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Be=function(t,e){var n=ge(t+"");if(arguments.length<2){var r=ve(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?Ce:e?xe:be)(n,e))};function Ee(){this.textContent=""}function Te(t){return function(){this.textContent=t}}function Se(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var Me=function(t){return arguments.length?this.each(null==t?Ee:("function"===typeof t?Se:Te)(t)):this.node().textContent};function Ne(){this.innerHTML=""}function De(t){return function(){this.innerHTML=t}}function Oe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var Ue=function(t){return arguments.length?this.each(null==t?Ne:("function"===typeof t?Oe:De)(t)):this.node().innerHTML};function Ie(){this.nextSibling&&this.parentNode.appendChild(this)}var Le=function(){return this.each(Ie)};function Fe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Re=function(){return this.each(Fe)},Pe=function(t){var e="function"===typeof t?t:bt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function Qe(){return null}var He=function(t,e){var n="function"===typeof t?t:bt(t),r=null==e?Qe:"function"===typeof e?e:Bt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))};function ke(){var t=this.parentNode;t&&t.removeChild(this)}var ze=function(){return this.each(ke)};function Ve(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ge(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Ke=function(t){return this.select(t?Ge:Ve)},je=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Xe={},We=null;if("undefined"!==typeof document){var Ye=document.documentElement;"onmouseenter"in Ye||(Xe={mouseenter:"mouseover",mouseleave:"mouseout"})}function qe(t,e,n){return t=Je(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Je(t,e,n){return function(r){var i=We;We=r;try{t.call(this,this.__data__,e,n)}finally{We=i}}}function Ze(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function $e(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function tn(t,e,n){var r=Xe.hasOwnProperty(t.type)?qe:Je;return function(i,a,o){var s,l=this.__on,c=r(e,a,o);if(l)for(var u=0,A=l.length;u<A;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}var en=function(t,e,n){var r,i,a=Ze(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?tn:$e,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value};function nn(t,e,n,r){var i=We;t.sourceEvent=We,We=t;try{return e.apply(n,r)}finally{We=i}}function rn(t,e,n){var r=se(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function an(t,e){return function(){return rn(this,t,e)}}function on(t,e){return function(){return rn(this,t,e.apply(this,arguments))}}var sn=function(t,e){return this.each(("function"===typeof e?on:an)(t,e))},ln=[null];function cn(t,e){this._groups=t,this._parents=e}function un(){return new cn([[document.documentElement]],ln)}cn.prototype=un.prototype={constructor:cn,select:Et,selectAll:Mt,filter:It,data:zt,enter:Ft,exit:Vt,merge:Gt,order:Kt,sort:jt,call:Wt,nodes:Yt,node:qt,size:Jt,empty:Zt,each:$t,attr:oe,style:Ae,property:me,classed:Be,text:Me,html:Ue,raise:Le,lower:Re,append:Pe,insert:He,remove:ze,clone:Ke,datum:je,on:en,dispatch:sn};var An=un,hn=function(t){return"string"===typeof t?new cn([[document.querySelector(t)]],[document.documentElement]):new cn([[t]],ln)},fn=function(t){return hn(bt(t).call(document.documentElement))},dn=0;function pn(){return new mn}function mn(){this._="@"+(++dn).toString(36)}mn.prototype=pn.prototype={constructor:mn,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var gn=function(){var t,e=We;while(t=e.sourceEvent)e=t;return e},vn=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},_n=function(t){var e=gn();return e.changedTouches&&(e=e.changedTouches[0]),vn(t,e)},yn=function(t){return"string"===typeof t?new cn([document.querySelectorAll(t)],[document.documentElement]):new cn([null==t?[]:t],ln)},wn=function(t,e,n){arguments.length<3&&(n=e,e=gn().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return vn(t,r);return null},xn=function(t,e){null==e&&(e=gn().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=vn(t,e[n]);return i};function bn(){We.stopImmediatePropagation()}var Cn=function(){We.preventDefault(),We.stopImmediatePropagation()},Bn=function(t){var e=t.document.documentElement,n=hn(t).on("dragstart.drag",Cn,!0);"onselectstart"in e?n.on("selectstart.drag",Cn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function En(t,e){var n=t.document.documentElement,r=hn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Cn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Tn=function(t){return function(){return t}};function Sn(t,e,n,r,i,a,o,s,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=l,this._=c}function Mn(){return!We.button}function Nn(){return this.parentNode}function Dn(t){return null==t?{x:We.x,y:We.y}:t}function On(){return"ontouchstart"in this}Sn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Un=function(){var t,e,n,r,i=Mn,a=Nn,o=Dn,s=On,l={},c=gt("start","drag","end"),u=0,A=0;function h(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",m).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!r&&i.apply(this,arguments)){var o=_("mouse",a.apply(this,arguments),_n,this,arguments);o&&(hn(We.view).on("mousemove.drag",d,!0).on("mouseup.drag",p,!0),Bn(We.view),bn(),n=!1,t=We.clientX,e=We.clientY,o("start"))}}function d(){if(Cn(),!n){var r=We.clientX-t,i=We.clientY-e;n=r*r+i*i>A}l.mouse("drag")}function p(){hn(We.view).on("mousemove.drag mouseup.drag",null),En(We.view,n),Cn(),l.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=We.changedTouches,r=a.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=_(n[t].identifier,r,wn,this,arguments))&&(bn(),e("start"))}}function g(){var t,e,n=We.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(Cn(),e("drag"))}function v(){var t,e,n=We.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=l[n[t].identifier])&&(bn(),e("end"))}function _(t,e,n,r,i){var a,s,A,f=n(e,t),d=c.copy();if(nn(new Sn(h,"beforestart",a,t,u,f[0],f[1],0,0,d),(function(){return null!=(We.subject=a=o.apply(r,i))&&(s=a.x-f[0]||0,A=a.y-f[1]||0,!0)})))return function o(c){var p,m=f;switch(c){case"start":l[t]=o,p=u++;break;case"end":delete l[t],--u;case"drag":f=n(e,t),p=u;break}nn(new Sn(h,c,a,t,p,f[0]+s,f[1]+A,f[0]-m[0],f[1]-m[1],d),d.apply,d,[c,r,i])}}return h.filter=function(t){return arguments.length?(i="function"===typeof t?t:Tn(!!t),h):i},h.container=function(t){return arguments.length?(a="function"===typeof t?t:Tn(t),h):a},h.subject=function(t){return arguments.length?(o="function"===typeof t?t:Tn(t),h):o},h.touchable=function(t){return arguments.length?(s="function"===typeof t?t:Tn(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(A=(t=+t)*t,h):Math.sqrt(A)},h},In=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ln(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fn(){}var Rn=.7,Pn=1/Rn,Qn="\\s*([+-]?\\d+)\\s*",Hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",kn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zn=/^#([0-9a-f]{3})$/,Vn=/^#([0-9a-f]{6})$/,Gn=new RegExp("^rgb\\("+[Qn,Qn,Qn]+"\\)$"),Kn=new RegExp("^rgb\\("+[kn,kn,kn]+"\\)$"),jn=new RegExp("^rgba\\("+[Qn,Qn,Qn,Hn]+"\\)$"),Xn=new RegExp("^rgba\\("+[kn,kn,kn,Hn]+"\\)$"),Wn=new RegExp("^hsl\\("+[Hn,kn,kn]+"\\)$"),Yn=new RegExp("^hsla\\("+[Hn,kn,kn,Hn]+"\\)$"),qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Jn(t){var e;return t=(t+"").trim().toLowerCase(),(e=zn.exec(t))?(e=parseInt(e[1],16),new nr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Vn.exec(t))?Zn(parseInt(e[1],16)):(e=Gn.exec(t))?new nr(e[1],e[2],e[3],1):(e=Kn.exec(t))?new nr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jn.exec(t))?$n(e[1],e[2],e[3],e[4]):(e=Xn.exec(t))?$n(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Wn.exec(t))?rr(e[1],e[2]/100,e[3]/100,1):(e=Yn.exec(t))?rr(e[1],e[2]/100,e[3]/100,e[4]):qn.hasOwnProperty(t)?Zn(qn[t]):"transparent"===t?new nr(NaN,NaN,NaN,0):null}function Zn(t){return new nr(t>>16&255,t>>8&255,255&t,1)}function $n(t,e,n,r){return r<=0&&(t=e=n=NaN),new nr(t,e,n,r)}function tr(t){return t instanceof Fn||(t=Jn(t)),t?(t=t.rgb(),new nr(t.r,t.g,t.b,t.opacity)):new nr}function er(t,e,n,r){return 1===arguments.length?tr(t):new nr(t,e,n,null==r?1:r)}function nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function rr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new or(t,e,n,r)}function ir(t){if(t instanceof or)return new or(t.h,t.s,t.l,t.opacity);if(t instanceof Fn||(t=Jn(t)),!t)return new or;if(t instanceof or)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new or(o,s,l,t.opacity)}function ar(t,e,n,r){return 1===arguments.length?ir(t):new or(t,e,n,null==r?1:r)}function or(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function sr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}In(Fn,Jn,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),In(nr,er,Ln(Fn,{brighter:function(t){return t=null==t?Pn:Math.pow(Pn,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Rn:Math.pow(Rn,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),In(or,ar,Ln(Fn,{brighter:function(t){return t=null==t?Pn:Math.pow(Pn,t),new or(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Rn:Math.pow(Rn,t),new or(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nr(sr(t>=240?t-240:t+120,i,r),sr(t,i,r),sr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var lr=Math.PI/180,cr=180/Math.PI,ur=18,Ar=.95047,hr=1,fr=1.08883,dr=4/29,pr=6/29,mr=3*pr*pr,gr=pr*pr*pr;function vr(t){if(t instanceof yr)return new yr(t.l,t.a,t.b,t.opacity);if(t instanceof Tr){var e=t.h*lr;return new yr(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof nr||(t=tr(t));var n=Cr(t.r),r=Cr(t.g),i=Cr(t.b),a=wr((.4124564*n+.3575761*r+.1804375*i)/Ar),o=wr((.2126729*n+.7151522*r+.072175*i)/hr),s=wr((.0193339*n+.119192*r+.9503041*i)/fr);return new yr(116*o-16,500*(a-o),200*(o-s),t.opacity)}function _r(t,e,n,r){return 1===arguments.length?vr(t):new yr(t,e,n,null==r?1:r)}function yr(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function wr(t){return t>gr?Math.pow(t,1/3):t/mr+dr}function xr(t){return t>pr?t*t*t:mr*(t-dr)}function br(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Cr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Br(t){if(t instanceof Tr)return new Tr(t.h,t.c,t.l,t.opacity);t instanceof yr||(t=vr(t));var e=Math.atan2(t.b,t.a)*cr;return new Tr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Er(t,e,n,r){return 1===arguments.length?Br(t):new Tr(t,e,n,null==r?1:r)}function Tr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}In(yr,_r,Ln(Fn,{brighter:function(t){return new yr(this.l+ur*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new yr(this.l-ur*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=hr*xr(t),e=Ar*xr(e),n=fr*xr(n),new nr(br(3.2404542*e-1.5371385*t-.4985314*n),br(-.969266*e+1.8760108*t+.041556*n),br(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),In(Tr,Er,Ln(Fn,{brighter:function(t){return new Tr(this.h,this.c,this.l+ur*(null==t?1:t),this.opacity)},darker:function(t){return new Tr(this.h,this.c,this.l-ur*(null==t?1:t),this.opacity)},rgb:function(){return vr(this).rgb()}}));var Sr=-.14861,Mr=1.78277,Nr=-.29227,Dr=-.90649,Or=1.97294,Ur=Or*Dr,Ir=Or*Mr,Lr=Mr*Nr-Dr*Sr;function Fr(t){if(t instanceof Pr)return new Pr(t.h,t.s,t.l,t.opacity);t instanceof nr||(t=tr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Lr*r+Ur*e-Ir*n)/(Lr+Ur-Ir),a=r-i,o=(Or*(n-i)-Nr*a)/Dr,s=Math.sqrt(o*o+a*a)/(Or*i*(1-i)),l=s?Math.atan2(o,a)*cr-120:NaN;return new Pr(l<0?l+360:l,s,i,t.opacity)}function Rr(t,e,n,r){return 1===arguments.length?Fr(t):new Pr(t,e,n,null==r?1:r)}function Pr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Qr(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}In(Pr,Rr,Ln(Fn,{brighter:function(t){return t=null==t?Pn:Math.pow(Pn,t),new Pr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Rn:Math.pow(Rn,t),new Pr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*lr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new nr(255*(e+n*(Sr*r+Mr*i)),255*(e+n*(Nr*r+Dr*i)),255*(e+n*(Or*r)),this.opacity)}}));var Hr=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return Qr((n-r/e)*e,o,i,a,s)}},kr=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return Qr((n-r/e)*e,i,a,o,s)}},zr=function(t){return function(){return t}};function Vr(t,e){return function(n){return t+n*e}}function Gr(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Kr(t,e){var n=e-t;return n?Vr(t,n>180||n<-180?n-360*Math.round(n/360):n):zr(isNaN(t)?e:t)}function jr(t){return 1===(t=+t)?Xr:function(e,n){return n-e?Gr(e,n,t):zr(isNaN(e)?n:e)}}function Xr(t,e){var n=e-t;return n?Vr(t,n):zr(isNaN(t)?e:t)}var Wr=function t(e){var n=jr(e);function r(t,e){var r=n((t=er(t)).r,(e=er(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Xr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Yr(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=er(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}var qr=Yr(Hr),Jr=Yr(kr),Zr=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Ai(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}},$r=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},ti=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},ei=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=Ai(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},ni=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ri=new RegExp(ni.source,"g");function ii(t){return function(){return t}}function ai(t){return function(e){return t(e)+""}}var oi,si,li,ci,ui=function(t,e){var n,r,i,a=ni.lastIndex=ri.lastIndex=0,o=-1,s=[],l=[];t+="",e+="";while((n=ni.exec(t))&&(r=ri.exec(e)))(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:ti(n,r)})),a=ri.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?ai(l[0].x):ii(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})},Ai=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?zr(e):("number"===r?ti:"string"===r?(n=Jn(e))?(e=n,Wr):ui:e instanceof Jn?Wr:e instanceof Date?$r:Array.isArray(e)?Zr:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?ei:ti)(t,e)},hi=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},fi=180/Math.PI,di={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},pi=function(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*fi,skewX:Math.atan(l)*fi,scaleX:o,scaleY:s}};function mi(t){return"none"===t?di:(oi||(oi=document.createElement("DIV"),si=document.documentElement,li=document.defaultView),oi.style.transform=t,t=li.getComputedStyle(si.appendChild(oi),null).getPropertyValue("transform"),si.removeChild(oi),t=t.slice(7,-1).split(","),pi(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function gi(t){return null==t?di:(ci||(ci=document.createElementNS("http://www.w3.org/2000/svg","g")),ci.setAttribute("transform",t),(t=ci.transform.baseVal.consolidate())?(t=t.matrix,pi(t.a,t.b,t.c,t.d,t.e,t.f)):di)}function vi(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:ti(t,i)},{i:l-2,x:ti(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}function o(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ti(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ti(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function l(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:ti(t,n)},{i:s-2,x:ti(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,a=i.length;while(++n<a)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var _i=vi(mi,"px, ","px)","deg)"),yi=vi(gi,", ",")",")"),wi=Math.SQRT2,xi=2,bi=4,Ci=1e-12;function Bi(t){return((t=Math.exp(t))+1/t)/2}function Ei(t){return((t=Math.exp(t))-1/t)/2}function Ti(t){return((t=Math.exp(2*t))-1)/(t+1)}var Si=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,A=l-a,h=u*u+A*A;if(h<Ci)r=Math.log(c/o)/wi,n=function(t){return[i+t*u,a+t*A,o*Math.exp(wi*t*r)]};else{var f=Math.sqrt(h),d=(c*c-o*o+bi*h)/(2*o*xi*f),p=(c*c-o*o-bi*h)/(2*c*xi*f),m=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(p*p+1)-p);r=(g-m)/wi,n=function(t){var e=t*r,n=Bi(m),s=o/(xi*f)*(n*Ti(wi*e+m)-Ei(m));return[i+s*u,a+s*A,o*n/Bi(wi*e+m)]}}return n.duration=1e3*r,n};function Mi(t){return function(e,n){var r=t((e=ar(e)).h,(n=ar(n)).h),i=Xr(e.s,n.s),a=Xr(e.l,n.l),o=Xr(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var Ni=Mi(Kr),Di=Mi(Xr);function Oi(t,e){var n=Xr((t=_r(t)).l,(e=_r(e)).l),r=Xr(t.a,e.a),i=Xr(t.b,e.b),a=Xr(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}function Ui(t){return function(e,n){var r=t((e=Er(e)).h,(n=Er(n)).h),i=Xr(e.c,n.c),a=Xr(e.l,n.l),o=Xr(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}var Ii=Ui(Kr),Li=Ui(Xr);function Fi(t){return function e(n){function r(e,r){var i=t((e=Rr(e)).h,(r=Rr(r)).h),a=Xr(e.s,r.s),o=Xr(e.l,r.l),s=Xr(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var Ri,Pi,Qi=Fi(Kr),Hi=Fi(Xr),ki=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},zi=0,Vi=0,Gi=0,Ki=1e3,ji=0,Xi=0,Wi=0,Yi="object"===typeof performance&&performance.now?performance:Date,qi="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ji(){return Xi||(qi(Zi),Xi=Yi.now()+Wi)}function Zi(){Xi=0}function $i(){this._call=this._time=this._next=null}function ta(t,e,n){var r=new $i;return r.restart(t,e,n),r}function ea(){Ji(),++zi;var t,e=Ri;while(e)(t=Xi-e._time)>=0&&e._call.call(null,t),e=e._next;--zi}function na(){Xi=(ji=Yi.now())+Wi,zi=Vi=0;try{ea()}finally{zi=0,ia(),Xi=0}}function ra(){var t=Yi.now(),e=t-ji;e>Ki&&(Wi-=e,ji=t)}function ia(){var t,e,n=Ri,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ri=e);Pi=t,aa(r)}function aa(t){if(!zi){Vi&&(Vi=clearTimeout(Vi));var e=t-Xi;e>24?(t<1/0&&(Vi=setTimeout(na,t-Yi.now()-Wi)),Gi&&(Gi=clearInterval(Gi))):(Gi||(ji=Yi.now(),Gi=setInterval(ra,Ki)),zi=1,qi(na))}}$i.prototype=ta.prototype={constructor:$i,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Ji():+n)+(null==e?0:+e),this._next||Pi===this||(Pi?Pi._next=this:Ri=this,Pi=this),this._call=t,this._time=n,aa()},stop:function(){this._call&&(this._call=null,this._time=1/0,aa())}};var oa=function(t,e,n){var r=new $i;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},sa=function(t,e,n){var r=new $i,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Ji():+n,r.restart((function a(o){o+=i,r.restart(a,i+=e,n),t(o)}),e,n),r)},la=gt("start","end","interrupt"),ca=[],ua=0,Aa=1,ha=2,fa=3,da=4,pa=5,ma=6,ga=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};wa(t,n,{name:e,index:r,group:i,on:la,tween:ca,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ua})};function va(t,e){var n=ya(t,e);if(n.state>ua)throw new Error("too late; already scheduled");return n}function _a(t,e){var n=ya(t,e);if(n.state>ha)throw new Error("too late; already started");return n}function ya(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wa(t,e,n){var r,i=t.__transition;function a(t){n.state=Aa,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var c,u,A,h;if(n.state!==Aa)return l();for(c in i)if(h=i[c],h.name===n.name){if(h.state===fa)return oa(o);h.state===da?(h.state=ma,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=ma,h.timer.stop(),delete i[c])}if(oa((function(){n.state===fa&&(n.state=da,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=ha,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ha){for(n.state=fa,r=new Array(A=n.tween.length),c=0,u=-1;c<A;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=pa,1),a=-1,o=r.length;while(++a<o)r[a].call(null,i);n.state===pa&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=ma,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=ta(a,0,n.time)}var xa=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>ha&&n.state<pa,n.state=ma,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}},ba=function(t){return this.each((function(){xa(this,t)}))};function Ca(t,e){var n,r;return function(){var i=_a(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ba(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=_a(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}var Ea=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ya(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Ca:Ba)(n,t,e))};function Ta(t,e,n){var r=t._id;return t.each((function(){var t=_a(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ya(t,r).value[e]}}var Sa=function(t,e){var n;return("number"===typeof e?ti:e instanceof Jn?Wr:(n=Jn(e))?(e=n,Wr):ui)(t,e)};function Ma(t){return function(){this.removeAttribute(t)}}function Na(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Da(t,e,n){var r,i;return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=e(r=a,n)}}function Oa(t,e,n){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=e(r=a,n)}}function Ua(t,e,n){var r,i,a;return function(){var o,s=n(this);if(null!=s)return o=this.getAttribute(t),o===s?null:o===r&&s===i?a:a=e(r=o,i=s);this.removeAttribute(t)}}function Ia(t,e,n){var r,i,a;return function(){var o,s=n(this);if(null!=s)return o=this.getAttributeNS(t.space,t.local),o===s?null:o===r&&s===i?a:a=e(r=o,i=s);this.removeAttributeNS(t.space,t.local)}}var La=function(t,e){var n=yt(t),r="transform"===n?yi:Sa;return this.attrTween(t,"function"===typeof e?(n.local?Ia:Ua)(n,r,Ta(this,"attr."+t,e)):null==e?(n.local?Na:Ma)(n):(n.local?Oa:Da)(n,r,e+""))};function Fa(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function Ra(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}var Pa=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=yt(t);return this.tween(n,(r.local?Fa:Ra)(r,e))};function Qa(t,e){return function(){va(this,t).delay=+e.apply(this,arguments)}}function Ha(t,e){return e=+e,function(){va(this,t).delay=e}}var ka=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Qa:Ha)(e,t)):ya(this.node(),e).delay};function za(t,e){return function(){_a(this,t).duration=+e.apply(this,arguments)}}function Va(t,e){return e=+e,function(){_a(this,t).duration=e}}var Ga=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?za:Va)(e,t)):ya(this.node(),e).duration};function Ka(t,e){if("function"!==typeof e)throw new Error;return function(){_a(this,t).ease=e}}var ja=function(t){var e=this._id;return arguments.length?this.each(Ka(e,t)):ya(this.node(),e).ease},Xa=function(t){"function"!==typeof t&&(t=Ut(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new go(r,this._parents,this._name,this._id)},Wa=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],A=c.length,h=o[s]=new Array(A),f=0;f<A;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<r;++s)o[s]=e[s];return new go(o,this._parents,this._name,this._id)};function Ya(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function qa(t,e,n){var r,i,a=Ya(e)?va:_a;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var Ja=function(t,e){var n=this._id;return arguments.length<2?ya(this.node(),n).on.on(t):this.each(qa(n,t,e))};function Za(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var $a=function(){return this.on("end.remove",Za(this._id))},to=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Bt(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,A=a[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),A[h]=l,ga(A[h],e,n,h,A,ya(s,n)));return new go(a,this._parents,e,n)},eo=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=St(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,A=0;A<u;++A)if(l=c[A]){for(var h,f=t.call(l,l.__data__,A,c),d=ya(l,n),p=0,m=f.length;p<m;++p)(h=f[p])&&ga(h,e,n,p,f,d);a.push(f),o.push(l)}return new go(a,o,e,n)},no=An.prototype.constructor,ro=function(){return new no(this._groups,this._parents)};function io(t,e){var n,r,i;return function(){var a=he(this,t),o=(this.style.removeProperty(t),he(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function ao(t){return function(){this.style.removeProperty(t)}}function oo(t,e,n){var r,i;return function(){var a=he(this,t);return a===n?null:a===r?i:i=e(r=a,n)}}function so(t,e,n){var r,i,a;return function(){var o=he(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=he(this,t)),o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}var lo=function(t,e,n){var r="transform"===(t+="")?_i:Sa;return null==e?this.styleTween(t,io(t,r)).on("end.style."+t,ao(t)):this.styleTween(t,"function"===typeof e?so(t,r,Ta(this,"style."+t,e)):oo(t,r,e+""),n)};function co(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}var uo=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,co(t,e,null==n?"":n))};function Ao(t){return function(){this.textContent=t}}function ho(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var fo=function(t){return this.tween("text","function"===typeof t?ho(Ta(this,"text",t)):Ao(null==t?"":t+""))},po=function(){for(var t=this._name,e=this._id,n=_o(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=ya(o,e);ga(o,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new go(r,this._parents,t,n)},mo=0;function go(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function vo(t){return An().transition(t)}function _o(){return++mo}var yo=An.prototype;function wo(t){return+t}function xo(t){return t*t}function bo(t){return t*(2-t)}function Co(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Bo(t){return t*t*t}function Eo(t){return--t*t*t+1}function To(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}go.prototype=vo.prototype={constructor:go,select:to,selectAll:eo,filter:Xa,merge:Wa,selection:ro,transition:po,call:yo.call,nodes:yo.nodes,node:yo.node,size:yo.size,empty:yo.empty,each:yo.each,on:Ja,attr:La,attrTween:Pa,style:lo,styleTween:uo,text:fo,remove:$a,tween:Ea,delay:ka,duration:Ga,ease:ja};var So=3,Mo=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(So),No=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(So),Do=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(So),Oo=Math.PI,Uo=Oo/2;function Io(t){return 1-Math.cos(t*Uo)}function Lo(t){return Math.sin(t*Uo)}function Fo(t){return(1-Math.cos(Oo*t))/2}function Ro(t){return Math.pow(2,10*t-10)}function Po(t){return 1-Math.pow(2,-10*t)}function Qo(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ho(t){return 1-Math.sqrt(1-t*t)}function ko(t){return Math.sqrt(1- --t*t)}function zo(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Vo=4/11,Go=6/11,Ko=8/11,jo=3/4,Xo=9/11,Wo=10/11,Yo=15/16,qo=21/22,Jo=63/64,Zo=1/Vo/Vo;function $o(t){return 1-ts(1-t)}function ts(t){return(t=+t)<Vo?Zo*t*t:t<Ko?Zo*(t-=Go)*t+jo:t<Wo?Zo*(t-=Xo)*t+Yo:Zo*(t-=qo)*t+Jo}function es(t){return((t*=2)<=1?1-ts(1-t):ts(t-1)+1)/2}var ns=1.70158,rs=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(ns),is=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(ns),as=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(ns),os=2*Math.PI,ss=1,ls=.3,cs=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=os);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*os)},i.period=function(n){return t(e,n)},i}(ss,ls),us=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=os);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*os)},i.period=function(n){return t(e,n)},i}(ss,ls),As=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=os);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*os)},i.period=function(n){return t(e,n)},i}(ss,ls),hs={time:null,delay:0,duration:250,ease:To};function fs(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))return hs.time=Ji(),hs;return n}var ds=function(t){var e,n;t instanceof go?(e=t._id,t=t._name):(e=_o(),(n=hs).time=Ji(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&ga(o,t,e,c,s,n||fs(o,e));return new go(r,this._parents,t,e)};An.prototype.interrupt=ba,An.prototype.transition=ds;var ps=[null],ms=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>Aa&&n.name===e)return new go([[t]],ps,e,+r);return null},gs=function(t){return function(){return t}},vs=function(t,e,n){this.target=t,this.type=e,this.selection=n};function _s(){We.stopImmediatePropagation()}var ys=function(){We.preventDefault(),We.stopImmediatePropagation()},ws={name:"drag"},xs={name:"space"},bs={name:"handle"},Cs={name:"center"},Bs={name:"x",handles:["e","w"].map(Us),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Es={name:"y",handles:["n","s"].map(Us),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ts={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Us),input:function(t){return t},output:function(t){return t}},Ss={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ms={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ns={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ds={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Os={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Us(t){return{type:t}}function Is(){return!We.button}function Ls(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Fs(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function Rs(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ps(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Qs(){return zs(Bs)}function Hs(){return zs(Es)}var ks=function(){return zs(Ts)};function zs(t){var e,n=Ls,r=Is,i=gt(o,"start","brush","end"),a=6;function o(e){var n=e.property("__brush",A).selectAll(".overlay").data([Us("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ss.overlay).merge(n).each((function(){var t=Fs(this).extent;hn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Us("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ss.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Ss[t.type]})),e.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function s(){var t=hn(this),e=Fs(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-a/2:e[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-a/2:e[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e){return t.__brush.emitter||new c(t,e)}function c(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function u(){if(We.touches){if(We.changedTouches.length<We.touches.length)return ys()}else if(e)return;if(r.apply(this,arguments)){var n,i,a,o,c,u,A,h,f,d,p,m,g,v=this,_=We.target.__data__.type,y="selection"===(We.metaKey?_="overlay":_)?ws:We.altKey?Cs:bs,w=t===Es?null:Ds[_],x=t===Bs?null:Os[_],b=Fs(v),C=b.extent,B=b.selection,E=C[0][0],T=C[0][1],S=C[1][0],M=C[1][1],N=w&&x&&We.shiftKey,D=_n(v),O=D,U=l(v,arguments).beforestart();"overlay"===_?b.selection=B=[[n=t===Es?E:D[0],a=t===Bs?T:D[1]],[c=t===Es?S:n,A=t===Bs?M:a]]:(n=B[0][0],a=B[0][1],c=B[1][0],A=B[1][1]),i=n,o=a,u=c,h=A;var I=hn(v).attr("pointer-events","none"),L=I.selectAll(".overlay").attr("cursor",Ss[_]);if(We.touches)I.on("touchmove.brush",R,!0).on("touchend.brush touchcancel.brush",Q,!0);else{var F=hn(We.view).on("keydown.brush",H,!0).on("keyup.brush",k,!0).on("mousemove.brush",R,!0).on("mouseup.brush",Q,!0);Bn(We.view)}_s(),xa(v),s.call(v),U.start()}function R(){var t=_n(v);!N||m||g||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?g=!0:m=!0),O=t,p=!0,ys(),P()}function P(){var t;switch(f=O[0]-D[0],d=O[1]-D[1],y){case xs:case ws:w&&(f=Math.max(E-n,Math.min(S-c,f)),i=n+f,u=c+f),x&&(d=Math.max(T-a,Math.min(M-A,d)),o=a+d,h=A+d);break;case bs:w<0?(f=Math.max(E-n,Math.min(S-n,f)),i=n+f,u=c):w>0&&(f=Math.max(E-c,Math.min(S-c,f)),i=n,u=c+f),x<0?(d=Math.max(T-a,Math.min(M-a,d)),o=a+d,h=A):x>0&&(d=Math.max(T-A,Math.min(M-A,d)),o=a,h=A+d);break;case Cs:w&&(i=Math.max(E,Math.min(S,n-f*w)),u=Math.max(E,Math.min(S,c+f*w))),x&&(o=Math.max(T,Math.min(M,a-d*x)),h=Math.max(T,Math.min(M,A+d*x)));break}u<i&&(w*=-1,t=n,n=c,c=t,t=i,i=u,u=t,_ in Ms&&L.attr("cursor",Ss[_=Ms[_]])),h<o&&(x*=-1,t=a,a=A,A=t,t=o,o=h,h=t,_ in Ns&&L.attr("cursor",Ss[_=Ns[_]])),b.selection&&(B=b.selection),m&&(i=B[0][0],u=B[1][0]),g&&(o=B[0][1],h=B[1][1]),B[0][0]===i&&B[0][1]===o&&B[1][0]===u&&B[1][1]===h||(b.selection=[[i,o],[u,h]],s.call(v),U.brush())}function Q(){if(_s(),We.touches){if(We.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),I.on("touchmove.brush touchend.brush touchcancel.brush",null)}else En(We.view,p),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),L.attr("cursor",Ss.overlay),b.selection&&(B=b.selection),Rs(B)&&(b.selection=null,s.call(v)),U.end()}function H(){switch(We.keyCode){case 16:N=w&&x;break;case 18:y===bs&&(w&&(c=u-f*w,n=i+f*w),x&&(A=h-d*x,a=o+d*x),y=Cs,P());break;case 32:y!==bs&&y!==Cs||(w<0?c=u-f:w>0&&(n=i-f),x<0?A=h-d:x>0&&(a=o-d),y=xs,L.attr("cursor",Ss.selection),P());break;default:return}ys()}function k(){switch(We.keyCode){case 16:N&&(m=g=N=!1,P());break;case 18:y===Cs&&(w<0?c=u:w>0&&(n=i),x<0?A=h:x>0&&(a=o),y=bs,P());break;case 32:y===xs&&(We.altKey?(w&&(c=u-f*w,n=i+f*w),x&&(A=h-d*x,a=o+d*x),y=Cs):(w<0?c=u:w>0&&(n=i),x<0?A=h:x>0&&(a=o),y=bs),L.attr("cursor",Ss[_]),P());break;default:return}ys()}}function A(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return o.move=function(e,n){e.selection?e.on("start.brush",(function(){l(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){l(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=l(e,arguments),a=r.selection,o=t.input("function"===typeof n?n.apply(this,arguments):n,r.extent),c=Ai(a,o);function u(t){r.selection=1===t&&Rs(o)?null:c(t),s.call(e),i.brush()}return a&&o?u:u(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"===typeof n?n.apply(e,r):n,i.extent),o=l(e,r).beforestart();xa(e),i.selection=null==a||Rs(a)?null:a,s.call(e),o.start().brush().end()}))},c.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){nn(new vs(o,e,t.output(this.state.selection)),i.apply,i,[e,this.that,this.args])}},o.extent=function(t){return arguments.length?(n="function"===typeof t?t:gs([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):n},o.filter=function(t){return arguments.length?(r="function"===typeof t?t:gs(!!t),o):r},o.handleSize=function(t){return arguments.length?(a=+t,o):a},o.on=function(){var t=i.on.apply(i,arguments);return t===i?o:t},o}var Vs=Math.cos,Gs=Math.sin,Ks=Math.PI,js=Ks/2,Xs=2*Ks,Ws=Math.max;function Ys(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var qs=function(){var t=0,e=null,n=null,r=null;function i(i){var a,o,s,l,c,u,A=i.length,h=[],f=C(A),d=[],p=[],m=p.groups=new Array(A),g=new Array(A*A);a=0,c=-1;while(++c<A){o=0,u=-1;while(++u<A)o+=i[c][u];h.push(o),d.push(C(A)),a+=o}e&&f.sort((function(t,n){return e(h[t],h[n])})),n&&d.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),a=Ws(0,Xs-t*A)/a,l=a?t:Xs/A,o=0,c=-1;while(++c<A){s=o,u=-1;while(++u<A){var v=f[c],_=d[v][u],y=i[v][_],w=o,x=o+=y*a;g[_*A+v]={index:v,subindex:_,startAngle:w,endAngle:x,value:y}}m[v]={index:v,startAngle:s,endAngle:o,value:h[v]},o+=l}c=-1;while(++c<A){u=c-1;while(++u<A){var b=g[u*A+c],B=g[c*A+u];(b.value||B.value)&&p.push(b.value<B.value?{source:B,target:b}:{source:b,target:B})}}return r?p.sort(r):p}return i.padAngle=function(e){return arguments.length?(t=Ws(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=Ys(t))._=t,i):r&&r._},i},Js=Array.prototype.slice,Zs=function(t){return function(){return t}},$s=Math.PI,tl=2*$s,el=1e-6,nl=tl-el;function rl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function il(){return new rl}rl.prototype=il.prototype={constructor:rl,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,l=r-e,c=a-t,u=o-e,A=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(A>el)if(Math.abs(u*s-l*c)>el&&i){var h=n-a,f=r-o,d=s*s+l*l,p=h*h+f*f,m=Math.sqrt(d),g=Math.sqrt(A),v=i*Math.tan(($s-Math.acos((d+A-p)/(2*m*g)))/2),_=v/g,y=v/m;Math.abs(_-1)>el&&(this._+="L"+(t+_*c)+","+(e+_*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*f)+","+(this._x1=t+y*s)+","+(this._y1=e+y*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n;var o=n*Math.cos(r),s=n*Math.sin(r),l=t+o,c=e+s,u=1^a,A=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>el||Math.abs(this._y1-c)>el)&&(this._+="L"+l+","+c),n&&(A<0&&(A=A%tl+tl),A>nl?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):A>el&&(this._+="A"+n+","+n+",0,"+ +(A>=$s)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var al=il;function ol(t){return t.source}function sl(t){return t.target}function ll(t){return t.radius}function cl(t){return t.startAngle}function ul(t){return t.endAngle}var Al=function(){var t=ol,e=sl,n=ll,r=cl,i=ul,a=null;function o(){var o,s=Js.call(arguments),l=t.apply(this,s),c=e.apply(this,s),u=+n.apply(this,(s[0]=l,s)),A=r.apply(this,s)-js,h=i.apply(this,s)-js,f=u*Vs(A),d=u*Gs(A),p=+n.apply(this,(s[0]=c,s)),m=r.apply(this,s)-js,g=i.apply(this,s)-js;if(a||(a=o=al()),a.moveTo(f,d),a.arc(0,0,u,A,h),A===m&&h===g||(a.quadraticCurveTo(0,0,p*Vs(m),p*Gs(m)),a.arc(0,0,p,m,g)),a.quadraticCurveTo(0,0,f,d),a.closePath(),o)return a=null,o+""||null}return o.radius=function(t){return arguments.length?(n="function"===typeof t?t:Zs(+t),o):n},o.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:Zs(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:Zs(+t),o):i},o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(t){return arguments.length?(e=t,o):e},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o},hl="$";function fl(){}function dl(t,e){var n=new fl;if(t instanceof fl)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)while(++i<a)n.set(i,t[i]);else while(++i<a)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}fl.prototype=dl.prototype={constructor:fl,has:function(t){return hl+t in this},get:function(t){return this[hl+t]},set:function(t,e){return this[hl+t]=e,this},remove:function(t){var e=hl+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===hl&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===hl&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===hl&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===hl&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===hl&&++t;return t},empty:function(){for(var t in this)if(t[0]===hl)return!1;return!0},each:function(t){for(var e in this)e[0]===hl&&t(this[e],e.slice(1),this)}};var pl=dl,ml=function(){var t,e,n,r=[],i=[];function a(n,i,o,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;var l,c,u,A=-1,h=n.length,f=r[i++],d=pl(),p=o();while(++A<h)(u=d.get(l=f(c=n[A])+""))?u.push(c):d.set(l,[c]);return d.each((function(t,e){s(p,e,a(t,i,o,s))})),p}function o(t,n){if(++n>r.length)return t;var a,s=i[n-1];return null!=e&&n>=r.length?a=t.entries():(a=[],t.each((function(t,e){a.push({key:e,values:o(t,n)})}))),null!=s?a.sort((function(t,e){return s(t.key,e.key)})):a}return n={object:function(t){return a(t,0,gl,vl)},map:function(t){return a(t,0,_l,yl)},entries:function(t){return o(a(t,0,_l,yl),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function gl(){return{}}function vl(t,e,n){t[e]=n}function _l(){return pl()}function yl(t,e,n){t.set(e,n)}function wl(){}var xl=pl.prototype;function bl(t,e){var n=new wl;if(t instanceof wl)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)while(++r<i)n.add(t[r]);else while(++r<i)n.add(e(t[r],r,t))}return n}wl.prototype=bl.prototype={constructor:wl,has:xl.has,add:function(t){return t+="",this[hl+t]=t,this},remove:xl.remove,clear:xl.clear,values:xl.keys,size:xl.size,empty:xl.empty,each:xl.each};var Cl=bl,Bl=function(t){var e=[];for(var n in t)e.push(n);return e},El=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Tl=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Sl={},Ml={},Nl=34,Dl=10,Ol=13;function Ul(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function Il(t,e){var n=Ul(t);return function(r,i){return e(n(r),i,t)}}function Ll(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}var Fl=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,a=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?Il(t,e):Ul(t)}));return a.columns=r||[],a}function i(t,e){var r,i=[],a=t.length,o=0,s=0,l=a<=0,c=!1;function u(){if(l)return Ml;if(c)return c=!1,Sl;var e,r,i=o;if(t.charCodeAt(i)===Nl){while(o++<a&&t.charCodeAt(o)!==Nl||t.charCodeAt(++o)===Nl);return(e=o)>=a?l=!0:(r=t.charCodeAt(o++))===Dl?c=!0:r===Ol&&(c=!0,t.charCodeAt(o)===Dl&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}while(o<a){if((r=t.charCodeAt(e=o++))===Dl)c=!0;else if(r===Ol)c=!0,t.charCodeAt(o)===Dl&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,a)}t.charCodeAt(a-1)===Dl&&--a,t.charCodeAt(a-1)===Ol&&--a;while((r=u())!==Ml){var A=[];while(r!==Sl&&r!==Ml)A.push(r),r=u();e&&null==(A=e(A,s++))||i.push(A)}return i}function a(e,n){return null==n&&(n=Ll(e)),[n.map(l).join(t)].concat(e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))).join("\n")}function o(t){return t.map(s).join("\n")}function s(e){return e.map(l).join(t)}function l(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatRows:o}},Rl=Fl(","),Pl=Rl.parse,Ql=Rl.parseRows,Hl=Rl.format,kl=Rl.formatRows,zl=Fl("\t"),Vl=zl.parse,Gl=zl.parseRows,Kl=zl.format,jl=zl.formatRows,Xl=function(t,e){var n;function r(){var r,i,a=n.length,o=0,s=0;for(r=0;r<a;++r)i=n[r],o+=i.x,s+=i.y;for(o=o/a-t,s=s/a-e,r=0;r<a;++r)i=n[r],i.x-=o,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},Wl=function(t){return function(){return t}},Yl=function(){return 1e-6*(Math.random()-.5)},ql=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Jl(this.cover(e,n),e,n,t)};function Jl(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,l,c,u,A,h,f=t._root,d={data:r},p=t._x0,m=t._y0,g=t._x1,v=t._y1;if(!f)return t._root=d,t;while(f.length)if((c=e>=(a=(p+g)/2))?p=a:g=a,(u=n>=(o=(m+v)/2))?m=o:v=o,i=f,!(f=f[A=u<<1|c]))return i[A]=d,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return d.next=f,i?i[A]=d:t._root=d,t;do{i=i?i[A]=new Array(4):t._root=new Array(4),(c=e>=(a=(p+g)/2))?p=a:g=a,(u=n>=(o=(m+v)/2))?m=o:v=o}while((A=u<<1|c)===(h=(l>=o)<<1|s>=a));return i[h]=f,i[A]=d,t}function Zl(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),l=1/0,c=1/0,u=-1/0,A=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>A&&(A=i));for(u<l&&(l=this._x0,u=this._x1),A<c&&(c=this._y0,A=this._y1),this.cover(l,c).cover(u,A),n=0;n<a;++n)Jl(this,o[n],s[n],t[n]);return this}var $l=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>a))return this;var o,s,l=i-n,c=this._root;switch(s=(e<(r+a)/2)<<1|t<(n+i)/2){case 0:do{o=new Array(4),o[s]=c,c=o}while(l*=2,i=n+l,a=r+l,t>i||e>a);break;case 1:do{o=new Array(4),o[s]=c,c=o}while(l*=2,n=i-l,a=r+l,n>t||e>a);break;case 2:do{o=new Array(4),o[s]=c,c=o}while(l*=2,i=n+l,r=a-l,t>i||r>e);break;case 3:do{o=new Array(4),o[s]=c,c=o}while(l*=2,n=i-l,r=a-l,n>t||r>e);break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},tc=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ec=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},nc=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},rc=function(t,e,n){var r,i,a,o,s,l,c,u=this._x0,A=this._y0,h=this._x1,f=this._y1,d=[],p=this._root;p&&d.push(new nc(p,u,A,h,f)),null==n?n=1/0:(u=t-n,A=e-n,h=t+n,f=e+n,n*=n);while(l=d.pop())if(!(!(p=l.node)||(i=l.x0)>h||(a=l.y0)>f||(o=l.x1)<u||(s=l.y1)<A))if(p.length){var m=(i+o)/2,g=(a+s)/2;d.push(new nc(p[3],m,g,o,s),new nc(p[2],i,g,m,s),new nc(p[1],m,a,o,g),new nc(p[0],i,a,m,g)),(c=(e>=g)<<1|t>=m)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=l)}else{var v=t-+this._x.call(null,p.data),_=e-+this._y.call(null,p.data),y=v*v+_*_;if(y<n){var w=Math.sqrt(n=y);u=t-w,A=e-w,h=t+w,f=e+w,r=p.data}}return r},ic=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,l,c,u,A,h,f=this._root,d=this._x0,p=this._y0,m=this._x1,g=this._y1;if(!f)return this;if(f.length)while(1){if((c=a>=(s=(d+m)/2))?d=s:m=s,(u=o>=(l=(p+g)/2))?p=l:g=l,e=f,!(f=f[A=u<<1|c]))return this;if(!f.length)break;(e[A+1&3]||e[A+2&3]||e[A+3&3])&&(n=e,h=A)}while(f.data!==t)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[A]=i:delete e[A],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)};function ac(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}var oc=function(){return this._root},sc=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},lc=function(t){var e,n,r,i,a,o,s=[],l=this._root;l&&s.push(new nc(l,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(l=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&l.length){var c=(r+a)/2,u=(i+o)/2;(n=l[3])&&s.push(new nc(n,c,u,a,o)),(n=l[2])&&s.push(new nc(n,r,u,c,o)),(n=l[1])&&s.push(new nc(n,c,i,a,u)),(n=l[0])&&s.push(new nc(n,r,i,c,u))}return this},cc=function(t){var e,n=[],r=[];this._root&&n.push(new nc(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(o+l)/2,A=(s+c)/2;(a=i[0])&&n.push(new nc(a,o,s,u,A)),(a=i[1])&&n.push(new nc(a,u,s,l,A)),(a=i[2])&&n.push(new nc(a,o,A,u,c)),(a=i[3])&&n.push(new nc(a,u,A,l,c))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this};function uc(t){return t[0]}var Ac=function(t){return arguments.length?(this._x=t,this):this._x};function hc(t){return t[1]}var fc=function(t){return arguments.length?(this._y=t,this):this._y};function dc(t,e,n){var r=new pc(null==e?uc:e,null==n?hc:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function pc(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function mc(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var gc=dc.prototype=pc.prototype;function vc(t){return t.x+t.vx}function _c(t){return t.y+t.vy}gc.copy=function(){var t,e,n=new pc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=mc(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=mc(e));return n},gc.add=ql,gc.addAll=Zl,gc.cover=$l,gc.data=tc,gc.extent=ec,gc.find=rc,gc.remove=ic,gc.removeAll=ac,gc.root=oc,gc.size=sc,gc.visit=lc,gc.visitAfter=cc,gc.x=Ac,gc.y=fc;var yc=function(t){var e,n,r=1,i=1;function a(){for(var t,a,s,l,c,u,A,h=e.length,f=0;f<i;++f)for(a=dc(e,vc,_c).visitAfter(o),t=0;t<h;++t)s=e[t],u=n[s.index],A=u*u,l=s.x+s.vx,c=s.y+s.vy,a.visit(d);function d(t,e,n,i,a){var o=t.data,h=t.r,f=u+h;if(!o)return e>l+f||i<l-f||n>c+f||a<c-f;if(o.index>s.index){var d=l-o.x-o.vx,p=c-o.y-o.vy,m=d*d+p*p;m<f*f&&(0===d&&(d=Yl(),m+=d*d),0===p&&(p=Yl(),m+=p*p),m=(f-(m=Math.sqrt(m)))/m*r,s.vx+=(d*=m)*(f=(h*=h)/(A+h)),s.vy+=(p*=m)*f,o.vx-=d*(f=1-f),o.vy-=p*f)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,a=e.length;for(n=new Array(a),r=0;r<a;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=Wl(null==t?1:+t)),a.initialize=function(t){e=t,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:Wl(+e),s(),a):t},a};function wc(t){return t.index}function xc(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var bc=function(t){var e,n,r,i,a,o=wc,s=u,l=Wl(30),c=1;function u(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function A(r){for(var i=0,o=t.length;i<c;++i)for(var s,l,u,A,h,f,d,p=0;p<o;++p)s=t[p],l=s.source,u=s.target,A=u.x+u.vx-l.x-l.vx||Yl(),h=u.y+u.vy-l.y-l.vy||Yl(),f=Math.sqrt(A*A+h*h),f=(f-n[p])/f*r*e[p],A*=f,h*=f,u.vx-=A*(d=a[p]),u.vy-=h*d,l.vx+=A*(d=1-d),l.vy+=h*d}function h(){if(r){var s,l,c=r.length,u=t.length,A=pl(r,o);for(s=0,i=new Array(c);s<u;++s)l=t[s],l.index=s,"object"!==typeof l.source&&(l.source=xc(A,l.source)),"object"!==typeof l.target&&(l.target=xc(A,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)l=t[s],a[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(u),f(),n=new Array(u),d()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),A.initialize=function(t){r=t,h()},A.links=function(e){return arguments.length?(t=e,h(),A):t},A.id=function(t){return arguments.length?(o=t,A):o},A.iterations=function(t){return arguments.length?(c=+t,A):c},A.strength=function(t){return arguments.length?(s="function"===typeof t?t:Wl(+t),f(),A):s},A.distance=function(t){return arguments.length?(l="function"===typeof t?t:Wl(+t),d(),A):l},A};function Cc(t){return t.x}function Bc(t){return t.y}var Ec,Tc=10,Sc=Math.PI*(3-Math.sqrt(5)),Mc=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=pl(),l=ta(u),c=gt("tick","end");function u(){A(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function A(){var e,r,l=t.length;for(n+=(a-n)*i,s.each((function(t){t(n)})),e=0;e<l;++e)r=t[e],null==r.fx?r.x+=r.vx*=o:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=o:(r.y=r.fy,r.vy=0)}function h(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=Tc*Math.sqrt(n),a=n*Sc;e.x=i*Math.cos(a),e.y=i*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:A,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),s.each(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,f(n)),e):s.get(t)},find:function(e,n,r){var i,a,o,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)s=t[c],i=e-s.x,a=n-s.y,o=i*i+a*a,o<r&&(l=s,r=o);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},Nc=function(){var t,e,n,r,i=Wl(-30),a=1,o=1/0,s=.81;function l(r){var i,a=t.length,o=dc(t,Cc,Bc).visitAfter(u);for(n=r,i=0;i<a;++i)e=t[i],o.visit(A)}function c(){if(t){var e,n,a=t.length;for(r=new Array(a),e=0;e<a;++e)n=t[e],r[n.index]=+i(n,e,t)}}function u(t){var e,n,i,a,o,s=0,l=0;if(t.length){for(i=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,a+=n*e.y);t.x=i/l,t.y=a/l}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function A(t,i,l,c){if(!t.value)return!0;var u=t.x-e.x,A=t.y-e.y,h=c-i,f=u*u+A*A;if(h*h/s<f)return f<o&&(0===u&&(u=Yl(),f+=u*u),0===A&&(A=Yl(),f+=A*A),f<a&&(f=Math.sqrt(a*f)),e.vx+=u*t.value*n/f,e.vy+=A*t.value*n/f),!0;if(!(t.length||f>=o)){(t.data!==e||t.next)&&(0===u&&(u=Yl(),f+=u*u),0===A&&(A=Yl(),f+=A*A),f<a&&(f=Math.sqrt(a*f)));do{t.data!==e&&(h=r[t.data.index]*n/f,e.vx+=u*h,e.vy+=A*h)}while(t=t.next)}}return l.initialize=function(e){t=e,c()},l.strength=function(t){return arguments.length?(i="function"===typeof t?t:Wl(+t),c(),l):i},l.distanceMin=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.distanceMax=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l},Dc=function(t,e,n){var r,i,a,o=Wl(.1);function s(t){for(var o=0,s=r.length;o<s;++o){var l=r[o],c=l.x-e||1e-6,u=l.y-n||1e-6,A=Math.sqrt(c*c+u*u),h=(a[o]-A)*i[o]*t/A;l.vx+=c*h,l.vy+=u*h}}function l(){if(r){var e,n=r.length;for(i=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(r[e],e,r),i[e]=isNaN(a[e])?0:+o(r[e],e,r)}}return"function"!==typeof t&&(t=Wl(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,l()},s.strength=function(t){return arguments.length?(o="function"===typeof t?t:Wl(+t),l(),s):o},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:Wl(+e),l(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},Oc=function(t){var e,n,r,i=Wl(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)i=e[a],i.vx+=(r[a]-i.x)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!==typeof t&&(t=Wl(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"===typeof t?t:Wl(+t),o(),a):i},a.x=function(e){return arguments.length?(t="function"===typeof e?e:Wl(+e),o(),a):t},a},Uc=function(t){var e,n,r,i=Wl(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)i=e[a],i.vy+=(r[a]-i.y)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!==typeof t&&(t=Wl(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"===typeof t?t:Wl(+t),o(),a):i},a.y=function(e){return arguments.length?(t="function"===typeof e?e:Wl(+e),o(),a):t},a},Ic=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Lc=function(t){return t=Ic(Math.abs(t)),t?t[1]:NaN},Fc=function(t,e){return function(n,r){var i=n.length,a=[],o=0,s=t[0],l=0;while(i>0&&s>0){if(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),(l+=s+1)>r)break;s=t[o=(o+1)%t.length]}return a.reverse().join(e)}},Rc=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},Pc=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,a=-1;i<r;++i)switch(t[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break t;default:a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(n+1):t},Qc=function(t,e){var n=Ic(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Ec=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ic(t,Math.max(0,e+a-1))[0]},Hc=function(t,e){var n=Ic(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},kc={"":Pc,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Hc(100*t,e)},r:Hc,s:Qc,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},zc=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Vc(t){return new Gc(t)}function Gc(t){if(!(e=zc.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],s=e[6]&&+e[6],l=!!e[7],c=e[8]&&+e[8].slice(1),u=e[9]||"";"n"===u?(l=!0,u="g"):kc[u]||(u=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=l,this.precision=c,this.type=u}Vc.prototype=Gc.prototype,Gc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Kc,jc,Xc,Wc=function(t){return t},Yc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],qc=function(t){var e=t.grouping&&t.thousands?Fc(t.grouping,t.thousands):Wc,n=t.currency,r=t.decimal,i=t.numerals?Rc(t.numerals):Wc,a=t.percent||"%";function o(t){t=Vc(t);var o=t.fill,s=t.align,l=t.sign,c=t.symbol,u=t.zero,A=t.width,h=t.comma,f=t.precision,d=t.type,p="$"===c?n[0]:"#"===c&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",m="$"===c?n[1]:/[%p]/.test(d)?a:"",g=kc[d],v=!d||/[defgprs%]/.test(d);function _(t){var n,a,c,_=p,y=m;if("c"===d)y=g(t)+y,t="";else{t=+t;var w=t<0;if(t=g(Math.abs(t),f),w&&0===+t&&(w=!1),_=(w?"("===l?l:"-":"-"===l||"("===l?"":l)+_,y=("s"===d?Yc[8+Ec/3]:"")+y+(w&&"("===l?")":""),v){n=-1,a=t.length;while(++n<a)if(c=t.charCodeAt(n),48>c||c>57){y=(46===c?r+t.slice(n+1):t.slice(n))+y,t=t.slice(0,n);break}}}h&&!u&&(t=e(t,1/0));var x=_.length+t.length+y.length,b=x<A?new Array(A-x+1).join(o):"";switch(h&&u&&(t=e(b+t,b.length?A-y.length:1/0),b=""),s){case"<":t=_+t+y+b;break;case"=":t=_+b+t+y;break;case"^":t=b.slice(0,x=b.length>>1)+_+t+y+b.slice(x);break;default:t=b+_+t+y;break}return i(t)}return f=null==f?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),_.toString=function(){return t+""},_}function s(t,e){var n=o((t=Vc(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Lc(e)/3))),i=Math.pow(10,-r),a=Yc[8+r/3];return function(t){return n(i*t)+a}}return{format:o,formatPrefix:s}};function Jc(t){return Kc=qc(t),jc=Kc.format,Xc=Kc.formatPrefix,Kc}Jc({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Zc=function(t){return Math.max(0,-Lc(Math.abs(t)))},$c=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Lc(e)/3)))-Lc(Math.abs(t)))},tu=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lc(e)-Lc(t))+1},eu=function(){return new nu};function nu(){this.reset()}nu.prototype={constructor:nu,reset:function(){this.s=this.t=0},add:function(t){iu(ru,t,this.t),iu(this,ru.s,this.s),this.s?this.t+=ru.t:this.s=ru.t},valueOf:function(){return this.s}};var ru=new nu;function iu(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var au=1e-6,ou=1e-12,su=Math.PI,lu=su/2,cu=su/4,uu=2*su,Au=180/su,hu=su/180,fu=Math.abs,du=Math.atan,pu=Math.atan2,mu=Math.cos,gu=Math.ceil,vu=Math.exp,_u=(Math.floor,Math.log),yu=Math.pow,wu=Math.sin,xu=Math.sign||function(t){return t>0?1:t<0?-1:0},bu=Math.sqrt,Cu=Math.tan;function Bu(t){return t>1?0:t<-1?su:Math.acos(t)}function Eu(t){return t>1?lu:t<-1?-lu:Math.asin(t)}function Tu(t){return(t=wu(t/2))*t}function Su(){}function Mu(t,e){t&&Du.hasOwnProperty(t.type)&&Du[t.type](t,e)}var Nu={Feature:function(t,e){Mu(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)Mu(n[r].geometry,e)}},Du={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ou(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)Ou(n[r],e,0)},Polygon:function(t,e){Uu(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)Uu(n[r],e)},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)Mu(n[r],e)}};function Ou(t,e,n){var r,i=-1,a=t.length-n;e.lineStart();while(++i<a)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Uu(t,e){var n=-1,r=t.length;e.polygonStart();while(++n<r)Ou(t[n],e,1);e.polygonEnd()}var Iu,Lu,Fu,Ru,Pu,Qu=function(t,e){t&&Nu.hasOwnProperty(t.type)?Nu[t.type](t,e):Mu(t,e)},Hu=eu(),ku=eu(),zu={point:Su,lineStart:Su,lineEnd:Su,polygonStart:function(){Hu.reset(),zu.lineStart=Vu,zu.lineEnd=Gu},polygonEnd:function(){var t=+Hu;ku.add(t<0?uu+t:t),this.lineStart=this.lineEnd=this.point=Su},sphere:function(){ku.add(uu)}};function Vu(){zu.point=Ku}function Gu(){ju(Iu,Lu)}function Ku(t,e){zu.point=ju,Iu=t,Lu=e,t*=hu,e*=hu,Fu=t,Ru=mu(e=e/2+cu),Pu=wu(e)}function ju(t,e){t*=hu,e*=hu,e=e/2+cu;var n=t-Fu,r=n>=0?1:-1,i=r*n,a=mu(e),o=wu(e),s=Pu*o,l=Ru*a+s*mu(i),c=s*r*wu(i);Hu.add(pu(c,l)),Fu=t,Ru=a,Pu=o}var Xu=function(t){return ku.reset(),Qu(t,zu),2*ku};function Wu(t){return[pu(t[1],t[0]),Eu(t[2])]}function Yu(t){var e=t[0],n=t[1],r=mu(n);return[r*mu(e),r*wu(e),wu(n)]}function qu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ju(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Zu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function $u(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function tA(t){var e=bu(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var eA,nA,rA,iA,aA,oA,sA,lA,cA,uA,AA=eu(),hA={point:fA,lineStart:pA,lineEnd:mA,polygonStart:function(){hA.point=gA,hA.lineStart=vA,hA.lineEnd=_A,AA.reset(),zu.polygonStart()},polygonEnd:function(){zu.polygonEnd(),hA.point=fA,hA.lineStart=pA,hA.lineEnd=mA,Hu<0?(eA=-(rA=180),nA=-(iA=90)):AA>au?iA=90:AA<-au&&(nA=-90),uA[0]=eA,uA[1]=rA}};function fA(t,e){cA.push(uA=[eA=t,rA=t]),e<nA&&(nA=e),e>iA&&(iA=e)}function dA(t,e){var n=Yu([t*hu,e*hu]);if(lA){var r=Ju(lA,n),i=[r[1],-r[0],0],a=Ju(i,r);tA(a),a=Wu(a);var o,s=t-aA,l=s>0?1:-1,c=a[0]*Au*l,u=fu(s)>180;u^(l*aA<c&&c<l*t)?(o=a[1]*Au,o>iA&&(iA=o)):(c=(c+360)%360-180,u^(l*aA<c&&c<l*t)?(o=-a[1]*Au,o<nA&&(nA=o)):(e<nA&&(nA=e),e>iA&&(iA=e))),u?t<aA?yA(eA,t)>yA(eA,rA)&&(rA=t):yA(t,rA)>yA(eA,rA)&&(eA=t):rA>=eA?(t<eA&&(eA=t),t>rA&&(rA=t)):t>aA?yA(eA,t)>yA(eA,rA)&&(rA=t):yA(t,rA)>yA(eA,rA)&&(eA=t)}else cA.push(uA=[eA=t,rA=t]);e<nA&&(nA=e),e>iA&&(iA=e),lA=n,aA=t}function pA(){hA.point=dA}function mA(){uA[0]=eA,uA[1]=rA,hA.point=fA,lA=null}function gA(t,e){if(lA){var n=t-aA;AA.add(fu(n)>180?n+(n>0?360:-360):n)}else oA=t,sA=e;zu.point(t,e),dA(t,e)}function vA(){zu.lineStart()}function _A(){gA(oA,sA),zu.lineEnd(),fu(AA)>au&&(eA=-(rA=180)),uA[0]=eA,uA[1]=rA,lA=null}function yA(t,e){return(e-=t)<0?e+360:e}function wA(t,e){return t[0]-e[0]}function xA(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var bA,CA,BA,EA,TA,SA,MA,NA,DA,OA,UA,IA,LA,FA,RA,PA,QA=function(t){var e,n,r,i,a,o,s;if(iA=rA=-(eA=nA=1/0),cA=[],Qu(t,hA),n=cA.length){for(cA.sort(wA),e=1,r=cA[0],a=[r];e<n;++e)i=cA[e],xA(r,i[0])||xA(r,i[1])?(yA(r[0],i[1])>yA(r[0],r[1])&&(r[1]=i[1]),yA(i[0],r[1])>yA(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(s=yA(r[1],i[0]))>o&&(o=s,eA=i[0],rA=r[1])}return cA=uA=null,eA===1/0||nA===1/0?[[NaN,NaN],[NaN,NaN]]:[[eA,nA],[rA,iA]]},HA={sphere:Su,point:kA,lineStart:VA,lineEnd:jA,polygonStart:function(){HA.lineStart=XA,HA.lineEnd=WA},polygonEnd:function(){HA.lineStart=VA,HA.lineEnd=jA}};function kA(t,e){t*=hu,e*=hu;var n=mu(e);zA(n*mu(t),n*wu(t),wu(e))}function zA(t,e,n){++bA,BA+=(t-BA)/bA,EA+=(e-EA)/bA,TA+=(n-TA)/bA}function VA(){HA.point=GA}function GA(t,e){t*=hu,e*=hu;var n=mu(e);FA=n*mu(t),RA=n*wu(t),PA=wu(e),HA.point=KA,zA(FA,RA,PA)}function KA(t,e){t*=hu,e*=hu;var n=mu(e),r=n*mu(t),i=n*wu(t),a=wu(e),o=pu(bu((o=RA*a-PA*i)*o+(o=PA*r-FA*a)*o+(o=FA*i-RA*r)*o),FA*r+RA*i+PA*a);CA+=o,SA+=o*(FA+(FA=r)),MA+=o*(RA+(RA=i)),NA+=o*(PA+(PA=a)),zA(FA,RA,PA)}function jA(){HA.point=kA}function XA(){HA.point=YA}function WA(){qA(IA,LA),HA.point=kA}function YA(t,e){IA=t,LA=e,t*=hu,e*=hu,HA.point=qA;var n=mu(e);FA=n*mu(t),RA=n*wu(t),PA=wu(e),zA(FA,RA,PA)}function qA(t,e){t*=hu,e*=hu;var n=mu(e),r=n*mu(t),i=n*wu(t),a=wu(e),o=RA*a-PA*i,s=PA*r-FA*a,l=FA*i-RA*r,c=bu(o*o+s*s+l*l),u=Eu(c),A=c&&-u/c;DA+=A*o,OA+=A*s,UA+=A*l,CA+=u,SA+=u*(FA+(FA=r)),MA+=u*(RA+(RA=i)),NA+=u*(PA+(PA=a)),zA(FA,RA,PA)}var JA=function(t){bA=CA=BA=EA=TA=SA=MA=NA=DA=OA=UA=0,Qu(t,HA);var e=DA,n=OA,r=UA,i=e*e+n*n+r*r;return i<ou&&(e=SA,n=MA,r=NA,CA<au&&(e=BA,n=EA,r=TA),i=e*e+n*n+r*r,i<ou)?[NaN,NaN]:[pu(n,e)*Au,Eu(r/bu(i))*Au]},ZA=function(t){return function(){return t}},$A=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n};function th(t,e){return[t>su?t-uu:t<-su?t+uu:t,e]}function eh(t,e,n){return(t%=uu)?e||n?$A(rh(t),ih(e,n)):rh(t):e||n?ih(e,n):th}function nh(t){return function(e,n){return e+=t,[e>su?e-uu:e<-su?e+uu:e,n]}}function rh(t){var e=nh(t);return e.invert=nh(-t),e}function ih(t,e){var n=mu(t),r=wu(t),i=mu(e),a=wu(e);function o(t,e){var o=mu(e),s=mu(t)*o,l=wu(t)*o,c=wu(e),u=c*n+s*r;return[pu(l*i-u*a,s*n-c*r),Eu(u*i+l*a)]}return o.invert=function(t,e){var o=mu(e),s=mu(t)*o,l=wu(t)*o,c=wu(e),u=c*i-l*a;return[pu(l*i+c*a,s*n+u*r),Eu(u*n-s*r)]},o}th.invert=th;var ah=function(t){function e(e){return e=t(e[0]*hu,e[1]*hu),e[0]*=Au,e[1]*=Au,e}return t=eh(t[0]*hu,t[1]*hu,t.length>2?t[2]*hu:0),e.invert=function(e){return e=t.invert(e[0]*hu,e[1]*hu),e[0]*=Au,e[1]*=Au,e},e};function oh(t,e,n,r,i,a){if(n){var o=mu(e),s=wu(e),l=r*n;null==i?(i=e+r*uu,a=e-l/2):(i=sh(o,i),a=sh(o,a),(r>0?i<a:i>a)&&(i+=r*uu));for(var c,u=i;r>0?u>a:u<a;u-=l)c=Wu([o,-s*mu(u),-s*wu(u)]),t.point(c[0],c[1])}}function sh(t,e){e=Yu(e),e[0]-=t,tA(e);var n=Bu(-e[1]);return((-e[2]<0?-n:n)+uu-au)%uu}var lh=function(){var t,e,n=ZA([0,0]),r=ZA(90),i=ZA(6),a={point:o};function o(n,r){t.push(n=e(n,r)),n[0]*=Au,n[1]*=Au}function s(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*hu,l=i.apply(this,arguments)*hu;return t=[],e=eh(-o[0]*hu,-o[1]*hu,0).invert,oh(a,s,l,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return s.center=function(t){return arguments.length?(n="function"===typeof t?t:ZA([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(r="function"===typeof t?t:ZA(+t),s):r},s.precision=function(t){return arguments.length?(i="function"===typeof t?t:ZA(+t),s):i},s},ch=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Su,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},uh=function(t,e){return fu(t[0]-e[0])<au&&fu(t[1]-e[1])<au};function Ah(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var hh=function(t,e,n,r,i){var a,o,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(uh(r,o)){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else s.push(n=new Ah(r,t,null,!0)),l.push(n.o=new Ah(r,null,n,!1)),s.push(n=new Ah(o,t,null,!1)),l.push(n.o=new Ah(o,null,n,!0))}})),s.length){for(l.sort(e),fh(s),fh(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;var c,u,A=s[0];while(1){var h=A,f=!0;while(h.v)if((h=h.n)===A)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(a=0,o=c.length;a<o;++a)i.point((u=c[a])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(f)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((u=c[a])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,f=!f}while(!h.v);i.lineEnd()}}};function fh(t){if(e=t.length){var e,n,r=0,i=t[0];while(++r<e)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var dh=eu(),ph=function(t,e){var n=e[0],r=e[1],i=[wu(n),-mu(n),0],a=0,o=0;dh.reset();for(var s=0,l=t.length;s<l;++s)if(u=(c=t[s]).length)for(var c,u,A=c[u-1],h=A[0],f=A[1]/2+cu,d=wu(f),p=mu(f),m=0;m<u;++m,h=v,d=y,p=w,A=g){var g=c[m],v=g[0],_=g[1]/2+cu,y=wu(_),w=mu(_),x=v-h,b=x>=0?1:-1,C=b*x,B=C>su,E=d*y;if(dh.add(pu(E*b*wu(C),p*w+E*mu(C))),a+=B?x+b*uu:x,B^h>=n^v>=n){var T=Ju(Yu(A),Yu(g));tA(T);var S=Ju(i,T);tA(S);var M=(B^x>=0?-1:1)*Eu(S[2]);(r>M||r===M&&(T[0]||T[1]))&&(o+=B^x>=0?1:-1)}}return(a<-au||a<au&&dh<-au)^1&o},mh=function(t,e,n,r){return function(i){var a,o,s,l=e(i),c=ch(),u=e(c),A=!1,h={point:f,lineStart:p,lineEnd:m,polygonStart:function(){h.point=g,h.lineStart=v,h.lineEnd=_,o=[],a=[]},polygonEnd:function(){h.point=f,h.lineStart=p,h.lineEnd=m,o=Q(o);var t=ph(a,r);o.length?(A||(i.polygonStart(),A=!0),hh(o,vh,t,n,i)):t&&(A||(i.polygonStart(),A=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),A&&(i.polygonEnd(),A=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(e,n){t(e,n)&&i.point(e,n)}function d(t,e){l.point(t,e)}function p(){h.point=d,l.lineStart()}function m(){h.point=f,l.lineEnd()}function g(t,e){s.push([t,e]),u.point(t,e)}function v(){u.lineStart(),s=[]}function _(){g(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),h=c.result(),f=h.length;if(s.pop(),a.push(s),s=null,f)if(1&l){if(n=h[0],(e=n.length-1)>0){for(A||(i.polygonStart(),A=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&h.push(h.pop().concat(h.shift())),o.push(h.filter(gh))}return h}};function gh(t){return t.length>1}function vh(t,e){return((t=t.x)[0]<0?t[1]-lu-au:lu-t[1])-((e=e.x)[0]<0?e[1]-lu-au:lu-e[1])}var _h=mh((function(){return!0}),yh,xh,[-su,-lu]);function yh(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?su:-su,l=fu(a-n);fu(l-su)<au?(t.point(n,r=(r+o)/2>0?lu:-lu),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=su&&(fu(n-i)<au&&(n-=i*au),fu(a-s)<au&&(a-=s*au),r=wh(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function wh(t,e,n,r){var i,a,o=wu(t-n);return fu(o)>au?du((wu(e)*(a=mu(r))*wu(n)-wu(r)*(i=mu(e))*wu(t))/(i*a*o)):(e+r)/2}function xh(t,e,n,r){var i;if(null==t)i=n*lu,r.point(-su,i),r.point(0,i),r.point(su,i),r.point(su,0),r.point(su,-i),r.point(0,-i),r.point(-su,-i),r.point(-su,0),r.point(-su,i);else if(fu(t[0]-e[0])>au){var a=t[0]<e[0]?su:-su;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}var bh=function(t){var e=mu(t),n=6*hu,r=e>0,i=fu(e)>au;function a(e,r,i,a){oh(a,t,n,i,e,r)}function o(t,n){return mu(t)*mu(n)>e}function s(t){var e,n,a,s,u;return{lineStart:function(){s=a=!1,u=1},point:function(A,h){var f,d=[A,h],p=o(A,h),m=r?p?0:c(A,h):p?c(A+(A<0?su:-su),h):0;if(!e&&(s=a=p)&&t.lineStart(),p!==a&&(f=l(e,d),(!f||uh(e,f)||uh(d,f))&&(d[0]+=au,d[1]+=au,p=o(d[0],d[1]))),p!==a)u=0,p?(t.lineStart(),f=l(d,e),t.point(f[0],f[1])):(f=l(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(i&&e&&r^p){var g;m&n||!(g=l(d,e,!0))||(u=0,r?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!p||e&&uh(e,d)||t.point(d[0],d[1]),e=d,a=p,n=m},lineEnd:function(){a&&t.lineEnd(),e=null},clean:function(){return u|(s&&a)<<1}}}function l(t,n,r){var i=Yu(t),a=Yu(n),o=[1,0,0],s=Ju(i,a),l=qu(s,s),c=s[0],u=l-c*c;if(!u)return!r&&t;var A=e*l/u,h=-e*c/u,f=Ju(o,s),d=$u(o,A),p=$u(s,h);Zu(d,p);var m=f,g=qu(d,m),v=qu(m,m),_=g*g-v*(qu(d,d)-1);if(!(_<0)){var y=bu(_),w=$u(m,(-g-y)/v);if(Zu(w,d),w=Wu(w),!r)return w;var x,b=t[0],C=n[0],B=t[1],E=n[1];C<b&&(x=b,b=C,C=x);var T=C-b,S=fu(T-su)<au,M=S||T<au;if(!S&&E<B&&(x=B,B=E,E=x),M?S?B+E>0^w[1]<(fu(w[0]-b)<au?B:E):B<=w[1]&&w[1]<=E:T>su^(b<=w[0]&&w[0]<=C)){var N=$u(m,(-g+y)/v);return Zu(N,d),[w,Wu(N)]}}}function c(e,n){var i=r?t:su-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return mh(o,s,a,r?[0,-t]:[-su,t-su])},Ch=function(t,e,n,r,i,a){var o,s=t[0],l=t[1],c=e[0],u=e[1],A=0,h=1,f=c-s,d=u-l;if(o=n-s,f||!(o>0)){if(o/=f,f<0){if(o<A)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>A&&(A=o)}if(o=i-s,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>A&&(A=o)}else if(f>0){if(o<A)return;o<h&&(h=o)}if(o=r-l,d||!(o>0)){if(o/=d,d<0){if(o<A)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>A&&(A=o)}if(o=a-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>A&&(A=o)}else if(d>0){if(o<A)return;o<h&&(h=o)}return A>0&&(t[0]=s+A*f,t[1]=l+A*d),h<1&&(e[0]=s+h*f,e[1]=l+h*d),!0}}}}},Bh=1e9,Eh=-Bh;function Th(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,c){var u=0,A=0;if(null==i||(u=o(i,s))!==(A=o(a,s))||l(i,a)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==A);else c.point(a[0],a[1])}function o(r,i){return fu(r[0]-t)<au?i>0?0:3:fu(r[0]-n)<au?i>0?2:1:fu(r[1]-e)<au?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var l,c,u,A,h,f,d,p,m,g,v,_=o,y=ch(),w={point:x,lineStart:E,lineEnd:T,polygonStart:C,polygonEnd:B};function x(t,e){i(t,e)&&_.point(t,e)}function b(){for(var e=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],l=1,u=s.length,A=s[0],h=A[0],f=A[1];l<u;++l)a=h,o=f,A=s[l],h=A[0],f=A[1],o<=r?f>r&&(h-a)*(r-o)>(f-o)*(t-a)&&++e:f<=r&&(h-a)*(r-o)<(f-o)*(t-a)&&--e;return e}function C(){_=y,l=[],c=[],v=!0}function B(){var t=b(),e=v&&t,n=(l=Q(l)).length;(e||n)&&(o.polygonStart(),e&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),n&&hh(l,s,t,a,o),o.polygonEnd()),_=o,l=c=u=null}function E(){w.point=S,c&&c.push(u=[]),g=!0,m=!1,d=p=NaN}function T(){l&&(S(A,h),f&&m&&y.rejoin(),l.push(y.result())),w.point=x,m&&_.lineEnd()}function S(a,o){var s=i(a,o);if(c&&u.push([a,o]),g)A=a,h=o,f=s,g=!1,s&&(_.lineStart(),_.point(a,o));else if(s&&m)_.point(a,o);else{var l=[d=Math.max(Eh,Math.min(Bh,d)),p=Math.max(Eh,Math.min(Bh,p))],y=[a=Math.max(Eh,Math.min(Bh,a)),o=Math.max(Eh,Math.min(Bh,o))];Ch(l,y,t,e,n,r)?(m||(_.lineStart(),_.point(l[0],l[1])),_.point(y[0],y[1]),s||_.lineEnd(),v=!1):s&&(_.lineStart(),_.point(a,o),v=!1)}d=a,p=o,m=s}return w}}var Sh,Mh,Nh,Dh=function(){var t,e,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return t&&e===n?t:t=Th(r,i,a,o)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],t=e=null,n):[[r,i],[a,o]]}}},Oh=eu(),Uh={sphere:Su,point:Su,lineStart:Ih,lineEnd:Su,polygonStart:Su,polygonEnd:Su};function Ih(){Uh.point=Fh,Uh.lineEnd=Lh}function Lh(){Uh.point=Uh.lineEnd=Su}function Fh(t,e){t*=hu,e*=hu,Sh=t,Mh=wu(e),Nh=mu(e),Uh.point=Rh}function Rh(t,e){t*=hu,e*=hu;var n=wu(e),r=mu(e),i=fu(t-Sh),a=mu(i),o=wu(i),s=r*o,l=Nh*n-Mh*r*a,c=Mh*n+Nh*r*a;Oh.add(pu(bu(s*s+l*l),c)),Sh=t,Mh=n,Nh=r}var Ph=function(t){return Oh.reset(),Qu(t,Uh),+Oh},Qh=[null,null],Hh={type:"LineString",coordinates:Qh},kh=function(t,e){return Qh[0]=t,Qh[1]=e,Ph(Hh)},zh={Feature:function(t,e){return Gh(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)if(Gh(n[r].geometry,e))return!0;return!1}},Vh={Sphere:function(){return!0},Point:function(t,e){return Kh(t.coordinates,e)},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)if(Kh(n[r],e))return!0;return!1},LineString:function(t,e){return jh(t.coordinates,e)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)if(jh(n[r],e))return!0;return!1},Polygon:function(t,e){return Xh(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)if(Xh(n[r],e))return!0;return!1},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)if(Gh(n[r],e))return!0;return!1}};function Gh(t,e){return!(!t||!Vh.hasOwnProperty(t.type))&&Vh[t.type](t,e)}function Kh(t,e){return 0===kh(t,e)}function jh(t,e){var n=kh(t[0],t[1]),r=kh(t[0],e),i=kh(e,t[1]);return r+i<=n+au}function Xh(t,e){return!!ph(t.map(Wh),Yh(e))}function Wh(t){return t=t.map(Yh),t.pop(),t}function Yh(t){return[t[0]*hu,t[1]*hu]}var qh=function(t,e){return(t&&zh.hasOwnProperty(t.type)?zh[t.type]:Gh)(t,e)};function Jh(t,e,n){var r=C(t,e-au,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Zh(t,e,n){var r=C(t,e-au,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function $h(){var t,e,n,r,i,a,o,s,l,c,u,A,h=10,f=h,d=90,p=360,m=2.5;function g(){return{type:"MultiLineString",coordinates:v()}}function v(){return C(gu(r/d)*d,n,d).map(u).concat(C(gu(s/p)*p,o,p).map(A)).concat(C(gu(e/h)*h,t,h).filter((function(t){return fu(t%d)>au})).map(l)).concat(C(gu(a/f)*f,i,f).filter((function(t){return fu(t%p)>au})).map(c))}return g.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},g.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(A(o).slice(1),u(n).reverse().slice(1),A(s).reverse().slice(1))]}},g.extent=function(t){return arguments.length?g.extentMajor(t).extentMinor(t):g.extentMinor()},g.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),g.precision(m)):[[r,s],[n,o]]},g.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),g.precision(m)):[[e,a],[t,i]]},g.step=function(t){return arguments.length?g.stepMajor(t).stepMinor(t):g.stepMinor()},g.stepMajor=function(t){return arguments.length?(d=+t[0],p=+t[1],g):[d,p]},g.stepMinor=function(t){return arguments.length?(h=+t[0],f=+t[1],g):[h,f]},g.precision=function(h){return arguments.length?(m=+h,l=Jh(a,i,90),c=Zh(e,t,m),u=Jh(s,o,90),A=Zh(r,n,m),g):m},g.extentMajor([[-180,-90+au],[180,90-au]]).extentMinor([[-180,-80-au],[180,80+au]])}function tf(){return $h()()}var ef,nf,rf,af,of=function(t,e){var n=t[0]*hu,r=t[1]*hu,i=e[0]*hu,a=e[1]*hu,o=mu(r),s=wu(r),l=mu(a),c=wu(a),u=o*mu(n),A=o*wu(n),h=l*mu(i),f=l*wu(i),d=2*Eu(bu(Tu(a-r)+o*l*Tu(i-n))),p=wu(d),m=d?function(t){var e=wu(t*=d)/p,n=wu(d-t)/p,r=n*u+e*h,i=n*A+e*f,a=n*s+e*c;return[pu(i,r)*Au,pu(a,bu(r*r+i*i))*Au]}:function(){return[n*Au,r*Au]};return m.distance=d,m},sf=function(t){return t},lf=eu(),cf=eu(),uf={point:Su,lineStart:Su,lineEnd:Su,polygonStart:function(){uf.lineStart=Af,uf.lineEnd=df},polygonEnd:function(){uf.lineStart=uf.lineEnd=uf.point=Su,lf.add(fu(cf)),cf.reset()},result:function(){var t=lf/2;return lf.reset(),t}};function Af(){uf.point=hf}function hf(t,e){uf.point=ff,ef=rf=t,nf=af=e}function ff(t,e){cf.add(af*t-rf*e),rf=t,af=e}function df(){ff(ef,nf)}var pf=uf,mf=1/0,gf=mf,vf=-mf,_f=vf,yf={point:wf,lineStart:Su,lineEnd:Su,polygonStart:Su,polygonEnd:Su,result:function(){var t=[[mf,gf],[vf,_f]];return vf=_f=-(gf=mf=1/0),t}};function wf(t,e){t<mf&&(mf=t),t>vf&&(vf=t),e<gf&&(gf=e),e>_f&&(_f=e)}var xf,bf,Cf,Bf,Ef=yf,Tf=0,Sf=0,Mf=0,Nf=0,Df=0,Of=0,Uf=0,If=0,Lf=0,Ff={point:Rf,lineStart:Pf,lineEnd:kf,polygonStart:function(){Ff.lineStart=zf,Ff.lineEnd=Vf},polygonEnd:function(){Ff.point=Rf,Ff.lineStart=Pf,Ff.lineEnd=kf},result:function(){var t=Lf?[Uf/Lf,If/Lf]:Of?[Nf/Of,Df/Of]:Mf?[Tf/Mf,Sf/Mf]:[NaN,NaN];return Tf=Sf=Mf=Nf=Df=Of=Uf=If=Lf=0,t}};function Rf(t,e){Tf+=t,Sf+=e,++Mf}function Pf(){Ff.point=Qf}function Qf(t,e){Ff.point=Hf,Rf(Cf=t,Bf=e)}function Hf(t,e){var n=t-Cf,r=e-Bf,i=bu(n*n+r*r);Nf+=i*(Cf+t)/2,Df+=i*(Bf+e)/2,Of+=i,Rf(Cf=t,Bf=e)}function kf(){Ff.point=Rf}function zf(){Ff.point=Gf}function Vf(){Kf(xf,bf)}function Gf(t,e){Ff.point=Kf,Rf(xf=Cf=t,bf=Bf=e)}function Kf(t,e){var n=t-Cf,r=e-Bf,i=bu(n*n+r*r);Nf+=i*(Cf+t)/2,Df+=i*(Bf+e)/2,Of+=i,i=Bf*t-Cf*e,Uf+=i*(Cf+t),If+=i*(Bf+e),Lf+=3*i,Rf(Cf=t,Bf=e)}var jf=Ff;function Xf(t){this._context=t}Xf.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,uu);break}},result:Su};var Wf,Yf,qf,Jf,Zf,$f=eu(),td={point:Su,lineStart:function(){td.point=ed},lineEnd:function(){Wf&&nd(Yf,qf),td.point=Su},polygonStart:function(){Wf=!0},polygonEnd:function(){Wf=null},result:function(){var t=+$f;return $f.reset(),t}};function ed(t,e){td.point=nd,Yf=Jf=t,qf=Zf=e}function nd(t,e){Jf-=t,Zf-=e,$f.add(bu(Jf*Jf+Zf*Zf)),Jf=t,Zf=e}var rd=td;function id(){this._string=[]}function ad(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}id.prototype={_radius:4.5,_circle:ad(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=ad(this._radius)),this._string.push("M",t,",",e,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var od=function(t,e){var n,r,i=4.5;function a(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Qu(t,n(r))),r.result()}return a.area=function(t){return Qu(t,n(pf)),pf.result()},a.measure=function(t){return Qu(t,n(rd)),rd.result()},a.bounds=function(t){return Qu(t,n(Ef)),Ef.result()},a.centroid=function(t){return Qu(t,n(jf)),jf.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,sf):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new id):new Xf(e=t),"function"!==typeof i&&r.pointRadius(i),a):e},a.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(e)},sd=function(t){return{stream:ld(t)}};function ld(t){return function(e){var n=new cd;for(var r in t)n[r]=t[r];return n.stream=e,n}}function cd(){}function ud(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Qu(n,t.stream(Ef)),e(Ef.result()),null!=r&&t.clipExtent(r),t}function Ad(t,e,n){return ud(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}function hd(t,e,n){return Ad(t,[[0,0],e],n)}function fd(t,e,n){return ud(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])}),n)}function dd(t,e,n){return ud(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])}),n)}cd.prototype={constructor:cd,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pd=16,md=mu(30*hu),gd=function(t,e){return+e?_d(t,e):vd(t)};function vd(t){return ld({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function _d(t,e){function n(r,i,a,o,s,l,c,u,A,h,f,d,p,m){var g=c-r,v=u-i,_=g*g+v*v;if(_>4*e&&p--){var y=o+h,w=s+f,x=l+d,b=bu(y*y+w*w+x*x),C=Eu(x/=b),B=fu(fu(x)-1)<au||fu(a-A)<au?(a+A)/2:pu(w,y),E=t(B,C),T=E[0],S=E[1],M=T-r,N=S-i,D=v*M-g*N;(D*D/_>e||fu((g*M+v*N)/_-.5)>.3||o*h+s*f+l*d<md)&&(n(r,i,a,o,s,l,T,S,B,y/=b,w/=b,x,p,m),m.point(T,S),n(T,S,B,y,w,x,c,u,A,h,f,d,p,m))}}return function(e){var r,i,a,o,s,l,c,u,A,h,f,d,p={point:m,lineStart:g,lineEnd:_,polygonStart:function(){e.polygonStart(),p.lineStart=y},polygonEnd:function(){e.polygonEnd(),p.lineStart=g}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function g(){u=NaN,p.point=v,e.lineStart()}function v(r,i){var a=Yu([r,i]),o=t(r,i);n(u,A,c,h,f,d,u=o[0],A=o[1],c=r,h=a[0],f=a[1],d=a[2],pd,e),e.point(u,A)}function _(){p.point=m,e.lineEnd()}function y(){g(),p.point=w,p.lineEnd=x}function w(t,e){v(r=t,e),i=u,a=A,o=h,s=f,l=d,p.point=v}function x(){n(u,A,c,h,f,d,i,a,r,o,s,l,pd,e),p.lineEnd=_,_()}return p}}var yd=ld({point:function(t,e){this.stream.point(t*hu,e*hu)}});function wd(t){return ld({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function xd(t){return bd((function(){return t}))()}function bd(t){var e,n,r,i,a,o,s,l,c,u,A=150,h=480,f=250,d=0,p=0,m=0,g=0,v=0,_=null,y=_h,w=null,x=sf,b=.5,C=gd(T,b);function B(t){return t=a(t[0]*hu,t[1]*hu),[t[0]*A+n,r-t[1]*A]}function E(t){return t=a.invert((t[0]-n)/A,(r-t[1])/A),t&&[t[0]*Au,t[1]*Au]}function T(t,i){return t=e(t,i),[t[0]*A+n,r-t[1]*A]}function S(){a=$A(i=eh(m,g,v),e);var t=e(d,p);return n=h-t[0]*A,r=f+t[1]*A,M()}function M(){return c=u=null,B}return B.stream=function(t){return c&&u===t?c:c=yd(wd(i)(y(C(x(u=t)))))},B.preclip=function(t){return arguments.length?(y=t,_=void 0,M()):y},B.postclip=function(t){return arguments.length?(x=t,w=o=s=l=null,M()):x},B.clipAngle=function(t){return arguments.length?(y=+t?bh(_=t*hu):(_=null,_h),M()):_*Au},B.clipExtent=function(t){return arguments.length?(x=null==t?(w=o=s=l=null,sf):Th(w=+t[0][0],o=+t[0][1],s=+t[1][0],l=+t[1][1]),M()):null==w?null:[[w,o],[s,l]]},B.scale=function(t){return arguments.length?(A=+t,S()):A},B.translate=function(t){return arguments.length?(h=+t[0],f=+t[1],S()):[h,f]},B.center=function(t){return arguments.length?(d=t[0]%360*hu,p=t[1]%360*hu,S()):[d*Au,p*Au]},B.rotate=function(t){return arguments.length?(m=t[0]%360*hu,g=t[1]%360*hu,v=t.length>2?t[2]%360*hu:0,S()):[m*Au,g*Au,v*Au]},B.precision=function(t){return arguments.length?(C=gd(T,b=t*t),M()):bu(b)},B.fitExtent=function(t,e){return Ad(B,t,e)},B.fitSize=function(t,e){return hd(B,t,e)},B.fitWidth=function(t,e){return fd(B,t,e)},B.fitHeight=function(t,e){return dd(B,t,e)},function(){return e=t.apply(this,arguments),B.invert=e.invert&&E,S()}}function Cd(t){var e=0,n=su/3,r=bd(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*hu,n=t[1]*hu):[e*Au,n*Au]},i}function Bd(t){var e=mu(t);function n(t,n){return[t*e,wu(n)/e]}return n.invert=function(t,n){return[t/e,Eu(n*e)]},n}function Ed(t,e){var n=wu(t),r=(n+wu(e))/2;if(fu(r)<au)return Bd(t);var i=1+n*(2*r-n),a=bu(i)/r;function o(t,e){var n=bu(i-2*r*wu(e))/r;return[n*wu(t*=r),a-n*mu(t)]}return o.invert=function(t,e){var n=a-e;return[pu(t,fu(n))/r*xu(n),Eu((i-(t*t+n*n)*r*r)/(2*r))]},o}var Td=function(){return Cd(Ed).scale(155.424).center([0,33.6442])},Sd=function(){return Td().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Md(t){var e=t.length;return{point:function(n,r){var i=-1;while(++i<e)t[i].point(n,r)},sphere:function(){var n=-1;while(++n<e)t[n].sphere()},lineStart:function(){var n=-1;while(++n<e)t[n].lineStart()},lineEnd:function(){var n=-1;while(++n<e)t[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<e)t[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<e)t[n].polygonEnd()}}}var Nd=function(){var t,e,n,r,i,a,o=Sd(),s=Td().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Td().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){a=[t,e]}};function u(t){var e=t[0],o=t[1];return a=null,n.point(e,o),a||(r.point(e,o),a)||(i.point(e,o),a)}function A(){return t=e=null,u}return u.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(t)},u.stream=function(n){return t&&e===n?t:t=Md([o.stream(e=n),s.stream(n),l.stream(n)])},u.precision=function(t){return arguments.length?(o.precision(t),s.precision(t),l.precision(t),A()):o.precision()},u.scale=function(t){return arguments.length?(o.scale(t),s.scale(.35*t),l.scale(t),u.translate(o.translate())):o.scale()},u.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),a=+t[0],u=+t[1];return n=o.translate(t).clipExtent([[a-.455*e,u-.238*e],[a+.455*e,u+.238*e]]).stream(c),r=s.translate([a-.307*e,u+.201*e]).clipExtent([[a-.425*e+au,u+.12*e+au],[a-.214*e-au,u+.234*e-au]]).stream(c),i=l.translate([a-.205*e,u+.212*e]).clipExtent([[a-.214*e+au,u+.166*e+au],[a-.115*e-au,u+.234*e-au]]).stream(c),A()},u.fitExtent=function(t,e){return Ad(u,t,e)},u.fitSize=function(t,e){return hd(u,t,e)},u.fitWidth=function(t,e){return fd(u,t,e)},u.fitHeight=function(t,e){return dd(u,t,e)},u.scale(1070)};function Dd(t){return function(e,n){var r=mu(e),i=mu(n),a=t(r*i);return[a*i*wu(e),a*wu(n)]}}function Od(t){return function(e,n){var r=bu(e*e+n*n),i=t(r),a=wu(i),o=mu(i);return[pu(e*a,r*o),Eu(r&&n*a/r)]}}var Ud=Dd((function(t){return bu(2/(1+t))}));Ud.invert=Od((function(t){return 2*Eu(t/2)}));var Id=function(){return xd(Ud).scale(124.75).clipAngle(179.999)},Ld=Dd((function(t){return(t=Bu(t))&&t/wu(t)}));Ld.invert=Od((function(t){return t}));var Fd=function(){return xd(Ld).scale(79.4188).clipAngle(179.999)};function Rd(t,e){return[t,_u(Cu((lu+e)/2))]}Rd.invert=function(t,e){return[t,2*du(vu(e))-lu]};var Pd=function(){return Qd(Rd).scale(961/uu)};function Qd(t){var e,n,r,i=xd(t),a=i.center,o=i.scale,s=i.translate,l=i.clipExtent,c=null;function u(){var a=su*o(),s=i(ah(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===Rd?[[Math.max(s[0]-a,c),e],[Math.min(s[0]+a,n),r]]:[[c,Math.max(s[1]-a,e)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),u()):o()},i.translate=function(t){return arguments.length?(s(t),u()):s()},i.center=function(t){return arguments.length?(a(t),u()):a()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==c?null:[[c,e],[n,r]]},u()}function Hd(t){return Cu((lu+t)/2)}function kd(t,e){var n=mu(t),r=t===e?wu(t):_u(n/mu(e))/_u(Hd(e)/Hd(t)),i=n*yu(Hd(t),r)/r;if(!r)return Rd;function a(t,e){i>0?e<-lu+au&&(e=-lu+au):e>lu-au&&(e=lu-au);var n=i/yu(Hd(e),r);return[n*wu(r*t),i-n*mu(r*t)]}return a.invert=function(t,e){var n=i-e,a=xu(r)*bu(t*t+n*n);return[pu(t,fu(n))/r*xu(n),2*du(yu(i/a,1/r))-lu]},a}var zd=function(){return Cd(kd).scale(109.5).parallels([30,30])};function Vd(t,e){return[t,e]}Vd.invert=Vd;var Gd=function(){return xd(Vd).scale(152.63)};function Kd(t,e){var n=mu(t),r=t===e?wu(t):(n-mu(e))/(e-t),i=n/r+t;if(fu(r)<au)return Vd;function a(t,e){var n=i-e,a=r*t;return[n*wu(a),i-n*mu(a)]}return a.invert=function(t,e){var n=i-e;return[pu(t,fu(n))/r*xu(n),i-xu(r)*bu(t*t+n*n)]},a}var jd=function(){return Cd(Kd).scale(131.154).center([0,13.9389])};function Xd(t,e){var n=mu(e),r=mu(t)*n;return[n*wu(t)/r,wu(e)/r]}Xd.invert=Od(du);var Wd=function(){return xd(Xd).scale(144.049).clipAngle(60)};function Yd(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?sf:ld({point:function(i,a){this.stream.point(i*t+n,a*e+r)}})}var qd=function(){var t,e,n,r,i,a,o=1,s=0,l=0,c=1,u=1,A=sf,h=null,f=sf;function d(){return r=i=null,a}return a={stream:function(t){return r&&i===t?r:r=A(f(i=t))},postclip:function(r){return arguments.length?(f=r,h=t=e=n=null,d()):f},clipExtent:function(r){return arguments.length?(f=null==r?(h=t=e=n=null,sf):Th(h=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),d()):null==h?null:[[h,t],[e,n]]},scale:function(t){return arguments.length?(A=Yd((o=+t)*c,o*u,s,l),d()):o},translate:function(t){return arguments.length?(A=Yd(o*c,o*u,s=+t[0],l=+t[1]),d()):[s,l]},reflectX:function(t){return arguments.length?(A=Yd(o*(c=t?-1:1),o*u,s,l),d()):c<0},reflectY:function(t){return arguments.length?(A=Yd(o*c,o*(u=t?-1:1),s,l),d()):u<0},fitExtent:function(t,e){return Ad(a,t,e)},fitSize:function(t,e){return hd(a,t,e)},fitWidth:function(t,e){return fd(a,t,e)},fitHeight:function(t,e){return dd(a,t,e)}}};function Jd(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Jd.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(fu(n)>au&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};var Zd=function(){return xd(Jd).scale(175.295)};function $d(t,e){return[mu(e)*wu(t),wu(e)]}$d.invert=Od(Eu);var tp=function(){return xd($d).scale(249.5).clipAngle(90+au)};function ep(t,e){var n=mu(e),r=1+mu(t)*n;return[n*wu(t)/r,wu(e)/r]}ep.invert=Od((function(t){return 2*du(t)}));var np=function(){return xd(ep).scale(250).clipAngle(142)};function rp(t,e){return[_u(Cu((lu+e)/2)),-t]}rp.invert=function(t,e){return[-e,2*du(vu(t))-lu]};var ip=function(){var t=Qd(rp),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};function ap(t,e){return t.parent===e.parent?1:2}function op(t){return t.reduce(sp,0)/t.length}function sp(t,e){return t+e.x}function lp(t){return 1+t.reduce(cp,0)}function cp(t,e){return Math.max(t,e.y)}function up(t){var e;while(e=t.children)t=e[0];return t}function Ap(t){var e;while(e=t.children)t=e[e.length-1];return t}var hp=function(){var t=ap,e=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(e){var n=e.children;n?(e.x=op(n),e.y=lp(n)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)}));var s=up(i),l=Ap(i),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i};function fp(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}var dp=function(){return this.eachAfter(fp)},pp=function(t){var e,n,r,i,a=this,o=[a];do{e=o.reverse(),o=[];while(a=e.pop())if(t(a),n=a.children,n)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},mp=function(t){var e,n,r=this,i=[r];while(r=i.pop())if(t(r),e=r.children,e)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},gp=function(t){var e,n,r,i=this,a=[i],o=[];while(i=a.pop())if(o.push(i),e=i.children,e)for(n=0,r=e.length;n<r;++n)a.push(e[n]);while(i=o.pop())t(i);return this},vp=function(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))},_p=function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},yp=function(t){var e=this,n=wp(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r};function wp(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}var xp=function(){var t=this,e=[t];while(t=t.parent)e.push(t);return e},bp=function(){var t=[];return this.each((function(e){t.push(e)})),t},Cp=function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},Bp=function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e};function Ep(t,e){var n,r,i,a,o,s=new Dp(t),l=+t.value&&(s.value=t.value),c=[s];null==e&&(e=Sp);while(n=c.pop())if(l&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)c.push(r=n.children[a]=new Dp(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Np)}function Tp(){return Ep(this).eachBefore(Mp)}function Sp(t){return t.children}function Mp(t){t.data=t.data.data}function Np(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Dp(t){this.data=t,this.depth=this.height=0,this.parent=null}Dp.prototype=Ep.prototype={constructor:Dp,count:dp,each:pp,eachAfter:gp,eachBefore:mp,sum:vp,sort:_p,path:yp,ancestors:xp,descendants:bp,leaves:Cp,links:Bp,copy:Tp};var Op=Array.prototype.slice;function Up(t){var e,n,r=t.length;while(r)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}var Ip=function(t){var e,n,r=0,i=(t=Up(Op.call(t))).length,a=[];while(r<i)e=t[r],n&&Rp(n,e)?++r:(n=Qp(a=Lp(a,e)),r=0);return n};function Lp(t,e){var n,r;if(Pp(e,t))return[e];for(n=0;n<t.length;++n)if(Fp(e,t[n])&&Pp(kp(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Fp(kp(t[n],t[r]),e)&&Fp(kp(t[n],e),t[r])&&Fp(kp(t[r],e),t[n])&&Pp(zp(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Fp(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Rp(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Pp(t,e){for(var n=0;n<e.length;++n)if(!Rp(t,e[n]))return!1;return!0}function Qp(t){switch(t.length){case 1:return Hp(t[0]);case 2:return kp(t[0],t[1]);case 3:return zp(t[0],t[1],t[2])}}function Hp(t){return{x:t.x,y:t.y,r:t.r}}function kp(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,c=o-r,u=s-i,A=Math.sqrt(l*l+c*c);return{x:(n+a+l/A*u)/2,y:(r+o+c/A*u)/2,r:(A+i+s)/2}}function zp(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,c=n.x,u=n.y,A=n.r,h=r-o,f=r-c,d=i-s,p=i-u,m=l-a,g=A-a,v=r*r+i*i-a*a,_=v-o*o-s*s+l*l,y=v-c*c-u*u+A*A,w=f*d-h*p,x=(d*y-p*_)/(2*w)-r,b=(p*m-d*g)/w,C=(f*_-h*y)/(2*w)-i,B=(h*g-f*m)/w,E=b*b+B*B-1,T=2*(a+x*b+C*B),S=x*x+C*C-a*a,M=-(E?(T+Math.sqrt(T*T-4*E*S))/(2*E):S/T);return{x:r+x+b*M,y:i+C+B*M,r:M}}function Vp(t,e,n){var r=t.x,i=t.y,a=e.r+n.r,o=t.r+n.r,s=e.x-r,l=e.y-i,c=s*s+l*l;if(c){var u=.5+((o*=o)-(a*=a))/(2*c),A=Math.sqrt(Math.max(0,2*a*(o+c)-(o-=c)*o-a*a))/(2*c);n.x=r+u*s+A*l,n.y=i+u*l-A*s}else n.x=r+o,n.y=i}function Gp(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function Kp(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function jp(t){this._=t,this.next=null,this.previous=null}function Xp(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,l,c,u,A;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Vp(n,e,r=t[2]),e=new jp(e),n=new jp(n),r=new jp(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Vp(e._,n._,r=t[s]),r=new jp(r),l=n.next,c=e.previous,u=n._.r,A=e._.r;do{if(u<=A){if(Gp(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}u+=l._.r,l=l.next}else{if(Gp(c._,r._)){e=c,e.next=n,n.previous=e,--s;continue t}A+=c._.r,c=c.previous}}while(l!==c.next);r.previous=e,r.next=n,e.next=n.previous=n=r,a=Kp(e);while((r=r.next)!==n)(o=Kp(r))<a&&(e=r,a=o);n=e.next}e=[n._],r=n;while((r=r.next)!==n)e.push(r._);for(r=Ip(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}var Wp=function(t){return Xp(t),t};function Yp(t){return null==t?null:qp(t)}function qp(t){if("function"!==typeof t)throw new Error;return t}function Jp(){return 0}var Zp=function(t){return function(){return t}};function $p(t){return Math.sqrt(t.value)}var tm=function(){var t=null,e=1,n=1,r=Jp;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(em(t)).eachAfter(nm(r,.5)).eachBefore(rm(1)):i.eachBefore(em($p)).eachAfter(nm(Jp,1)).eachAfter(nm(r,i.r/Math.min(e,n))).eachBefore(rm(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=Yp(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:Zp(+t),i):r},i};function em(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function nm(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,s=t(n)*e||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=Xp(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function rm(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var im=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},am=function(t,e,n,r,i){var a,o=t.children,s=-1,l=o.length,c=t.value&&(r-e)/t.value;while(++s<l)a=o[s],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c},om=function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(a(e,o)),r&&i.eachBefore(im),i}function a(t,e){return function(r){r.children&&am(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},sm="$",lm={depth:-1},cm={};function um(t){return t.id}function Am(t){return t.parentId}var hm=function(){var t=um,e=Am;function n(n){var r,i,a,o,s,l,c,u=n.length,A=new Array(u),h={};for(i=0;i<u;++i)r=n[i],s=A[i]=new Dp(r),null!=(l=t(r,i,n))&&(l+="")&&(c=sm+(s.id=l),h[c]=c in h?cm:s);for(i=0;i<u;++i)if(s=A[i],l=e(n[i],i,n),null!=l&&(l+="")){if(o=h[sm+l],!o)throw new Error("missing: "+l);if(o===cm)throw new Error("ambiguous: "+l);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=lm,a.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(Np),a.parent=null,u>0)throw new Error("cycle");return a}return n.id=function(e){return arguments.length?(t=qp(e),n):t},n.parentId=function(t){return arguments.length?(e=qp(t),n):e},n};function fm(t,e){return t.parent===e.parent?1:2}function dm(t){var e=t.children;return e?e[0]:t.t}function pm(t){var e=t.children;return e?e[e.length-1]:t.t}function mm(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function gm(t){var e,n=0,r=0,i=t.children,a=i.length;while(--a>=0)e=i[a],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function vm(t,e,n){return t.a.parent===e.parent?t.a:n}function _m(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ym(t){var e,n,r,i,a,o=new _m(t,0),s=[o];while(e=s.pop())if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=e.children[i]=new _m(r[i],i)),n.parent=e;return(o.parent=new _m(null,0)).children=[o],o}_m.prototype=Object.create(Dp.prototype);var wm=function(){var t=fm,e=1,n=1,r=null;function i(i){var s=ym(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(l);else{var c=i,u=i,A=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>A.depth&&(A=t)}));var h=c===u?1:t(c,u)/2,f=h-c.x,d=e/(u.x+h+f),p=n/(A.depth||1);i.eachBefore((function(t){t.x=(t.x+f)*d,t.y=t.depth*p}))}return i}function a(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){gm(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=s(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(e,n,r){if(n){var i,a=e,o=e,s=n,l=a.parent.children[0],c=a.m,u=o.m,A=s.m,h=l.m;while(s=pm(s),a=dm(a),s&&a)l=dm(l),o=pm(o),o.a=e,i=s.z+A-a.z-c+t(s._,a._),i>0&&(mm(vm(s,e,r),e,i),c+=i,u+=i),A+=s.m,c+=a.m,h+=l.m,u+=o.m;s&&!pm(o)&&(o.t=s,o.m+=A-u),a&&!dm(l)&&(l.t=a,l.m+=c-h,r=e)}return r}function l(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},xm=function(t,e,n,r,i){var a,o=t.children,s=-1,l=o.length,c=t.value&&(i-n)/t.value;while(++s<l)a=o[s],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c},bm=(1+Math.sqrt(5))/2;function Cm(t,e,n,r,i,a){var o,s,l,c,u,A,h,f,d,p,m,g=[],v=e.children,_=0,y=0,w=v.length,x=e.value;while(_<w){l=i-n,c=a-r;do{u=v[y++].value}while(!u&&y<w);for(A=h=u,p=Math.max(c/l,l/c)/(x*t),m=u*u*p,d=Math.max(h/m,m/A);y<w;++y){if(u+=s=v[y].value,s<A&&(A=s),s>h&&(h=s),m=u*u*p,f=Math.max(h/m,m/A),f>d){u-=s;break}d=f}g.push(o={value:u,dice:l<c,children:v.slice(_,y)}),o.dice?am(o,n,r,i,x?r+=c*u/x:a):xm(o,n,r,x?n+=l*u/x:i,a),x-=u,_=y}return g}var Bm=function t(e){function n(t,n,r,i,a){Cm(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(bm),Em=function(){var t=Bm,e=!1,n=1,r=1,i=[0],a=Jp,o=Jp,s=Jp,l=Jp,c=Jp;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(A),i=[0],e&&t.eachBefore(im),t}function A(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,A=e.x1-n,h=e.y1-n;A<r&&(r=A=(r+A)/2),h<u&&(u=h=(u+h)/2),e.x0=r,e.y0=u,e.x1=A,e.y1=h,e.children&&(n=i[e.depth+1]=a(e)/2,r+=c(e)-n,u+=o(e)-n,A-=s(e)-n,h-=l(e)-n,A<r&&(r=A=(r+A)/2),h<u&&(u=h=(u+h)/2),t(e,r,u,A,h))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=qp(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(a="function"===typeof t?t:Zp(+t),u):a},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(o="function"===typeof t?t:Zp(+t),u):o},u.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:Zp(+t),u):s},u.paddingBottom=function(t){return arguments.length?(l="function"===typeof t?t:Zp(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:Zp(+t),u):c},u},Tm=function(t,e,n,r,i){var a,o,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=o=a=0;a<l;++a)c[a+1]=o+=s[a].value;function u(t,e,n,r,i,a,o){if(t>=e-1){var l=s[t];return l.x0=r,l.y0=i,l.x1=a,void(l.y1=o)}var A=c[t],h=n/2+A,f=t+1,d=e-1;while(f<d){var p=f+d>>>1;c[p]<h?f=p+1:d=p}h-c[f-1]<c[f]-h&&t+1<f&&--f;var m=c[f]-A,g=n-m;if(a-r>o-i){var v=(r*g+a*m)/n;u(t,f,m,r,i,v,o),u(f,e,g,v,i,a,o)}else{var _=(i*g+o*m)/n;u(t,f,m,r,i,a,_),u(f,e,g,r,_,a,o)}}u(0,l,t.value,e,n,r,i)},Sm=function(t,e,n,r,i){(1&t.depth?xm:am)(t,e,n,r,i)},Mm=function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e){var o,s,l,c,u,A=-1,h=o.length,f=t.value;while(++A<h){for(s=o[A],l=s.children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?am(s,n,r,i,r+=(a-r)*s.value/f):xm(s,n,r,n+=(i-n)*s.value/f,a),f-=s.value}}else t._squarify=o=Cm(e,t,n,r,i,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(bm),Nm=function(t){var e,n=-1,r=t.length,i=t[r-1],a=0;while(++n<r)e=i,i=t[n],a+=e[1]*i[0]-e[0]*i[1];return a/2},Dm=function(t){var e,n,r=-1,i=t.length,a=0,o=0,s=t[i-1],l=0;while(++r<i)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return l*=3,[a/l,o/l]},Om=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function Um(t,e){return t[0]-e[0]||t[1]-e[1]}function Im(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){while(r>1&&Om(t[n[r-2]],t[n[r-1]],t[i])<=0)--r;n[r++]=i}return n.slice(0,r)}var Lm=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Um),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=Im(r),o=Im(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[r[a[e]][2]]);for(e=+s;e<o.length-l;++e)c.push(t[r[o[e]][2]]);return c},Fm=function(t,e){for(var n,r,i=t.length,a=t[i-1],o=e[0],s=e[1],l=a[0],c=a[1],u=!1,A=0;A<i;++A)a=t[A],n=a[0],r=a[1],r>s!==c>s&&o<(l-n)*(s-r)/(c-r)+n&&(u=!u),l=n,c=r;return u},Rm=function(t){var e,n,r=-1,i=t.length,a=t[i-1],o=a[0],s=a[1],l=0;while(++r<i)e=o,n=s,a=t[r],o=a[0],s=a[1],e-=o,n-=s,l+=Math.sqrt(e*e+n*n);return l},Pm=[].slice,Qm={};function Hm(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function km(t){if(!t._start)try{zm(t)}catch(e){if(t._tasks[t._ended+t._active-1])Gm(t,e);else if(!t._data)throw e}}function zm(t){while(t._start=t._waiting&&t._active<t._size){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=Vm(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||Qm)}}function Vm(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?Gm(t,n):(t._data[e]=r,t._waiting?km(t):Km(t))))}}function Gm(t,e){var n,r=t._tasks.length;t._error=e,t._data=void 0,t._waiting=NaN;while(--r>=0)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,Km(t)}function Km(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function jm(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new Hm(t)}Hm.prototype=jm.prototype={constructor:Hm,defer:function(t){if("function"!==typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=Pm.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),km(this),this},abort:function(){return null==this._error&&Gm(this,new Error("abort")),this},await:function(t){if("function"!==typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},Km(this),this},awaitAll:function(t){if("function"!==typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Km(this),this}};var Xm=function(){return Math.random()},Wm=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Xm),Ym=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Xm),qm=function t(e){function n(){var t=Ym.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Xm),Jm=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Xm),Zm=function t(e){function n(t){var n=Jm.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Xm),$m=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Xm),tg=function(t,e){var n,r,i,a,o=gt("beforesend","progress","load","error"),s=pl(),l=new XMLHttpRequest,c=null,u=null,A=0;function h(t){var e,r=l.status;if(!r&&ng(l)||r>=200&&r<300||304===r){if(i)try{e=i.call(n,l)}catch(a){return void o.call("error",n,a)}else e=l;o.call("load",n,e)}else o.call("error",n,t)}if("undefined"!==typeof XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=h:l.onreadystatechange=function(t){l.readyState>3&&h(t)},l.onprogress=function(t){o.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s.get(t):(null==e?s.remove(t):s.set(t,e+""),n)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",n):r},responseType:function(t){return arguments.length?(a=t,n):a},timeout:function(t){return arguments.length?(A=+t,n):A},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",n)},password:function(t){return arguments.length<1?u:(u=null==t?null:t+"",n)},response:function(t){return i=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,i,h){return l.open(e,t,!0,c,u),null==r||s.has("accept")||s.set("accept",r+",*/*"),l.setRequestHeader&&s.each((function(t,e){l.setRequestHeader(e,t)})),null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=a&&(l.responseType=a),A>0&&(l.timeout=A),null==h&&"function"===typeof i&&(h=i,i=null),null!=h&&1===h.length&&(h=eg(h)),null!=h&&n.on("error",h).on("load",(function(t){h(null,t)})),o.call("beforesend",n,l),l.send(null==i?null:i),n},abort:function(){return l.abort(),n},on:function(){var t=o.on.apply(o,arguments);return t===o?n:t}},null!=e){if("function"!==typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n};function eg(t){return function(e,n){t(null==e?n:null)}}function ng(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}var rg=function(t,e){return function(n,r){var i=tg(n).mimeType(t).response(e);if(null!=r){if("function"!==typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},ig=rg("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)})),ag=rg("application/json",(function(t){return JSON.parse(t.responseText)})),og=rg("text/plain",(function(t){return t.responseText})),sg=rg("application/xml",(function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})),lg=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=tg(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(cg(e,r=t)):r},a.row(r),i?a.get(i):a}};function cg(t,e){return function(n){return t(n.responseText,e)}}var ug=lg("text/csv",Pl),Ag=lg("text/tab-separated-values",Vl),hg=Array.prototype,fg=hg.map,dg=hg.slice,pg={name:"implicit"};function mg(t){var e=pl(),n=[],r=pg;function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==pg)return r;e.set(a,o=n.push(i))}return t[(o-1)%t.length]}return t=null==t?[]:dg.call(t),i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=pl();var r,a,o=-1,s=t.length;while(++o<s)e.has(a=(r=t[o])+"")||e.set(a,n.push(r));return i},i.range=function(e){return arguments.length?(t=dg.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return mg().domain(n).range(t).unknown(r)},i}function gg(){var t,e,n=mg().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,l=0,c=.5;function u(){var n=r().length,u=a[1]<a[0],A=a[u-0],h=a[1-u];t=(h-A)/Math.max(1,n-s+2*l),o&&(t=Math.floor(t)),A+=(h-A-t*(n-s))*c,e=t*(1-s),o&&(A=Math.round(A),e=Math.round(e));var f=C(n).map((function(e){return A+t*e}));return i(u?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),u()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],u()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,u()):o},n.padding=function(t){return arguments.length?(s=l=Math.max(0,Math.min(1,t)),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),u()):s},n.paddingOuter=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),u()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},n.copy=function(){return gg().domain(r()).range(a).round(o).paddingInner(s).paddingOuter(l).align(c)},u()}function vg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vg(e())},t}function _g(){return vg(gg().paddingInner(1))}var yg=function(t){return function(){return t}},wg=function(t){return+t},xg=[0,1];function bg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yg(e)}function Cg(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function Bg(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function Eg(t,e,n,r){var i=t[0],a=t[1],o=e[0],s=e[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(t){return o(i(t))}}function Tg(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++s<i)a[s]=n(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(e){var n=u(t,e,1,i)-1;return o[n](a[n](e))}}function Sg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Mg(t,e){var n,r,i,a=xg,o=xg,s=Ai,l=!1;function c(){return n=Math.min(a.length,o.length)>2?Tg:Eg,r=i=null,u}function u(e){return(r||(r=n(a,o,l?Cg(t):t,s)))(+e)}return u.invert=function(t){return(i||(i=n(o,a,bg,l?Bg(e):e)))(+t)},u.domain=function(t){return arguments.length?(a=fg.call(t,wg),c()):a.slice()},u.range=function(t){return arguments.length?(o=dg.call(t),c()):o.slice()},u.rangeRound=function(t){return o=dg.call(t),s=hi,c()},u.clamp=function(t){return arguments.length?(l=!!t,c()):l},u.interpolate=function(t){return arguments.length?(s=t,c()):s},c()}var Ng=function(t,e,n){var r,i=t[0],a=t[t.length-1],o=N(i,a,null==e?10:e);switch(n=Vc(null==n?",f":n),n.type){case"s":var s=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=$c(o,s))||(n.precision=r),Xc(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=tu(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Zc(o))||(n.precision=r-2*("%"===n.type));break}return jc(n)};function Dg(t){var e=t.domain;return t.ticks=function(t){var n=e();return S(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Ng(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(r=s,s=l,l=r,r=a,a=o,o=r),r=M(s,l,n),r>0?(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,r=M(s,l,n)):r<0&&(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,r=M(s,l,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}function Og(){var t=Mg(bg,ti);return t.copy=function(){return Sg(t,Og())},Dg(t)}function Ug(){var t=[0,1];function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=fg.call(n,wg),e):t.slice()},e.copy=function(){return Ug().domain(t)},Dg(e)}var Ig=function(t,e){t=t.slice();var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t};function Lg(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:yg(e)}function Fg(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Rg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Pg(t){return 10===t?Rg:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Qg(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Hg(t){return function(e){return-t(-e)}}function kg(){var t=Mg(Lg,Fg).domain([1,10]),e=t.domain,n=10,r=Qg(10),i=Pg(10);function a(){return r=Qg(n),i=Pg(n),e()[0]<0&&(r=Hg(r),i=Hg(i)),t}return t.base=function(t){return arguments.length?(n=+t,a()):n},t.domain=function(t){return arguments.length?(e(t),a()):e()},t.ticks=function(t){var a,o=e(),s=o[0],l=o[o.length-1];(a=l<s)&&(h=s,s=l,l=h);var c,u,A,h=r(s),f=r(l),d=null==t?10:+t,p=[];if(!(n%1)&&f-h<d){if(h=Math.round(h)-1,f=Math.round(f)+1,s>0){for(;h<f;++h)for(u=1,c=i(h);u<n;++u)if(A=c*u,!(A<s)){if(A>l)break;p.push(A)}}else for(;h<f;++h)for(u=n-1,c=i(h);u>=1;--u)if(A=c*u,!(A<s)){if(A>l)break;p.push(A)}}else p=S(h,f,Math.min(f-h,d)).map(i);return a?p.reverse():p},t.tickFormat=function(e,a){if(null==a&&(a=10===n?".0e":","),"function"!==typeof a&&(a=jc(a)),e===1/0)return a;null==e&&(e=10);var o=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/i(Math.round(r(t)));return e*n<n-.5&&(e*=n),e<=o?a(t):""}},t.nice=function(){return e(Ig(e(),{floor:function(t){return i(Math.floor(r(t)))},ceil:function(t){return i(Math.ceil(r(t)))}}))},t.copy=function(){return Sg(t,kg().base(n))},t}function zg(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Vg(){var t=1,e=Mg(r,i),n=e.domain;function r(e,n){return(n=zg(n,t)-(e=zg(e,t)))?function(r){return(zg(r,t)-e)/n}:yg(n)}function i(e,n){return n=zg(n,t)-(e=zg(e,t)),function(r){return zg(e+n*r,1/t)}}return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return Sg(e,Vg().exponent(t))},Dg(e)}function Gg(){return Vg().exponent(.5)}function Kg(){var t=[],e=[],n=[];function r(){var r=0,i=Math.max(1,e.length);n=new Array(i-1);while(++r<i)n[r-1]=U(t,r/i);return a}function a(t){if(!isNaN(t=+t))return e[u(n,t)]}return a.invertExtent=function(r){var i=e.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,a=0,o=e.length;a<o;++a)n=e[a],null==n||isNaN(n=+n)||t.push(n);return t.sort(i),r()},a.range=function(t){return arguments.length?(e=dg.call(t),r()):e.slice()},a.quantiles=function(){return n.slice()},a.copy=function(){return Kg().domain(t).range(e)},a}function jg(){var t=0,e=1,n=1,r=[.5],i=[0,1];function a(t){if(t<=t)return i[u(r,t,0,n)]}function o(){var i=-1;r=new Array(n);while(++i<n)r[i]=((i+1)*e-(i-n)*t)/(n+1);return a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],o()):[t,e]},a.range=function(t){return arguments.length?(n=(i=dg.call(t)).length-1,o()):i.slice()},a.invertExtent=function(a){var o=i.indexOf(a);return o<0?[NaN,NaN]:o<1?[t,r[0]]:o>=n?[r[n-1],e]:[r[o-1],r[o]]},a.copy=function(){return jg().domain([t,e]).range(i)},Dg(a)}function Xg(){var t=[.5],e=[0,1],n=1;function r(r){if(r<=r)return e[u(t,r,0,n)]}return r.domain=function(i){return arguments.length?(t=dg.call(i),n=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(i){return arguments.length?(e=dg.call(i),n=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},r.copy=function(){return Xg().domain(t).range(e)},r}var Wg=new Date,Yg=new Date;function qg(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return qg((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)while(++r<=0)while(e(t,-1),!n(t));else while(--r>=0)while(e(t,1),!n(t));}))},n&&(i.count=function(e,r){return Wg.setTime(+e),Yg.setTime(+r),t(Wg),t(Yg),Math.floor(n(Wg,Yg))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var Jg=qg((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Jg.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?qg((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Jg:null};var Zg=Jg,$g=Jg.range,tv=1e3,ev=6e4,nv=36e5,rv=864e5,iv=6048e5,av=qg((function(t){t.setTime(Math.floor(t/tv)*tv)}),(function(t,e){t.setTime(+t+e*tv)}),(function(t,e){return(e-t)/tv}),(function(t){return t.getUTCSeconds()})),ov=av,sv=av.range,lv=qg((function(t){t.setTime(Math.floor(t/ev)*ev)}),(function(t,e){t.setTime(+t+e*ev)}),(function(t,e){return(e-t)/ev}),(function(t){return t.getMinutes()})),cv=lv,uv=lv.range,Av=qg((function(t){var e=t.getTimezoneOffset()*ev%nv;e<0&&(e+=nv),t.setTime(Math.floor((+t-e)/nv)*nv+e)}),(function(t,e){t.setTime(+t+e*nv)}),(function(t,e){return(e-t)/nv}),(function(t){return t.getHours()})),hv=Av,fv=Av.range,dv=qg((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ev)/rv}),(function(t){return t.getDate()-1})),pv=dv,mv=dv.range;function gv(t){return qg((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ev)/iv}))}var vv=gv(0),_v=gv(1),yv=gv(2),wv=gv(3),xv=gv(4),bv=gv(5),Cv=gv(6),Bv=vv.range,Ev=_v.range,Tv=yv.range,Sv=wv.range,Mv=xv.range,Nv=bv.range,Dv=Cv.range,Ov=qg((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Uv=Ov,Iv=Ov.range,Lv=qg((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Lv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?qg((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Fv=Lv,Rv=Lv.range,Pv=qg((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*ev)}),(function(t,e){return(e-t)/ev}),(function(t){return t.getUTCMinutes()})),Qv=Pv,Hv=Pv.range,kv=qg((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*nv)}),(function(t,e){return(e-t)/nv}),(function(t){return t.getUTCHours()})),zv=kv,Vv=kv.range,Gv=qg((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/rv}),(function(t){return t.getUTCDate()-1})),Kv=Gv,jv=Gv.range;function Xv(t){return qg((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/iv}))}var Wv=Xv(0),Yv=Xv(1),qv=Xv(2),Jv=Xv(3),Zv=Xv(4),$v=Xv(5),t_=Xv(6),e_=Wv.range,n_=Yv.range,r_=qv.range,i_=Jv.range,a_=Zv.range,o_=$v.range,s_=t_.range,l_=qg((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),c_=l_,u_=l_.range,A_=qg((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));A_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?qg((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var h_=A_,f_=A_.range;function d_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function p_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function m_(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function g_(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=M_(i),u=N_(i),A=M_(a),h=N_(a),f=M_(o),d=N_(o),p=M_(s),m=N_(s),g=M_(l),v=N_(l),_={a:U,A:I,b:L,B:F,c:null,d:q_,e:q_,f:ey,H:J_,I:Z_,j:$_,L:ty,m:ny,M:ry,p:R,Q:Dy,s:Oy,S:iy,u:ay,U:oy,V:sy,w:ly,W:cy,x:null,X:null,y:uy,Y:Ay,Z:hy,"%":Ny},y={a:P,A:Q,b:H,B:k,c:null,d:fy,e:fy,f:vy,H:dy,I:py,j:my,L:gy,m:_y,M:yy,p:z,Q:Dy,s:Oy,S:wy,u:xy,U:by,V:Cy,w:By,W:Ey,x:null,X:null,y:Ty,Y:Sy,Z:My,"%":Ny},w={a:E,A:T,b:S,B:M,c:N,d:H_,e:H_,f:j_,H:z_,I:z_,j:k_,L:K_,m:Q_,M:V_,p:B,Q:W_,s:Y_,S:G_,u:O_,U:U_,V:I_,w:D_,W:L_,x:D,X:O,y:R_,Y:F_,Z:P_,"%":X_};function x(t,e){return function(n){var r,i,a,o=[],s=-1,l=0,c=t.length;n instanceof Date||(n=new Date(+n));while(++s<c)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=b_[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function b(t,e){return function(n){var r,i,a=m_(1900),o=C(a,t,n+="",0);if(o!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=p_(m_(a.y)),i=r.getUTCDay(),r=i>4||0===i?Yv.ceil(r):Yv(r),r=Kv.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(r=e(m_(a.y)),i=r.getDay(),r=i>4||0===i?_v.ceil(r):_v(r),r=pv.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?p_(m_(a.y)).getUTCDay():e(m_(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,p_(a)):e(a)}}function C(t,e,n,r){var i,a,o=0,s=e.length,l=n.length;while(o<s){if(r>=l)return-1;if(i=e.charCodeAt(o++),37===i){if(i=e.charAt(o++),a=w[i in b_?e.charAt(o++):i],!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function B(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1}function T(t,e,n){var r=A.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function S(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1}function M(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1}function N(t,n,r){return C(t,e,n,r)}function D(t,e,r){return C(t,n,e,r)}function O(t,e,n){return C(t,r,e,n)}function U(t){return o[t.getDay()]}function I(t){return a[t.getDay()]}function L(t){return l[t.getMonth()]}function F(t){return s[t.getMonth()]}function R(t){return i[+(t.getHours()>=12)]}function P(t){return o[t.getUTCDay()]}function Q(t){return a[t.getUTCDay()]}function H(t){return l[t.getUTCMonth()]}function k(t){return s[t.getUTCMonth()]}function z(t){return i[+(t.getUTCHours()>=12)]}return _.x=x(n,_),_.X=x(r,_),_.c=x(e,_),y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),{format:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=b(t+="",d_);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},utcParse:function(t){var e=b(t,p_);return e.toString=function(){return t},e}}}var v_,__,y_,w_,x_,b_={"-":"",_:" ",0:"0"},C_=/^\s*\d+/,B_=/^%/,E_=/[\\^$*+?|[\]().{}]/g;function T_(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function S_(t){return t.replace(E_,"\\$&")}function M_(t){return new RegExp("^(?:"+t.map(S_).join("|")+")","i")}function N_(t){var e={},n=-1,r=t.length;while(++n<r)e[t[n].toLowerCase()]=n;return e}function D_(t,e,n){var r=C_.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function O_(t,e,n){var r=C_.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function U_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function I_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function L_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function F_(t,e,n){var r=C_.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function R_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function P_(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Q_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function H_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function k_(t,e,n){var r=C_.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function z_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function V_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function G_(t,e,n){var r=C_.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function K_(t,e,n){var r=C_.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function j_(t,e,n){var r=C_.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function X_(t,e,n){var r=B_.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function W_(t,e,n){var r=C_.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Y_(t,e,n){var r=C_.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function q_(t,e){return T_(t.getDate(),e,2)}function J_(t,e){return T_(t.getHours(),e,2)}function Z_(t,e){return T_(t.getHours()%12||12,e,2)}function $_(t,e){return T_(1+pv.count(Fv(t),t),e,3)}function ty(t,e){return T_(t.getMilliseconds(),e,3)}function ey(t,e){return ty(t,e)+"000"}function ny(t,e){return T_(t.getMonth()+1,e,2)}function ry(t,e){return T_(t.getMinutes(),e,2)}function iy(t,e){return T_(t.getSeconds(),e,2)}function ay(t){var e=t.getDay();return 0===e?7:e}function oy(t,e){return T_(vv.count(Fv(t),t),e,2)}function sy(t,e){var n=t.getDay();return t=n>=4||0===n?xv(t):xv.ceil(t),T_(xv.count(Fv(t),t)+(4===Fv(t).getDay()),e,2)}function ly(t){return t.getDay()}function cy(t,e){return T_(_v.count(Fv(t),t),e,2)}function uy(t,e){return T_(t.getFullYear()%100,e,2)}function Ay(t,e){return T_(t.getFullYear()%1e4,e,4)}function hy(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+T_(e/60|0,"0",2)+T_(e%60,"0",2)}function fy(t,e){return T_(t.getUTCDate(),e,2)}function dy(t,e){return T_(t.getUTCHours(),e,2)}function py(t,e){return T_(t.getUTCHours()%12||12,e,2)}function my(t,e){return T_(1+Kv.count(h_(t),t),e,3)}function gy(t,e){return T_(t.getUTCMilliseconds(),e,3)}function vy(t,e){return gy(t,e)+"000"}function _y(t,e){return T_(t.getUTCMonth()+1,e,2)}function yy(t,e){return T_(t.getUTCMinutes(),e,2)}function wy(t,e){return T_(t.getUTCSeconds(),e,2)}function xy(t){var e=t.getUTCDay();return 0===e?7:e}function by(t,e){return T_(Wv.count(h_(t),t),e,2)}function Cy(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Zv(t):Zv.ceil(t),T_(Zv.count(h_(t),t)+(4===h_(t).getUTCDay()),e,2)}function By(t){return t.getUTCDay()}function Ey(t,e){return T_(Yv.count(h_(t),t),e,2)}function Ty(t,e){return T_(t.getUTCFullYear()%100,e,2)}function Sy(t,e){return T_(t.getUTCFullYear()%1e4,e,4)}function My(){return"+0000"}function Ny(){return"%"}function Dy(t){return+t}function Oy(t){return Math.floor(+t/1e3)}function Uy(t){return v_=g_(t),__=v_.format,y_=v_.parse,w_=v_.utcFormat,x_=v_.utcParse,v_}Uy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Iy="%Y-%m-%dT%H:%M:%S.%LZ";function Ly(t){return t.toISOString()}var Fy=Date.prototype.toISOString?Ly:w_(Iy),Ry=Fy;function Py(t){var e=new Date(t);return isNaN(e)?null:e}var Qy=+new Date("2000-01-01T00:00:00.000Z")?Py:x_(Iy),Hy=Qy,ky=1e3,zy=60*ky,Vy=60*zy,Gy=24*Vy,Ky=7*Gy,jy=30*Gy,Xy=365*Gy;function Wy(t){return new Date(t)}function Yy(t){return t instanceof Date?+t:+new Date(+t)}function qy(t,e,n,r,i,o,s,l,c){var u=Mg(bg,ti),A=u.invert,h=u.domain,f=c(".%L"),d=c(":%S"),p=c("%I:%M"),m=c("%I %p"),g=c("%a %d"),v=c("%b %d"),_=c("%B"),y=c("%Y"),w=[[s,1,ky],[s,5,5*ky],[s,15,15*ky],[s,30,30*ky],[o,1,zy],[o,5,5*zy],[o,15,15*zy],[o,30,30*zy],[i,1,Vy],[i,3,3*Vy],[i,6,6*Vy],[i,12,12*Vy],[r,1,Gy],[r,2,2*Gy],[n,1,Ky],[e,1,jy],[e,3,3*jy],[t,1,Xy]];function x(a){return(s(a)<a?f:o(a)<a?d:i(a)<a?p:r(a)<a?m:e(a)<a?n(a)<a?g:v:t(a)<a?_:y)(a)}function b(e,n,r,i){if(null==e&&(e=10),"number"===typeof e){var o=Math.abs(r-n)/e,s=a((function(t){return t[2]})).right(w,o);s===w.length?(i=N(n/Xy,r/Xy,e),e=t):s?(s=w[o/w[s-1][2]<w[s][2]/o?s-1:s],i=s[1],e=s[0]):(i=Math.max(N(n,r,e),1),e=l)}return null==i?e:e.every(i)}return u.invert=function(t){return new Date(A(t))},u.domain=function(t){return arguments.length?h(fg.call(t,Yy)):h().map(Wy)},u.ticks=function(t,e){var n,r=h(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=b(t,i,a,e),n=n?n.range(i,a+1):[],o?n.reverse():n},u.tickFormat=function(t,e){return null==e?x:c(e)},u.nice=function(t,e){var n=h();return(t=b(t,n[0],n[n.length-1],e))?h(Ig(n,t)):u},u.copy=function(){return Sg(u,qy(t,e,n,r,i,o,s,l,c))},u}var Jy=function(){return qy(Fv,Uv,vv,pv,hv,cv,ov,Zg,__).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Zy=function(){return qy(h_,c_,Wv,Kv,zv,Qv,ov,Zg,w_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},$y=function(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))},tw=$y("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ew=$y("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),nw=$y("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),rw=$y("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),iw=Hi(Rr(300,.5,0),Rr(-240,.5,1)),aw=Hi(Rr(-100,.75,.35),Rr(80,1.5,.8)),ow=Hi(Rr(260,.75,.35),Rr(80,1.5,.8)),sw=Rr(),lw=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return sw.h=360*t-100,sw.s=1.5-1.5*e,sw.l=.8-.9*e,sw+""};function cw(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var uw=cw($y("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Aw=cw($y("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),hw=cw($y("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),fw=cw($y("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function dw(t){var e=0,n=1,r=!1;function i(i){var a=(i-e)/(n-e);return t(r?Math.max(0,Math.min(1,a)):a)}return i.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.clamp=function(t){return arguments.length?(r=!!t,i):r},i.interpolator=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return dw(t).domain([e,n]).clamp(r)},Dg(i)}var pw=function(t){return function(){return t}},mw=Math.abs,gw=Math.atan2,vw=Math.cos,_w=Math.max,yw=Math.min,ww=Math.sin,xw=Math.sqrt,bw=1e-12,Cw=Math.PI,Bw=Cw/2,Ew=2*Cw;function Tw(t){return t>1?0:t<-1?Cw:Math.acos(t)}function Sw(t){return t>=1?Bw:t<=-1?-Bw:Math.asin(t)}function Mw(t){return t.innerRadius}function Nw(t){return t.outerRadius}function Dw(t){return t.startAngle}function Ow(t){return t.endAngle}function Uw(t){return t&&t.padAngle}function Iw(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,u=o-i,A=s-a,h=(u*(e-a)-A*(t-i))/(A*l-u*c);return[t+h*l,e+h*c]}function Lw(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/xw(s*s+l*l),u=c*l,A=-c*s,h=t+u,f=e+A,d=n+u,p=r+A,m=(h+d)/2,g=(f+p)/2,v=d-h,_=p-f,y=v*v+_*_,w=i-a,x=h*p-d*f,b=(_<0?-1:1)*xw(_w(0,w*w*y-x*x)),C=(x*_-v*b)/y,B=(-x*v-_*b)/y,E=(x*_+v*b)/y,T=(-x*v+_*b)/y,S=C-m,M=B-g,N=E-m,D=T-g;return S*S+M*M>N*N+D*D&&(C=E,B=T),{cx:C,cy:B,x01:-u,y01:-A,x11:C*(i/w-1),y11:B*(i/w-1)}}var Fw=function(){var t=Mw,e=Nw,n=pw(0),r=null,i=Dw,a=Ow,o=Uw,s=null;function l(){var l,c,u=+t.apply(this,arguments),A=+e.apply(this,arguments),h=i.apply(this,arguments)-Bw,f=a.apply(this,arguments)-Bw,d=mw(f-h),p=f>h;if(s||(s=l=al()),A<u&&(c=A,A=u,u=c),A>bw)if(d>Ew-bw)s.moveTo(A*vw(h),A*ww(h)),s.arc(0,0,A,h,f,!p),u>bw&&(s.moveTo(u*vw(f),u*ww(f)),s.arc(0,0,u,f,h,p));else{var m,g,v=h,_=f,y=h,w=f,x=d,b=d,C=o.apply(this,arguments)/2,B=C>bw&&(r?+r.apply(this,arguments):xw(u*u+A*A)),E=yw(mw(A-u)/2,+n.apply(this,arguments)),T=E,S=E;if(B>bw){var M=Sw(B/u*ww(C)),N=Sw(B/A*ww(C));(x-=2*M)>bw?(M*=p?1:-1,y+=M,w-=M):(x=0,y=w=(h+f)/2),(b-=2*N)>bw?(N*=p?1:-1,v+=N,_-=N):(b=0,v=_=(h+f)/2)}var D=A*vw(v),O=A*ww(v),U=u*vw(w),I=u*ww(w);if(E>bw){var L=A*vw(_),F=A*ww(_),R=u*vw(y),P=u*ww(y);if(d<Cw){var Q=x>bw?Iw(D,O,R,P,L,F,U,I):[U,I],H=D-Q[0],k=O-Q[1],z=L-Q[0],V=F-Q[1],G=1/ww(Tw((H*z+k*V)/(xw(H*H+k*k)*xw(z*z+V*V)))/2),K=xw(Q[0]*Q[0]+Q[1]*Q[1]);T=yw(E,(u-K)/(G-1)),S=yw(E,(A-K)/(G+1))}}b>bw?S>bw?(m=Lw(R,P,D,O,A,S,p),g=Lw(L,F,U,I,A,S,p),s.moveTo(m.cx+m.x01,m.cy+m.y01),S<E?s.arc(m.cx,m.cy,S,gw(m.y01,m.x01),gw(g.y01,g.x01),!p):(s.arc(m.cx,m.cy,S,gw(m.y01,m.x01),gw(m.y11,m.x11),!p),s.arc(0,0,A,gw(m.cy+m.y11,m.cx+m.x11),gw(g.cy+g.y11,g.cx+g.x11),!p),s.arc(g.cx,g.cy,S,gw(g.y11,g.x11),gw(g.y01,g.x01),!p))):(s.moveTo(D,O),s.arc(0,0,A,v,_,!p)):s.moveTo(D,O),u>bw&&x>bw?T>bw?(m=Lw(U,I,L,F,u,-T,p),g=Lw(D,O,R,P,u,-T,p),s.lineTo(m.cx+m.x01,m.cy+m.y01),T<E?s.arc(m.cx,m.cy,T,gw(m.y01,m.x01),gw(g.y01,g.x01),!p):(s.arc(m.cx,m.cy,T,gw(m.y01,m.x01),gw(m.y11,m.x11),!p),s.arc(0,0,u,gw(m.cy+m.y11,m.cx+m.x11),gw(g.cy+g.y11,g.cx+g.x11),p),s.arc(g.cx,g.cy,T,gw(g.y11,g.x11),gw(g.y01,g.x01),!p))):s.arc(0,0,u,w,y,p):s.lineTo(U,I)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Cw/2;return[vw(r)*n,ww(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:pw(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:pw(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:pw(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:pw(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:pw(+t),l):i},l.endAngle=function(t){return arguments.length?(a="function"===typeof t?t:pw(+t),l):a},l.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:pw(+t),l):o},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l};function Rw(t){this._context=t}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};var Pw=function(t){return new Rw(t)};function Qw(t){return t[0]}function Hw(t){return t[1]}var kw=function(){var t=Qw,e=Hw,n=pw(!0),r=null,i=Pw,a=null;function o(o){var s,l,c,u=o.length,A=!1;for(null==r&&(a=i(c=al())),s=0;s<=u;++s)!(s<u&&n(l=o[s],s,o))===A&&((A=!A)?a.lineStart():a.lineEnd()),A&&a.point(+t(l,s,o),+e(l,s,o));if(c)return a=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"===typeof e?e:pw(+e),o):t},o.y=function(t){return arguments.length?(e="function"===typeof t?t:pw(+t),o):e},o.defined=function(t){return arguments.length?(n="function"===typeof t?t:pw(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o},zw=function(){var t=Qw,e=null,n=pw(0),r=Hw,i=pw(!0),a=null,o=Pw,s=null;function l(l){var c,u,A,h,f,d=l.length,p=!1,m=new Array(d),g=new Array(d);for(null==a&&(s=o(f=al())),c=0;c<=d;++c){if(!(c<d&&i(h=l[c],c,l))===p)if(p=!p)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),A=c-1;A>=u;--A)s.point(m[A],g[A]);s.lineEnd(),s.areaEnd()}p&&(m[c]=+t(h,c,l),g[c]=+n(h,c,l),s.point(e?+e(h,c,l):m[c],r?+r(h,c,l):g[c]))}if(f)return s=null,f+""||null}function c(){return kw().defined(i).curve(o).context(a)}return l.x=function(n){return arguments.length?(t="function"===typeof n?n:pw(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"===typeof e?e:pw(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:pw(+t),l):e},l.y=function(t){return arguments.length?(n="function"===typeof t?t:pw(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"===typeof t?t:pw(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:pw(+t),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"===typeof t?t:pw(!!t),l):i},l.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),l):o},l.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),l):a},l},Vw=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Gw=function(t){return t},Kw=function(){var t=Gw,e=Vw,n=null,r=pw(0),i=pw(Ew),a=pw(0);function o(o){var s,l,c,u,A,h=o.length,f=0,d=new Array(h),p=new Array(h),m=+r.apply(this,arguments),g=Math.min(Ew,Math.max(-Ew,i.apply(this,arguments)-m)),v=Math.min(Math.abs(g)/h,a.apply(this,arguments)),_=v*(g<0?-1:1);for(s=0;s<h;++s)(A=p[d[s]=s]=+t(o[s],s,o))>0&&(f+=A);for(null!=e?d.sort((function(t,n){return e(p[t],p[n])})):null!=n&&d.sort((function(t,e){return n(o[t],o[e])})),s=0,c=f?(g-h*_)/f:0;s<h;++s,m=u)l=d[s],A=p[l],u=m+(A>0?A*c:0)+_,p[l]={data:o[l],index:s,value:A,startAngle:m,endAngle:u,padAngle:v};return p}return o.value=function(e){return arguments.length?(t="function"===typeof e?e:pw(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:pw(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:pw(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:pw(+t),o):a},o},jw=Ww(Pw);function Xw(t){this._curve=t}function Ww(t){function e(e){return new Xw(t(e))}return e._curve=t,e}function Yw(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Ww(t)):e()._curve},t}Xw.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var qw=function(){return Yw(kw().curve(jw))},Jw=function(){var t=zw().curve(jw),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Yw(n())},delete t.lineX0,t.lineEndAngle=function(){return Yw(r())},delete t.lineX1,t.lineInnerRadius=function(){return Yw(i())},delete t.lineY0,t.lineOuterRadius=function(){return Yw(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Ww(t)):e()._curve},t},Zw=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},$w=Array.prototype.slice;function tx(t){return t.source}function ex(t){return t.target}function nx(t){var e=tx,n=ex,r=Qw,i=Hw,a=null;function o(){var o,s=$w.call(arguments),l=e.apply(this,s),c=n.apply(this,s);if(a||(a=o=al()),t(a,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"===typeof t?t:pw(+t),o):r},o.y=function(t){return arguments.length?(i="function"===typeof t?t:pw(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function rx(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function ix(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function ax(t,e,n,r,i){var a=Zw(e,n),o=Zw(e,n=(n+i)/2),s=Zw(r,n),l=Zw(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],l[0],l[1])}function ox(){return nx(rx)}function sx(){return nx(ix)}function lx(){var t=nx(ax);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var cx={draw:function(t,e){var n=Math.sqrt(e/Cw);t.moveTo(n,0),t.arc(0,0,n,0,Ew)}},ux={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ax=Math.sqrt(1/3),hx=2*Ax,fx={draw:function(t,e){var n=Math.sqrt(e/hx),r=n*Ax;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},dx=.8908130915292852,px=Math.sin(Cw/10)/Math.sin(7*Cw/10),mx=Math.sin(Ew/10)*px,gx=-Math.cos(Ew/10)*px,vx={draw:function(t,e){var n=Math.sqrt(e*dx),r=mx*n,i=gx*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=Ew*a/5,s=Math.cos(o),l=Math.sin(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},_x={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},yx=Math.sqrt(3),wx={draw:function(t,e){var n=-Math.sqrt(e/(3*yx));t.moveTo(0,2*n),t.lineTo(-yx*n,-n),t.lineTo(yx*n,-n),t.closePath()}},xx=-.5,bx=Math.sqrt(3)/2,Cx=1/Math.sqrt(12),Bx=3*(Cx/2+1),Ex={draw:function(t,e){var n=Math.sqrt(e/Bx),r=n/2,i=n*Cx,a=r,o=n*Cx+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(xx*r-bx*i,bx*r+xx*i),t.lineTo(xx*a-bx*o,bx*a+xx*o),t.lineTo(xx*s-bx*l,bx*s+xx*l),t.lineTo(xx*r+bx*i,xx*i-bx*r),t.lineTo(xx*a+bx*o,xx*o-bx*a),t.lineTo(xx*s+bx*l,xx*l-bx*s),t.closePath()}},Tx=[cx,ux,fx,_x,vx,wx,Ex],Sx=function(){var t=pw(cx),e=pw(64),n=null;function r(){var r;if(n||(n=r=al()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"===typeof e?e:pw(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:pw(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},Mx=function(){};function Nx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Dx(t){this._context=t}Dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Ox=function(t){return new Dx(t)};function Ux(t){this._context=t}Ux.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Ix=function(t){return new Ux(t)};function Lx(t){this._context=t}Lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Fx=function(t){return new Lx(t)};function Rx(t,e){this._basis=new Dx(t),this._beta=e}Rx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0){var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,l=-1;while(++l<=n)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*o),this._beta*e[l]+(1-this._beta)*(a+r*s))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Px=function t(e){function n(t){return 1===e?new Dx(t):new Rx(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Qx(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Hx(t,e){this._context=t,this._k=(1-e)/6}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Qx(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kx=function t(e){function n(t){return new Hx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function zx(t,e){this._context=t,this._k=(1-e)/6}zx.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Vx=function t(e){function n(t){return new zx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Gx(t,e){this._context=t,this._k=(1-e)/6}Gx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Kx=function t(e){function n(t){return new Gx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function jx(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>bw){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>bw){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Xx(t,e){this._context=t,this._alpha=e}Xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:jx(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Wx=function t(e){function n(t){return e?new Xx(t,e):new Hx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Yx(t,e){this._context=t,this._alpha=e}Yx.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:jx(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var qx=function t(e){function n(t){return e?new Yx(t,e):new zx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Jx(t,e){this._context=t,this._alpha=e}Jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jx(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zx=function t(e){function n(t){return e?new Jx(t,e):new Gx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function $x(t){this._context=t}$x.prototype={areaStart:Mx,areaEnd:Mx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var tb=function(t){return new $x(t)};function eb(t){return t<0?-1:1}function nb(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(eb(a)+eb(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function rb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ib(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function ab(t){this._context=t}function ob(t){this._context=new sb(t)}function sb(t){this._context=t}function lb(t){return new ab(t)}function cb(t){return new ob(t)}function ub(t){this._context=t}function Ab(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ib(this,this._t0,rb(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ib(this,rb(this,n=nb(this,t,e)),n);break;default:ib(this,this._t0,n=nb(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ob.prototype=Object.create(ab.prototype)).point=function(t,e){ab.prototype.point.call(this,e,t)},sb.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Ab(t),i=Ab(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var hb=function(t){return new ub(t)};function fb(t,e){this._context=t,this._t=e}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};var db=function(t){return new fb(t,.5)};function pb(t){return new fb(t,0)}function mb(t){return new fb(t,1)}var gb=function(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},vb=function(t){var e=t.length,n=new Array(e);while(--e>=0)n[e]=e;return n};function _b(t,e){return t[e]}var yb=function(){var t=pw([]),e=vb,n=gb,r=_b;function i(i){var a,o,s=t.apply(this,arguments),l=i.length,c=s.length,u=new Array(c);for(a=0;a<c;++a){for(var A,h=s[a],f=u[a]=new Array(l),d=0;d<l;++d)f[d]=A=[0,+r(i[d],h,d,i)],A.data=i[d];f.key=h}for(a=0,o=e(u);a<c;++a)u[o[a]].index=a;return n(u,o),u}return i.keys=function(e){return arguments.length?(t="function"===typeof e?e:pw($w.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:pw(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?vb:"function"===typeof t?t:pw($w.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?gb:t,i):n},i},wb=function(t,e){if((r=t.length)>0){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}gb(t,e)}},xb=function(t,e){if((s=t.length)>1)for(var n,r,i,a,o,s,l=0,c=t[e[0]].length;l<c;++l)for(a=o=0,n=0;n<s;++n)(i=(r=t[e[n]][l])[1]-r[0])>=0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a},bb=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=t[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}gb(t,e)}},Cb=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=t[e[s]],A=u[o][1]||0,h=u[o-1][1]||0,f=(A-h)/2,d=0;d<s;++d){var p=t[e[d]],m=p[o][1]||0,g=p[o-1][1]||0;f+=m-g}l+=A,c+=f*A}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,gb(t,e)}},Bb=function(t){var e=t.map(Eb);return vb(t).sort((function(t,n){return e[t]-e[n]}))};function Eb(t){var e,n=0,r=-1,i=t.length;while(++r<i)(e=+t[r][1])&&(n+=e);return n}var Tb=function(t){return Bb(t).reverse()},Sb=function(t){var e,n,r=t.length,i=t.map(Eb),a=vb(t).sort((function(t,e){return i[e]-i[t]})),o=0,s=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],o<s?(o+=i[n],l.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(l)},Mb=function(t){return vb(t).reverse()},Nb=function(t){return function(){return t}};function Db(t){return t[0]}function Ob(t){return t[1]}function Ub(){this._=null}function Ib(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Lb(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Fb(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Rb(t){while(t.L)t=t.L;return t}Ub.prototype={constructor:Ub,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){t=t.R;while(t.L)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Rb(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);e.L=e.R=null,e.U=n,e.C=!0,t=e;while(n&&n.C)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Lb(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Fb(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Fb(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Lb(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?Rb(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,Lb(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Fb(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Lb(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,Fb(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Lb(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Fb(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Pb=Ub;function Qb(t,e,n,r){var i=[null,null],a=fC.push(i)-1;return i.left=t,i.right=e,n&&kb(i,t,e,n),r&&kb(i,e,t,r),AC[t.index].halfedges.push(a),AC[e.index].halfedges.push(a),i}function Hb(t,e,n){var r=[e,n];return r.left=t,r}function kb(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function zb(t,e,n,r,i){var a,o=t[0],s=t[1],l=o[0],c=o[1],u=s[0],A=s[1],h=0,f=1,d=u-l,p=A-c;if(a=e-l,d||!(a>0)){if(a/=d,d<0){if(a<h)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>h&&(h=a)}if(a=r-l,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>h&&(h=a)}else if(d>0){if(a<h)return;a<f&&(f=a)}if(a=n-c,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=i-c,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<f&&(f=a)}return!(h>0||f<1)||(h>0&&(t[0]=[l+h*d,c+h*p]),f<1&&(t[1]=[l+f*d,c+f*p]),!0)}}}}}function Vb(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,l=t[0],c=t.left,u=t.right,A=c[0],h=c[1],f=u[0],d=u[1],p=(A+f)/2,m=(h+d)/2;if(d===h){if(p<e||p>=r)return;if(A>f){if(l){if(l[1]>=i)return}else l=[p,n];a=[p,i]}else{if(l){if(l[1]<n)return}else l=[p,i];a=[p,n]}}else if(o=(A-f)/(d-h),s=m-o*p,o<-1||o>1)if(A>f){if(l){if(l[1]>=i)return}else l=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<d){if(l){if(l[0]>=r)return}else l=[e,o*e+s];a=[r,o*r+s]}else{if(l){if(l[0]<e)return}else l=[r,o*r+s];a=[e,o*e+s]}return t[0]=l,t[1]=a,!0}function Gb(t,e,n,r){var i,a=fC.length;while(a--)Vb(i=fC[a],t,e,n,r)&&zb(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>dC||Math.abs(i[0][1]-i[1][1])>dC)||delete fC[a]}function Kb(t){return AC[t.index]={site:t,halfedges:[]}}function jb(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Xb(t,e){return e[+(e.left!==t.site)]}function Wb(t,e){return e[+(e.left===t.site)]}function Yb(){for(var t,e,n,r,i=0,a=AC.length;i<a;++i)if((t=AC[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=jb(t,fC[e[n]]);for(o.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}function qb(t,e,n,r){var i,a,o,s,l,c,u,A,h,f,d,p,m=AC.length,g=!0;for(i=0;i<m;++i)if(a=AC[i]){o=a.site,l=a.halfedges,s=l.length;while(s--)fC[l[s]]||l.splice(s,1);s=0,c=l.length;while(s<c)f=Wb(a,fC[l[s]]),d=f[0],p=f[1],u=Xb(a,fC[l[++s%c]]),A=u[0],h=u[1],(Math.abs(d-A)>dC||Math.abs(p-h)>dC)&&(l.splice(s,0,fC.push(Hb(o,f,Math.abs(d-t)<dC&&r-p>dC?[t,Math.abs(A-t)<dC?h:r]:Math.abs(p-r)<dC&&n-d>dC?[Math.abs(h-r)<dC?A:n,r]:Math.abs(d-n)<dC&&p-e>dC?[n,Math.abs(A-n)<dC?h:e]:Math.abs(p-e)<dC&&d-t>dC?[Math.abs(h-e)<dC?A:t,e]:null))-1),++c);c&&(g=!1)}if(g){var v,_,y,w=1/0;for(i=0,g=null;i<m;++i)(a=AC[i])&&(o=a.site,v=o[0]-t,_=o[1]-e,y=v*v+_*_,y<w&&(w=y,g=a));if(g){var x=[t,e],b=[t,r],C=[n,r],B=[n,e];g.halfedges.push(fC.push(Hb(o=g.site,x,b))-1,fC.push(Hb(o,b,C))-1,fC.push(Hb(o,C,B))-1,fC.push(Hb(o,B,x))-1)}}for(i=0;i<m;++i)(a=AC[i])&&(a.halfedges.length||delete AC[i])}var Jb,Zb=[];function $b(){Ib(this),this.x=this.y=this.arc=this.site=this.cy=null}function tC(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],l=r[0]-o,c=r[1]-s,u=a[0]-o,A=a[1]-s,h=2*(l*A-c*u);if(!(h>=-pC)){var f=l*l+c*c,d=u*u+A*A,p=(A*f-c*d)/h,m=(l*d-u*f)/h,g=Zb.pop()||new $b;g.arc=t,g.site=i,g.x=p+o,g.y=(g.cy=m+s)+Math.sqrt(p*p+m*m),t.circle=g;var v=null,_=hC._;while(_)if(g.y<_.y||g.y===_.y&&g.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}hC.insert(v,g),v||(Jb=g)}}}}function eC(t){var e=t.circle;e&&(e.P||(Jb=e.N),hC.remove(e),Zb.push(e),Ib(e),t.circle=null)}var nC=[];function rC(){Ib(this),this.edge=this.site=this.circle=null}function iC(t){var e=nC.pop()||new rC;return e.site=t,e}function aC(t){eC(t),uC.remove(t),nC.push(t),Ib(t)}function oC(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];aC(t);var l=a;while(l.circle&&Math.abs(n-l.circle.x)<dC&&Math.abs(r-l.circle.cy)<dC)a=l.P,s.unshift(l),aC(l),l=a;s.unshift(l),eC(l);var c=o;while(c.circle&&Math.abs(n-c.circle.x)<dC&&Math.abs(r-c.circle.cy)<dC)o=c.N,s.push(c),aC(c),c=o;s.push(c),eC(c);var u,A=s.length;for(u=1;u<A;++u)c=s[u],l=s[u-1],kb(c.edge,l.site,c.site,i);l=s[0],c=s[A-1],c.edge=Qb(l.site,c.site,null,i),tC(l),tC(c)}function sC(t){var e,n,r,i,a=t[0],o=t[1],s=uC._;while(s)if(r=lC(s,o)-a,r>dC)s=s.L;else{if(i=a-cC(s,o),!(i>dC)){r>-dC?(e=s.P,n=s):i>-dC?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}Kb(t);var l=iC(t);if(uC.insert(e,l),e||n){if(e===n)return eC(e),n=iC(e.site),uC.insert(l,n),l.edge=n.edge=Qb(e.site,l.site),tC(e),void tC(n);if(n){eC(e),eC(n);var c=e.site,u=c[0],A=c[1],h=t[0]-u,f=t[1]-A,d=n.site,p=d[0]-u,m=d[1]-A,g=2*(h*m-f*p),v=h*h+f*f,_=p*p+m*m,y=[(m*v-f*_)/g+u,(h*_-p*v)/g+A];kb(n.edge,c,d,y),l.edge=Qb(c,t,null,y),n.edge=Qb(t,d,null,y),tC(e),tC(n)}else l.edge=Qb(e.site,l.site)}}function lC(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;n=o.site;var s=n[0],l=n[1],c=l-e;if(!c)return s;var u=s-r,A=1/a-1/c,h=u/c;return A?(-h+Math.sqrt(h*h-2*A*(u*u/(-2*c)-l+c/2+i-a/2)))/A+r:(r+s)/2}function cC(t,e){var n=t.N;if(n)return lC(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var uC,AC,hC,fC,dC=1e-6,pC=1e-12;function mC(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function gC(t,e){return e[1]-t[1]||e[0]-t[0]}function vC(t,e){var n,r,i,a=t.sort(gC).pop();fC=[],AC=new Array(t.length),uC=new Pb,hC=new Pb;while(1)if(i=Jb,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(sC(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;oC(i.arc)}if(Yb(),e){var o=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];Gb(o,s,l,c),qb(o,s,l,c)}this.edges=fC,this.cells=AC,uC=hC=fC=AC=null}vC.prototype={constructor:vC,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Xb(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length){var i,a,o,s=n.site,l=-1,c=e[i[a-1]],u=c.left===s?c.right:c.left;while(++l<a)o=u,c=e[i[l]],u=c.left===s?c.right:c.left,o&&u&&r<o.index&&r<u.index&&mC(s,o,u)<0&&t.push([s.data,o.data,u.data])}})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){var r,i,a=this,o=a._found||0,s=a.cells.length;while(!(i=a.cells[o]))if(++o>=s)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],c=e-s[1],A=l*l+c*c;A<u&&(u=A,o=s.index)}}))}while(null!==o);return a._found=r,null==n||u<=n*n?i.site:null}};var _C=function(){var t=Db,e=Ob,n=null;function r(r){return new vC(r.map((function(n,i){var a=[Math.round(t(n,i,r)/dC)*dC,Math.round(e(n,i,r)/dC)*dC];return a.index=i,a.data=n,a})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"===typeof e?e:Nb(+e),r):t},r.y=function(t){return arguments.length?(e="function"===typeof t?t:Nb(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},yC=function(t){return function(){return t}};function wC(t,e,n){this.target=t,this.type=e,this.transform=n}function xC(t,e,n){this.k=t,this.x=e,this.y=n}xC.prototype={constructor:xC,scale:function(t){return 1===t?this:new xC(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new xC(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bC=new xC(1,0,0);function CC(t){return t.__zoom||bC}function BC(){We.stopImmediatePropagation()}CC.prototype=xC.prototype;var EC=function(){We.preventDefault(),We.stopImmediatePropagation()};function TC(){return!We.button}function SC(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function MC(){return this.__zoom||bC}function NC(){return-We.deltaY*(We.deltaMode?120:1)/500}function DC(){return"ontouchstart"in this}function OC(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var UC=function(){var t,e,n=TC,r=SC,i=OC,a=NC,o=DC,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Si,A=[],h=gt("start","zoom","end"),f=500,d=150,p=0;function m(t){t.property("__zoom",MC).on("wheel.zoom",b).on("mousedown.zoom",C).on("dblclick.zoom",B).filter(o).on("touchstart.zoom",E).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return e=Math.max(s[0],Math.min(s[1],e)),e===t.k?t:new xC(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new xC(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n){t.on("start.zoom",(function(){w(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,a=w(t,i),o=r.apply(t,i),s=n||_(o),l=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=t.__zoom,A="function"===typeof e?e.apply(t,i):e,h=u(c.invert(s).concat(l/c.k),A.invert(s).concat(l/A.k));return function(t){if(1===t)t=A;else{var e=h(t),n=l/e[2];t=new xC(n,s[0]-e[0]*n,s[1]-e[1]*n)}a.zoom(null,t)}}))}function w(t,e){for(var n,r=0,i=A.length;r<i;++r)if((n=A[r]).that===t)return n;return new x(t,e)}function x(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=r.apply(t,e)}function b(){if(n.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,a.apply(this,arguments)))),o=_n(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[o,e.invert(o)],xa(this),t.start()}EC(),t.wheel=setTimeout(c,d),t.zoom("mouse",i(v(g(e,r),t.mouse[0],t.mouse[1]),t.extent,l))}function c(){t.wheel=null,t.end()}}function C(){if(!e&&n.apply(this,arguments)){var t=w(this,arguments),r=hn(We.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",u,!0),a=_n(this),o=We.clientX,s=We.clientY;Bn(We.view),BC(),t.mouse=[a,this.__zoom.invert(a)],xa(this),t.start()}function c(){if(EC(),!t.moved){var e=We.clientX-o,n=We.clientY-s;t.moved=e*e+n*n>p}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=_n(t.that),t.mouse[1]),t.extent,l))}function u(){r.on("mousemove.zoom mouseup.zoom",null),En(We.view,t.moved),EC(),t.end()}}function B(){if(n.apply(this,arguments)){var t=this.__zoom,e=_n(this),a=t.invert(e),o=t.k*(We.shiftKey?.5:2),s=i(v(g(t,o),e,a),r.apply(this,arguments),l);EC(),c>0?hn(this).transition().duration(c).call(y,s,e):hn(this).call(m.transform,s)}}function E(){if(n.apply(this,arguments)){var e,r,i,a,o=w(this,arguments),s=We.changedTouches,l=s.length;for(BC(),r=0;r<l;++r)i=s[r],a=wn(this,s,i.identifier),a=[a,this.__zoom.invert(a),i.identifier],o.touch0?o.touch1||(o.touch1=a):(o.touch0=a,e=!0);if(t&&(t=clearTimeout(t),!o.touch1))return o.end(),a=hn(this).on("dblclick.zoom"),void(a&&a.apply(this,arguments));e&&(t=setTimeout((function(){t=null}),f),xa(this),o.start())}}function T(){var e,n,r,a,o=w(this,arguments),s=We.changedTouches,c=s.length;for(EC(),t&&(t=clearTimeout(t)),e=0;e<c;++e)n=s[e],r=wn(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],A=o.touch0[1],h=o.touch1[0],f=o.touch1[1],d=(d=h[0]-u[0])*d+(d=h[1]-u[1])*d,p=(p=f[0]-A[0])*p+(p=f[1]-A[1])*p;n=g(n,Math.sqrt(d/p)),r=[(u[0]+h[0])/2,(u[1]+h[1])/2],a=[(A[0]+f[0])/2,(A[1]+f[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom("touch",i(v(n,r,a),o.extent,l))}function S(){var t,n,r=w(this,arguments),i=We.changedTouches,a=i.length;for(BC(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),f),t=0;t<a;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return m.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",MC),t!==n?y(t,e):n.interrupt().each((function(){w(this,arguments).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e){m.scaleTo(t,(function(){var t=this.__zoom.k,n="function"===typeof e?e.apply(this,arguments):e;return t*n}))},m.scaleTo=function(t,e){m.transform(t,(function(){var t=r.apply(this,arguments),n=this.__zoom,a=_(t),o=n.invert(a),s="function"===typeof e?e.apply(this,arguments):e;return i(v(g(n,s),a,o),t,l)}))},m.translateBy=function(t,e,n){m.transform(t,(function(){return i(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}))},m.translateTo=function(t,e,n){m.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,o=_(t);return i(bC.translate(o[0],o[1]).scale(a.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,l)}))},x.prototype={start:function(){return 1===++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){nn(new wC(m,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(a="function"===typeof t?t:yC(+t),m):a},m.filter=function(t){return arguments.length?(n="function"===typeof t?t:yC(!!t),m):n},m.touchable=function(t){return arguments.length?(o="function"===typeof t?t:yC(!!t),m):o},m.extent=function(t){return arguments.length?(r="function"===typeof t?t:yC([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):r},m.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],m):[s[0],s[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(i=t,m):i},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(u=t,m):u},m.on=function(){var t=h.on.apply(h,arguments);return t===h?m:t},m.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,m):Math.sqrt(p)},m}},"573a":function(t,e,n){},"576a":function(t,e,n){"use strict";n("4052")},"599a":function(t,e,n){"use strict";n("59e8")},"59e8":function(t,e,n){},"5b4e7":function(t,e,n){},"5c58":function(t,e,n){t.exports=n.p+"static/img/quark--pagecover-image.ee0294af.png"},"5cfc":function(t,e,n){},"5df1":function(t,e,n){"use strict";n("8fc9")},"5f6c":function(t,e,n){"use strict";n("077a")},"62f1":function(t,e,n){},"65c6":function(t,e,n){},"683a":function(t,e,n){},"6b3b":function(t,e,n){},"6c47":function(t,e,n){},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"6de1":function(t,e,n){"use strict";n("ebbc")},"6fa4":function(t,e,n){"use strict";n("9a81")},7165:function(t,e,n){},"736e":function(t,e,n){},"75c0":function(t,e,n){},"771a":function(t,e,n){},"78cc":function(t,e,n){"use strict";n("b10c")},"791a":function(t,e,n){"use strict";n("4d3e")},"7b1f":function(t,e,n){"use strict";n("9eb9")},"7c51":function(t,e,n){},"7cb2":function(t,e,n){(function(e,r){t.exports=r(n("313e"))})(0,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=105)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var r=n(41),i=n(52),a=n(5),o=n(4),s=n(9),l=n(19),c=n(35),u=n(14),A=n(0),h=n.n(A),f=n(36),d=n(74),p=n.n(d),m=n(60),g=n(123),v=n(124),_=n(128),y=n(129),w=n(2),x=n(131),b=n(43),C=n(76),B=n(132),E=n(133),T=n(134),S=n(135),M=n(37),N=n(38),D=n(26),O=n(3),U=n(136),I=n(56),L=n(137),F=n(138),R=n(139),P=n(7),Q=n(73),H=n(54),k=n(18),z=n(59),V=n(140),G=n(145),K=n(70),j=n(146),X=n(147),W=n(148),Y=n(149),q=n(150),J=n(151);function Z(t){return!t||"none"===t}function $(t){return t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof Image}function tt(t){return t.getZr&&t.setOption}h.a.util.extend(c["a"].prototype,V["a"]),s["a"].import(G["a"]),s["a"].import(K["a"]),s["a"].import(j["a"]),s["a"].import(X["a"]),s["a"].import(W["a"]),s["a"].import(Y["a"]),s["a"].import(q["a"]),s["a"].import(J["a"]);var et=f["a"].prototype.addToScene,nt=f["a"].prototype.removeFromScene;f["a"].prototype.addToScene=function(t){if(et.call(this,t),this.__zr){var e=this.__zr;t.traverse((function(t){t.__zr=e,t.addAnimatorsToZr&&t.addAnimatorsToZr(e)}))}},f["a"].prototype.removeFromScene=function(t){nt.call(this,t),t.traverse((function(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}))},l["a"].prototype.setTextureImage=function(t,e,n,r){if(this.shader){var i,a=n.getZr(),o=this;return o.autoUpdateTextureStatus=!1,o.disableTexture(t),Z(e)||(i=rt.loadTexture(e,n,r,(function(e){o.enableTexture(t),a&&a.refresh()})),o.set(t,i)),i}};var rt={};rt.Renderer=i["a"],rt.Node=c["a"],rt.Mesh=r["a"],rt.Shader=s["a"],rt.Material=l["a"],rt.Texture=o["a"],rt.Texture2D=a["a"],rt.Geometry=u["a"],rt.SphereGeometry=x["a"],rt.PlaneGeometry=b["a"],rt.CubeGeometry=C["a"],rt.AmbientLight=B["a"],rt.DirectionalLight=E["a"],rt.PointLight=T["a"],rt.SpotLight=S["a"],rt.PerspectiveCamera=M["a"],rt.OrthographicCamera=N["a"],rt.Vector2=D["a"],rt.Vector3=O["a"],rt.Vector4=U["a"],rt.Quaternion=I["a"],rt.Matrix2=L["a"],rt.Matrix2d=F["a"],rt.Matrix3=R["a"],rt.Matrix4=P["a"],rt.Plane=Q["a"],rt.Ray=H["a"],rt.BoundingBox=k["a"],rt.Frustum=z["a"];var it=m["a"].createBlank("rgba(255,255,255,0)").image;function at(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function ot(t){if((t.wrapS===o["a"].REPEAT||t.wrapT===o["a"].REPEAT)&&t.image){var e=at(t.width),n=at(t.height);if(e!==t.width||n!==t.height){var r=document.createElement("canvas");r.width=e,r.height=n;var i=r.getContext("2d");i.drawImage(t.image,0,0,e,n),t.image=r}}}rt.loadTexture=function(t,e,n,r){"function"===typeof n&&(r=n,n={}),n=n||{};for(var i=Object.keys(n).sort(),a="",o=0;o<i.length;o++)a+=i[o]+"_"+n[i[o]]+"_";var s=e.__textureCache=e.__textureCache||new p.a(20);if(tt(t)){var l=t.__textureid__,c=s.get(a+l);if(c)c.texture.surface.setECharts(t),r&&r(c.texture);else{var u=new g["a"](t);u.onupdate=function(){e.getZr().refresh()},c={texture:u.getTexture()};for(o=0;o<i.length;o++)c.texture[i[o]]=n[i[o]];l=t.__textureid__||"__ecgl_ec__"+c.texture.__uid__,t.__textureid__=l,s.put(a+l,c),r&&r(c.texture)}return c.texture}if($(t)){l=t.__textureid__,c=s.get(a+l);if(!c){c={texture:new rt.Texture2D({image:t})};for(o=0;o<i.length;o++)c.texture[i[o]]=n[i[o]];l=t.__textureid__||"__ecgl_image__"+c.texture.__uid__,t.__textureid__=l,s.put(a+l,c),ot(c.texture),r&&r(c.texture)}return c.texture}c=s.get(a+t);if(c)c.callbacks?c.callbacks.push(r):r&&r(c.texture);else if(t.match(/.hdr$|^data:application\/octet-stream/)){c={callbacks:[r]};var A=m["a"].loadTexture(t,{exposure:n.exposure,fileType:"hdr"},(function(){A.dirty(),c.callbacks.forEach((function(t){t&&t(A)})),c.callbacks=null}));c.texture=A,s.put(a+t,c)}else{for(A=new rt.Texture2D({image:new Image}),o=0;o<i.length;o++)A[i[o]]=n[i[o]];c={texture:A,callbacks:[r]};var h=A.image;h.onload=function(){A.image=h,ot(A),A.dirty(),c.callbacks.forEach((function(t){t&&t(A)})),c.callbacks=null},h.src=t,A.image=it,s.put(a+t,c)}return c.texture},rt.createAmbientCubemap=function(t,e,n,r){t=t||{};var i=t.texture,a=w["a"].firstNotNull(t.exposure,1),o=new v["a"]({intensity:w["a"].firstNotNull(t.specularIntensity,1)}),s=new _["a"]({intensity:w["a"].firstNotNull(t.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=rt.loadTexture(i,n,{exposure:a},(function(){o.cubemap.flipY=!1;var t=Date.now();o.prefilter(e,32);var n=Date.now()-t;console.log("Prefilter environment map: "+n+"ms"),s.coefficients=y["a"].projectEnvironmentMap(e,o.cubemap,{lod:1}),r&&r()})),{specular:o,diffuse:s}},rt.createBlankTexture=m["a"].createBlank,rt.isImage=$,rt.additiveBlend=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)},rt.parseColor=function(t,e){return t instanceof Array?(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],t.length>3?e[3]=t[3]:e[3]=1,e):(e=h.a.color.parse(t||"#000",e)||[0,0,0,0],e[0]/=255,e[1]/=255,e[2]/=255,e)},rt.directionFromAlphaBeta=function(t,e){var n=t/180*Math.PI+Math.PI/2,r=-e/180*Math.PI+Math.PI/2,i=[],a=Math.sin(n);return i[0]=a*Math.cos(r),i[1]=-Math.cos(n),i[2]=a*Math.sin(r),i},rt.getShadowResolution=function(t){var e=1024;switch(t){case"low":e=512;break;case"medium":break;case"high":e=2048;break;case"ultra":e=4096;break}return e},rt.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"],rt.createShader=function(t){"ecgl.shadow"===t&&(t="ecgl.displayShadow");var e=s["a"].source(t+".vertex"),n=s["a"].source(t+".fragment");e||console.error("Vertex shader of '%s' not exits",t),n||console.error("Fragment shader of '%s' not exits",t);var r=new s["a"](e,n);return r.name=t,r},rt.createMaterial=function(t,e){e instanceof Array||(e=[e]);var n=rt.createShader(t),r=new l["a"]({shader:n});return e.forEach((function(t){"string"===typeof t&&r.define(t)})),r},rt.setMaterialFromModel=function(t,e,n,r){e.autoUpdateTextureStatus=!1;var i=n.getModel(t+"Material"),a=i.get("detailTexture"),o=w["a"].firstNotNull(i.get("textureTiling"),1),s=w["a"].firstNotNull(i.get("textureOffset"),0);"number"===typeof o&&(o=[o,o]),"number"===typeof s&&(s=[s,s]);var l=o[0]>1||o[1]>1?rt.Texture.REPEAT:rt.Texture.CLAMP_TO_EDGE,c={anisotropic:8,wrapS:l,wrapT:l};if("realistic"===t){var u=i.get("roughness"),A=i.get("metalness");null!=A?isNaN(A)&&(e.setTextureImage("metalnessMap",A,r,c),A=w["a"].firstNotNull(i.get("metalnessAdjust"),.5)):A=0,null!=u?isNaN(u)&&(e.setTextureImage("roughnessMap",u,r,c),u=w["a"].firstNotNull(i.get("roughnessAdjust"),.5)):u=.5;var h=i.get("normalTexture");e.setTextureImage("detailMap",a,r,c),e.setTextureImage("normalMap",h,r,c),e.set({roughness:u,metalness:A,detailUvRepeat:o,detailUvOffset:s})}else if("lambert"===t)e.setTextureImage("detailMap",a,r,c),e.set({detailUvRepeat:o,detailUvOffset:s});else if("color"===t)e.setTextureImage("detailMap",a,r,c),e.set({detailUvRepeat:o,detailUvOffset:s});else if("hatching"===t){var f=i.get("hatchingTextures")||[];f.length<6&&console.error("Invalid hatchingTextures.");for(var d=0;d<6;d++)e.setTextureImage("hatch"+(d+1),f[d],r,{anisotropic:8,wrapS:rt.Texture.REPEAT,wrapT:rt.Texture.REPEAT});e.set({detailUvRepeat:o,detailUvOffset:s})}},rt.updateVertexAnimation=function(t,e,n,r){var i=r.get("animation"),a=r.get("animationDurationUpdate"),o=r.get("animationEasingUpdate"),s=n.shadowDepthMaterial;if(i&&e&&a>0&&e.geometry.vertexCount===n.geometry.vertexCount){n.material.define("vertex","VERTEX_ANIMATION"),n.ignorePreZ=!0,s&&s.define("vertex","VERTEX_ANIMATION");for(var l=0;l<t.length;l++)n.geometry.attributes[t[l][0]].value=e.geometry.attributes[t[l][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set("percent",0),n.stopAnimation(),n.animate().when(a,{__percent:1}).during((function(){n.material.set("percent",n.__percent),s&&s.set("percent",n.__percent)})).done((function(){n.ignorePreZ=!1,n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")})).start(o)}else n.material.undefine("vertex","VERTEX_ANIMATION"),s&&s.undefine("vertex","VERTEX_ANIMATION")},e["a"]=rt},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={firstNotNull:function(){for(var t=0,e=arguments.length;t<e;t++)if(null!=arguments[t])return arguments[t]},queryDataIndex:function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?i.a.util.isArray(e.dataIndex)?i.a.util.map(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?i.a.util.isArray(e.name)?i.a.util.map(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}};e["a"]=a},function(t,e,n){"use strict";var r=n(12),i=function(t,e,n){t=t||0,e=e||0,n=n||0,this.array=r["a"].fromValues(t,e,n),this._dirty=!0};i.prototype={constructor:i,add:function(t){return r["a"].add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return r["a"].cross(this.array,t.array,e.array),this._dirty=!0,this},dist:function(t){return r["a"].dist(this.array,t.array)},distance:function(t){return r["a"].distance(this.array,t.array)},div:function(t){return r["a"].div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r["a"].divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r["a"].dot(this.array,t.array)},len:function(){return r["a"].len(this.array)},length:function(){return r["a"].length(this.array)},lerp:function(t,e,n){return r["a"].lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r["a"].min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r["a"].max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r["a"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r["a"].normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r["a"].random(this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r["a"].scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r["a"].sqrDist(this.array,t.array)},squaredDistance:function(t){return r["a"].squaredDistance(this.array,t.array)},sqrLen:function(){return r["a"].sqrLen(this.array)},squaredLength:function(){return r["a"].squaredLength(this.array)},sub:function(t){return r["a"].sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r["a"].subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return r["a"].transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r["a"].transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return r["a"].transformQuat(this.array,this.array,t.array),this._dirty=!0,this},applyProjection:function(t){var e=this.array;if(t=t.array,0===t[15]){var n=-1/e[2];e[0]=t[0]*e[0]*n,e[1]=t[5]*e[1]*n,e[2]=(t[10]*e[2]+t[14])*n}else e[0]=t[0]*e[0]+t[12],e[1]=t[5]*e[1]+t[13],e[2]=t[10]*e[2]+t[14];return this._dirty=!0,this},eulerFromQuat:function(t,e){i.eulerFromQuat(this,t,e)},eulerFromMat3:function(t,e){i.eulerFromMat3(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a=Object.defineProperty;if(a){var o=i.prototype;a(o,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),a(o,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),a(o,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}})}function s(t,e,n){return t<e?e:t>n?n:t}i.add=function(t,e,n){return r["a"].add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i){r["a"].set(t.array,e,n,i),t._dirty=!0},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.cross=function(t,e,n){return r["a"].cross(t.array,e.array,n.array),t._dirty=!0,t},i.dist=function(t,e){return r["a"].distance(t.array,e.array)},i.distance=i.dist,i.div=function(t,e,n){return r["a"].divide(t.array,e.array,n.array),t._dirty=!0,t},i.divide=i.div,i.dot=function(t,e){return r["a"].dot(t.array,e.array)},i.len=function(t){return r["a"].length(t.array)},i.lerp=function(t,e,n,i){return r["a"].lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r["a"].min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r["a"].max(t.array,e.array,n.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].multiply(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.negate=function(t,e){return r["a"].negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r["a"].normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r["a"].random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r["a"].scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.sqrDist=function(t,e){return r["a"].sqrDist(t.array,e.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(t){return r["a"].sqrLen(t.array)},i.squaredLength=i.sqrLen,i.sub=function(t,e,n){return r["a"].subtract(t.array,e.array,n.array),t._dirty=!0,t},i.subtract=i.sub,i.transformMat3=function(t,e,n){return r["a"].transformMat3(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return r["a"].transformMat4(t.array,e.array,n.array),t._dirty=!0,t},i.transformQuat=function(t,e,n){return r["a"].transformQuat(t.array,e.array,n.array),t._dirty=!0,t};var l=Math.atan2,c=Math.asin,u=Math.abs;i.eulerFromQuat=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=e[0],a=e[1],o=e[2],u=e[3],A=i*i,h=a*a,f=o*o,d=u*u;n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":r[0]=l(2*(i*u-a*o),d-A-h+f),r[1]=c(s(2*(i*o+a*u),-1,1)),r[2]=l(2*(o*u-i*a),d+A-h-f);break;case"YXZ":r[0]=c(s(2*(i*u-a*o),-1,1)),r[1]=l(2*(i*o+a*u),d-A-h+f),r[2]=l(2*(i*a+o*u),d-A+h-f);break;case"ZXY":r[0]=c(s(2*(i*u+a*o),-1,1)),r[1]=l(2*(a*u-o*i),d-A-h+f),r[2]=l(2*(o*u-i*a),d-A+h-f);break;case"ZYX":r[0]=l(2*(i*u+o*a),d-A-h+f),r[1]=c(s(2*(a*u-i*o),-1,1)),r[2]=l(2*(i*a+o*u),d+A-h-f);break;case"YZX":r[0]=l(2*(i*u-o*a),d-A+h-f),r[1]=l(2*(a*u-i*o),d+A-h-f),r[2]=c(s(2*(i*a+o*u),-1,1));break;case"XZY":r[0]=l(2*(i*u+a*o),d-A+h-f),r[1]=l(2*(i*o+a*u),d+A-h-f),r[2]=c(s(2*(o*u-i*a),-1,1));break;default:console.warn("Unkown order: "+n)}return t},i.eulerFromMat3=function(t,e,n){var r=e.array,i=r[0],a=r[3],o=r[6],A=r[1],h=r[4],f=r[7],d=r[2],p=r[5],m=r[8],g=t.array;n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":g[1]=c(s(o,-1,1)),u(o)<.99999?(g[0]=l(-f,m),g[2]=l(-a,i)):(g[0]=l(p,h),g[2]=0);break;case"YXZ":g[0]=c(-s(f,-1,1)),u(f)<.99999?(g[1]=l(o,m),g[2]=l(A,h)):(g[1]=l(-d,i),g[2]=0);break;case"ZXY":g[0]=c(s(p,-1,1)),u(p)<.99999?(g[1]=l(-d,m),g[2]=l(-a,h)):(g[1]=0,g[2]=l(A,i));break;case"ZYX":g[1]=c(-s(d,-1,1)),u(d)<.99999?(g[0]=l(p,m),g[2]=l(A,i)):(g[0]=0,g[2]=l(-a,h));break;case"YZX":g[2]=c(s(A,-1,1)),u(A)<.99999?(g[0]=l(-f,h),g[1]=l(-d,i)):(g[0]=0,g[1]=l(o,m));break;case"XZY":g[2]=c(-s(a,-1,1)),u(a)<.99999?(g[0]=l(p,h),g[1]=l(o,i)):(g[0]=l(-f,m),g[1]=0);break;default:console.warn("Unkown order: "+n)}return t._dirty=!0,t},Object.defineProperties(i,{POSITIVE_X:{get:function(){return new i(1,0,0)}},NEGATIVE_X:{get:function(){return new i(-1,0,0)}},POSITIVE_Y:{get:function(){return new i(0,1,0)}},NEGATIVE_Y:{get:function(){return new i(0,-1,0)}},POSITIVE_Z:{get:function(){return new i(0,0,1)}},NEGATIVE_Z:{get:function(){return new i(0,0,-1)}},UP:{get:function(){return new i(0,1,0)}},ZERO:{get:function(){return new i}}}),e["a"]=i},function(t,e,n){"use strict";var r=n(8),i=n(11),a=n(57),o=r["a"].extend({width:512,height:512,type:i["a"].UNSIGNED_BYTE,format:i["a"].RGBA,wrapS:i["a"].REPEAT,wrapT:i["a"].REPEAT,minFilter:i["a"].LINEAR_MIPMAP_LINEAR,magFilter:i["a"].LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},(function(){this._cache=new a["a"]}),{getWebGLTexture:function(t){var e=t.gl,n=this._cache;return n.use(t.__uid__),n.miss("webgl_texture")&&n.put("webgl_texture",e.createTexture()),this.dynamic?this.update(t):n.isDirty()&&(this.update(t),n.fresh()),n.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(t){},updateCommon:function(t){var e=t.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===i["a"].DEPTH_COMPONENT&&(this.useMipmap=!1);var n=t.getGLExtension("EXT_sRGB");this.format!==o.SRGB||n||(this.format=o.RGB),this.format!==o.SRGB_ALPHA||n||(this.format=o.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?i["a"].CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?i["a"].CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var t=this.minFilter;return this.NPOT||!this.useMipmap?t===i["a"].NEAREST_MIPMAP_NEAREST||t===i["a"].NEAREST_MIPMAP_LINEAR?i["a"].NEAREST:t===i["a"].LINEAR_MIPMAP_LINEAR||t===i["a"].LINEAR_MIPMAP_NEAREST?i["a"].LINEAR:t:t},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("webgl_texture");n&&t.gl.deleteTexture(n),e.deleteContext(t.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),o.BYTE=i["a"].BYTE,o.UNSIGNED_BYTE=i["a"].UNSIGNED_BYTE,o.SHORT=i["a"].SHORT,o.UNSIGNED_SHORT=i["a"].UNSIGNED_SHORT,o.INT=i["a"].INT,o.UNSIGNED_INT=i["a"].UNSIGNED_INT,o.FLOAT=i["a"].FLOAT,o.HALF_FLOAT=36193,o.UNSIGNED_INT_24_8_WEBGL=34042,o.DEPTH_COMPONENT=i["a"].DEPTH_COMPONENT,o.DEPTH_STENCIL=i["a"].DEPTH_STENCIL,o.ALPHA=i["a"].ALPHA,o.RGB=i["a"].RGB,o.RGBA=i["a"].RGBA,o.LUMINANCE=i["a"].LUMINANCE,o.LUMINANCE_ALPHA=i["a"].LUMINANCE_ALPHA,o.SRGB=35904,o.SRGB_ALPHA=35906,o.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,o.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,o.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,o.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,o.COMPRESSED_RGB_ETC1_WEBGL=36196,o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,o.COMPRESSED_RGB_ATC_WEBGL=35986,o.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987,o.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798,o.NEAREST=i["a"].NEAREST,o.LINEAR=i["a"].LINEAR,o.NEAREST_MIPMAP_NEAREST=i["a"].NEAREST_MIPMAP_NEAREST,o.LINEAR_MIPMAP_NEAREST=i["a"].LINEAR_MIPMAP_NEAREST,o.NEAREST_MIPMAP_LINEAR=i["a"].NEAREST_MIPMAP_LINEAR,o.LINEAR_MIPMAP_LINEAR=i["a"].LINEAR_MIPMAP_LINEAR,o.REPEAT=i["a"].REPEAT,o.CLAMP_TO_EDGE=i["a"].CLAMP_TO_EDGE,o.MIRRORED_REPEAT=i["a"].MIRRORED_REPEAT,e["a"]=o},function(t,e,n){"use strict";var r=n(4),i=n(11),a=n(13),o=n(72),s=o["a"].isPowerOfTwo;function l(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function c(t,e){var n=l(t.width),r=l(t.height);e=e||document.createElement("canvas"),e.width=n,e.height=r;var i=e.getContext("2d");return i.drawImage(t.image,0,0,n,r),e}var u=r["a"].extend((function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}}),{textureType:"texture2D",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,a=this.type,o=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==r["a"].REPEAT&&this.wrapT!==r["a"].REPEAT||!this.NPOT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o?this.wrapS:this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,o?this.wrapT:this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,o?this.magFilter:this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,o?this.minFilter:this.getAvailableMinFilter());var s=t.getGLExtension("EXT_texture_filter_anisotropic");if(s&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_2D,s.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===a){var l=t.getGLExtension("OES_texture_half_float");l||(a=i["a"].FLOAT)}if(this.mipmaps.length)for(var c=this.width,u=this.height,A=0;A<this.mipmaps.length;A++){var h=this.mipmaps[A];this._updateTextureData(e,h,A,c,u,n,a,!1),c/=2,u/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,a,o),!this.useMipmap||this.NPOT&&!o||e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null)},_updateTextureData:function(t,e,n,i,a,o,s,l){if(e.image){var u=e.image;l&&(this._potCanvas=c(this,this._potCanvas),u=this._potCanvas),t.texImage2D(t.TEXTURE_2D,n,o,o,s,u)}else o<=r["a"].COMPRESSED_RGBA_S3TC_DXT5_EXT&&o>=r["a"].COMPRESSED_RGB_S3TC_DXT1_EXT||o===r["a"].COMPRESSED_RGB_ETC1_WEBGL||o>=r["a"].COMPRESSED_RGB_PVRTC_4BPPV1_IMG&&o<=r["a"].COMPRESSED_RGBA_PVRTC_2BPPV1_IMG||o===r["a"].COMPRESSED_RGB_ATC_WEBGL&&o===r["a"].COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL&&o===r["a"].COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL?t.compressedTexImage2D(t.TEXTURE_2D,n,o,i,a,0,e.pixels):t.texImage2D(t.TEXTURE_2D,n,o,i,a,0,o,s,e.pixels)},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_2D))},isPowerOfTwo:function(){return s(this.width)&&s(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!(!this.width||!this.height)},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},load:function(t,e){var n=a["a"].createImage();e&&(n.crossOrigin=e);var r=this;return n.onload=function(){r.dirty(),r.trigger("success",r)},n.onerror=function(){r.trigger("error",r)},n.src=t,this.image=n,this}});Object.defineProperty(u.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(t){this.image?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(u.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(t){this.image?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}}),e["a"]=u},function(t,e,n){"use strict";var r=n(160);e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(21),i=n(12),a=n(55),o=n(34),s=n(3),l=function(){this._axisX=new s["a"],this._axisY=new s["a"],this._axisZ=new s["a"],this.array=r["a"].create(),this._dirty=!0};l.prototype={constructor:l,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return r["a"].adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new l).copy(this)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r["a"].determinant(this.array)},fromQuat:function(t){return r["a"].fromQuat(this.array,t.array),this._dirty=!0,this},fromRotationTranslation:function(t,e){return r["a"].fromRotationTranslation(this.array,t.array,e.array),this._dirty=!0,this},fromMat2d:function(t){return l.fromMat2d(this,t),this},frustum:function(t,e,n,i,a,o){return r["a"].frustum(this.array,t,e,n,i,a,o),this._dirty=!0,this},identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},lookAt:function(t,e,n){return r["a"].lookAt(this.array,t.array,e.array,n.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},ortho:function(t,e,n,i,a,o){return r["a"].ortho(this.array,t,e,n,i,a,o),this._dirty=!0,this},perspective:function(t,e,n,i){return r["a"].perspective(this.array,t,e,n,i),this._dirty=!0,this},rotate:function(t,e){return r["a"].rotate(this.array,this.array,t,e.array),this._dirty=!0,this},rotateX:function(t){return r["a"].rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return r["a"].rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return r["a"].rotateZ(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r["a"].translate(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return r["a"].transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var t=i["a"].create(),e=i["a"].create(),n=i["a"].create(),r=o["a"].create();return function(s,l,c){var u=this.array;i["a"].set(t,u[0],u[1],u[2]),i["a"].set(e,u[4],u[5],u[6]),i["a"].set(n,u[8],u[9],u[10]);var A=i["a"].length(t),h=i["a"].length(e),f=i["a"].length(n),d=this.determinant();d<0&&(A=-A),s&&s.set(A,h,f),c.set(u[12],u[13],u[14]),o["a"].fromMat4(r,u),r[0]/=A,r[1]/=A,r[2]/=A,r[3]/=h,r[4]/=h,r[5]/=h,r[6]/=f,r[7]/=f,r[8]/=f,a["a"].fromMat3(l.array,r),a["a"].normalize(l.array,l.array),l._dirty=!0,c._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var c=Object.defineProperty;if(c){var u=l.prototype;c(u,"z",{get:function(){var t=this.array;return this._axisZ.set(t[8],t[9],t[10]),this._axisZ},set:function(t){var e=this.array;t=t.array,e[8]=t[0],e[9]=t[1],e[10]=t[2],this._dirty=!0}}),c(u,"y",{get:function(){var t=this.array;return this._axisY.set(t[4],t[5],t[6]),this._axisY},set:function(t){var e=this.array;t=t.array,e[4]=t[0],e[5]=t[1],e[6]=t[2],this._dirty=!0}}),c(u,"x",{get:function(){var t=this.array;return this._axisX.set(t[0],t[1],t[2]),this._axisX},set:function(t){var e=this.array;t=t.array,e[0]=t[0],e[1]=t[1],e[2]=t[2],this._dirty=!0}})}l.adjoint=function(t,e){return r["a"].adjoint(t.array,e.array),t._dirty=!0,t},l.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},l.determinant=function(t){return r["a"].determinant(t.array)},l.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},l.ortho=function(t,e,n,i,a,o,s){return r["a"].ortho(t.array,e,n,i,a,o,s),t._dirty=!0,t},l.perspective=function(t,e,n,i,a){return r["a"].perspective(t.array,e,n,i,a),t._dirty=!0,t},l.lookAt=function(t,e,n,i){return r["a"].lookAt(t.array,e.array,n.array,i.array),t._dirty=!0,t},l.invert=function(t,e){return r["a"].invert(t.array,e.array),t._dirty=!0,t},l.mul=function(t,e,n){return r["a"].mul(t.array,e.array,n.array),t._dirty=!0,t},l.multiply=l.mul,l.fromQuat=function(t,e){return r["a"].fromQuat(t.array,e.array),t._dirty=!0,t},l.fromRotationTranslation=function(t,e,n){return r["a"].fromRotationTranslation(t.array,e.array,n.array),t._dirty=!0,t},l.fromMat2d=function(t,e){t._dirty=!0;e=e.array,t=t.array;return t[0]=e[0],t[4]=e[2],t[12]=e[4],t[1]=e[1],t[5]=e[3],t[13]=e[5],t},l.rotate=function(t,e,n,i){return r["a"].rotate(t.array,e.array,n,i.array),t._dirty=!0,t},l.rotateX=function(t,e,n){return r["a"].rotateX(t.array,e.array,n),t._dirty=!0,t},l.rotateY=function(t,e,n){return r["a"].rotateY(t.array,e.array,n),t._dirty=!0,t},l.rotateZ=function(t,e,n){return r["a"].rotateZ(t.array,e.array,n),t._dirty=!0,t},l.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n.array),t._dirty=!0,t},l.transpose=function(t,e){return r["a"].transpose(t.array,e.array),t._dirty=!0,t},l.translate=function(t,e,n){return r["a"].translate(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=l},function(t,e,n){"use strict";var r=n(109),i=n(53),a=n(23),o=function(){this.__uid__=a["a"].genGUID()};o.__initializers__=[function(t){a["a"].extend(this,t)}],a["a"].extend(o,r["a"]),a["a"].extend(o.prototype,i["a"]),e["a"]=o},function(t,e,n){"use strict";var r=n(23),i=n(13),a=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,o=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,s=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,l={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function c(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}var u={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return c(2)},vec3:function(){return c(3)},vec4:function(){return c(4)},ivec2:function(){return c(2)},ivec3:function(){return c(3)},ivec4:function(){return c(4)},mat2:function(){return c(4)},mat3:function(){return c(9)},mat4:function(){return c(16)},array:function(){return[]}},A=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],h=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME","LOG_DEPTH_BUFFER_FC"],f=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],d={vec4:4,vec3:3,vec2:2,float:1},p={},m={};function g(t,e){var n="vertex:"+t+"fragment:"+e;if(p[n])return p[n];var i=r["a"].genGUID();return p[n]=i,m[i]={vertex:t,fragment:e},i}function v(t){return t.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function _(){console.error("Wrong uniform/attributes syntax")}function y(t,e){for(var n=/[,=\(\):]/,r=e.replace(/:\s*\[\s*(.*)\s*\]/g,"="+t+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),a=[],o=0;o<r.length;o++)r[o].match(n)?a.push(r[o].charAt(0),r[o].slice(1)):a.push(r[o]);r=a;var s,l=0,c=1,u=2,d=3,p=4,m=5,g=l,v={},y=null;function w(t){t||_();var e=t.match(/\[(.*?)\]/);s=t.replace(/\[(.*?)\]/,""),v[s]={},e&&(v[s].isArray=!0,v[s].arraySize=e[1])}w(r[0]);for(o=1;o<r.length;o++){var x=r[o];if(x)if("="!==x)if(":"!==x)if(","!==x)if(")"!==x)if("("!==x)if(x.indexOf("vec")>=0){if(g!==c&&g!==p){_();break}g=u,y=[]}else if(g!==c)if(g!==p)w(x),g=l;else{var b=x;A.indexOf(b)>=0||h.indexOf(b)>=0||f.indexOf(b)>=0?v[s].semantic=b:"ignore"===b||"unconfigurable"===b?v[s].ignore=!0:v[s].value="bool"===t?"true"===b:parseFloat(b)}else v[s].value="bool"===t?"true"===x:parseFloat(x),y=null;else{if(g!==u){_();break}if(!(y instanceof Array)){_();break}y.push(+r[++o])}else v[s].value=new i["a"].Float32Array(y),y=null,g=m;else if(g===u){if(!(y instanceof Array)){_();break}y.push(+r[++o])}else g=m;else g=p;else{if(g!==l&&g!==d){_();break}g=c}}return v}function w(t,e){"object"===typeof t&&(e=t.fragment,t=t.vertex),t=v(t),e=v(e),this._shaderID=g(t,e),this._vertexCode=w.parseImport(t),this._fragmentCode=w.parseImport(e),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}w.prototype={constructor:w,createUniforms:function(){var t={};for(var e in this.uniformTemplates){var n=this.uniformTemplates[e];t[e]={type:n.type,value:n.value()}}return t},_parseImport:function(){this._vertexCode=w.parseImport(this.vertex),this._fragmentCode=w.parseImport(this.fragment)},_addSemanticUniform:function(t,e,n){if(A.indexOf(n)>=0)this.attributeSemantics[n]={symbol:t,type:e};else if(f.indexOf(n)>=0){var r=!1,i=n;n.match(/TRANSPOSE$/)&&(r=!0,i=n.slice(0,-9)),this.matrixSemantics[n]={symbol:t,type:e,isTranspose:r,semanticNoTranspose:i}}else h.indexOf(n)>=0&&(this.uniformSemantics[n]={symbol:t,type:e})},_addMaterialUniform:function(t,e,n,r,i,a){a[t]={type:n,value:i?u["array"]:r||u[e],semantic:null}},_parseUniforms:function(){var t={},e=this,n="vertex";function r(t){return null!=t?function(){return t}:null}function i(i,a,o){var s=y(a,o),c=[];for(var u in s){var A=s[u],h=A.semantic,f=u,d=l[a],p=r(s[u].value);s[u].isArray&&(f+="["+s[u].arraySize+"]",d+="v"),c.push(f),e._uniformList.push(u),A.ignore||("sampler2D"!==a&&"samplerCube"!==a||(e.textures[u]={shaderType:n,type:a}),h?e._addSemanticUniform(u,d,h):e._addMaterialUniform(u,a,d,p,s[u].isArray,t))}return c.length>0?"uniform "+a+" "+c.join(",")+";\n":""}this._uniformList=[],this._vertexCode=this._vertexCode.replace(a,i),n="fragment",this._fragmentCode=this._fragmentCode.replace(a,i),e.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=t},_parseAttributes:function(){var t={},e=this;function n(n,r,i){var a=y(r,i),o=d[r]||1,s=[];for(var l in a){var c=a[l].semantic;if(t[l]={type:"float",size:o,semantic:c||null},c){if(A.indexOf(c)<0)throw new Error('Unkown semantic "'+c+'"');e.attributeSemantics[c]={symbol:l,type:r}}s.push(l)}return"attribute "+r+" "+s.join(",")+";\n"}this._vertexCode=this._vertexCode.replace(o,n),this.attributes=t},_parseDefines:function(){var t=this,e="vertex";function n(n,r,i){var a="vertex"===e?t.vertexDefines:t.fragmentDefines;return a[r]||(a[r]="false"!==i&&("true"===i||(i?isNaN(parseFloat(i))?i.trim():parseFloat(i):null))),""}this._vertexCode=this._vertexCode.replace(s,n),e="fragment",this._fragmentCode=this._fragmentCode.replace(s,n)},clone:function(){var t=m[this._shaderID],e=new w(t.vertex,t.fragment);return e}},Object.defineProperty&&(Object.defineProperty(w.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(w.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(w.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(w.prototype,"uniforms",{get:function(){return this._uniformList}}));var x=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;w.parseImport=function(t){return t=t.replace(x,(function(t,e,n){t=w.source(n);return t?w.parseImport(t):(console.error('Shader chunk "'+n+'" not existed in library'),"")})),t};var b=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;w["import"]=function(t){t.replace(b,(function(t,e,n,r){r=r.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(r){var i,a=n.split("."),o=w.codes,s=0;while(s<a.length-1)i=a[s++],o[i]||(o[i]={}),o=o[i];i=a[s],o[i]=r}return r}))},w.codes={},w.source=function(t){var e=t.split("."),n=w.codes,r=0;while(n&&r<e.length){var i=e[r++];n=n[i]}return"string"!==typeof n?(console.error('Shader "'+t+'" not existed in library'),""):n},e["a"]=w},function(t,e,n){"use strict";var r=n(8),i=n(4),a=(n(27),n(11)),o=n(57),s="framebuffer",l="renderbuffer",c=l+"_width",u=l+"_height",A=l+"_attached",h="depthtexture_attached",f=a["a"].FRAMEBUFFER,d=a["a"].RENDERBUFFER,p=a["a"].DEPTH_ATTACHMENT,m=a["a"].COLOR_ATTACHMENT0,g=r["a"].extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},(function(){this._cache=new o["a"],this._textures={}}),{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(t){if(t.__currentFrameBuffer){if(t.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}t.__currentFrameBuffer=this;var e=t.gl;e.bindFramebuffer(f,this._getFrameBufferGL(t)),this._boundRenderer=t;var n=this._cache;n.put("viewport",t.viewport);var r,i,a=!1;for(var o in this._textures){a=!0;var s=this._textures[o];s&&(r=s.texture.width,i=s.texture.height,this._doAttach(t,s.texture,o,s.target))}this._width=r,this._height=i,!a&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?t.setViewport(this.viewport):t.setViewport(0,0,r,i,1);var m=n.get("attached_textures");if(m)for(var o in m)if(!this._textures[o]){var g=m[o];this._doDetach(e,o,g)}if(!n.get(h)&&this.depthBuffer){n.miss(l)&&n.put(l,e.createRenderbuffer());var v=n.get(l);r===n.get(c)&&i===n.get(u)||(e.bindRenderbuffer(d,v),e.renderbufferStorage(d,e.DEPTH_COMPONENT16,r,i),n.put(c,r),n.put(u,i),e.bindRenderbuffer(d,null)),n.get(A)||(e.framebufferRenderbuffer(f,p,d,v),n.put(A,!0))}},unbind:function(t){t.__currentFrameBuffer=null;var e=t.gl;e.bindFramebuffer(f,null),this._boundRenderer=null,this._cache.use(t.__uid__);var n=this._cache.get("viewport");n&&t.setViewport(n),this.updateMipmap(t)},updateMipmap:function(t){var e=t.gl;for(var n in this._textures){var r=this._textures[n];if(r){var o=r.texture;if(!o.NPOT&&o.useMipmap&&o.minFilter===i["a"].LINEAR_MIPMAP_LINEAR){var s="textureCube"===o.textureType?a["a"].TEXTURE_CUBE_MAP:a["a"].TEXTURE_2D;e.bindTexture(s,o.getWebGLTexture(t)),e.generateMipmap(s),e.bindTexture(s,null)}}}},checkStatus:function(t){return t.checkFramebufferStatus(f)},_getFrameBufferGL:function(t){var e=this._cache;return e.use(t.__uid__),e.miss(s)&&e.put(s,t.gl.createFramebuffer()),e.get(s)},attach:function(t,e,n){if(!t.width)throw new Error("The texture attached to color buffer is not a valid.");e=e||m,n=n||a["a"].TEXTURE_2D;var r,i=this._boundRenderer,o=i&&i.gl;if(o){var s=this._cache;s.use(i.__uid__),r=s.get("attached_textures")}var l=this._textures[e];if(!l||l.target!==n||l.texture!==t||!r||null==r[e]){var c=!0;i&&(c=this._doAttach(i,t,e,n),this.viewport||i.setViewport(0,0,t.width,t.height,1)),c&&(this._textures[e]=this._textures[e]||{},this._textures[e].texture=t,this._textures[e].target=n)}},_doAttach:function(t,e,n,r){var i=t.gl,o=e.getWebGLTexture(t),s=this._cache.get("attached_textures");if(s&&s[n]){var c=s[n];if(c.texture===e&&c.target===r)return}n=+n;var u=!0;if(n===p||n===a["a"].DEPTH_STENCIL_ATTACHMENT){var m=t.getGLExtension("WEBGL_depth_texture");if(m||console.error("Depth texture is not supported by the browser"),e.format!==a["a"].DEPTH_COMPONENT&&e.format!==a["a"].DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),u=!1),u){var g=this._cache.get(l);g&&(i.framebufferRenderbuffer(f,p,d,null),i.deleteRenderbuffer(g),this._cache.put(l,!1)),this._cache.put(A,!1),this._cache.put(h,!0)}}return i.framebufferTexture2D(f,n,r,o,0),s||(s={},this._cache.put("attached_textures",s)),s[n]=s[n]||{},s[n].texture=e,s[n].target=r,u},_doDetach:function(t,e,n){t.framebufferTexture2D(f,e,n,null,0);var r=this._cache.get("attached_textures");r&&r[e]&&(r[e]=null),e!==p&&e!==a["a"].DEPTH_STENCIL_ATTACHMENT||this._cache.put(h,!1)},detach:function(t,e){if(this._textures[t]=null,this._boundRenderer){var n=this._cache;n.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,t,e)}},dispose:function(t){var e=t.gl,n=this._cache;n.use(t.__uid__);var r=n.get(l);r&&e.deleteRenderbuffer(r);var i=n.get(s);i&&e.deleteFramebuffer(i),n.deleteContext(t.__uid__),this._textures={}}});g.DEPTH_ATTACHMENT=p,g.COLOR_ATTACHMENT0=m,g.STENCIL_ATTACHMENT=a["a"].STENCIL_ATTACHMENT,g.DEPTH_STENCIL_ATTACHMENT=a["a"].DEPTH_STENCIL_ATTACHMENT,e["a"]=g},function(t,e,n){"use strict";e["a"]={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var e=new r["a"](3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},fromValues:function(t,e,n){var i=new r["a"](3);return i[0]=t,i[1]=e,i[2]=n,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2];return t[0]=i*l-a*s,t[1]=a*o-r*l,t[2]=r*s-i*o,t},i.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t},i.random=function(t,e){e=e||1;var n=2*Object(r["c"])()*Math.PI,i=2*Object(r["c"])()-1,a=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*a-l*i,A=c*i+l*r-o*a,h=c*a+o*i-s*r,f=-o*r-s*i-l*a;return t[0]=u*c+f*-o+A*-l-h*-s,t[1]=A*c+f*-s+h*-o-u*-l,t[2]=h*c+f*-l+u*-s-A*-o,t},i.rotateX=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var s,l;for(n||(n=3),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var a=i.dot(n,r);return a>1?0:Math.acos(a)},e["a"]=i},function(t,e,n){"use strict";(function(t){var r,i=n(111),a={supportWebGL:function(){if(null==r)try{var t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)throw new Error}catch(n){r=!1}return r}};a.Int8Array="undefined"===typeof Int8Array?Array:Int8Array,a.Uint8Array="undefined"===typeof Uint8Array?Array:Uint8Array,a.Uint16Array="undefined"===typeof Uint16Array?Array:Uint16Array,a.Uint32Array="undefined"===typeof Uint32Array?Array:Uint32Array,a.Int16Array="undefined"===typeof Int16Array?Array:Int16Array,a.Float32Array="undefined"===typeof Float32Array?Array:Float32Array,a.Float64Array="undefined"===typeof Float64Array?Array:Float64Array;var o={};"undefined"!==typeof window?o=window:"undefined"!==typeof t&&(o=t),a.requestAnimationFrame=o.requestAnimationFrame||o.msRequestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},a.createCanvas=function(){return document.createElement("canvas")},a.createImage=function(){return new o.Image},a.request={get:i["a"].get},a.addEventListener=function(t,e,n,r){t.addEventListener(e,n,r)},a.removeEventListener=function(t,e,n){t.removeEventListener(e,n)},e["a"]=a}).call(e,n(67))},function(t,e,n){"use strict";var r=n(13),i=n(12),a=n(21),o=n(18),s=n(117),l=i["a"].create,c=i["a"].add,u=i["a"].set,A=s["a"].Attribute,h=s["a"].extend((function(){return{attributes:{position:new A("position","float",3,"POSITION"),texcoord0:new A("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new A("texcoord1","float",2,"TEXCOORD_1"),normal:new A("normal","float",3,"NORMAL"),tangent:new A("tangent","float",4,"TANGENT"),color:new A("color","float",4,"COLOR"),weight:new A("weight","float",3,"WEIGHT"),joint:new A("joint","float",4,"JOINT"),barycentric:new A("barycentric","float",3,null)},boundingBox:null}}),{mainAttribute:"position",updateBoundingBox:function(){var t=this.boundingBox;t||(t=this.boundingBox=new o["a"]);var e=this.attributes.position.value;if(e&&e.length){var n=t.min,r=t.max,a=n.array,s=r.array;i["a"].set(a,e[0],e[1],e[2]),i["a"].set(s,e[0],e[1],e[2]);for(var l=3;l<e.length;){var c=e[l++],u=e[l++],A=e[l++];c<a[0]&&(a[0]=c),u<a[1]&&(a[1]=u),A<a[2]&&(a[2]=A),c>s[0]&&(s[0]=c),u>s[1]&&(s[1]=u),A>s[2]&&(s[2]=A)}n._dirty=!0,r._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var t=this.indices,e=this.attributes,n=e.position.value,a=e.normal.value;if(a&&a.length===n.length)for(var o=0;o<a.length;o++)a[o]=0;else a=e.normal.value=new r["a"].Float32Array(n.length);for(var s,c,A,h=l(),f=l(),d=l(),p=l(),m=l(),g=l(),v=t?t.length:this.vertexCount,_=0;_<v;){t?(s=t[_++],c=t[_++],A=t[_++]):(s=_++,c=_++,A=_++),u(h,n[3*s],n[3*s+1],n[3*s+2]),u(f,n[3*c],n[3*c+1],n[3*c+2]),u(d,n[3*A],n[3*A+1],n[3*A+2]),i["a"].sub(p,h,f),i["a"].sub(m,f,d),i["a"].cross(g,p,m);for(o=0;o<3;o++)a[3*s+o]=a[3*s+o]+g[o],a[3*c+o]=a[3*c+o]+g[o],a[3*A+o]=a[3*A+o]+g[o]}for(o=0;o<a.length;)u(g,a[o],a[o+1],a[o+2]),i["a"].normalize(g,g),a[o++]=g[0],a[o++]=g[1],a[o++]=g[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.indices,e=this.attributes,n=e.position.value,r=e.normal.value,a=l(),o=l(),s=l(),c=l(),A=l(),h=l();r||(r=e.normal.value=new Float32Array(n.length));for(var f,d,p,m=t?t.length:this.vertexCount,g=0;g<m;){t?(f=t[g++],d=t[g++],p=t[g++]):(f=g++,d=g++,p=g++),u(a,n[3*f],n[3*f+1],n[3*f+2]),u(o,n[3*d],n[3*d+1],n[3*d+2]),u(s,n[3*p],n[3*p+1],n[3*p+2]),i["a"].sub(c,a,o),i["a"].sub(A,o,s),i["a"].cross(h,c,A),i["a"].normalize(h,h);for(var v=0;v<3;v++)r[3*f+v]=h[v],r[3*d+v]=h[v],r[3*p+v]=h[v]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var t=this.vertexCount,e=this.attributes;e.tangent.value||(e.tangent.value=new Float32Array(4*t));var n=e.texcoord0.value,r=e.position.value,a=e.tangent.value,o=e.normal.value;if(n){for(var s=[],u=[],A=0;A<t;A++)s[A]=[0,0,0],u[A]=[0,0,0];var h,f,d,p=[0,0,0],m=[0,0,0],g=this.indices,v=g?g.length:this.vertexCount;for(A=0;A<v;){g?(h=g[A++],f=g[A++],d=g[A++]):(h=A++,f=A++,d=A++);var _=n[2*h],y=n[2*f],w=n[2*d],x=n[2*h+1],b=n[2*f+1],C=n[2*d+1],B=r[3*h],E=r[3*f],T=r[3*d],S=r[3*h+1],M=r[3*f+1],N=r[3*d+1],D=r[3*h+2],O=r[3*f+2],U=r[3*d+2],I=E-B,L=T-B,F=M-S,R=N-S,P=O-D,Q=U-D,H=y-_,k=w-_,z=b-x,V=C-x,G=1/(H*V-z*k);p[0]=(V*I-z*L)*G,p[1]=(V*F-z*R)*G,p[2]=(V*P-z*Q)*G,m[0]=(H*L-k*I)*G,m[1]=(H*R-k*F)*G,m[2]=(H*Q-k*P)*G,c(s[h],s[h],p),c(s[f],s[f],p),c(s[d],s[d],p),c(u[h],u[h],m),c(u[f],u[f],m),c(u[d],u[d],m)}var K=l(),j=l(),X=l();for(A=0;A<t;A++){X[0]=o[3*A],X[1]=o[3*A+1],X[2]=o[3*A+2];var W=s[A];i["a"].scale(K,X,i["a"].dot(X,W)),i["a"].sub(K,W,K),i["a"].normalize(K,K),i["a"].cross(j,X,W),a[4*A]=K[0],a[4*A+1]=K[1],a[4*A+2]=K[2],a[4*A+3]=i["a"].dot(j,u[A])<0?-1:1}this.dirty()}else console.warn("Geometry without texcoords can't generate tangents.")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){this.indices.length>65535&&(this.indices=new r["a"].Uint32Array(this.indices));for(var t=this.attributes,e=this.indices,n=this.getEnabledAttributes(),i={},a=0;a<n.length;a++){var o=n[a];i[o]=t[o].value,t[o].init(this.indices.length)}for(var s=0,l=0;l<e.length;l++){var c=e[l];for(a=0;a<n.length;a++){o=n[a];for(var u=t[o].value,A=t[o].size,h=0;h<A;h++)u[s*A+h]=i[o][c*A+h]}e[l]=s,s++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.attributes,e=t.barycentric.value,n=this.indices;if(!e||e.length!==3*n.length){e=t.barycentric.value=new Float32Array(3*n.length);for(var r=0;r<(n?n.length:this.vertexCount/3);)for(var i=0;i<3;i++){var a=n?n[r++]:3*r+i;e[3*a+i]=1}this.dirty()}}},applyTransform:function(t){var e=this.attributes,n=e.position.value,r=e.normal.value,o=e.tangent.value;t=t.array;var s=a["a"].create();a["a"].invert(s,t),a["a"].transpose(s,s);var l=i["a"].transformMat4,c=i["a"].forEach;c(n,3,0,null,l,t),r&&c(r,3,0,null,l,s),o&&c(o,4,0,null,l,s),this.boundingBox&&this.updateBoundingBox()},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var c=this.__vaoCache[l].vao;c&&s.deleteVertexArrayOES(c)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});h.STATIC_DRAW=s["a"].STATIC_DRAW,h.DYNAMIC_DRAW=s["a"].DYNAMIC_DRAW,h.STREAM_DRAW=s["a"].STREAM_DRAW,h.AttributeBuffer=s["a"].AttributeBuffer,h.IndicesBuffer=s["a"].IndicesBuffer,h.Attribute=A,e["a"]=h},function(t,e,n){"use strict";var r=n(8),i=n(38),a=n(43),o=n(9),s=n(19),l=n(41),c=n(11),u=n(125);o["a"]["import"](u["a"]);var A=new a["a"],h=new l["a"]({geometry:A,frustumCulling:!1}),f=new i["a"],d=r["a"].extend((function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}}),(function(){var t=new o["a"](o["a"].source("clay.compositor.vertex"),this.fragment),e=new s["a"]({shader:t});e.enableTexturesAll(),this.material=e}),{setUniform:function(t,e){this.material.setUniform(t,e)},getUniform:function(t){var e=this.material.uniforms[t];if(e)return e.value},attachOutput:function(t,e){this.outputs||(this.outputs={}),e=e||c["a"].COLOR_ATTACHMENT0,this.outputs[e]=t},detachOutput:function(t){for(var e in this.outputs)this.outputs[e]===t&&(this.outputs[e]=null)},bind:function(t,e){if(this.outputs)for(var n in this.outputs){var r=this.outputs[n];r&&e.attach(r,n)}e&&e.bind(t)},unbind:function(t,e){e.unbind(t)},render:function(t,e){var n=t.gl;if(e){this.bind(t,e);var r=t.getGLExtension("EXT_draw_buffers");if(r&&this.outputs){var i=[];for(var a in this.outputs)a=+a,a>=n.COLOR_ATTACHMENT0&&a<=n.COLOR_ATTACHMENT0+8&&i.push(a);r.drawBuffersEXT(i)}}this.trigger("beforerender",this,t);var o=this.clearDepth?n.DEPTH_BUFFER_BIT:0;if(n.depthMask(!0),this.clearColor){o|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0);var s=this.clearColor;Array.isArray(s)&&n.clearColor(s[0],s[1],s[2],s[3])}n.clear(o),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(t),this.trigger("afterrender",this,t),e&&this.unbind(t,e)},renderQuad:function(t){h.material=this.material,t.renderPass([h],f)},dispose:function(t){}});e["a"]=d},function(t,e){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},r={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},i=Object.prototype.toString,a=Array.prototype,o=a.forEach,s=a.filter,l=a.slice,c=a.map,u=a.reduce,A={};function h(t,e){"createCanvas"===t&&(v=null),A[t]=e}function f(t){if(null==t||"object"!==typeof t)return t;var e=t,a=i.call(t);if("[object Array]"===a){if(!Y(t)){e=[];for(var o=0,s=t.length;o<s;o++)e[o]=f(t[o])}}else if(r[a]){if(!Y(t)){var l=t.constructor;if(t.constructor.from)e=l.from(t);else{e=new l(t.length);for(o=0,s=t.length;o<s;o++)e[o]=f(t[o])}}}else if(!n[a]&&!Y(t)&&!P(t))for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=f(t[c]));return e}function d(t,e,n){if(!L(e)||!L(t))return n?f(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],a=e[r];!L(a)||!L(i)||O(a)||O(i)||P(a)||P(i)||F(a)||F(i)||Y(a)||Y(i)?!n&&r in t||(t[r]=f(e[r],!0)):d(i,a,n)}return t}function p(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=d(n,t[r],e);return n}function m(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function g(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}var v,_=function(){return A.createCanvas()};function y(){return v||(v=_().getContext("2d")),v}function w(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function x(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function b(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,g(t,e,n)}function C(t){if(t)return"string"!==typeof t&&"number"===typeof t.length}function B(t,e,n){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function E(t,e,n){if(t&&e){if(t.map&&t.map===c)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}}function T(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===u)return t.reduce(e,n,r);for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function S(t,e,n){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function M(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function N(t,e){var n=l.call(arguments,2);return function(){return t.apply(e,n.concat(l.call(arguments)))}}function D(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}}function O(t){return"[object Array]"===i.call(t)}function U(t){return"function"===typeof t}function I(t){return"[object String]"===i.call(t)}function L(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function F(t){return!!n[i.call(t)]}function R(t){return!!r[i.call(t)]}function P(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function Q(t){return t!==t}function H(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function k(t,e){return null!=t?t:e}function z(t,e,n){return null!=t?t:null!=e?e:n}function V(){return Function.call.apply(l,arguments)}function G(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function K(t,e){if(!t)throw new Error(e)}function j(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}A.createCanvas=function(){return document.createElement("canvas")};var X="__ec_primitive__";function W(t){t[X]=!0}function Y(t){return t[X]}function q(t){var e=O(t);this.data={};var n=this;function r(t,r){e?n.set(t,r):n.set(r,t)}t instanceof q?t.each(r):t&&B(t,r)}function J(t){return new q(t)}function Z(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function $(){}q.prototype={constructor:q,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=N(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}},e.$override=h,e.clone=f,e.merge=d,e.mergeAll=p,e.extend=m,e.defaults=g,e.createCanvas=_,e.getContext=y,e.indexOf=w,e.inherits=x,e.mixin=b,e.isArrayLike=C,e.each=B,e.map=E,e.reduce=T,e.filter=S,e.find=M,e.bind=N,e.curry=D,e.isArray=O,e.isFunction=U,e.isString=I,e.isObject=L,e.isBuiltInObject=F,e.isTypedArray=R,e.isDom=P,e.eqNaN=Q,e.retrieve=H,e.retrieve2=k,e.retrieve3=z,e.slice=V,e.normalizeCssArray=G,e.assert=K,e.trim=j,e.setAsPrimitive=W,e.isPrimitive=Y,e.createHashMap=J,e.concatArray=Z,e.noop=$},function(t,e,n){"use strict";e["a"]=function(t,e,n){return{seriesType:t,reset:function(t,e){var n=t.getData(),r=t.visualColorAccessPath.split(".");r[r.length-1]="opacity";var i=t.get(r);function a(t,e){var n=t.getItemModel(e),i=n.get(r,!0);null!=i&&t.setItemVisual(e,"opacity",i)}return n.setVisual("opacity",null==i?1:i),{dataEach:n.hasItemOption?a:null}}}}},function(t,e,n){"use strict";var r=n(3),i=n(12),a=i["a"].set,o=i["a"].copy,s=function(t,e){this.min=t||new r["a"](1/0,1/0,1/0),this.max=e||new r["a"](-1/0,-1/0,-1/0),this.vertices=null};s.prototype={constructor:s,updateFromVertices:function(t){if(t.length>0){var e=this.min,n=this.max,r=e.array,i=n.array;o(r,t[0]),o(i,t[0]);for(var a=1;a<t.length;a++){var s=t[a];s[0]<r[0]&&(r[0]=s[0]),s[1]<r[1]&&(r[1]=s[1]),s[2]<r[2]&&(r[2]=s[2]),s[0]>i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1]),s[2]>i[2]&&(i[2]=s[2])}e._dirty=!0,n._dirty=!0}},union:function(t){var e=this.min,n=this.max;return i["a"].min(e.array,e.array,t.min.array),i["a"].max(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersection:function(t){var e=this.min,n=this.max;return i["a"].max(e.array,e.array,t.min.array),i["a"].min(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return!(e[0]>i[0]||e[1]>i[1]||e[2]>i[2]||n[0]<r[0]||n[1]<r[1]||n[2]<r[2])},containBoundingBox:function(t){var e=this.min.array,n=this.max.array,r=t.min.array,i=t.max.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},containPoint:function(t){var e=this.min.array,n=this.max.array,r=t.array;return e[0]<=r[0]&&e[1]<=r[1]&&e[2]<=r[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},isFinite:function(){var t=this.min.array,e=this.max.array;return isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])},applyTransform:function(t){this.transformFrom(this,t)},transformFrom:function(){var t=i["a"].create(),e=i["a"].create(),n=i["a"].create(),r=i["a"].create(),a=i["a"].create(),o=i["a"].create();return function(i,s){var l=i.min.array,c=i.max.array,u=s.array;return t[0]=u[0]*l[0],t[1]=u[1]*l[0],t[2]=u[2]*l[0],e[0]=u[0]*c[0],e[1]=u[1]*c[0],e[2]=u[2]*c[0],n[0]=u[4]*l[1],n[1]=u[5]*l[1],n[2]=u[6]*l[1],r[0]=u[4]*c[1],r[1]=u[5]*c[1],r[2]=u[6]*c[1],a[0]=u[8]*l[2],a[1]=u[9]*l[2],a[2]=u[10]*l[2],o[0]=u[8]*c[2],o[1]=u[9]*c[2],o[2]=u[10]*c[2],l=this.min.array,c=this.max.array,l[0]=Math.min(t[0],e[0])+Math.min(n[0],r[0])+Math.min(a[0],o[0])+u[12],l[1]=Math.min(t[1],e[1])+Math.min(n[1],r[1])+Math.min(a[1],o[1])+u[13],l[2]=Math.min(t[2],e[2])+Math.min(n[2],r[2])+Math.min(a[2],o[2])+u[14],c[0]=Math.max(t[0],e[0])+Math.max(n[0],r[0])+Math.max(a[0],o[0])+u[12],c[1]=Math.max(t[1],e[1])+Math.max(n[1],r[1])+Math.max(a[1],o[1])+u[13],c[2]=Math.max(t[2],e[2])+Math.max(n[2],r[2])+Math.max(a[2],o[2])+u[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(t){var e=this.min.array,n=this.max.array,r=t.array,i=e[0],a=e[1],o=e[2],s=n[0],l=n[1],c=e[2],u=n[0],A=n[1],h=n[2];if(1===r[15])e[0]=r[0]*i+r[12],e[1]=r[5]*a+r[13],n[2]=r[10]*o+r[14],n[0]=r[0]*u+r[12],n[1]=r[5]*A+r[13],e[2]=r[10]*h+r[14];else{var f=-1/o;e[0]=r[0]*i*f,e[1]=r[5]*a*f,n[2]=(r[10]*o+r[14])*f,f=-1/c,n[0]=r[0]*s*f,n[1]=r[5]*l*f,f=-1/h,e[2]=(r[10]*h+r[14])*f}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var t=this.vertices;if(!t){t=[];for(var e=0;e<8;e++)t[e]=i["a"].fromValues(0,0,0);this.vertices=t}var n=this.min.array,r=this.max.array;return a(t[0],n[0],n[1],n[2]),a(t[1],n[0],r[1],n[2]),a(t[2],r[0],n[1],n[2]),a(t[3],r[0],r[1],n[2]),a(t[4],n[0],n[1],r[2]),a(t[5],n[0],r[1],r[2]),a(t[6],r[0],n[1],r[2]),a(t[7],r[0],r[1],r[2]),this},copy:function(t){var e=this.min,n=this.max;return o(e.array,t.min.array),o(n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},clone:function(){var t=new s;return t.copy(this),t}},e["a"]=s},function(t,e,n){"use strict";var r=n(8),i=n(23),a=n(112),o=a["a"].parseToFloat,s={};function l(t){var e=Object.keys(t);e.sort();for(var n=[],r=0;r<e.length;r++){var i=e[r],a=t[i];null===a?n.push(i):n.push(i+" "+a.toString())}return n.join("\n")}function c(t,e,n){n.sort();for(var r=[],a=0;a<n.length;a++){var o=n[a];r.push(o)}var c=l(t)+"\n"+l(e)+"\n"+r.join("\n");if(s[c])return s[c];var u=i["a"].genGUID();return s[c]=u,u}var u=r["a"].extend((function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}}),(function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)}),{precision:"highp",setUniform:function(t,e){void 0===e&&console.warn('Uniform value "'+t+'" is undefined');var n=this.uniforms[t];n&&("string"===typeof e&&(e=o(e)||e),n.value=e,this.autoUpdateTextureStatus&&"t"===n.type&&(e?this.enableTexture(t):this.disableTexture(t)))},setUniforms:function(t){for(var e in t){var n=t[e];this.setUniform(e,n)}},isUniformEnabled:function(t){return this._enabledUniforms.indexOf(t)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(t,e){if("object"===typeof t)for(var n in t){var r=t[n];this.setUniform(n,r)}else this.setUniform(t,e)},get:function(t){var e=this.uniforms[t];if(e)return e.value},attachShader:function(t,e){var n=this.uniforms;this.uniforms=t.createUniforms(),this.shader=t;var r=this.uniforms;this._enabledUniforms=Object.keys(r),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter((function(t){var e=this.uniforms[t].type;return"t"===e||"tv"===e}),this);var a=this.vertexDefines,o=this.fragmentDefines;if(this.vertexDefines=i["a"].clone(t.vertexDefines),this.fragmentDefines=i["a"].clone(t.fragmentDefines),e){for(var s in n)r[s]&&(r[s].value=n[s].value);i["a"].defaults(this.vertexDefines,a),i["a"].defaults(this.fragmentDefines,o)}var l={};for(var c in t.textures)l[c]={shaderType:t.textures[c].shaderType,type:t.textures[c].type,enabled:!(!e||!this._textureStatus[c])&&this._textureStatus[c].enabled};this._textureStatus=l,this._programKey=""},clone:function(){var t=new this.constructor({name:this.name,shader:this.shader});for(var e in this.uniforms)t.uniforms[e].value=this.uniforms[e].value;return t.depthTest=this.depthTest,t.depthMask=this.depthMask,t.transparent=this.transparent,t.blend=this.blend,t.vertexDefines=i["a"].clone(this.vertexDefines),t.fragmentDefines=i["a"].clone(this.fragmentDefines),t.enableTexture(this.getEnabledTextures()),t.precision=this.precision,t},define:function(t,e,n){var r=this.vertexDefines,i=this.fragmentDefines;"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<3&&(n=e,e=t,t="both"),n=null!=n?n:null,"vertex"!==t&&"both"!==t||r[e]!==n&&(r[e]=n,this._programKey=""),"fragment"!==t&&"both"!==t||i[e]!==n&&(i[e]=n,"both"!==t&&(this._programKey=""))},undefine:function(t,e){"vertex"!==t&&"fragment"!==t&&"both"!==t&&arguments.length<2&&(e=t,t="both"),"vertex"!==t&&"both"!==t||this.isDefined("vertex",e)&&(delete this.vertexDefines[e],this._programKey=""),"fragment"!==t&&"both"!==t||this.isDefined("fragment",e)&&(delete this.fragmentDefines[e],"both"!==t&&(this._programKey=""))},isDefined:function(t,e){switch(t){case"vertex":return void 0!==this.vertexDefines[e];case"fragment":return void 0!==this.fragmentDefines[e]}},getDefine:function(t,e){switch(t){case"vertex":return this.vertexDefines[e];case"fragment":return this.fragmentDefines[e]}},enableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.enableTexture(t[e]);else{var n=this._textureStatus[t];if(n){var r=n.enabled;r||(n.enabled=!0,this._programKey="")}}},enableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!0;this._programKey=""},disableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.disableTexture(t[e]);else{var n=this._textureStatus[t];if(n){var r=!n.enabled;r||(n.enabled=!1,this._programKey="")}}},disableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!1;this._programKey=""},isTextureEnabled:function(t){var e=this._textureStatus;return!!e[t]&&e[t].enabled},getEnabledTextures:function(){var t=[],e=this._textureStatus;for(var n in e)e[n].enabled&&t.push(n);return t},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=c(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});e["a"]=u},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a}));var r=1e-6,i=Array,a=Math.random},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new r["a"](16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],A=e[9],h=e[10],f=e[11],d=e[12],p=e[13],m=e[14],g=e[15],v=n*s-r*o,_=n*l-i*o,y=n*c-a*o,w=r*l-i*s,x=r*c-a*s,b=i*c-a*l,C=u*p-A*d,B=u*m-h*d,E=u*g-f*d,T=A*m-h*p,S=A*g-f*p,M=h*g-f*m,N=v*M-_*S+y*T+w*E-x*B+b*C;return N?(N=1/N,t[0]=(s*M-l*S+c*T)*N,t[1]=(i*S-r*M-a*T)*N,t[2]=(p*b-m*x+g*w)*N,t[3]=(h*x-A*b-f*w)*N,t[4]=(l*E-o*M-c*B)*N,t[5]=(n*M-i*E+a*B)*N,t[6]=(m*y-d*b-g*_)*N,t[7]=(u*b-h*y+f*_)*N,t[8]=(o*S-s*E+c*C)*N,t[9]=(r*E-n*S-a*C)*N,t[10]=(d*x-p*y+g*v)*N,t[11]=(A*y-u*x-f*v)*N,t[12]=(s*B-o*T-l*C)*N,t[13]=(n*T-r*B+i*C)*N,t[14]=(p*_-d*w-m*v)*N,t[15]=(u*w-A*_+h*v)*N,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],A=e[9],h=e[10],f=e[11],d=e[12],p=e[13],m=e[14],g=e[15];return t[0]=s*(h*g-f*m)-A*(l*g-c*m)+p*(l*f-c*h),t[1]=-(r*(h*g-f*m)-A*(i*g-a*m)+p*(i*f-a*h)),t[2]=r*(l*g-c*m)-s*(i*g-a*m)+p*(i*c-a*l),t[3]=-(r*(l*f-c*h)-s*(i*f-a*h)+A*(i*c-a*l)),t[4]=-(o*(h*g-f*m)-u*(l*g-c*m)+d*(l*f-c*h)),t[5]=n*(h*g-f*m)-u*(i*g-a*m)+d*(i*f-a*h),t[6]=-(n*(l*g-c*m)-o*(i*g-a*m)+d*(i*c-a*l)),t[7]=n*(l*f-c*h)-o*(i*f-a*h)+u*(i*c-a*l),t[8]=o*(A*g-f*p)-u*(s*g-c*p)+d*(s*f-c*A),t[9]=-(n*(A*g-f*p)-u*(r*g-a*p)+d*(r*f-a*A)),t[10]=n*(s*g-c*p)-o*(r*g-a*p)+d*(r*c-a*s),t[11]=-(n*(s*f-c*A)-o*(r*f-a*A)+u*(r*c-a*s)),t[12]=-(o*(A*m-h*p)-u*(s*m-l*p)+d*(s*h-l*A)),t[13]=n*(A*m-h*p)-u*(r*m-i*p)+d*(r*h-i*A),t[14]=-(n*(s*m-l*p)-o*(r*m-i*p)+d*(r*l-i*s)),t[15]=n*(s*h-l*A)-o*(r*h-i*A)+u*(r*l-i*s),t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],A=t[10],h=t[11],f=t[12],d=t[13],p=t[14],m=t[15],g=e*o-n*a,v=e*s-r*a,_=e*l-i*a,y=n*s-r*o,w=n*l-i*o,x=r*l-i*s,b=c*d-u*f,C=c*p-A*f,B=c*m-h*f,E=u*p-A*d,T=u*m-h*d,S=A*m-h*p;return g*S-v*T+_*E+y*B-w*C+x*b},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],A=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],_=n[0],y=n[1],w=n[2],x=n[3];return t[0]=_*r+y*s+w*A+x*p,t[1]=_*i+y*l+w*h+x*m,t[2]=_*a+y*c+w*f+x*g,t[3]=_*o+y*u+w*d+x*v,_=n[4],y=n[5],w=n[6],x=n[7],t[4]=_*r+y*s+w*A+x*p,t[5]=_*i+y*l+w*h+x*m,t[6]=_*a+y*c+w*f+x*g,t[7]=_*o+y*u+w*d+x*v,_=n[8],y=n[9],w=n[10],x=n[11],t[8]=_*r+y*s+w*A+x*p,t[9]=_*i+y*l+w*h+x*m,t[10]=_*a+y*c+w*f+x*g,t[11]=_*o+y*u+w*d+x*v,_=n[12],y=n[13],w=n[14],x=n[15],t[12]=_*r+y*s+w*A+x*p,t[13]=_*i+y*l+w*h+x*m,t[14]=_*a+y*c+w*f+x*g,t[15]=_*o+y*u+w*d+x*v,t},multiplyAffine:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[4],s=e[5],l=e[6],c=e[8],u=e[9],A=e[10],h=e[12],f=e[13],d=e[14],p=n[0],m=n[1],g=n[2];return t[0]=p*r+m*o+g*c,t[1]=p*i+m*s+g*u,t[2]=p*a+m*l+g*A,p=n[4],m=n[5],g=n[6],t[4]=p*r+m*o+g*c,t[5]=p*i+m*s+g*u,t[6]=p*a+m*l+g*A,p=n[8],m=n[9],g=n[10],t[8]=p*r+m*o+g*c,t[9]=p*i+m*s+g*u,t[10]=p*a+m*l+g*A,p=n[12],m=n[13],g=n[14],t[12]=p*r+m*o+g*c+h,t[13]=p*i+m*s+g*u+f,t[14]=p*a+m*l+g*A+d,t}};i.mul=i.multiply,i.mulAffine=i.multiplyAffine,i.translate=function(t,e,n){var r,i,a,o,s,l,c,u,A,h,f,d,p=n[0],m=n[1],g=n[2];return e===t?(t[12]=e[0]*p+e[4]*m+e[8]*g+e[12],t[13]=e[1]*p+e[5]*m+e[9]*g+e[13],t[14]=e[2]*p+e[6]*m+e[10]*g+e[14],t[15]=e[3]*p+e[7]*m+e[11]*g+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],A=e[8],h=e[9],f=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=A,t[9]=h,t[10]=f,t[11]=d,t[12]=r*p+s*m+A*g+e[12],t[13]=i*p+l*m+h*g+e[13],t[14]=a*p+c*m+f*g+e[14],t[15]=o*p+u*m+d*g+e[15]),t},i.scale=function(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.rotate=function(t,e,n,i){var a,o,s,l,c,u,A,h,f,d,p,m,g,v,_,y,w,x,b,C,B,E,T,S,M=i[0],N=i[1],D=i[2],O=Math.sqrt(M*M+N*N+D*D);return Math.abs(O)<r["b"]?null:(O=1/O,M*=O,N*=O,D*=O,a=Math.sin(n),o=Math.cos(n),s=1-o,l=e[0],c=e[1],u=e[2],A=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8],g=e[9],v=e[10],_=e[11],y=M*M*s+o,w=N*M*s+D*a,x=D*M*s-N*a,b=M*N*s-D*a,C=N*N*s+o,B=D*N*s+M*a,E=M*D*s+N*a,T=N*D*s-M*a,S=D*D*s+o,t[0]=l*y+h*w+m*x,t[1]=c*y+f*w+g*x,t[2]=u*y+d*w+v*x,t[3]=A*y+p*w+_*x,t[4]=l*b+h*C+m*B,t[5]=c*b+f*C+g*B,t[6]=u*b+d*C+v*B,t[7]=A*b+p*C+_*B,t[8]=l*E+h*T+m*S,t[9]=c*E+f*T+g*S,t[10]=u*E+d*T+v*S,t[11]=A*E+p*T+_*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],A=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+u*r,t[6]=s*i+A*r,t[7]=l*i+h*r,t[8]=c*i-a*r,t[9]=u*i-o*r,t[10]=A*i-s*r,t[11]=h*i-l*r,t},i.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],A=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-u*r,t[2]=s*i-A*r,t[3]=l*i-h*r,t[8]=a*r+c*i,t[9]=o*r+u*i,t[10]=s*r+A*i,t[11]=l*r+h*i,t},i.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],A=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+u*r,t[2]=s*i+A*r,t[3]=l*i+h*r,t[4]=c*i-a*r,t[5]=u*i-o*r,t[6]=A*i-s*r,t[7]=h*i-l*r,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,l=i+i,c=a+a,u=r*s,A=r*l,h=r*c,f=i*l,d=i*c,p=a*c,m=o*s,g=o*l,v=o*c;return t[0]=1-(f+p),t[1]=A+v,t[2]=h-g,t[3]=0,t[4]=A-v,t[5]=1-(u+p),t[6]=d+m,t[7]=0,t[8]=h+g,t[9]=d-m,t[10]=1-(u+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,c=n*o,u=r*o,A=r*s,h=i*o,f=i*s,d=i*l,p=a*o,m=a*s,g=a*l;return t[0]=1-A-d,t[1]=u+g,t[2]=h-m,t[3]=0,t[4]=u-g,t[5]=1-c-d,t[6]=f+p,t[7]=0,t[8]=h+m,t[9]=f-p,t[10]=1-c-A,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,a,o){var s=1/(n-e),l=1/(i-r),c=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t},i.perspective=function(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t},i.ortho=function(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(o+a)*c,t[15]=1,t},i.lookAt=function(t,e,n,a){var o,s,l,c,u,A,h,f,d,p,m=e[0],g=e[1],v=e[2],_=a[0],y=a[1],w=a[2],x=n[0],b=n[1],C=n[2];return Math.abs(m-x)<r["b"]&&Math.abs(g-b)<r["b"]&&Math.abs(v-C)<r["b"]?i.identity(t):(h=m-x,f=g-b,d=v-C,p=1/Math.sqrt(h*h+f*f+d*d),h*=p,f*=p,d*=p,o=y*d-w*f,s=w*h-_*d,l=_*f-y*h,p=Math.sqrt(o*o+s*s+l*l),p?(p=1/p,o*=p,s*=p,l*=p):(o=0,s=0,l=0),c=f*l-d*s,u=d*o-h*l,A=h*s-f*o,p=Math.sqrt(c*c+u*u+A*A),p?(p=1/p,c*=p,u*=p,A*=p):(c=0,u=0,A=0),t[0]=o,t[1]=c,t[2]=h,t[3]=0,t[4]=s,t[5]=u,t[6]=f,t[7]=0,t[8]=l,t[9]=A,t[10]=d,t[11]=0,t[12]=-(o*m+s*g+l*v),t[13]=-(c*m+u*g+A*v),t[14]=-(h*m+f*g+d*v),t[15]=1,t)},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e["a"]=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(36),o=n(176),s=n(37),l=n(38),c=n(7),u=n(3),A=n(26),h=n(53),f=n(178),d=n(202),p=n(49);function m(t){t=t||"perspective",this.layer=null,this.scene=new a["a"],this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(t),this._compositor=new f["a"],this._temporalSS=new d["a"],this._shadowMapPass=new o["a"];for(var e=[],n=0,r=0;r<30;r++){for(var i=[],s=0;s<6;s++)i.push(4*Object(p["a"])(n,2)-2),i.push(4*Object(p["a"])(n,3)-2),n++;e.push(i)}this._pcfKernels=e,this.scene.on("beforerender",(function(t,e,n){this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,n)}),this)}m.prototype.setProjection=function(t){var e=this.camera;e&&e.update(),"perspective"===t?this.camera instanceof s["a"]||(this.camera=new s["a"],e&&this.camera.setLocalTransform(e.localTransform)):this.camera instanceof l["a"]||(this.camera=new l["a"],e&&this.camera.setLocalTransform(e.localTransform)),this.camera.near=.1,this.camera.far=2e3},m.prototype.setViewport=function(t,e,n,r,i){this.camera instanceof s["a"]&&(this.camera.aspect=n/r),i=i||1,this.viewport.x=t,this.viewport.y=e,this.viewport.width=n,this.viewport.height=r,this.viewport.devicePixelRatio=i,this._compositor.resize(n*i,r*i),this._temporalSS.resize(n*i,r*i)},m.prototype.containPoint=function(t,e){var n=this.viewport,r=this.layer.renderer.getHeight();return e=r-e,t>=n.x&&e>=n.y&&t<=n.x+n.width&&e<=n.y+n.height};var g=new A["a"];m.prototype.castRay=function(t,e,n){var r=this.layer.renderer,i=r.viewport;return r.viewport=this.viewport,r.screenToNDC(t,e,g),this.camera.castRay(g,n),r.viewport=i,n},m.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var t=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var e=0;e<t.transparent.length;e++){var n=t.transparent[e],r=n.geometry;r.needsSortVerticesProgressively&&r.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),r.needsSortTrianglesProgressively&&r.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},m.prototype.render=function(t,e){this._doRender(t,e,this._frame),this._frame++},m.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},m.prototype.needsTemporalSS=function(){var t=this._enableTemporalSS;return"auto"===t&&(t=this._enablePostEffect),t},m.prototype.hasDOF=function(){return this._enableDOF},m.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30},m.prototype._doRender=function(t,e,n){var r=this.scene,i=this.camera;n=n||0,this._updateTransparent(t,r,i,n),e||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(t,r,i,!0)),this._updateShadowPCFKernel(n);var a=t.clearColor;if(t.gl.clearColor(a[0],a[1],a[2],a[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,i),this._compositor.updateNormal(t,r,i,this._temporalSS.getFrame())),this._updateSSAO(t,r,i,this._temporalSS.getFrame()),this._enablePostEffect){var o=this._compositor.getSourceFrameBuffer();o.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),t.render(r,i,!0,!0),o.unbind(t),this.needsTemporalSS()&&e?(this._compositor.composite(t,r,i,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),t.setViewport(this.viewport),this._temporalSS.render(t)):(t.setViewport(this.viewport),this._compositor.composite(t,r,i,null,0))}else if(this.needsTemporalSS()&&e){o=this._temporalSS.getSourceFrameBuffer();o.bind(t),t.saveClear(),t.clearBit=t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT,t.render(r,i,!0,!0),t.restoreClear(),o.unbind(t),t.setViewport(this.viewport),this._temporalSS.render(t)}else t.setViewport(this.viewport),t.render(r,i,!0,!0)},m.prototype._updateTransparent=function(t,e,n,r){for(var i=new u["a"],a=new c["a"],o=n.getWorldPosition(),s=e.getRenderList(n).transparent,l=0;l<s.length;l++){var A=s[l],h=A.geometry;c["a"].invert(a,A.worldTransform),u["a"].transformMat4(i,o,a),h.needsSortTriangles&&h.needsSortTriangles()&&h.doSortTriangles(i,r),h.needsSortVertices&&h.needsSortVertices()&&h.doSortVertices(i,r)}},m.prototype._updateSSAO=function(t,e,n){var r=this._enableSSAO&&this._enablePostEffect;r&&this._compositor.updateSSAO(t,e,n,this._temporalSS.getFrame());for(var i=e.getRenderList(n),a=0;a<i.opaque.length;a++){var o=i.opaque[a];o.renderNormal&&o.material[r?"enableTexture":"disableTexture"]("ssaoMap"),r&&o.material.set("ssaoMap",this._compositor.getSSAOTexture())}},m.prototype._updateShadowPCFKernel=function(t){for(var e=this._pcfKernels[t%this._pcfKernels.length],n=this.scene.getRenderList(this.camera),r=n.opaque,i=0;i<r.length;i++)r[i].receiveShadow&&(r[i].material.set("pcfKernel",e),r[i].material.define("fragment","PCF_KERNEL_SIZE",e.length/2))},m.prototype.dispose=function(t){this._compositor.dispose(t.gl),this._temporalSS.dispose(t.gl),this._shadowMapPass.dispose(t)},m.prototype.setPostEffect=function(t,e){var n=this._compositor;this._enablePostEffect=t.get("enable");var r=t.getModel("bloom"),i=t.getModel("edge"),a=t.getModel("DOF",t.getModel("depthOfField")),o=t.getModel("SSAO",t.getModel("screenSpaceAmbientOcclusion")),s=t.getModel("SSR",t.getModel("screenSpaceReflection")),l=t.getModel("FXAA"),c=t.getModel("colorCorrection");r.get("enable")?n.enableBloom():n.disableBloom(),a.get("enable")?n.enableDOF():n.disableDOF(),s.get("enable")?n.enableSSR():n.disableSSR(),c.get("enable")?n.enableColorCorrection():n.disableColorCorrection(),i.get("enable")?n.enableEdge():n.disableEdge(),l.get("enable")?n.enableFXAA():n.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=o.get("enable"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(r.get("intensity")),n.setEdgeColor(i.get("color")),n.setColorLookupTexture(c.get("lookupTexture"),e),n.setExposure(c.get("exposure")),["radius","quality","intensity"].forEach((function(t){n.setSSAOParameter(t,o.get(t))})),["quality","maxRoughness","physical"].forEach((function(t){n.setSSRParameter(t,s.get(t))})),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach((function(t){n.setDOFParameter(t,a.get(t))})),["brightness","contrast","saturation"].forEach((function(t){n.setColorCorrection(t,c.get(t))}))},m.prototype.setDOFFocusOnPoint=function(t){if(this._enablePostEffect){if(t>this.camera.far||t<this.camera.near)return;return this._compositor.setDOFParameter("focalDistance",t),!0}},m.prototype.setTemporalSuperSampling=function(t){this._enableTemporalSS=t.get("enable")},m.prototype.isLinearSpace=function(){return this._enablePostEffect},m.prototype.setRootNode=function(t){if(this.rootNode!==t){for(var e=this.rootNode.children(),n=0;n<e.length;n++)t.add(e[n]);t!==this.scene&&this.scene.add(t),this.rootNode=t}},m.prototype.add=function(t){this.rootNode.add(t)},m.prototype.remove=function(t){this.rootNode.remove(t)},m.prototype.removeAll=function(t){this.rootNode.removeAll(t)},i.a.util.extend(m.prototype,h["a"]),e["a"]=m},function(t,e,n){"use strict";var r=0,i=Array.prototype,a=i.forEach,o={genGUID:function(){return++r},relative2absolute:function(t,e){if(!e||t.match(/^\//))return t;var n=t.split("/"),r=e.split("/"),i=n[0];while("."===i||".."===i)".."===i&&r.pop(),n.shift(),i=n[0];return r.join("/")+"/"+n.join("/")},extend:function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t,e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t},extendWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}return t},defaultsWithPropList:function(t,e,n){if(e)for(var r=0;r<n.length;r++){var i=n[r];null==t[i]&&(t[i]=e[i])}return t},each:function(t,e,n){if(t&&e)if(t.forEach&&t.forEach===a)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)},isObject:function(t){return t===Object(t)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return!!t&&t.length===+t.length},clone:function(t){if(o.isObject(t)){if(o.isArray(t))return t.slice();if(o.isArrayLike(t)){for(var e=new t.constructor(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}return o.extend({},t)}return t}};e["a"]=o},function(t,e,n){"use strict";var r=n(35),i=n(9),a=n(118);i["a"]["import"](a["a"]);var o=r["a"].extend((function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}}),{type:"",clone:function(){var t=r["a"].prototype.clone.call(this);return t.color=Array.prototype.slice.call(this.color),t.intensity=this.intensity,t.castShadow=this.castShadow,t.shadowResolution=this.shadowResolution,t}});e["a"]=o},function(t,e,n){"use strict";var r=n(14),i=n(0),a=n.n(i),o=n(39),s=n(6),l=s["a"].vec3,c=[[0,0],[1,1]],u=r["a"].extend((function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new r["a"].Attribute("position","float",3,"POSITION"),positionPrev:new r["a"].Attribute("positionPrev","float",3),positionNext:new r["a"].Attribute("positionNext","float",3),prevPositionPrev:new r["a"].Attribute("prevPositionPrev","float",3),prevPosition:new r["a"].Attribute("prevPosition","float",3),prevPositionNext:new r["a"].Attribute("prevPositionNext","float",3),offset:new r["a"].Attribute("offset","float",1),color:new r["a"].Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.positionPrev.init(t),e.positionNext.init(t),e.offset.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:this.vertexCount>65535?new Uint32Array(3*t):new Uint16Array(3*t))},_getCubicCurveApproxStep:function(t,e,n,r){var i=l.dist(t,e)+l.dist(n,e)+l.dist(r,n),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(c)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(c)},getPolylineVertexCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/3}return this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/3}return this.useNativeLine?0:2*Math.max(e-1,0)},addCubicCurve:function(t,e,n,r,i,a){null==a&&(a=1);var o=t[0],s=t[1],l=t[2],c=e[0],u=e[1],A=e[2],h=n[0],f=n[1],d=n[2],p=r[0],m=r[1],g=r[2],v=this._getCubicCurveApproxStep(t,e,n,r),_=v*v,y=_*v,w=3*v,x=3*_,b=6*_,C=6*y,B=o-2*c+h,E=s-2*u+f,T=l-2*A+d,S=3*(c-h)-o+p,M=3*(u-f)-s+m,N=3*(A-d)-l+g,D=o,O=s,U=l,I=(c-o)*w+B*x+S*y,L=(u-s)*w+E*x+M*y,F=(A-l)*w+T*x+N*y,R=B*b+S*C,P=E*b+M*C,Q=T*b+N*C,H=S*C,k=M*C,z=N*C,V=0,G=0,K=Math.ceil(1/v),j=new Float32Array(3*(K+1)),X=(j=[],0);for(G=0;G<K+1;G++)j[X++]=D,j[X++]=O,j[X++]=U,D+=I,O+=L,U+=F,I+=R,L+=P,F+=Q,R+=H,P+=k,Q+=z,V+=v,V>1&&(D=I>0?Math.min(D,p):Math.max(D,p),O=L>0?Math.min(O,m):Math.max(O,m),U=F>0?Math.min(U,g):Math.max(U,g));return this.addPolyline(j,i,a)},addLine:function(t,e,n,r){return this.addPolyline([t,e],n,r)},addPolyline:function(t,e,n,r,i){if(t.length){var a="number"!==typeof t[0];if(null==i&&(i=a?t.length:t.length/3),!(i<2)){null==r&&(r=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);a="number"!==typeof t[0];var o,s,l=a?"number"!==typeof e[0]:e.length/4===i,c=this.attributes.position,u=this.attributes.positionPrev,A=this.attributes.positionNext,h=this.attributes.color,f=this.attributes.offset,d=this.indices,p=this._vertexOffset;n=Math.max(n,.01);for(var m=r;m<i;m++){if(a)o=t[m],s=l?e[m]:e;else{var g=3*m;if(o=o||[],o[0]=t[g],o[1]=t[g+1],o[2]=t[g+2],l){var v=4*m;s=s||[],s[0]=e[v],s[1]=e[v+1],s[2]=e[v+2],s[3]=e[v+3]}else s=e}if(this.useNativeLine?m>1&&(c.copy(p,p-1),h.copy(p,p-1),p++):(m<i-1&&(u.set(p+2,o),u.set(p+3,o)),m>0&&(A.set(p-2,o),A.set(p-1,o)),c.set(p,o),c.set(p+1,o),h.set(p,s),h.set(p+1,s),f.set(p,n/2),f.set(p+1,-n/2),p+=2),this.useNativeLine)h.set(p,s),c.set(p,o),p++;else if(m>0){var _=3*this._triangleOffset;d=this.indices;d[_]=p-4,d[_+1]=p-3,d[_+2]=p-2,d[_+3]=p-3,d[_+4]=p-1,d[_+5]=p-2,this._triangleOffset+=2}}if(!this.useNativeLine){var y=this._vertexOffset,w=this._vertexOffset+2*i;u.copy(y,y+2),u.copy(y+1,y+3),A.copy(w-1,w-3),A.copy(w-2,w-4)}return this._vertexOffset=p,this._vertexOffset}}},setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],r=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,e);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});a.a.util.defaults(u.prototype,o["a"]),e["a"]=u},function(t,e,n){"use strict";var r=n(69),i=function(t,e){t=t||0,e=e||0,this.array=r["a"].fromValues(t,e),this._dirty=!0};if(i.prototype={constructor:i,add:function(t){return r["a"].add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e){return this.array[0]=t,this.array[1]=e,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this._dirty=!0,this},clone:function(){return new i(this.x,this.y)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return r["a"].cross(t.array,this.array,e.array),t._dirty=!0,this},dist:function(t){return r["a"].dist(this.array,t.array)},distance:function(t){return r["a"].distance(this.array,t.array)},div:function(t){return r["a"].div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r["a"].divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r["a"].dot(this.array,t.array)},len:function(){return r["a"].len(this.array)},length:function(){return r["a"].length(this.array)},lerp:function(t,e,n){return r["a"].lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r["a"].min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r["a"].max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r["a"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r["a"].normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r["a"].random(this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r["a"].scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r["a"].sqrDist(this.array,t.array)},squaredDistance:function(t){return r["a"].squaredDistance(this.array,t.array)},sqrLen:function(){return r["a"].sqrLen(this.array)},squaredLength:function(){return r["a"].squaredLength(this.array)},sub:function(t){return r["a"].sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r["a"].subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat2:function(t){return r["a"].transformMat2(this.array,this.array,t.array),this._dirty=!0,this},transformMat2d:function(t){return r["a"].transformMat2d(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return r["a"].transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r["a"].transformMat4(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var a=i.prototype;Object.defineProperty(a,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Object.defineProperty(a,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}})}i.add=function(t,e,n){return r["a"].add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n){return r["a"].set(t.array,e,n),t._dirty=!0,t},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.cross=function(t,e,n){return r["a"].cross(t.array,e.array,n.array),t._dirty=!0,t},i.dist=function(t,e){return r["a"].distance(t.array,e.array)},i.distance=i.dist,i.div=function(t,e,n){return r["a"].divide(t.array,e.array,n.array),t._dirty=!0,t},i.divide=i.div,i.dot=function(t,e){return r["a"].dot(t.array,e.array)},i.len=function(t){return r["a"].length(t.array)},i.lerp=function(t,e,n,i){return r["a"].lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r["a"].min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r["a"].max(t.array,e.array,n.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].multiply(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.negate=function(t,e){return r["a"].negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r["a"].normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r["a"].random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r["a"].scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.sqrDist=function(t,e){return r["a"].sqrDist(t.array,e.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(t){return r["a"].sqrLen(t.array)},i.squaredLength=i.sqrLen,i.sub=function(t,e,n){return r["a"].subtract(t.array,e.array,n.array),t._dirty=!0,t},i.subtract=i.sub,i.transformMat2=function(t,e,n){return r["a"].transformMat2(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat2d=function(t,e,n){return r["a"].transformMat2d(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat3=function(t,e,n){return r["a"].transformMat3(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return r["a"].transformMat4(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(4),i=n(11),a=n(23),o=n(72),s=n(13),l=o["a"].isPowerOfTwo,c=["px","nx","py","ny","pz","nz"],u=r["a"].extend((function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}}),{textureType:"textureCube",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(t);var n=this.format,r=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var a=t.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_CUBE_MAP,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===r){var o=t.getGLExtension("OES_texture_half_float");o||(r=i["a"].FLOAT)}if(this.mipmaps.length)for(var s=this.width,l=this.height,c=0;c<this.mipmaps.length;c++){var u=this.mipmaps[c];this._updateTextureData(e,u,c,s,l,n,r),s/=2,l/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,r),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(t,e,n,r,i,a,o){for(var s=0;s<6;s++){var l=c[s],u=e.image&&e.image[l];u?t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,a,o,u):t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,r,i,0,a,o,e.pixels&&e.pixels[l])}},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_CUBE_MAP))},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?l(this.image.px.width)&&l(this.image.px.height):l(this.width)&&l(this.height)},isRenderable:function(){return this.image.px?A(this.image.px)&&A(this.image.nx)&&A(this.image.py)&&A(this.image.ny)&&A(this.image.pz)&&A(this.image.nz):!(!this.width||!this.height)},load:function(t,e){var n=0,r=this;return a["a"].each(t,(function(t,i){var a=s["a"].createImage();e&&(a.crossOrigin=e),a.onload=function(){n--,0===n&&(r.dirty(),r.trigger("success",r))},a.onerror=function(){n--},n++,a.src=t,r.image[i]=a})),this}});function A(t){return t.width>0&&t.height>0}Object.defineProperty(u.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(u.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}}),e["a"]=u},function(t,e,n){"use strict";e["a"]={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}}},function(t,e,n){"use strict";e["a"]={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}}},function(t,e,n){"use strict";var r=n(1),i=n(42),a=n(0),o=n.n(a);function s(){}s.prototype={constructor:s,setScene:function(t){this._scene=t,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(t){this._lightRoot=t,this.mainLight=new r["a"].DirectionalLight({shadowBias:.005}),this.ambientLight=new r["a"].AmbientLight,t.add(this.mainLight),t.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(t){var e=this.mainLight,n=this.ambientLight,i=t.getModel("light"),a=i.getModel("main"),o=i.getModel("ambient");e.intensity=a.get("intensity"),n.intensity=o.get("intensity"),e.color=r["a"].parseColor(a.get("color")).slice(0,3),n.color=r["a"].parseColor(o.get("color")).slice(0,3);var s=a.get("alpha")||0,l=a.get("beta")||0;e.position.setArray(r["a"].directionFromAlphaBeta(s,l)),e.lookAt(r["a"].Vector3.ZERO),e.castShadow=a.get("shadow"),e.shadowResolution=r["a"].getShadowResolution(a.get("shadowQuality"))},updateAmbientCubemap:function(t,e,n){var i=e.getModel("light.ambientCubemap"),a=i.get("texture");if(a){this._cubemapLightsCache=this._cubemapLightsCache||{};var o=this._cubemapLightsCache[a];if(!o){var s=this;o=this._cubemapLightsCache[a]=r["a"].createAmbientCubemap(i.option,t,n,(function(){s._isSkyboxFromAmbientCubemap&&s._skybox.setEnvironmentMap(o.specular.cubemap),n.getZr().refresh()}))}this._lightRoot.add(o.diffuse),this._lightRoot.add(o.specular),this._currentCubemapLights=o}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(t,e,n){var a=e.get("environment"),s=this;function l(){return s._skybox=s._skybox||new i["a"],s._skybox}var c=l();if(a&&"none"!==a)if("auto"===a)if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var u=this._currentCubemapLights.specular.cubemap;c.setEnvironmentMap(u),this._scene&&c.attachScene(this._scene),c.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if("object"===typeof a&&a.colorStops||"string"===typeof a&&o.a.color.parse(a)){this._isSkyboxFromAmbientCubemap=!1;var A=new r["a"].Texture2D({anisotropic:8,flipY:!1});c.setEnvironmentMap(A);var h=A.image=document.createElement("canvas");h.width=h.height=16;var f=h.getContext("2d"),d=new o.a.graphic.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:a}});d.brush(f),c.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;A=r["a"].loadTexture(a,n,{anisotropic:8,flipY:!1});c.setEnvironmentMap(A),c.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var p=e.coordinateSystem;if(this._skybox)if(!p||!p.viewGL||"auto"===a||a.match&&a.match(/.hdr$/))this._skybox.material.undefine("fragment","SRGB_DECODE");else{var m=p.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[m]("fragment","SRGB_DECODE")}}},e["a"]=s},function(t,e,n){"use strict";e["a"]={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={getFormattedLabel:function(t,e,n,r,a){n=n||"normal";var o=t.getData(r),s=o.getItemModel(e),l=t.getDataParams(e,r);null!=a&&l.value instanceof Array&&(l.value=l.value[a]);var c,u=s.get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]);return null==u&&(u=s.get(["label","formatter"])),"function"===typeof u?(l.status=n,c=u(l)):"string"===typeof u&&(c=i.a.format.formatTpl(u,l)),c},normalizeToArray:function(t){return t instanceof Array?t:null==t?[]:[t]}};e["a"]=a},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new r["a"](4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,n,i){var a=new r["a"](4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=Object(r["c"])(),t[1]=Object(r["c"])(),t[2]=Object(r["c"])(),t[3]=Object(r["c"])(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*a-l*i,A=c*i+l*r-o*a,h=c*a+o*i-s*r,f=-o*r-s*i-l*a;return t[0]=u*c+f*-o+A*-l-h*-s,t[1]=A*c+f*-s+h*-o-u*-l,t[2]=h*c+f*-l+u*-s-A*-o,t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var s,l;for(n||(n=4),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),e["a"]=i},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new r["a"](9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],A=u*o-s*c,h=-u*a+s*l,f=c*a-o*l,d=n*A+r*h+i*f;return d?(d=1/d,t[0]=A*d,t[1]=(-u*r+i*c)*d,t[2]=(s*r-i*o)*d,t[3]=h*d,t[4]=(u*n-i*l)*d,t[5]=(-s*n+i*a)*d,t[6]=f*d,t[7]=(-c*n+r*l)*d,t[8]=(o*n-r*a)*d,t):null},adjoint:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return t[0]=o*u-s*c,t[1]=i*c-r*u,t[2]=r*s-i*o,t[3]=s*l-a*u,t[4]=n*u-i*l,t[5]=i*a-n*s,t[6]=a*c-o*l,t[7]=r*l-n*c,t[8]=n*o-r*a,t},determinant:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8];return e*(c*a-o*l)+n*(-c*i+o*s)+r*(l*i-a*s)},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],A=e[8],h=n[0],f=n[1],d=n[2],p=n[3],m=n[4],g=n[5],v=n[6],_=n[7],y=n[8];return t[0]=h*r+f*o+d*c,t[1]=h*i+f*s+d*u,t[2]=h*a+f*l+d*A,t[3]=p*r+m*o+g*c,t[4]=p*i+m*s+g*u,t[5]=p*a+m*l+g*A,t[6]=v*r+_*o+y*c,t[7]=v*i+_*s+y*u,t[8]=v*a+_*l+y*A,t}};i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],A=e[8],h=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=h*r+f*o+c,t[7]=h*i+f*s+u,t[8]=h*a+f*l+A,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],A=e[8],h=Math.sin(n),f=Math.cos(n);return t[0]=f*r+h*o,t[1]=f*i+h*s,t[2]=f*a+h*l,t[3]=f*o-h*r,t[4]=f*s-h*i,t[5]=f*l-h*a,t[6]=c,t[7]=u,t[8]=A,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,c=n*o,u=r*o,A=r*s,h=i*o,f=i*s,d=i*l,p=a*o,m=a*s,g=a*l;return t[0]=1-A-d,t[3]=u-g,t[6]=h+m,t[1]=u+g,t[4]=1-c-d,t[7]=f-p,t[2]=h-m,t[5]=f+p,t[8]=1-c-A,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],A=e[9],h=e[10],f=e[11],d=e[12],p=e[13],m=e[14],g=e[15],v=n*s-r*o,_=n*l-i*o,y=n*c-a*o,w=r*l-i*s,x=r*c-a*s,b=i*c-a*l,C=u*p-A*d,B=u*m-h*d,E=u*g-f*d,T=A*m-h*p,S=A*g-f*p,M=h*g-f*m,N=v*M-_*S+y*T+w*E-x*B+b*C;return N?(N=1/N,t[0]=(s*M-l*S+c*T)*N,t[1]=(l*E-o*M-c*B)*N,t[2]=(o*S-s*E+c*C)*N,t[3]=(i*S-r*M-a*T)*N,t[4]=(n*M-i*E+a*B)*N,t[5]=(r*E-n*S-a*C)*N,t[6]=(p*b-m*x+g*w)*N,t[7]=(m*y-d*b-g*_)*N,t[8]=(d*x-p*y+g*v)*N,t):null},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e["a"]=i},function(t,e,n){"use strict";var r=n(8),i=n(3),a=n(56),o=n(7),s=n(21),l=n(18),c=0,u=r["a"].extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},(function(){this.name||(this.name=(this.type||"NODE")+"_"+c++),this.position||(this.position=new i["a"]),this.rotation||(this.rotation=new a["a"]),this.scale||(this.scale=new i["a"](1,1,1)),this.worldTransform=new o["a"],this.localTransform=new o["a"],this._children=[]}),{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(t){var e=this._scene;if(e){var n=e._nodeRepository;delete n[this.name],n[t]=this}this.name=t},add:function(t){var e=t._parent;if(e!==this){e&&e.remove(t),t._parent=this,this._children.push(t);var n=this._scene;n&&n!==t.scene&&t.traverse(this._addSelfToScene,this),t._needsUpdateWorldTransform=!0}},remove:function(t){var e=this._children,n=e.indexOf(t);n<0||(e.splice(n,1),t._parent=null,this._scene&&t.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var t=this._children,e=0;e<t.length;e++)t[e]._parent=null,this._scene&&t[e].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(t){t._scene.removeFromScene(t),t._scene=null},_addSelfToScene:function(t){this._scene.addToScene(t),t._scene=this._scene},isAncestor:function(t){var e=t._parent;while(e){if(e===this)return!0;e=e._parent}return!1},children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},getChildByName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},getDescendantByName:function(t){for(var e=this._children,n=0;n<e.length;n++){var r=e[n];if(r.name===t)return r;var i=r.getDescendantByName(t);if(i)return i}},queryNode:function(t){if(t){for(var e=t.split("/"),n=this,r=0;r<e.length;r++){var i=e[r];if(i){for(var a=!1,o=n._children,s=0;s<o.length;s++){var l=o[s];if(l.name===i){n=l,a=!0;break}}if(!a)return}}return n}},getPath:function(t){if(!this._parent)return"/";var e=this._parent,n=this.name;while(e._parent){if(n=e.name+"/"+n,e._parent==t)break;e=e._parent}return!e._parent&&t?null:n},traverse:function(t,e){t.call(e,this);for(var n=this._children,r=0,i=n.length;r<i;r++)n[r].traverse(t,e)},eachChild:function(t,e){for(var n=this._children,r=0,i=n.length;r<i;r++){var a=n[r];t.call(e,a,r)}},setLocalTransform:function(t){s["a"].copy(this.localTransform.array,t.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(t){var e=t?null:this.scale;this.localTransform.decomposeMatrix(e,this.rotation,this.position)},setWorldTransform:function(t){s["a"].copy(this.worldTransform.array,t.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var t=s["a"].create();return function(e){var n=this.localTransform,r=this.worldTransform;this._parent?(s["a"].invert(t,this._parent.worldTransform.array),s["a"].multiply(n.array,t,r.array)):s["a"].copy(n.array,r.array);var i=e?null:this.scale;n.decomposeMatrix(i,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var t=this.position,e=this.rotation,n=this.scale;if(this.transformNeedsUpdate()){var r=this.localTransform.array;s["a"].fromRotationTranslation(r,e.array,t.array),s["a"].scale(r,r,n.array),e._dirty=!1,n._dirty=!1,t._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var t=this.localTransform.array,e=this.worldTransform.array;this._parent?s["a"].multiplyAffine(e,this._parent.worldTransform.array,t):s["a"].copy(e,t)},updateWorldTransform:function(){var t=this;while(t&&t.getParent()&&t.getParent().transformNeedsUpdate())t=t.getParent();t.update()},update:function(t){this.autoUpdateLocalTransform?this.updateLocalTransform():t=!0,(t||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),t=!0,this._needsUpdateWorldTransform=!1);for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].update(t)},getBoundingBox:function(){function t(t){return!t.invisible&&t.geometry}var e=new l["a"],n=new o["a"],r=new o["a"];return function(i,a){return a=a||new l["a"],i=i||t,this._parent?o["a"].invert(r,this._parent.worldTransform):o["a"].identity(r),this.traverse((function(t){t.geometry&&t.geometry.boundingBox&&(e.copy(t.geometry.boundingBox),o["a"].multiply(n,r,t.worldTransform),e.applyTransform(n),a.union(e))}),this,t),a}}(),getWorldPosition:function(t){this.transformNeedsUpdate()&&this.updateWorldTransform();var e=this.worldTransform.array;if(t){var n=t.array;return n[0]=e[12],n[1]=e[13],n[2]=e[14],t}return new i["a"](e[12],e[13],e[14])},clone:function(){var t=new this.constructor,e=this._children;t.setName(this.name),t.position.copy(this.position),t.rotation.copy(this.rotation),t.scale.copy(this.scale);for(var n=0;n<e.length;n++)t.add(e[n].clone());return t},rotateAround:function(){var t=new i["a"],e=new o["a"];return function(n,r,i){t.copy(this.position).subtract(n);var a=this.localTransform;a.identity(),a.translate(n),a.rotate(i,r),e.fromRotationTranslation(this.rotation,t),a.multiply(e),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var t=new o["a"];return function(e,n){t.lookAt(this.position,e,n||this.localTransform.y).invert(),this.setLocalTransform(t),this.target=e}}()});e["a"]=u},function(t,e,n){"use strict";var r=n(35),i=n(24),a=n(58),o=n(18),s=n(23),l=n(21),c=n(68),u=n(7),A=l["a"].create(),h=l["a"].create(),f={};function d(t){var e=[],n=Object.keys(t);n.sort();for(var r=0;r<n.length;r++){var i=n[r];e.push(i+" "+t[i])}var a=e.join("\n");if(f[a])return f[a];var o=s["a"].genGUID();return f[a]=o,o}function p(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}p.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},p.prototype.add=function(t,e){e?this.transparent[this._transparentCount++]=t:this.opaque[this._opaqueCount++]=t},p.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var m=r["a"].extend((function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new o["a"],shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new c["a"](20)}}),(function(){this._scene=this}),{addToScene:function(t){t instanceof a["a"]?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(t)):t instanceof i["a"]&&this.lights.push(t),t.name&&(this._nodeRepository[t.name]=t)},removeFromScene:function(t){var e;t instanceof a["a"]?(e=this._cameraList.indexOf(t),e>=0&&this._cameraList.splice(e,1)):t instanceof i["a"]&&(e=this.lights.indexOf(t),e>=0&&this.lights.splice(e,1)),t.name&&delete this._nodeRepository[t.name]},getNode:function(t){return this._nodeRepository[t]},setMainCamera:function(t){var e=this._cameraList.indexOf(t);e>=0&&this._cameraList.splice(e,1),this._cameraList.unshift(t)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var t=this.lights;this._previousLightNumber=this._lightNumber;for(var e={},n=0;n<t.length;n++){var r=t[n];if(!r.invisible){var i=r.group;e[i]||(e[i]={}),e[i][r.type]=e[i][r.type]||0,e[i][r.type]++}}for(var a in this._lightNumber=e,e)this._lightProgramKeys[a]=d(e[a]);this._updateLightUniforms()},cloneNode:function(t){var e=t.clone(),n={};function r(t,e){n[t.__uid__]=e;for(var i=0;i<t._children.length;i++){var a=t._children[i],o=e._children[i];r(a,o)}}return r(t,e),e.traverse((function(t){t.skeleton&&(t.skeleton=t.skeleton.clone(n)),t.material&&(t.material=t.material.clone())})),e},updateRenderList:function(t,e){var n=t.__uid__,r=this._renderLists.get(n);r||(r=new p,this._renderLists.put(n,r)),r.startCount(),e&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var i=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,t,i,r,e),r.endCount(),r},getRenderList:function(t){return this._renderLists.get(t.__uid__)},_doUpdateRenderList:function(t,e,n,r,i){if(!t.invisible)for(var a=0;a<t._children.length;a++){var o=t._children[a];if(o.isRenderable()){var s=o.isSkinnedMesh()?A:o.worldTransform.array,c=o.geometry;l["a"].multiplyAffine(h,e.viewMatrix.array,s),(i&&!c.boundingBox||!this.isFrustumCulled(o,e,h))&&r.add(o,o.material.transparent||n)}o._children.length>0&&this._doUpdateRenderList(o,e,n,r,i)}},isFrustumCulled:function(){var t=new o["a"],e=new u["a"];return function(n,r,i){var a=n.boundingBox;if(a||(a=n.skeleton&&n.skeleton.boundingBox?n.skeleton.boundingBox:n.geometry.boundingBox),!a)return!1;if(e.array=i,t.transformFrom(a,e),n.castShadow&&this.viewBoundingBoxLastFrame.union(t),n.frustumCulling){if(!t.intersectBoundingBox(r.frustum.boundingBox))return!0;e.array=r.projectionMatrix.array,t.max.array[2]>0&&t.min.array[2]<0&&(t.max.array[2]=-1e-20),t.applyProjection(e);var o=t.min.array,s=t.max.array;if(s[0]<-1||o[0]>1||s[1]<-1||o[1]>1||s[2]<-1||o[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var t=this.lights;t.sort(g);var e=this._lightUniforms;for(var n in e)for(var r in e[n])e[n][r].value.length=0;for(var i=0;i<t.length;i++){var a=t[i];if(!a.invisible){n=a.group;for(var r in a.uniformTemplates){var o=a.uniformTemplates[r],s=o.value(a);if(null!=s){e[n]||(e[n]={}),e[n][r]||(e[n][r]={type:"",value:[]});var l=e[n][r];switch(l.type=o.type+"v",o.type){case"1i":case"1f":case"t":l.value.push(s);break;case"2f":case"3f":case"4f":for(var c=0;c<s.length;c++)l.value.push(s[c]);break;default:console.error("Unkown light uniform type "+o.type)}}}}}},getLightGroups:function(){var t=[];for(var e in this._lightNumber)t.push(e);return t},getNumberChangedLightGroups:function(){var t=[];for(var e in this._lightNumber)this.isLightNumberChanged(e)&&t.push(e);return t},isLightNumberChanged:function(t){var e=this._previousLightNumber,n=this._lightNumber;for(var r in n[t]){if(!e[t])return!0;if(n[t][r]!==e[t][r])return!0}for(var r in e[t]){if(!n[t])return!0;if(n[t][r]!==e[t][r])return!0}return!1},getLightsNumbers:function(t){return this._lightNumber[t]},getProgramKey:function(t){return this._lightProgramKeys[t]},setLightUniforms:function(){function t(t,e,n){for(var r in t){var i=t[r];if("tv"===i.type){if(!e.hasUniform(r))continue;for(var a=[],o=0;o<i.value.length;o++){var s=i.value[o],l=e.takeCurrentTextureSlot(n,s);a.push(l)}e.setUniform(n.gl,"1iv",r,a)}else e.setUniform(n.gl,i.type,r,i.value)}}return function(e,n,r){t(this._lightUniforms[n],e,r),t(this.shadowUniforms,e,r)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function g(t,e){if(e.castShadow&&!t.castShadow)return!0}e["a"]=m},function(t,e,n){"use strict";var r=n(58),i=r["a"].extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,e=2*Math.atan(1/t[5]);this.fov=e/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=r["a"].prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}});e["a"]=i},function(t,e,n){"use strict";var r=n(58),i=r["a"].extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=r["a"].prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});e["a"]=i},function(t,e,n){"use strict";e["a"]={convertToDynamicArray:function(t){t&&this.resetOffset();var e=this.attributes;for(var n in e)t||!e[n].value?e[n].value=[]:e[n].value=Array.prototype.slice.call(e[n].value);t||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var t=this.attributes;for(var e in t)t[e].value&&t[e].value.length>0?t[e].value=new Float32Array(t[e].value):t[e].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function a(t,e){var n=[];return i.a.util.each(t.dimensions,(function(r){var i=t.getDimensionInfo(r),a=i.otherDims,o=a[e];null!=o&&!1!==o&&(n[o]=i.name)})),n}e["a"]=function(t,e,n){function r(t){var r=!0,s=[],l=a(o,"tooltip");function c(t,e){var a=o.getDimensionInfo(e);if(a&&!1!==a.otherDims.tooltip){var l=a.type,c=(r?"- "+(a.tooltipName||a.name)+": ":"")+("ordinal"===l?t+"":"time"===l?n?"":i.a.format.formatTime("yyyy/MM/dd hh:mm:ss",t):i.a.format.addCommas(t));c&&s.push(i.a.format.encodeHTML(c))}}return l.length?i.a.util.each(l,(function(t){c(o.get(t,e),t)})):i.a.util.each(t,c),(r?"<br/>":"")+s.join(r?"<br/>":", ")}var o=t.getData(),s=t.getRawValue(e),l=i.a.util.isArray(s)?r(s):i.a.format.encodeHTML(i.a.format.addCommas(s)),c=o.getName(e),u=o.getItemVisual(e,"color");i.a.util.isObject(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color),u=u||"transparent";var A=i.a.format.getTooltipMarker(u),h=t.name;return"\0-"===h&&(h=""),h=h?i.a.format.encodeHTML(h)+(n?": ":"<br/>"):"",n?A+h+l:h+A+(c?i.a.format.encodeHTML(c)+": "+l:l)}},function(t,e,n){"use strict";var r=n(71),i=n(11),a=r["a"].extend({skeleton:null,joints:null},(function(){this.joints||(this.joints=[])}),{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var t=r["a"].prototype.clone.call(this);return t.skeleton=this.skeleton,this.joints&&(t.joints=this.joints.slice()),t}});a.POINTS=i["a"].POINTS,a.LINES=i["a"].LINES,a.LINE_LOOP=i["a"].LINE_LOOP,a.LINE_STRIP=i["a"].LINE_STRIP,a.TRIANGLES=i["a"].TRIANGLES,a.TRIANGLE_STRIP=i["a"].TRIANGLE_STRIP,a.TRIANGLE_FAN=i["a"].TRIANGLE_FAN,a.BACK=i["a"].BACK,a.FRONT=i["a"].FRONT,a.FRONT_AND_BACK=i["a"].FRONT_AND_BACK,a.CW=i["a"].CW,a.CCW=i["a"].CCW,e["a"]=a},function(t,e,n){"use strict";var r=n(41),i=n(76),a=n(9),o=n(19),s=n(4),l=n(37),c=n(7),u=n(120);a["a"].import(u["a"]);var A=r["a"].extend((function(){var t=new a["a"]({vertex:a["a"].source("clay.skybox.vertex"),fragment:a["a"].source("clay.skybox.fragment")}),e=new o["a"]({shader:t,depthMask:!1});return{scene:null,geometry:new i["a"],material:e,environmentMap:null,culling:!1,_dummyCamera:new l["a"]}}),(function(){var t=this.scene;t&&this.attachScene(t),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)}),{attachScene:function(t){this.scene&&this.detachScene(),t.skybox=this,this.scene=t,t.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(t){this.detachScene(),this.geometry.dispose(t)},setEnvironmentMap:function(t){"texture2D"===t.textureType?(this.material.define("EQUIRECTANGULAR"),t.minFilter=s["a"].LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",t)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(t,e,n){this.renderSkybox(t,n)},renderSkybox:function(t,e){var n=this._dummyCamera;n.aspect=t.getViewportAspect(),n.fov=e.fov||50,n.updateProjectionMatrix(),c["a"].invert(n.invProjectionMatrix,n.projectionMatrix),n.worldTransform.copy(e.worldTransform),n.viewMatrix.copy(e.viewMatrix),this.position.copy(e.getWorldPosition()),this.update(),t.gl.disable(t.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),t.renderPass([this],n)}});e["a"]=A},function(t,e,n){"use strict";var r=n(14),i=n(18),a=r["a"].extend({dynamic:!1,widthSegments:1,heightSegments:1},(function(){this.build()}),{build:function(){for(var t=this.heightSegments,e=this.widthSegments,n=this.attributes,r=[],a=[],o=[],s=[],l=0;l<=t;l++)for(var c=l/t,u=0;u<=e;u++){var A=u/e;if(r.push([2*A-1,2*c-1,0]),a&&a.push([A,c]),o&&o.push([0,0,1]),u<e&&l<t){var h=u+l*(e+1);s.push([h,h+1,h+e+1]),s.push([h+e+1,h+1,h+e+2])}}n.position.fromArray(r),n.texcoord0.fromArray(a),n.normal.fromArray(o),this.initIndicesFromArray(s),this.boundingBox=new i["a"],this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});e["a"]=a},function(t,e,n){"use strict";e["a"]={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(t){t=t||{},this.option.viewControl=this.option.viewControl||{},null!=t.alpha&&(this.option.viewControl.alpha=t.alpha),null!=t.beta&&(this.option.viewControl.beta=t.beta),null!=t.distance&&(this.option.viewControl.distance=t.distance),null!=t.center&&(this.option.viewControl.center=t.center)}}},function(t,e,n){"use strict";var r=n(8),i=n(26),a=n(3),o=(n(56),n(2)),s=o["a"].firstNotNull,l={left:0,middle:1,right:2};function c(t){return t instanceof Array||(t=[t,t]),t}var u=r["a"].extend((function(){return{zr:null,viewGL:null,_center:new a["a"],minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new i["a"],_panVelocity:new i["a"],_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}}),(function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach((function(t){this[t]=this[t].bind(this)}),this)}),{init:function(){var t=this.zr;t&&(t.on("mousedown",this._mouseDownHandler),t.on("globalout",this._mouseUpHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("pinch",this._pinchHandler),t.animation.on("frame",this._update),t.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var t=this.zr;t&&(t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("pinch",this._pinchHandler),t.off("globalout",this._mouseUpHandler),t.dom.removeEventListener("contextmenu",this._contextMenuHandler),t.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(t){this._distance=t,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(t){this._orthoSize=t,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(t){t=Math.max(Math.min(this.maxAlpha,t),this.minAlpha),this._theta=t/180*Math.PI,this._needsUpdate=!0},setBeta:function(t){t=Math.max(Math.min(this.maxBeta,t),this.minBeta),this._phi=-t/180*Math.PI,this._needsUpdate=!0},setCenter:function(t){this._center.setArray(t)},setViewGL:function(t){this.viewGL=t},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(t,e){e=e||{};var n=e.baseDistance||0,r=e.baseOrthoSize||1,i=t.get("projection");"perspective"!==i&&"orthographic"!==i&&"isometric"!==i&&(console.error("Unkown projection type %s, use perspective projection instead.",i),i="perspective"),this._projection=i,this.viewGL.setProjection(i);var a=t.get("distance")+n,o=t.get("orthographicSize")+r;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach((function(e){this[e[0]]=s(t.get(e[0]),e[1])}),this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=r,this.maxOrthographicSize+=r;var l=t.ecModel,c={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach((function(e){c[e]=s(t.get(e),l&&l.get(e))}));var u=s(e.alpha,t.get("alpha"))||0,A=s(e.beta,t.get("beta"))||0,h=s(e.center,t.get("center"))||[0,0,0];c.animation&&c.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:u,beta:A,center:h,distance:a,orthographicSize:o,easing:c.animationEasingUpdate,duration:c.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(u),this.setBeta(A),this.setCenter(h),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){null==l[this.panMouseButton]&&console.error("Unkown panMouseButton %s. It should be left|middle|right",this.panMouseButton),null==l[this.rotateMouseButton]&&console.error("Unkown rotateMouseButton %s. It should be left|middle|right",this.rotateMouseButton),"cw"!==this.autoRotateDirection&&"ccw"!==this.autoRotateDirection&&console.error("Unkown autoRotateDirection %s. It should be cw|ccw",this.autoRotateDirection)},animateTo:function(t){var e=this.zr,n=this,r={},i={};return null!=t.distance&&(r.distance=this.getDistance(),i.distance=t.distance),null!=t.orthographicSize&&(r.orthographicSize=this.getOrthographicSize(),i.orthographicSize=t.orthographicSize),null!=t.alpha&&(r.alpha=this.getAlpha(),i.alpha=t.alpha),null!=t.beta&&(r.beta=this.getBeta(),i.beta=t.beta),null!=t.center&&(r.center=this.getCenter(),i.center=t.center),this._addAnimator(e.animation.animate(r).when(t.duration||1e3,i).during((function(){null!=r.alpha&&n.setAlpha(r.alpha),null!=r.beta&&n.setBeta(r.beta),null!=r.distance&&n.setDistance(r.distance),null!=r.center&&n.setCenter(r.center),null!=r.orthographicSize&&n.setOrthographicSize(r.orthographicSize),n._needsUpdate=!0}))).start(t.easing||"linear")},stopAllAnimation:function(){for(var t=0;t<this._animators.length;t++)this._animators[t].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(t){if(this._rotating){var e=("cw"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=e*t/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(t=Math.min(t,50),this._updateDistanceOrSize(t),this._updatePan(t),this._updateRotate(t),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(t){var e=this._rotateVelocity;this._phi=e.y*t/20+this._phi,this._theta=e.x*t/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(e,Math.pow(this.damping,t/16))},_updateDistanceOrSize:function(t){"perspective"===this._projection?this._setDistance(this._distance+this._zoomSpeed*t/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*t/20),this._zoomSpeed*=Math.pow(this.damping,t/16)},_setDistance:function(t){this._distance=Math.max(Math.min(t,this.maxDistance),this.minDistance)},_setOrthoSize:function(t){this._orthoSize=Math.max(Math.min(t,this.maxOrthographicSize),this.minOrthographicSize);var e=this.getCamera(),n=this._orthoSize,r=n/this.viewGL.viewport.height*this.viewGL.viewport.width;e.left=-r/2,e.right=r/2,e.top=n/2,e.bottom=-n/2},_updatePan:function(t){var e=this._panVelocity,n=this._distance,r=this.getCamera(),i=r.worldTransform.y,a=r.worldTransform.x;this._center.scaleAndAdd(a,-e.x*n/200).scaleAndAdd(i,-e.y*n/200),this._vectorDamping(e,0)},_updateTransform:function(){var t=this.getCamera(),e=new a["a"],n=this._theta+Math.PI/2,r=this._phi+Math.PI/2,i=Math.sin(n);e.x=i*Math.cos(r),e.y=-Math.cos(n),e.z=i*Math.sin(r),t.position.copy(this._center).scaleAndAdd(e,this._distance),t.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var t=this.autoRotateAfterStill,e=this;!isNaN(t)&&t>0&&(this._stillTimeout=setTimeout((function(){e._rotating=!0}),1e3*t))},_vectorDamping:function(t,e){var n=t.len();n*=e,n<1e-4&&(n=0),t.normalize().scale(n)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var t=this.getCamera().worldTransform.z,e=Math.asin(t.y),n=Math.atan2(t.x,t.z);this._theta=e,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(t){if(!t.target&&!this._isAnimating()){var e=t.offsetX,n=t.offsetY;this.viewGL&&!this.viewGL.containPoint(e,n)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),t.event.targetTouches?1===t.event.targetTouches.length&&(this._mode="rotate"):t.event.button===l[this.rotateMouseButton]?this._mode="rotate":t.event.button===l[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=t.offsetX,this._mouseY=t.offsetY)}},_mouseMoveHandler:function(t){if((!t.target||!t.target.__isGLToZRProxy)&&!this._isAnimating()){var e=c(this.panSensitivity),n=c(this.rotateSensitivity);"rotate"===this._mode?(this._rotateVelocity.y=(t.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(t.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):"pan"===this._mode&&(this._panVelocity.x=(t.offsetX-this._mouseX)/this.zr.getWidth()*e[0]*400,this._panVelocity.y=(-t.offsetY+this._mouseY)/this.zr.getHeight()*e[1]*400),this._mouseX=t.offsetX,this._mouseY=t.offsetY,t.event.preventDefault()}},_mouseWheelHandler:function(t){if(!this._isAnimating()){var e=t.event.wheelDelta||-t.event.detail;this._zoomHandler(t,e)}},_pinchHandler:function(t){this._isAnimating()||(this._zoomHandler(t,t.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(t,e){if(0!==e){var n,r=t.offsetX,i=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(r,i))n="perspective"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(e>0?-1:1)*n*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&"rotate"===this._mode&&this._startCountingStill(),t.event.preventDefault()}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return"right"===this.rotateMouseButton||"right"===this.panMouseButton},_contextMenuHandler:function(t){this._isRightMouseButtonUsed()&&t.preventDefault()},_addAnimator:function(t){var e=this._animators;return e.push(t),t.done((function(){var n=e.indexOf(t);n>=0&&e.splice(n,1)})),t}});Object.defineProperty(u.prototype,"autoRotate",{get:function(t){return this._autoRotate},set:function(t){this._autoRotate=t,this._rotating=t}}),e["a"]=u},function(t,e,n){"use strict";e["a"]="@export ecgl.lines3D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, 1.0);\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n}\n@end\n\n\n\n@export ecgl.lines3D.clipNear\n\nvec4 clipNear(vec4 p1, vec4 p2) {\n float n = (p1.w - near) / (p1.w - p2.w);\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\n}\n\n@end\n\n@export ecgl.lines3D.expandLine\n#ifdef VERTEX_ANIMATION\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\n#else\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\n#endif\n\n if (currProj.w < 0.0) {\n if (nextProj.w > 0.0) {\n currProj = clipNear(currProj, nextProj);\n }\n else if (prevProj.w > 0.0) {\n currProj = clipNear(currProj, prevProj);\n }\n }\n\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\n\n vec2 dir;\n float len = offset;\n if (position == positionPrev) {\n dir = normalize(nextScreen - currScreen);\n }\n else if (position == positionNext) {\n dir = normalize(currScreen - prevScreen);\n }\n else {\n vec2 dirA = normalize(currScreen - prevScreen);\n vec2 dirB = normalize(nextScreen - currScreen);\n\n vec2 tanget = normalize(dirA + dirB);\n\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\n len *= miter;\n dir = tanget;\n }\n\n dir = vec2(-dir.y, dir.x) * len;\n currScreen += dir;\n\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\n@end\n\n\n@export ecgl.meshLines3D.vertex\n\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevPositionPrev;\nattribute vec3 prevPositionNext;\nuniform float percent : 1.0;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n}\n@end\n\n\n@export ecgl.meshLines3D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){var r=n(16),i=n(83),a=n(84),o=a.parsePercent,s=n(172),l=r.each,c=["left","right","top","bottom","width","height"],u=[["width","left","right"],["height","top","bottom"]];function A(t,e,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild((function(l,c){var u,A,h=l.position,f=l.getBoundingRect(),d=e.childAt(c+1),p=d&&d.getBoundingRect();if("horizontal"===t){var m=f.width+(p?-p.x+f.x:0);u=a+m,u>r||l.newline?(a=0,u=m,o+=s+n,s=f.height):s=Math.max(s,f.height)}else{var g=f.height+(p?-p.y+f.y:0);A=o+g,A>i||l.newline?(a+=s+n,o=0,A=g,s=f.width):s=Math.max(s,f.width)}l.newline||(h[0]=a,h[1]=o,"horizontal"===t?a=u+n:o=A+n)}))}var h=A,f=r.curry(A,"vertical"),d=r.curry(A,"horizontal");function p(t,e,n){var r=e.width,i=e.height,a=o(t.x,r),l=o(t.y,i),c=o(t.x2,r),u=o(t.y2,i);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(c)||isNaN(parseFloat(t.x2)))&&(c=r),(isNaN(l)||isNaN(parseFloat(t.y)))&&(l=0),(isNaN(u)||isNaN(parseFloat(t.y2)))&&(u=i),n=s.normalizeCssArray(n||0),{width:Math.max(c-a-n[1]-n[3],0),height:Math.max(u-l-n[0]-n[2],0)}}function m(t,e,n){n=s.normalizeCssArray(n||0);var r=e.width,a=e.height,l=o(t.left,r),c=o(t.top,a),u=o(t.right,r),A=o(t.bottom,a),h=o(t.width,r),f=o(t.height,a),d=n[2]+n[0],p=n[1]+n[3],m=t.aspect;switch(isNaN(h)&&(h=r-u-p-l),isNaN(f)&&(f=a-A-d-c),null!=m&&(isNaN(h)&&isNaN(f)&&(m>r/a?h=.8*r:f=.8*a),isNaN(h)&&(h=m*f),isNaN(f)&&(f=h/m)),isNaN(l)&&(l=r-u-h-p),isNaN(c)&&(c=a-A-f-d),t.left||t.right){case"center":l=r/2-h/2-n[3];break;case"right":l=r-h-p;break}switch(t.top||t.bottom){case"middle":case"center":c=a/2-f/2-n[0];break;case"bottom":c=a-f-d;break}l=l||0,c=c||0,isNaN(h)&&(h=r-p-l-(u||0)),isNaN(f)&&(f=a-d-c-(A||0));var g=new i(l+n[3],c+n[0],h,f);return g.margin=n,g}function g(t,e,n,a,o){var s=!o||!o.hv||o.hv[0],l=!o||!o.hv||o.hv[1],c=o&&o.boundingMode||"all";if(s||l){var u;if("raw"===c)u="group"===t.type?new i(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var A=t.getLocalTransform();u=u.clone(),u.applyTransform(A)}e=m(r.defaults({width:u.width,height:u.height},e),n,a);var h=t.position,f=s?e.x-u.x:0,d=l?e.y-u.y:0;t.attr("position","raw"===c?[f,d]:[h[0]+f,h[1]+d])}}function v(t,e){return null!=t[u[e][0]]||null!=t[u[e][1]]&&null!=t[u[e][2]]}function _(t,e,n){!r.isObject(n)&&(n={});var i=n.ignoreSize;!r.isArray(i)&&(i=[i,i]);var a=s(u[0],0),o=s(u[1],1);function s(n,r){var a={},o=0,s={},u=0,h=2;if(l(n,(function(e){s[e]=t[e]})),l(n,(function(t){c(e,t)&&(a[t]=s[t]=e[t]),A(a,t)&&o++,A(s,t)&&u++})),i[r])return A(e,n[1])?s[n[2]]=null:A(e,n[2])&&(s[n[1]]=null),s;if(u!==h&&o){if(o>=h)return a;for(var f=0;f<n.length;f++){var d=n[f];if(!c(a,d)&&c(t,d)){a[d]=t[d];break}}return a}return s}function c(t,e){return t.hasOwnProperty(e)}function A(t,e){return null!=t[e]&&"auto"!==t[e]}function h(t,e,n){l(t,(function(t){e[t]=n[t]}))}h(u[0],t,a),h(u[1],t,o)}function y(t){return w({},t)}function w(t,e){return e&&t&&l(c,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}e.LOCATION_PARAMS=c,e.HV_NAMES=u,e.box=h,e.vbox=f,e.hbox=d,e.getAvailableSize=p,e.getLayoutRect=m,e.positionElement=g,e.sizeCalculable=v,e.mergeLayoutParam=_,e.getLayoutParams=y,e.copyLayoutParams=w},function(t,e,n){"use strict";var r=n(8),i=r["a"].extend((function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),{updateParameter:function(t,e){var n,r,i=this.outputs[t],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,e):a.width,r=a.height instanceof Function?a.height.call(this,e):a.height,o.width===n&&o.height===r||this._outputTextures[t]&&this._outputTextures[t].dispose(e.gl),o.width=n,o.height=r,o},setParameter:function(t,e){},getParameter:function(t){},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},render:function(){},getOutput:function(t,e){if(null==e)return e=t,this._outputTextures[e];var n=this.outputs[e];return n?this._rendered?n.outputLastFrame?this._prevOutputTextures[e]:this._outputTextures[e]:this._rendering?(this._prevOutputTextures[e]||(this._prevOutputTextures[e]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[e]):(this.render(t),this._outputTextures[e]):void 0},removeReference:function(t){if(this._outputReferences[t]--,0===this._outputReferences[t]){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}},link:function(t,e,n){this.inputLinks[t]={node:e,pin:n},e.outputLinks[n]||(e.outputLinks[n]=[]),e.outputLinks[n].push({node:this,pin:t}),this.pass.material.enableTexture(t)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(t){if(!this._rendering){for(var e in this._rendering=!0,this.inputLinks){var n=this.inputLinks[e];n.node.updateReference(n.pin)}this._rendering=!1}t&&this._outputReferences[t]++},beforeFrame:function(){for(var t in this._rendered=!1,this.outputLinks)this._outputReferences[t]=0},afterFrame:function(){for(var t in this.outputLinks)if(this._outputReferences[t]>0){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}}});e["a"]=i},function(t,e,n){"use strict";function r(t,e){var n=0,r=1/e,i=t;while(i>0)n+=r*(i%e),i=Math.floor(i/e),r/=e;return n}e["a"]=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r);e["a"]=function(t,e,n){n=n||t.getSource();var r=e||i.a.getCoordinateSystemDimensions(t.get("coordinateSystem"))||["x","y","z"],a=i.a.helper.createDimensions(n,{dimensionsDefine:n.dimensionsDefine||t.get("dimensions"),encodeDefine:n.encodeDefine||t.get("encode"),coordDimensions:r.map((function(e){var n=t.getReferringComponents(e+"Axis3D")[0];return{type:n&&"category"===n.get("type")?"ordinal":"float",name:e}}))});"cartesian3D"===t.get("coordinateSystem")&&a.forEach((function(e){if(r.indexOf(e.coordDim)>=0){var n=t.getReferringComponents(e.coordDim+"Axis3D")[0];n&&"category"===n.get("type")&&(e.ordinalMeta=n.getOrdinalMeta())}}));var o=i.a.helper.dataStack.enableDataStack(t,a,{byIndex:!0,stackedCoordDimension:"z"}),s=new i.a.List(a,t);return s.setCalculationInfo(o),s.initData(n),s}},function(t,e,n){var r=n(16),i=r.isFunction;function a(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,r,a){var o=t.getData(),s=t.get("symbol"),l=t.get("symbolSize"),c=t.get("symbolKeepAspect"),u=i(s),A=i(l),h=u||A,f=!u&&s?s:e,d=A?null:l;if(o.setVisual({legendSymbol:n||f,symbol:f,symbolSize:d,symbolKeepAspect:c}),!r.isSeriesFiltered(t))return{dataEach:o.hasItemOption||h?p:null};function p(e,n){if(h){var r=t.getRawValue(n),i=t.getDataParams(n);u&&e.setItemVisual(n,"symbol",s(r,i)),A&&e.setItemVisual(n,"symbolSize",l(r,i))}if(e.hasItemOption){var a=e.getItemModel(n),o=a.getShallow("symbol",!0),c=a.getShallow("symbolSize",!0),f=a.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(n,"symbol",o),null!=c&&e.setItemVisual(n,"symbolSize",c),null!=f&&e.setItemVisual(n,"symbolKeepAspect",f)}}}}}t.exports=a},function(t,e,n){"use strict";var r=n(8),i=n(110),a=n(11),o=n(13),s=n(19),l=n(26),c=n(114),u=n(9),A=n(70),h=n(21),f=n(12);u["a"]["import"](A["a"]);var d=h["a"].create,p={};function m(t){return t.material}function g(t,e,n){return e.uniforms[n].value}function v(t,e,n,r){return n!==r}function _(t){return!0}function y(){}var w={float:a["a"].FLOAT,byte:a["a"].BYTE,ubyte:a["a"].UNSIGNED_BYTE,short:a["a"].SHORT,ushort:a["a"].UNSIGNED_SHORT};function x(t,e,n){this.availableAttributes=t,this.availableAttributeSymbols=e,this.indicesBuffer=n,this.vao=null}function b(t){var e,n;this.bind=function(t){e||(e=o["a"].createCanvas(),e.width=e.height=1,e.getContext("2d"));var r=t.gl,i=!n;i&&(n=r.createTexture()),r.bindTexture(r.TEXTURE_2D,n),i&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e)},this.unbind=function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var C=r["a"].extend((function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,logDepthBuffer:!1,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}}),(function(){this.canvas||(this.canvas=o["a"].createCanvas());var t=this.canvas;try{var e={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!this.gl)throw new Error;this._glinfo=new i["a"](this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(n){throw"Error creating WebGL Context "+n}this._programMgr=new c["a"](this),this._placeholderTexture=new b(this)}),{resize:function(t,e){var n=this.canvas,r=this.devicePixelRatio;null!=t?(n.style&&(n.style.width=t+"px",n.style.height=e+"px"),n.width=t*r,n.height=e*r,this._width=t,this._height=e):(this._width=n.width/r,this._height=n.height/r),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var t=this.viewport;return t.width/t.height},setDevicePixelRatio:function(t){this.devicePixelRatio=t,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(t){return this._glinfo.getExtension(t)},getGLParameter:function(t){return this._glinfo.getParameter(t)},setViewport:function(t,e,n,r,i){if("object"===typeof t){var a=t;t=a.x,e=a.y,n=a.width,r=a.height,i=a.devicePixelRatio}i=i||this.devicePixelRatio,this.gl.viewport(t*i,e*i,n*i,r*i),this.viewport={x:t,y:e,width:n,height:r,devicePixelRatio:i}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var t=this._clearStack.pop();this.clearColor=t.clearColor,this.clearBit=t.clearBit}},bindSceneRendering:function(t){this._sceneRendering=t},render:function(t,e,n,r){var i=this.gl,a=this.clearColor;if(this.clearBit){i.colorMask(!0,!0,!0,!0),i.depthMask(!0);var o=this.viewport,s=!1,l=o.devicePixelRatio;(o.width!==this._width||o.height!==this._height||l&&l!==this.devicePixelRatio||o.x||o.y)&&(s=!0,i.enable(i.SCISSOR_TEST),i.scissor(o.x*l,o.y*l,o.width*l,o.height*l)),i.clearColor(a[0],a[1],a[2],a[3]),i.clear(this.clearBit),s&&i.disable(i.SCISSOR_TEST)}if(n||t.update(!1),t.updateLights(),e=e||t.getMainCamera(),e){e.update();var c=t.updateRenderList(e,!0);this._sceneRendering=t;var u=c.opaque,A=c.transparent,p=t.material;t.trigger("beforerender",this,t,e,c),r?(this.renderPreZ(u,t,e),i.depthFunc(i.LEQUAL)):i.depthFunc(i.LESS);for(var m=d(),g=f["a"].create(),v=0;v<A.length;v++){var _=A[v];h["a"].multiplyAffine(m,e.viewMatrix.array,_.worldTransform.array),f["a"].transformMat4(g,_.position.array,m),_.__depth=g[2]}this.renderPass(u,e,{getMaterial:function(t){return p||t.material},sortCompare:this.opaqueSortCompare}),this.renderPass(A,e,{getMaterial:function(t){return p||t.material},sortCompare:this.transparentSortCompare}),t.trigger("afterrender",this,t,e,c),this._sceneRendering=null}else console.error("Can't find camera in the scene.")},getProgram:function(t,e,n){return e=e||t.material,this._programMgr.getProgram(t,e,n,this)},validateProgram:function(t){if(t.__error){var e=t.__error;if(p[t.__uid__])return;if(p[t.__uid__]=!0,this.throwError)throw new Error(e);this.trigger("error",e)}},updatePrograms:function(t,e,n){var r=n&&n.getMaterial||m;e=e||null;for(var i=0;i<t.length;i++){var a=t[i],o=r.call(this,a);if(i>0){var s=t[i-1],l=s.joints?s.joints.length:0,c=a.joints?a.joints.length:0;if(c===l&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var u=this._programMgr.getProgram(a,o,e,this);this.validateProgram(u),a.__program=u}},renderPass:function(t,e,n){this.trigger("beforerenderpass",this,t,e,n),n=n||{},n.getMaterial=n.getMaterial||m,n.getUniform=n.getUniform||g,n.isMaterialChanged=n.isMaterialChanged||v,n.beforeRender=n.beforeRender||y,n.afterRender=n.afterRender||y;var r=n.ifRender||_;this.updatePrograms(t,this._sceneRendering,n),n.sortCompare&&t.sort(n.sortCompare);var i=this.viewport,a=i.devicePixelRatio,o=[i.x*a,i.y*a,i.width*a,i.height*a],s=this.devicePixelRatio,l=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],c=[o[2],o[3]],u=Date.now();e?(h["a"].copy(B.VIEW,e.viewMatrix.array),h["a"].copy(B.PROJECTION,e.projectionMatrix.array),h["a"].copy(B.VIEWINVERSE,e.worldTransform.array)):(h["a"].identity(B.VIEW),h["a"].identity(B.PROJECTION),h["a"].identity(B.VIEWINVERSE)),h["a"].multiply(B.VIEWPROJECTION,B.PROJECTION,B.VIEW),h["a"].invert(B.PROJECTIONINVERSE,B.PROJECTION),h["a"].invert(B.VIEWPROJECTIONINVERSE,B.VIEWPROJECTION);for(var A,f,d,p,w,x,b,C,E,T,S,M,N=this.gl,D=this._sceneRendering,O=null,U=0;U<t.length;U++){var I,L=t[U],F=null!=L.worldTransform;if(r(L)){F&&(I=L.isSkinnedMesh&&L.isSkinnedMesh()?L.offsetMatrix?L.offsetMatrix.array:B.IDENTITY:L.worldTransform.array);var R=L.geometry,P=n.getMaterial.call(this,L),Q=L.__program,H=P.shader,k=R.__uid__+"-"+Q.__uid__,z=k!==T;T=k,z&&O&&O.bindVertexArrayOES(null),F&&(h["a"].copy(B.WORLD,I),h["a"].multiply(B.WORLDVIEWPROJECTION,B.VIEWPROJECTION,I),h["a"].multiplyAffine(B.WORLDVIEW,B.VIEW,I),(H.matrixSemantics.WORLDINVERSE||H.matrixSemantics.WORLDINVERSETRANSPOSE)&&h["a"].invert(B.WORLDINVERSE,I),(H.matrixSemantics.WORLDVIEWINVERSE||H.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&h["a"].invert(B.WORLDVIEWINVERSE,B.WORLDVIEW),(H.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||H.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&h["a"].invert(B.WORLDVIEWPROJECTIONINVERSE,B.WORLDVIEWPROJECTION)),L.beforeRender&&L.beforeRender(this),n.beforeRender.call(this,L,P,A);var V=Q!==f;V?(Q.bind(this),Q.setUniformOfSemantic(N,"VIEWPORT",o),Q.setUniformOfSemantic(N,"WINDOW_SIZE",l),e&&(Q.setUniformOfSemantic(N,"NEAR",e.near),Q.setUniformOfSemantic(N,"FAR",e.far),this.logDepthBuffer&&Q.setUniformOfSemantic(N,"LOG_DEPTH_BUFFER_FC",2/(Math.log(e.far+1)/Math.LN2))),Q.setUniformOfSemantic(N,"DEVICEPIXELRATIO",a),Q.setUniformOfSemantic(N,"TIME",u),Q.setUniformOfSemantic(N,"VIEWPORT_SIZE",c),D&&D.setLightUniforms(Q,L.lightGroup,this)):Q=f,(V||n.isMaterialChanged(L,d,P,A))&&(P.depthTest!==p&&(P.depthTest?N.enable(N.DEPTH_TEST):N.disable(N.DEPTH_TEST),p=P.depthTest),P.depthMask!==w&&(N.depthMask(P.depthMask),w=P.depthMask),P.transparent!==E&&(P.transparent?N.enable(N.BLEND):N.disable(N.BLEND),E=P.transparent),P.transparent&&(P.blend?P.blend(N):(N.blendEquationSeparate(N.FUNC_ADD,N.FUNC_ADD),N.blendFuncSeparate(N.SRC_ALPHA,N.ONE_MINUS_SRC_ALPHA,N.ONE,N.ONE_MINUS_SRC_ALPHA))),M=this._bindMaterial(L,P,Q,d||null,A||null,f||null,n.getUniform),A=P);var G=H.matrixSemanticKeys;if(F)for(var K=0;K<G.length;K++){var j=G[K],X=H.matrixSemantics[j],W=B[j];if(X.isTranspose){var Y=B[X.semanticNoTranspose];h["a"].transpose(W,Y)}Q.setUniform(N,X.type,X.symbol,W)}L.cullFace!==b&&(b=L.cullFace,N.cullFace(b)),L.frontFace!==C&&(C=L.frontFace,N.frontFace(C)),L.culling!==x&&(x=L.culling,x?N.enable(N.CULL_FACE):N.disable(N.CULL_FACE)),this._updateSkeleton(L,Q,M),z&&(S=this._bindVAO(O,H,R,Q)),this._renderObject(L,S,Q),n.afterRender(this,L),L.afterRender&&L.afterRender(this),f=Q,d=L}}O&&O.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,t,e,n)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(t,e,n){var r=this.gl,i=t.skeleton;if(i)if(i.update(),t.joints.length>this.getMaxJointNumber()){var a=i.getSubSkinMatricesTexture(t.__uid__,t.joints);e.useTextureSlot(this,a,n),e.setUniform(r,"1i","skinMatricesTexture",n),e.setUniform(r,"1f","skinMatricesTextureSize",a.width)}else{var o=i.getSubSkinMatrices(t.__uid__,t.joints);e.setUniformOfSemantic(r,"SKIN_MATRIX",o)}},_renderObject:function(t,e,n){var r=this.gl,i=t.geometry,a=t.mode;null==a&&(a=4);var o=null,s=t.isInstancedMesh&&t.isInstancedMesh();if(!s||(o=this.getGLExtension("ANGLE_instanced_arrays"),o)){var l;if(s&&(l=this._bindInstancedAttributes(t,n,o)),e.indicesBuffer){var c=this.getGLExtension("OES_element_index_uint"),u=c&&i.indices instanceof Uint32Array,A=u?r.UNSIGNED_INT:r.UNSIGNED_SHORT;s?o.drawElementsInstancedANGLE(a,e.indicesBuffer.count,A,0,t.getInstanceCount()):r.drawElements(a,e.indicesBuffer.count,A,0)}else s?o.drawArraysInstancedANGLE(a,0,i.vertexCount,t.getInstanceCount()):r.drawArrays(a,0,i.vertexCount);if(s)for(var h=0;h<l.length;h++)l[h].enabled||r.disableVertexAttribArray(l[h].location),o.vertexAttribDivisorANGLE(l[h].location,0)}else console.warn("Device not support ANGLE_instanced_arrays extension")},_bindInstancedAttributes:function(t,e,n){for(var r=this.gl,i=t.getInstancedAttributesBuffers(this),a=[],o=0;o<i.length;o++){var s=i[o],l=e.getAttribLocation(r,s.symbol);if(!(l<0)){var c=w[s.type]||r.FLOAT,u=e.isAttribEnabled(this,l);e.isAttribEnabled(this,l)||r.enableVertexAttribArray(l),a.push({location:l,enabled:u}),r.bindBuffer(r.ARRAY_BUFFER,s.buffer),r.vertexAttribPointer(l,s.size,c,!1,0,0),n.vertexAttribDivisorANGLE(l,s.divisor)}}return a},_bindMaterial:function(t,e,n,r,i,a,o){for(var s=this.gl,l=a===n,c=n.currentTextureSlot(),u=e.getEnabledUniforms(),A=e.getTextureUniforms(),h=this._placeholderTexture,f=0;f<A.length;f++){var d=A[f],p=o(t,e,d),m=e.uniforms[d].type;if("t"===m&&p)p.__slot=-1;else if("tv"===m)for(var g=0;g<p.length;g++)p[g]&&(p[g].__slot=-1)}h.__slot=-1;for(f=0;f<u.length;f++){d=u[f];var v=e.uniforms[d],_=(p=o(t,e,d),m=v.type,"t"===m);if(_&&(p&&p.isRenderable()||(p=h)),i&&l){var y=o(r,i,d);if(_&&(y&&y.isRenderable()||(y=h)),y===p){if(_)n.takeCurrentTextureSlot(this,null);else if("tv"===m&&p)for(g=0;g<p.length;g++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=p)if(_)if(p.__slot<0){var w=n.currentTextureSlot(),x=n.setUniform(s,"1i",d,w);x&&(n.takeCurrentTextureSlot(this,p),p.__slot=w)}else n.setUniform(s,"1i",d,p.__slot);else if(Array.isArray(p)){if(0===p.length)continue;if("tv"===m){if(!n.hasUniform(d))continue;var b=[];for(g=0;g<p.length;g++){var C=p[g];if(C.__slot<0){w=n.currentTextureSlot();b.push(w),n.takeCurrentTextureSlot(this,C),C.__slot=w}else b.push(C.__slot)}n.setUniform(s,"1iv",d,b)}else n.setUniform(s,v.type,d,p)}else n.setUniform(s,v.type,d,p)}var B=n.currentTextureSlot();return n.resetTextureSlot(c),B},_bindVAO:function(t,e,n,r){var i=!n.dynamic,a=this.gl,o=this.__uid__+"-"+r.__uid__,s=n.__vaoCache[o];if(!s){var l=n.getBufferChunks(this);if(!l||!l.length)return;for(var c=l[0],u=c.attributeBuffers,A=c.indicesBuffer,h=[],f=[],d=0;d<u.length;d++){var p,m=u[d],g=m.name,v=m.semantic;if(v){var _=e.attributeSemantics[v];p=_&&_.symbol}else p=g;p&&r.attributes[p]&&(h.push(m),f.push(p))}s=new x(h,f,A),i&&(n.__vaoCache[o]=s)}var y=!0;t&&i&&(null==s.vao?s.vao=t.createVertexArrayOES():y=!1,t.bindVertexArrayOES(s.vao));h=s.availableAttributes,A=s.indicesBuffer;if(y){var b=r.enableAttributes(this,s.availableAttributeSymbols,t&&i&&s);for(d=0;d<h.length;d++){var C=b[d];if(-1!==C){m=h[d];var B=m.buffer,E=m.size,T=w[m.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,B),a.vertexAttribPointer(C,E,T,!1,0,0)}}n.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,A.buffer)}return s},renderPreZ:function(t,e,n){var r=this.gl,i=this._prezMaterial||new s["a"]({shader:new u["a"](u["a"].source("clay.prez.vertex"),u["a"].source("clay.prez.fragment"))});this._prezMaterial=i,this.logDepthBuffer&&this._prezMaterial.setUniform("logDepthBufFC",2/(Math.log(n.far+1)/Math.LN2)),r.colorMask(!1,!1,!1,!1),r.depthMask(!0),this.renderPass(t,n,{ifRender:function(t){return!t.ignorePreZ},isMaterialChanged:function(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)},getUniform:function(t,e,n){if("alphaMap"===n)return t.material.get("diffuseMap");if("alphaCutoff"===n){if(t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")){var r=t.material.get("alphaCutoff");return r||0}return 0}return"uvRepeat"===n?t.material.get("uvRepeat"):"uvOffset"===n?t.material.get("uvOffset"):e.get(n)},getMaterial:function(){return i},sort:this.opaqueSortCompare}),r.colorMask(!0,!0,!0,!0),r.depthMask(!0)},disposeScene:function(t){this.disposeNode(t,!0,!0),t.dispose()},disposeNode:function(t,e,n){t.getParent()&&t.getParent().remove(t);var r={};t.traverse((function(t){var i=t.material;if(t.geometry&&e&&t.geometry.dispose(this),n&&i&&!r[i.__uid__]){for(var a=i.getTextureUniforms(),o=0;o<a.length;o++){var s=a[o],l=i.uniforms[s].value,c=i.uniforms[s].type;if(l)if("t"===c)l.dispose&&l.dispose(this);else if("tv"===c)for(var u=0;u<l.length;u++)l[u]&&l[u].dispose&&l[u].dispose(this)}r[i.__uid__]=!0}t.dispose&&t.dispose(this)}),this)},disposeGeometry:function(t){t.dispose(this)},disposeTexture:function(t){t.dispose(this)},disposeFrameBuffer:function(t){t.dispose(this)},dispose:function(){},screenToNDC:function(t,e,n){n||(n=new l["a"]),e=this._height-e;var r=this.viewport,i=n.array;return i[0]=(t-r.x)/r.width,i[0]=2*i[0]-1,i[1]=(e-r.y)/r.height,i[1]=2*i[1]-1,n}});C.opaqueSortCompare=C.prototype.opaqueSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.renderOrder-e.renderOrder},C.transparentSortCompare=C.prototype.transparentSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__depth===e.__depth?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.__depth-e.__depth:t.renderOrder-e.renderOrder};var B={IDENTITY:d(),WORLD:d(),VIEW:d(),PROJECTION:d(),WORLDVIEW:d(),VIEWPROJECTION:d(),WORLDVIEWPROJECTION:d(),WORLDINVERSE:d(),VIEWINVERSE:d(),PROJECTIONINVERSE:d(),WORLDVIEWINVERSE:d(),VIEWPROJECTIONINVERSE:d(),WORLDVIEWPROJECTIONINVERSE:d(),WORLDTRANSPOSE:d(),VIEWTRANSPOSE:d(),PROJECTIONTRANSPOSE:d(),WORLDVIEWTRANSPOSE:d(),VIEWPROJECTIONTRANSPOSE:d(),WORLDVIEWPROJECTIONTRANSPOSE:d(),WORLDINVERSETRANSPOSE:d(),VIEWINVERSETRANSPOSE:d(),PROJECTIONINVERSETRANSPOSE:d(),WORLDVIEWINVERSETRANSPOSE:d(),VIEWPROJECTIONINVERSETRANSPOSE:d(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:d()};C.COLOR_BUFFER_BIT=a["a"].COLOR_BUFFER_BIT,C.DEPTH_BUFFER_BIT=a["a"].DEPTH_BUFFER_BIT,C.STENCIL_BUFFER_BIT=a["a"].STENCIL_BUFFER_BIT,e["a"]=C},function(t,e,n){"use strict";function r(t,e){this.action=t,this.context=e}var i={trigger:function(t){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(t)){var e=this.__handlers__[t],n=e.length,r=-1,i=arguments;switch(i.length){case 1:while(++r<n)e[r].action.call(e[r].context);return;case 2:while(++r<n)e[r].action.call(e[r].context,i[1]);return;case 3:while(++r<n)e[r].action.call(e[r].context,i[1],i[2]);return;case 4:while(++r<n)e[r].action.call(e[r].context,i[1],i[2],i[3]);return;case 5:while(++r<n)e[r].action.call(e[r].context,i[1],i[2],i[3],i[4]);return;default:while(++r<n)e[r].action.apply(e[r].context,Array.prototype.slice.call(i,1));return}}},on:function(t,e,n){if(t&&e){var i=this.__handlers__||(this.__handlers__={});if(i[t]){if(this.has(t,e))return}else i[t]=[];var a=new r(e,n||this);return i[t].push(a),this}},once:function(t,e,n){if(t&&e){var r=this;return this.on(t,i,n)}function i(){r.off(t,i),e.apply(this,arguments)}},before:function(t,e,n){if(t&&e)return t="before"+t,this.on(t,e,n)},after:function(t,e,n){if(t&&e)return t="after"+t,this.on(t,e,n)},success:function(t,e){return this.once("success",t,e)},error:function(t,e){return this.once("error",t,e)},off:function(t,e){var n=this.__handlers__||(this.__handlers__={});if(e){if(n[t]){for(var r=n[t],i=[],a=0;a<r.length;a++)e&&r[a].action!==e&&i.push(r[a]);n[t]=i}return this}n[t]=[]},has:function(t,e){var n=this.__handlers__;if(!n||!n[t])return!1;for(var r=n[t],i=0;i<r.length;i++)if(r[i].action===e)return!0}};e["a"]=i},function(t,e,n){"use strict";var r=n(3),i=n(12),a=1e-5,o=function(t,e){this.origin=t||new r["a"],this.direction=e||new r["a"]};o.prototype={constructor:o,intersectPlane:function(t,e){var n=t.normal.array,a=t.distance,o=this.origin.array,s=this.direction.array,l=i["a"].dot(n,s);if(0===l)return null;e||(e=new r["a"]);var c=(i["a"].dot(n,o)-a)/l;return i["a"].scaleAndAdd(e.array,o,s,-c),e._dirty=!0,e},mirrorAgainstPlane:function(t){var e=i["a"].dot(t.normal.array,this.direction.array);i["a"].scaleAndAdd(this.direction.array,this.direction.array,t.normal.array,2*-e),this.direction._dirty=!0},distanceToPoint:function(){var t=i["a"].create();return function(e){i["a"].sub(t,e,this.origin.array);var n=i["a"].dot(t,this.direction.array);if(n<0)return i["a"].distance(this.origin.array,e);var r=i["a"].lenSquared(t);return Math.sqrt(r-n*n)}}(),intersectSphere:function(){var t=i["a"].create();return function(e,n,a){var o=this.origin.array,s=this.direction.array;e=e.array,i["a"].sub(t,e,o);var l=i["a"].dot(t,s),c=i["a"].squaredLength(t),u=c-l*l,A=n*n;if(!(u>A)){var h=Math.sqrt(A-u),f=l-h,d=l+h;return a||(a=new r["a"]),f<0?d<0?null:(i["a"].scaleAndAdd(a.array,o,s,d),a):(i["a"].scaleAndAdd(a.array,o,s,f),a)}}}(),intersectBoundingBox:function(t,e){var n,a,o,s,l,c,u=this.direction.array,A=this.origin.array,h=t.min.array,f=t.max.array,d=1/u[0],p=1/u[1],m=1/u[2];if(d>=0?(n=(h[0]-A[0])*d,a=(f[0]-A[0])*d):(a=(h[0]-A[0])*d,n=(f[0]-A[0])*d),p>=0?(o=(h[1]-A[1])*p,s=(f[1]-A[1])*p):(s=(h[1]-A[1])*p,o=(f[1]-A[1])*p),n>s||o>a)return null;if((o>n||n!==n)&&(n=o),(s<a||a!==a)&&(a=s),m>=0?(l=(h[2]-A[2])*m,c=(f[2]-A[2])*m):(c=(h[2]-A[2])*m,l=(f[2]-A[2])*m),n>c||l>a)return null;if((l>n||n!==n)&&(n=l),(c<a||a!==a)&&(a=c),a<0)return null;var g=n>=0?n:a;return e||(e=new r["a"]),i["a"].scaleAndAdd(e.array,A,u,g),e},intersectTriangle:function(){var t=i["a"].create(),e=i["a"].create(),n=i["a"].create(),o=i["a"].create();return function(s,l,c,u,A,h){var f=this.direction.array,d=this.origin.array;s=s.array,l=l.array,c=c.array,i["a"].sub(t,l,s),i["a"].sub(e,c,s),i["a"].cross(o,e,f);var p=i["a"].dot(t,o);if(u){if(p>-a)return null}else if(p>-a&&p<a)return null;i["a"].sub(n,d,s);var m=i["a"].dot(o,n)/p;if(m<0||m>1)return null;i["a"].cross(o,t,n);var g=i["a"].dot(f,o)/p;if(g<0||g>1||m+g>1)return null;i["a"].cross(o,t,e);var v=-i["a"].dot(n,o)/p;return v<0?null:(A||(A=new r["a"]),h&&r["a"].set(h,1-m-g,m,g),i["a"].scaleAndAdd(A.array,d,f,v),A)}}(),applyTransform:function(t){r["a"].add(this.direction,this.direction,this.origin),r["a"].transformMat4(this.origin,this.origin,t),r["a"].transformMat4(this.direction,this.direction,t),r["a"].sub(this.direction,this.direction,this.origin),r["a"].normalize(this.direction,this.direction)},copy:function(t){r["a"].copy(this.origin,t.origin),r["a"].copy(this.direction,t.direction)},clone:function(){var t=new o;return t.copy(this),t}},e["a"]=o},function(t,e,n){"use strict";var r=n(20),i=n(12),a=n(33),o=n(34),s={create:function(){var t=new r["a"](4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}};s.rotationTo=function(){var t=i["a"].create(),e=i["a"].fromValues(1,0,0),n=i["a"].fromValues(0,1,0);return function(r,a,o){var l=i["a"].dot(a,o);return l<-.999999?(i["a"].cross(t,e,a),i["a"].length(t)<1e-6&&i["a"].cross(t,n,a),i["a"].normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(i["a"].cross(t,a,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+l,s.normalize(r,r))}}(),s.setAxes=function(){var t=o["a"].create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a["a"].clone,s.fromValues=a["a"].fromValues,s.copy=a["a"].copy,s.set=a["a"].set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},s.add=a["a"].add,s.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+o*s+i*c-a*l,t[1]=i*u+o*l+a*s-r*c,t[2]=a*u+o*c+r*l-i*s,t[3]=o*u-r*s-i*l-a*c,t},s.mul=s.multiply,s.scale=a["a"].scale,s.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=a*l-i*s,t[3]=o*l-r*s,t},s.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-a*s,t[1]=i*l+o*s,t[2]=a*l+r*s,t[3]=o*l-i*s,t},s.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=i*l-r*s,t[2]=a*l+o*s,t[3]=o*l-a*s,t},s.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},s.dot=a["a"].dot,s.lerp=a["a"].lerp,s.slerp=function(t,e,n,r){var i,a,o,s,l,c=e[0],u=e[1],A=e[2],h=e[3],f=n[0],d=n[1],p=n[2],m=n[3];return a=c*f+u*d+A*p+h*m,a<0&&(a=-a,f=-f,d=-d,p=-p,m=-m),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,l=Math.sin(r*i)/o):(s=1-r,l=r),t[0]=s*c+l*f,t[1]=s*u+l*d,t[2]=s*A+l*p,t[3]=s*h+l*m,t},s.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a["a"].length,s.len=s.length,s.squaredLength=a["a"].squaredLength,s.sqrLen=s.squaredLength,s.normalize=a["a"].normalize,s.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t},e["a"]=s},function(t,e,n){"use strict";var r=n(55),i=n(34),a=function(t,e,n,i){t=t||0,e=e||0,n=n||0,i=void 0===i?1:i,this.array=r["a"].fromValues(t,e,n,i),this._dirty=!0};a.prototype={constructor:a,add:function(t){return r["a"].add(this.array,this.array,t.array),this._dirty=!0,this},calculateW:function(){return r["a"].calculateW(this.array,this.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new a(this.x,this.y,this.z,this.w)},conjugate:function(){return r["a"].conjugate(this.array,this.array),this._dirty=!0,this},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},dot:function(t){return r["a"].dot(this.array,t.array)},fromMat3:function(t){return r["a"].fromMat3(this.array,t.array),this._dirty=!0,this},fromMat4:function(){var t=i["a"].create();return function(e){return i["a"].fromMat4(t,e.array),i["a"].transpose(t,t),r["a"].fromMat3(this.array,t),this._dirty=!0,this}}(),identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},len:function(){return r["a"].len(this.array)},length:function(){return r["a"].length(this.array)},lerp:function(t,e,n){return r["a"].lerp(this.array,t.array,e.array,n),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},normalize:function(){return r["a"].normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(t){return r["a"].rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return r["a"].rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return r["a"].rotateZ(this.array,this.array,t),this._dirty=!0,this},rotationTo:function(t,e){return r["a"].rotationTo(this.array,t.array,e.array),this._dirty=!0,this},setAxes:function(t,e,n){return r["a"].setAxes(this.array,t.array,e.array,n.array),this._dirty=!0,this},setAxisAngle:function(t,e){return r["a"].setAxisAngle(this.array,t.array,e),this._dirty=!0,this},slerp:function(t,e,n){return r["a"].slerp(this.array,t.array,e.array,n),this._dirty=!0,this},sqrLen:function(){return r["a"].sqrLen(this.array)},squaredLength:function(){return r["a"].squaredLength(this.array)},fromEuler:function(t,e){return a.fromEuler(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var o=Object.defineProperty;if(o){var s=a.prototype;o(s,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),o(s,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),o(s,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),o(s,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}a.add=function(t,e,n){return r["a"].add(t.array,e.array,n.array),t._dirty=!0,t},a.set=function(t,e,n,i,a){r["a"].set(t.array,e,n,i,a),t._dirty=!0},a.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},a.calculateW=function(t,e){return r["a"].calculateW(t.array,e.array),t._dirty=!0,t},a.conjugate=function(t,e){return r["a"].conjugate(t.array,e.array),t._dirty=!0,t},a.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},a.invert=function(t,e){return r["a"].invert(t.array,e.array),t._dirty=!0,t},a.dot=function(t,e){return r["a"].dot(t.array,e.array)},a.len=function(t){return r["a"].length(t.array)},a.lerp=function(t,e,n,i){return r["a"].lerp(t.array,e.array,n.array,i),t._dirty=!0,t},a.slerp=function(t,e,n,i){return r["a"].slerp(t.array,e.array,n.array,i),t._dirty=!0,t},a.mul=function(t,e,n){return r["a"].multiply(t.array,e.array,n.array),t._dirty=!0,t},a.multiply=a.mul,a.rotateX=function(t,e,n){return r["a"].rotateX(t.array,e.array,n),t._dirty=!0,t},a.rotateY=function(t,e,n){return r["a"].rotateY(t.array,e.array,n),t._dirty=!0,t},a.rotateZ=function(t,e,n){return r["a"].rotateZ(t.array,e.array,n),t._dirty=!0,t},a.setAxisAngle=function(t,e,n){return r["a"].setAxisAngle(t.array,e.array,n),t._dirty=!0,t},a.normalize=function(t,e){return r["a"].normalize(t.array,e.array),t._dirty=!0,t},a.sqrLen=function(t){return r["a"].sqrLen(t.array)},a.squaredLength=a.sqrLen,a.fromMat3=function(t,e){return r["a"].fromMat3(t.array,e.array),t._dirty=!0,t},a.setAxes=function(t,e,n,i){return r["a"].setAxes(t.array,e.array,n.array,i.array),t._dirty=!0,t},a.rotationTo=function(t,e,n){return r["a"].rotationTo(t.array,e.array,n.array),t._dirty=!0,t},a.fromEuler=function(t,e,n){t._dirty=!0,e=e.array;var r=t.array,i=Math.cos(e[0]/2),a=Math.cos(e[1]/2),o=Math.cos(e[2]/2),s=Math.sin(e[0]/2),l=Math.sin(e[1]/2),c=Math.sin(e[2]/2);n=(n||"XYZ").toUpperCase();switch(n){case"XYZ":r[0]=s*a*o+i*l*c,r[1]=i*l*o-s*a*c,r[2]=i*a*c+s*l*o,r[3]=i*a*o-s*l*c;break;case"YXZ":r[0]=s*a*o+i*l*c,r[1]=i*l*o-s*a*c,r[2]=i*a*c-s*l*o,r[3]=i*a*o+s*l*c;break;case"ZXY":r[0]=s*a*o-i*l*c,r[1]=i*l*o+s*a*c,r[2]=i*a*c+s*l*o,r[3]=i*a*o-s*l*c;break;case"ZYX":r[0]=s*a*o-i*l*c,r[1]=i*l*o+s*a*c,r[2]=i*a*c-s*l*o,r[3]=i*a*o+s*l*c;break;case"YZX":r[0]=s*a*o+i*l*c,r[1]=i*l*o+s*a*c,r[2]=i*a*c-s*l*o,r[3]=i*a*o-s*l*c;break;case"XZY":r[0]=s*a*o-i*l*c,r[1]=i*l*o-s*a*c,r[2]=i*a*c+s*l*o,r[3]=i*a*o+s*l*c;break}},e["a"]=a},function(t,e,n){"use strict";var r="__dt__",i=function(){this._contextId=0,this._caches=[],this._context={}};i.prototype={use:function(t,e){var n=this._caches;n[t]||(n[t]={},e&&(n[t]=e())),this._contextId=t,this._context=n[t]},put:function(t,e){this._context[t]=e},get:function(t){return this._context[t]},dirty:function(t){t=t||"";var e=r+t;this.put(e,!0)},dirtyAll:function(t){t=t||"";for(var e=r+t,n=this._caches,i=0;i<n.length;i++)n[i]&&(n[i][e]=!0)},fresh:function(t){t=t||"";var e=r+t;this.put(e,!1)},freshAll:function(t){t=t||"";for(var e=r+t,n=this._caches,i=0;i<n.length;i++)n[i]&&(n[i][e]=!1)},isDirty:function(t){t=t||"";var e=r+t,n=this._context;return!n.hasOwnProperty(e)||!0===n[e]},deleteContext:function(t){delete this._caches[t],this._context={}},delete:function(t){delete this._context[t]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(t,e){var n=Object.keys(this._caches);n.forEach((function(n){t&&t.call(e,n)}))},miss:function(t){return!this._context.hasOwnProperty(t)}},i.prototype.constructor=i,e["a"]=i},function(t,e,n){"use strict";var r=n(35),i=n(7),a=n(59),o=n(54),s=n(33),l=n(12),c=r["a"].extend((function(){return{projectionMatrix:new i["a"],invProjectionMatrix:new i["a"],viewMatrix:new i["a"],frustum:new a["a"]}}),(function(){this.update(!0)}),{update:function(t){r["a"].prototype.update.call(this,t),i["a"].invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),i["a"].invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(t){i["a"].copy(this.viewMatrix,t),i["a"].invert(this.worldTransform,t),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(t){i["a"].copy(this.projectionMatrix,t),i["a"].invert(this.invProjectionMatrix,t),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var t=s["a"].create();return function(e,n){var r=void 0!==n?n:new o["a"],i=e.array[0],a=e.array[1];return s["a"].set(t,i,a,-1,1),s["a"].transformMat4(t,t,this.invProjectionMatrix.array),s["a"].transformMat4(t,t,this.worldTransform.array),l["a"].scale(r.origin.array,t,1/t[3]),s["a"].set(t,i,a,1,1),s["a"].transformMat4(t,t,this.invProjectionMatrix.array),s["a"].transformMat4(t,t,this.worldTransform.array),l["a"].scale(t,t,1/t[3]),l["a"].sub(r.direction.array,t,r.origin.array),l["a"].normalize(r.direction.array,r.direction.array),r.direction._dirty=!0,r.origin._dirty=!0,r}}()});e["a"]=c},function(t,e,n){"use strict";var r=n(18),i=n(73),a=n(12),o=a["a"].set,s=a["a"].copy,l=a["a"].transformMat4,c=Math.min,u=Math.max,A=function(){this.planes=[];for(var t=0;t<6;t++)this.planes.push(new i["a"]);this.boundingBox=new r["a"],this.vertices=[];for(t=0;t<8;t++)this.vertices[t]=a["a"].fromValues(0,0,0)};A.prototype={setFromProjection:function(t){var e=this.planes,n=t.array,r=n[0],i=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],A=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],_=n[15];o(e[0].normal.array,s-r,A-l,p-h),e[0].distance=-(_-m),e[0].normalize(),o(e[1].normal.array,s+r,A+l,p+h),e[1].distance=-(_+m),e[1].normalize(),o(e[2].normal.array,s+i,A+c,p+f),e[2].distance=-(_+g),e[2].normalize(),o(e[3].normal.array,s-i,A-c,p-f),e[3].distance=-(_-g),e[3].normalize(),o(e[4].normal.array,s-a,A-u,p-d),e[4].distance=-(_-v),e[4].normalize(),o(e[5].normal.array,s+a,A+u,p+d),e[5].distance=-(_+v),e[5].normalize();var y=this.boundingBox,w=this.vertices;if(0===_){var x=c/r,b=-v/(d-1),C=-v/(d+1),B=-C/c,E=-b/c;y.min.set(-B*x,-B,C),y.max.set(B*x,B,b),o(w[0],-B*x,-B,C),o(w[1],-B*x,B,C),o(w[2],B*x,-B,C),o(w[3],B*x,B,C),o(w[4],-E*x,-E,b),o(w[5],-E*x,E,b),o(w[6],E*x,-E,b),o(w[7],E*x,E,b)}else{var T=(-1-m)/r,S=(1-m)/r,M=(1-g)/c,N=(-1-g)/c,D=(-1-v)/d,O=(1-v)/d;y.min.set(Math.min(T,S),Math.min(N,M),Math.min(O,D)),y.max.set(Math.max(S,T),Math.max(M,N),Math.max(D,O));var U=y.min.array,I=y.max.array;o(w[0],U[0],U[1],U[2]),o(w[1],U[0],I[1],U[2]),o(w[2],I[0],U[1],U[2]),o(w[3],I[0],I[1],U[2]),o(w[4],U[0],U[1],I[2]),o(w[5],U[0],I[1],I[2]),o(w[6],I[0],U[1],I[2]),o(w[7],I[0],I[1],I[2])}},getTransformedBoundingBox:function(){var t=a["a"].create();return function(e,n){var r=this.vertices,i=n.array,a=e.min,o=e.max,A=a.array,h=o.array,f=r[0];l(t,f,i),s(A,t),s(h,t);for(var d=1;d<8;d++)f=r[d],l(t,f,i),A[0]=c(t[0],A[0]),A[1]=c(t[1],A[1]),A[2]=c(t[2],A[2]),h[0]=u(t[0],h[0]),h[1]=u(t[1],h[1]),h[2]=u(t[2],h[2]);return a._dirty=!0,o._dirty=!0,e}}()},e["a"]=A},function(t,e,n){"use strict";var r=n(5),i=n(27),a=n(13),o=n(61),s=n(75),l=n(36),c=n(121),u=n(122),A={loadTexture:function(t,e,n,a){var o;if("function"===typeof e?(n=e,a=n,e={}):e=e||{},"string"===typeof t){if(t.match(/.hdr$/)||"hdr"===e.fileType)return o=new r["a"]({width:0,height:0,sRGB:!1}),A._fetchTexture(t,(function(t){u["a"].parseRGBE(t,o,e.exposure),o.dirty(),n&&n(o)}),a),o;t.match(/.dds$/)||"dds"===e.fileType?(o=new r["a"]({width:0,height:0}),A._fetchTexture(t,(function(t){c["a"].parse(t,o),o.dirty(),n&&n(o)}),a)):(o=new r["a"],o.load(t),o.success(n),o.error(a))}else"object"===typeof t&&"undefined"!==typeof t.px&&(o=new i["a"],o.load(t),o.success(n),o.error(a));return o},loadPanorama:function(t,e,n,r,i,a){var o=this;"function"===typeof r?(i=r,a=i,r={}):r=r||{},A.loadTexture(e,r,(function(e){e.flipY=r.flipY||!1,o.panoramaToCubeMap(t,e,n,r),e.dispose(t),i&&i(n)}),a)},panoramaToCubeMap:function(t,e,n,r){var i=new o["a"],a=new s["a"]({scene:new l["a"]});return a.setEnvironmentMap(e),r=r||{},r.encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),n.sRGB=e.sRGB,i.texture=n,i.render(t,a.scene),i.texture=null,i.dispose(t),n},heightToNormal:function(t,e){var n=document.createElement("canvas"),r=n.width=t.width,i=n.height=t.height,a=n.getContext("2d");a.drawImage(t,0,0,r,i),e=e||!1;for(var o=a.getImageData(0,0,r,i),s=a.createImageData(r,i),l=0;l<o.data.length;l+=4){if(e){var c=o.data[l],u=o.data[l+1],A=o.data[l+2],h=Math.abs(c-u)+Math.abs(u-A);if(h>20)return console.warn("Given image is not a height map"),t}var f,d,p,m;l%(4*r)===0?(f=o.data[l],p=o.data[l+4]):l%(4*r)===4*(r-1)?(f=o.data[l-4],p=o.data[l]):(f=o.data[l-4],p=o.data[l+4]),l<4*r?(d=o.data[l],m=o.data[l+4*r]):l>r*(i-1)*4?(d=o.data[l-4*r],m=o.data[l]):(d=o.data[l-4*r],m=o.data[l+4*r]),s.data[l]=f-p+127,s.data[l+1]=d-m+127,s.data[l+2]=255,s.data[l+3]=255}return a.putImageData(s,0,0),n},isHeightImage:function(t,e,n){if(!t||!t.width||!t.height)return!1;var r=document.createElement("canvas"),i=r.getContext("2d"),a=e||32;n=n||20,r.width=r.height=a,i.drawImage(t,0,0,a,a);for(var o=i.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var l=o.data[s],c=o.data[s+1],u=o.data[s+2],A=Math.abs(l-c)+Math.abs(c-u);if(A>n)return!1}return!0},_fetchTexture:function(t,e,n){a["a"].request.get({url:t,responseType:"arraybuffer",onload:e,onerror:n})},createChessboard:function(t,e,n,i){t=t||512,e=e||64,n=n||"black",i=i||"white";var a=Math.ceil(t/e),o=document.createElement("canvas");o.width=t,o.height=t;var s=o.getContext("2d");s.fillStyle=i,s.fillRect(0,0,t,t),s.fillStyle=n;for(var l=0;l<a;l++)for(var c=0;c<a;c++){var u=c%2?l%2:l%2-1;u&&s.fillRect(l*e,c*e,e,e)}var A=new r["a"]({image:o,anisotropic:8});return A},createBlank:function(t){var e=document.createElement("canvas");e.width=1,e.height=1;var n=e.getContext("2d");n.fillStyle=t,n.fillRect(0,0,1,1);var i=new r["a"]({image:e});return i}};e["a"]=A},function(t,e,n){"use strict";var r=n(8),i=n(3),a=n(37),o=n(10),s=["px","nx","py","ny","pz","nz"],l=r["a"].extend((function(){var t={position:new i["a"],far:1e3,near:.1,texture:null,shadowMapPass:null},e=t._cameras={px:new a["a"]({fov:90}),nx:new a["a"]({fov:90}),py:new a["a"]({fov:90}),ny:new a["a"]({fov:90}),pz:new a["a"]({fov:90}),nz:new a["a"]({fov:90})};return e.px.lookAt(i["a"].POSITIVE_X,i["a"].NEGATIVE_Y),e.nx.lookAt(i["a"].NEGATIVE_X,i["a"].NEGATIVE_Y),e.py.lookAt(i["a"].POSITIVE_Y,i["a"].POSITIVE_Z),e.ny.lookAt(i["a"].NEGATIVE_Y,i["a"].NEGATIVE_Z),e.pz.lookAt(i["a"].POSITIVE_Z,i["a"].NEGATIVE_Y),e.nz.lookAt(i["a"].NEGATIVE_Z,i["a"].NEGATIVE_Y),t._frameBuffer=new o["a"],t}),{getCamera:function(t){return this._cameras[t]},render:function(t,e,n){var r=t.gl;n||e.update();for(var a=this.texture.width,o=2*Math.atan(a/(a-.5))/Math.PI*180,l=0;l<6;l++){var c=s[l],u=this._cameras[c];if(i["a"].copy(u.position,this.position),u.far=this.far,u.near=this.near,u.fov=o,this.shadowMapPass){u.update();var A=e.getBoundingBox();A.applyTransform(u.viewMatrix),e.viewBoundingBoxLastFrame.copy(A),this.shadowMapPass.render(t,e,u,!0)}this._frameBuffer.attach(this.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+l),this._frameBuffer.bind(t),t.render(e,u,!0),this._frameBuffer.unbind(t)}},dispose:function(t){this._frameBuffer.dispose(t)}});e["a"]=l},function(t,e,n){"use strict";var r=n(1),i=n(164),a=n(165);r["a"].Shader.import(a["a"]),e["a"]=r["a"].Mesh.extend((function(){var t=new i["a"]({dynamic:!0}),e=new r["a"].Material({shader:r["a"].createShader("ecgl.labels"),transparent:!0,depthMask:!1});return{geometry:t,material:e,culling:!1,castShadow:!1,ignorePicking:!0}}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(206),s=n(25),l=n(2),c=n(6),u=n(64),A=n(65),h=n(46),f=c["a"].vec3;function d(t){this.rootNode=new a["a"].Node,this._triangulationResults={},this._shadersMap=a["a"].COMMON_SHADERS.reduce((function(t,e){return t[e]=a["a"].createShader("ecgl."+e),t}),{}),this._linesShader=a["a"].createShader("ecgl.meshLines3D");var e={};a["a"].COMMON_SHADERS.forEach((function(t){e[t]=new a["a"].Material({shader:a["a"].createShader("ecgl."+t)})})),this._groundMaterials=e,this._groundMesh=new a["a"].Mesh({geometry:new a["a"].PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new A["a"](512,512,t),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=t}a["a"].Shader.import(h["a"]),d.prototype={constructor:d,extrudeY:!0,update:function(t,e,n,r,i){var a=t.getData();null==r&&(r=0),null==i&&(i=a.count()),this._startIndex=r,this._endIndex=i-1,this._triangulation(t,r,i);var o=this._getShader(t.get("shading"));this._prepareMesh(t,o,n,r,i),this.rootNode.updateWorldTransform(),this._updateRegionMesh(t,n,r,i);var s=t.coordinateSystem;"geo3D"===s.type&&this._updateGroundPlane(t,s,n);var l=this;this._labelsBuilder.updateData(a,r,i),this._labelsBuilder.getLabelPosition=function(t,e,n){var r=a.getName(t),i=n;if("geo3D"===s.type){var o=s.getRegion(r);if(!o)return[NaN,NaN,NaN];A=o.center;var c=s.dataToPoint([A[0],A[1],i]);return c}var u=l._triangulationResults[t-l._startIndex],A=l.extrudeY?[(u.max[0]+u.min[0])/2,u.max[1]+i,(u.max[2]+u.min[2])/2]:[(u.max[0]+u.min[0])/2,(u.max[1]+u.min[1])/2,u.max[2]+i]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(t),this._lastHoverDataIndex=0},_initMeshes:function(){var t=this;function e(){var e=new a["a"].Mesh({name:"Polygon",material:new a["a"].Material({shader:t._shadersMap.lambert}),geometry:new a["a"].Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return i.a.util.extend(e.geometry,u["a"]),e}var n=e(),r=new a["a"].Mesh({material:new a["a"].Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new s["a"]({useNativeLine:!1})});this.rootNode.add(n),this.rootNode.add(r),n.material.define("both","VERTEX_COLOR"),n.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=n,this._linesMesh=r,this.rootNode.add(this._groundMesh)},_getShader:function(t){var e=this._shadersMap[t];return e||(console.warn("Unkown shading "+t),e=this._shadersMap.lambert),e.__shading=t,e},_prepareMesh:function(t,e,n,r,i){for(var o=0,s=0,l=0,c=0,u=r;u<i;u++){var A=this._getRegionPolygonInfo(u),h=this._getRegionLinesInfo(u,t,this._linesMesh.geometry);o+=A.vertexCount,s+=A.triangleCount,l+=h.vertexCount,c+=h.triangleCount}var f=this._polygonMesh,d=f.geometry;["position","normal","texcoord0","color"].forEach((function(t){d.attributes[t].init(o)})),d.indices=o>65535?new Uint32Array(3*s):new Uint16Array(3*s),f.material.shader!==e&&f.material.attachShader(e,!0),a["a"].setMaterialFromModel(e.__shading,f.material,t,n),l>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(l),this._linesMesh.geometry.setTriangleCount(c)),this._dataIndexOfVertex=new Uint32Array(o),this._vertexRangeOfDataIndex=new Uint32Array(2*(i-r))},_updateRegionMesh:function(t,e,n,r){for(var i=t.getData(),o=0,s=0,c=!1,u=this._polygonMesh,A=this._linesMesh,h=n;h<r;h++){var f=t.getRegionModel(h),d=f.getModel("itemStyle"),p=d.get("color"),m=l["a"].firstNotNull(d.get("opacity"),1),g=i.getItemVisual(h,"color",!0);null!=g&&i.hasValue(h)&&(p=g),i.setItemVisual(h,"color",p),i.setItemVisual(h,"opacity",m),p=a["a"].parseColor(p);var v=a["a"].parseColor(d.get("borderColor"));p[3]*=m,v[3]*=m;var _=p[3]<.99;u.material.set("color",[1,1,1,1]),c=c||_;for(var y=l["a"].firstNotNull(f.get("height",!0),t.get("regionHeight")),w=this._updatePolygonGeometry(t,u.geometry,h,y,o,s,p),x=o;x<w.vertexOffset;x++)this._dataIndexOfVertex[x]=h;this._vertexRangeOfDataIndex[2*(h-n)]=o,this._vertexRangeOfDataIndex[2*(h-n)+1]=w.vertexOffset,o=w.vertexOffset,s=w.triangleOffset;var b=d.get("borderWidth"),C=b>0;C&&(b*=e.getDevicePixelRatio(),this._updateLinesGeometry(A.geometry,t,h,y,b,t.coordinateSystem.transform)),A.invisible=!C,A.material.set({color:v})}u=this._polygonMesh;u.material.transparent=c,u.material.depthMask=!c,u.geometry.updateBoundingBox(),u.frontFace=this.extrudeY?a["a"].Mesh.CCW:a["a"].Mesh.CW,u.material.get("normalMap")&&u.geometry.generateTangents(),u.seriesIndex=t.seriesIndex,u.on("mousemove",this._onmousemove,this),u.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(t){var e=t.getModel("debug.wireframe");if(e.get("show")){var n=a["a"].parseColor(e.get("lineStyle.color")||"rgba(0,0,0,0.5)"),r=l["a"].firstNotNull(e.get("lineStyle.width"),1),i=this._polygonMesh;i.geometry.generateBarycentric(),i.material.define("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",n),i.material.set("wireframeLineWidth",r)}},_onmousemove:function(t){var e=this._dataIndexOfVertex[t.triangle[0]];null==e&&(e=-1),e!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(e),this._labelsBuilder.updateLabels([e])),this._lastHoverDataIndex=e,this._polygonMesh.dataIndex=e},_onmouseout:function(t){t.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(t,e,n){var r=t.getModel("groundPlane",t);if(this._groundMesh.invisible=!r.get("show",!0),!this._groundMesh.invisible){var i=t.get("shading"),o=this._groundMaterials[i];o||(console.warn("Unkown shading "+i),o=this._groundMaterials.lambert),a["a"].setMaterialFromModel(i,o,r,n),o.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=o,this._groundMesh.material.set("color",a["a"].parseColor(r.get("color"))),this._groundMesh.scale.set(e.size[0],e.size[2],1)}},_triangulation:function(t,e,n){this._triangulationResults=[];for(var r=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0],a=t.coordinateSystem,s=e;s<n;s++){for(var l=[],c=t.getRegionPolygonCoords(s),u=0;u<c.length;u++){var A=c[u].exterior,h=c[u].interiors,d=[],p=[];if(!(A.length<3)){for(var m=0,g=0;g<A.length;g++){var v=A[g];d[m++]=v[0],d[m++]=v[1]}for(g=0;g<h.length;g++)if(!(h[g].length<3)){for(var _=d.length/2,y=0;y<h[g].length;y++){v=h[g][y];d.push(v[0]),d.push(v[1])}p.push(_)}var w=Object(o["a"])(d,p),x=new Float64Array(d.length/2*3),b=[],C=[1/0,1/0,1/0],B=[-1/0,-1/0,-1/0],E=0;for(g=0;g<d.length;)f.set(b,d[g++],0,d[g++]),a&&a.transform&&f.transformMat4(b,b,a.transform),f.min(C,C,b),f.max(B,B,b),x[E++]=b[0],x[E++]=b[1],x[E++]=b[2];f.min(r,r,C),f.max(i,i,B),l.push({points:x,indices:w,min:C,max:B})}}this._triangulationResults.push(l)}this._geoBoundingBox=[r,i]},_getRegionPolygonInfo:function(t){for(var e=this._triangulationResults[t-this._startIndex],n=0,r=0,i=0;i<e.length;i++)n+=e[i].points.length/3,r+=e[i].indices.length/3;var a=2*n+4*n,o=2*r+2*n;return{vertexCount:a,triangleCount:o}},_updatePolygonGeometry:function(t,e,n,r,i,a,o){var s=t.get("projectUVOnGround"),l=e.attributes.position,c=e.attributes.normal,u=e.attributes.texcoord0,A=e.attributes.color,h=this._triangulationResults[n-this._startIndex],d=A.value&&o,p=e.indices,m=this.extrudeY?1:2,g=this.extrudeY?2:1,v=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],_=f.mul([],this._geoBoundingBox[0],v),y=f.mul([],this._geoBoundingBox[1],v),w=Math.max(y[0]-_[0],y[2]-_[2]);function x(t,e,n){for(var r=t.points,a=r.length,s=[],c=[],h=0;h<a;h+=3)s[0]=r[h],s[m]=e,s[g]=r[h+2],c[0]=(r[h]*v[0]-_[0])/w,c[1]=(r[h+2]*v[g]-_[2])/w,l.set(i,s),d&&A.set(i,o),u.set(i++,c)}function b(t,e,n){var r=i;x(t,e,n);for(var o=t.indices.length,s=0;s<o;s++)p[3*a+s]=t.indices[s]+r;a+=t.indices.length/3}for(var C=this.extrudeY?[0,1,0]:[0,0,1],B=f.negate([],C),E=0;E<h.length;E++){var T=i,S=h[E];b(S,0,0),b(S,r,0);for(var M=S.points.length/3,N=0;N<M;N++)c.set(T+N,B),c.set(T+N+M,C);var D=[0,3,1,1,3,2],O=[[],[],[],[]],U=[],I=[],L=[],F=[],R=0;for(N=0;N<M;N++){for(var P=(N+1)%M,Q=(S.points[3*P]-S.points[3*N])*v[0],H=(S.points[3*P+2]-S.points[3*N+2])*v[g],k=Math.sqrt(Q*Q+H*H),z=0;z<4;z++){var V=0===z||3===z,G=3*(V?N:P);O[z][0]=S.points[G],O[z][m]=z>1?r:0,O[z][g]=S.points[G+2],l.set(i+z,O[z]),s?(F[0]=(S.points[G]*v[0]-_[0])/w,F[1]=(S.points[G+2]*v[g]-_[g])/w):(F[0]=(V?R:R+k)/w,F[1]=(O[z][m]*v[m]-_[m])/w),u.set(i+z,F)}f.sub(U,O[1],O[0]),f.sub(I,O[3],O[0]),f.cross(L,U,I),f.normalize(L,L);for(z=0;z<4;z++)c.set(i+z,L),d&&A.set(i+z,o);for(z=0;z<6;z++)p[3*a+z]=D[z]+i;i+=4,a+=2,R+=k}}return e.dirty(),{vertexOffset:i,triangleOffset:a}},_getRegionLinesInfo:function(t,e,n){var r=0,i=0,a=e.getRegionModel(t),o=a.getModel("itemStyle"),s=o.get("borderWidth");if(s>0){var l=e.getRegionPolygonCoords(t);l.forEach((function(t){var e=t.exterior,a=t.interiors;r+=n.getPolylineVertexCount(e),i+=n.getPolylineTriangleCount(e);for(var o=0;o<a.length;o++)r+=n.getPolylineVertexCount(a[o]),i+=n.getPolylineTriangleCount(a[o])}),this)}return{vertexCount:r,triangleCount:i}},_updateLinesGeometry:function(t,e,n,r,i,a){function o(t){for(var e=new Float64Array(3*t.length),n=0,i=[],o=0;o<t.length;o++)i[0]=t[o][0],i[1]=r+.1,i[2]=t[o][1],a&&f.transformMat4(i,i,a),e[n++]=i[0],e[n++]=i[1],e[n++]=i[2];return e}var s=[1,1,1,1],l=e.getRegionPolygonCoords(n);l.forEach((function(e){var n=e.exterior,r=e.interiors;t.addPolyline(o(n),s,i);for(var a=0;a<r.length;a++)t.addPolyline(o(r[a]),s,i)}))},highlight:function(t){var e=this._data;if(e){var n=e.getItemModel(t),r=n.getModel("emphasis.itemStyle"),o=r.get("color"),s=l["a"].firstNotNull(r.get("opacity"),e.getItemVisual(t,"opacity"),1);if(null==o){var c=e.getItemVisual(t,"color");o=i.a.color.lift(c,-.4)}null==s&&(s=e.getItemVisual(t,"opacity"));var u=a["a"].parseColor(o);u[3]*=s,this._setColorOfDataIndex(e,t,u)}},downplay:function(t){var e=this._data;if(e){var n=e.getItemVisual(t,"color"),r=l["a"].firstNotNull(e.getItemVisual(t,"opacity"),1),i=a["a"].parseColor(n);i[3]*=r,this._setColorOfDataIndex(e,t,i)}},_setColorOfDataIndex:function(t,e,n){if(!(e<this._startIndex&&e>this._endIndex)){e-=this._startIndex;for(var r=this._vertexRangeOfDataIndex[2*e];r<this._vertexRangeOfDataIndex[2*e+1];r++)this._polygonMesh.geometry.attributes.color.set(r,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}},e["a"]=d},function(t,e,n){"use strict";var r=n(96),i=n(6),a=i["a"].vec3,o=a.create(),s=a.create(),l=a.create();e["a"]={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(t,e){var n=this.indices;if(0===e){var r=this.attributes.position;t=t.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var i,c=0,u=0;u<n.length;){r.get(n[u++],o),r.get(n[u++],s),r.get(n[u++],l);var A=a.sqrDist(o,t),h=a.sqrDist(s,t),f=a.sqrDist(l,t),d=Math.min(A,h);d=Math.min(d,f),3===u?(i=d,d=0):d-=i,this._triangleZList[c++]=d}}var p=this._sortedTriangleIndices;for(u=0;u<p.length;u++)p[u]=u;if(this.triangleCount<2e4)0===e&&this._simpleSort(!0);else for(u=0;u<3;u++)this._progressiveQuickSort(3*e+u);var m=this._indicesTmp,g=this._triangleZListTmp,v=this._triangleZList;for(u=0;u<this.triangleCount;u++){var _=3*p[u],y=3*u;m[y++]=n[_++],m[y++]=n[_++],m[y]=n[_],g[u]=v[p[u]]}var w=this._indicesTmp;this._indicesTmp=this.indices,this.indices=w;w=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=w,this.dirtyIndices()},_simpleSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;function i(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,i):r["a"].sort(n,i,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._triangleZList,n=this._sortedTriangleIndices;this._quickSort=this._quickSort||new r["a"],this._quickSort.step(n,(function(t,n){return e[n]-e[t]}),t)}}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(82),o=n(62),s=n(2),l=1,c=2;function u(t,e,n){this._labelsMesh=new o["a"],this._labelTextureSurface=new a["a"]({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}u.prototype.getLabelPosition=function(t,e,n){return[0,0,0]},u.prototype.getLabelDistance=function(t,e,n){return 0},u.prototype.getMesh=function(){return this._labelsMesh},u.prototype.updateData=function(t,e,n){null==e&&(e=0),null==n&&(n=t.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-e||(this._labelsVisibilitiesBits=new Uint8Array(n-e));for(var r=["label","show"],i=["emphasis","label","show"],a=e;a<n;a++){var o=t.getItemModel(a),s=o.get(r),u=o.get(i);null==u&&(u=s);var A=(s?l:0)|(u?c:0);this._labelsVisibilitiesBits[a-e]=A}this._start=e,this._end=n,this._data=t},u.prototype.updateLabels=function(t){if(this._data){t=t||[];for(var e=t.length>0,n={},r=0;r<t.length;r++)n[t[r]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var a=["label"],o=["emphasis","label"],u=this._data.hostModel,A=this._data,h=u.getModel(a),f=u.getModel(o,h),d={left:"right",right:"left",top:"center",bottom:"center"},p={left:"middle",right:"middle",top:"bottom",bottom:"top"},m=this._start;m<this._end;m++){var g=!1;e&&n[m]&&(g=!0);var v=this._labelsVisibilitiesBits[m-this._start]&(g?c:l);if(v){var _=A.getItemModel(m),y=_.getModel(g?o:a,g?f:h),w=y.get("distance")||0,x=y.get("position"),b=y.getModel("textStyle"),C=this._api.getDevicePixelRatio(),B=u.getFormattedLabel(m,g?"emphasis":"normal");if(null==B||""===B)return;var E=new i.a.graphic.Text;i.a.graphic.setTextStyle(E.style,b,{text:B,textFill:b.get("color")||A.getItemVisual(m,"color")||"#000",textAlign:"left",textVerticalAlign:"top",opacity:s["a"].firstNotNull(b.get("opacity"),A.getItemVisual(m,"opacity"),1)});var T=E.getBoundingRect(),S=1.2;T.height*=S;var M=this._labelTextureSurface.add(E),N=d[x]||"center",D=p[x]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(m,x,w),[T.width*C,T.height*C],M,N,D,this.getLabelDistance(m,x,w)*C)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},e["a"]=u},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(241),s=n(242),l=n(65),c=n(7),u=n(2),A=20,h=-10;function f(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function d(t,e){this.rootNode=new a["a"].Node,this.is2D=t,this._labelsBuilder=new l["a"](256,256,e),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=e,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}d.prototype={constructor:d,highlightOnMouseover:!0,update:function(t,e,n,r,i){var o=this._prevMesh;this._prevMesh=this._mesh,this._mesh=o;var l=t.getData();if(null==r&&(r=0),null==i&&(i=l.count()),this._startDataIndex=r,this._endDataIndex=i-1,!this._mesh){var c=this._prevMesh&&this._prevMesh.material;this._mesh=new s["a"]({renderOrder:10,frustumCulling:!1}),c&&(this._mesh.material=c)}c=this._mesh.material;var u=this._mesh.geometry,A=u.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var f=this._getSymbolInfo(t,r,i),d=n.getDevicePixelRatio(),p=t.getModel("itemStyle").getItemStyle(),m=t.get("large"),g=1;f.maxSize>2?(g=this._updateSymbolSprite(t,p,f,d),c.enableTexture("sprite")):c.disableTexture("sprite"),A.position.init(i-r);var v=[];if(m){c.undefine("VERTEX_SIZE"),c.undefine("VERTEX_COLOR");var _=l.getVisual("color"),y=l.getVisual("opacity");a["a"].parseColor(_,v),v[3]*=y,c.set({color:v,u_Size:f.maxSize*this._sizeScale})}else c.set({color:[1,1,1,1]}),c.define("VERTEX_SIZE"),c.define("VERTEX_COLOR"),A.size.init(i-r),A.color.init(i-r),this._originalOpacity=new Float32Array(i-r);for(var w=l.getLayout("points"),x=A.position.value,b=0;b<i-r;b++){var C=3*b,B=2*b;if(this.is2D?(x[C]=w[B],x[C+1]=w[B+1],x[C+2]=h):(x[C]=w[C],x[C+1]=w[C+1],x[C+2]=w[C+2]),!m){_=l.getItemVisual(b,"color"),y=l.getItemVisual(b,"opacity");a["a"].parseColor(_,v),v[3]*=y,A.color.set(b,v),v[3]<.99&&!0;var E=l.getItemVisual(b,"symbolSize");E=E instanceof Array?Math.max(E[0],E[1]):E,isNaN(E)&&(E=0),A.size.value[b]=E*g*this._sizeScale,this._originalOpacity[b]=v[3]}}this._mesh.sizeScale=g,u.updateBoundingBox(),u.dirty(),this._updateMaterial(t,p);var T=t.coordinateSystem;if(T&&T.viewGL){var S=T.viewGL.isLinearSpace()?"define":"undefine";c[S]("fragment","SRGB_DECODE")}m||this._updateLabelBuilder(t,r,i),this._updateHandler(t,e,n),this._updateAnimation(t),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(t){this._labelsBuilder.updateLabels(t)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},_updateSymbolSprite:function(t,e,n,r){n.maxSize=Math.min(2*n.maxSize,200);var i=[];return n.aspect>1?(i[0]=n.maxSize,i[1]=n.maxSize/n.aspect):(i[1]=n.maxSize,i[0]=n.maxSize*n.aspect),i[0]=i[0]||1,i[1]=i[1]||1,this._symbolType===n.type&&f(this._symbolSize,i)&&this._lineWidth===e.lineWidth||(o["a"].createSymbolSprite(n.type,i,{fill:"#fff",lineWidth:e.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(i[0]/2,10)},this._spriteImageCanvas),o["a"].createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),A,this._mesh.material.get("sprite").image),this._symbolType=n.type,this._symbolSize=i,this._lineWidth=e.lineWidth),this._spriteImageCanvas.width/n.maxSize*r},_updateMaterial:function(t,e){var n="lighter"===t.get("blendMode")?a["a"].additiveBlend:null,r=this._mesh.material;r.blend=n,r.set("lineWidth",e.lineWidth/A);var i=a["a"].parseColor(e.stroke);r.set("strokeColor",i),r.transparent=!0,r.depthMask=!1,r.depthTest=!this.is2D,r.sortVertices=!this.is2D},_updateLabelBuilder:function(t,e,n){var r=t.getData(),i=this._mesh.geometry,a=i.attributes.position.value,o=(e=this._startDataIndex,this._mesh.sizeScale);this._labelsBuilder.updateData(r,e,n),this._labelsBuilder.getLabelPosition=function(t,n,r){var i=3*(t-e);return[a[i],a[i+1],a[i+2]]},this._labelsBuilder.getLabelDistance=function(t,n,r){var a=i.attributes.size.get(t-e)/o;return a/2+r},this._labelsBuilder.updateLabels()},_updateAnimation:function(t){a["a"].updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,t)},_updateHandler:function(t,e,n){var r,i=t.getData(),a=this._mesh,o=this,s=-1,l=t.coordinateSystem&&"cartesian3D"===t.coordinateSystem.type;l&&(r=t.coordinateSystem.model),a.seriesIndex=t.seriesIndex,a.off("mousemove"),a.off("mouseout"),a.on("mousemove",(function(e){var c=e.vertexIndex+o._startDataIndex;c!==s&&(this.highlightOnMouseover&&(this.downplay(i,s),this.highlight(i,c),this._labelsBuilder.updateLabels([c])),l&&n.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get(t.coordDimToDataDim("x")[0],c),i.get(t.coordDimToDataDim("y")[0],c),i.get(t.coordDimToDataDim("z")[0],c)],grid3DIndex:r.componentIndex})),a.dataIndex=c,s=c}),this),a.on("mouseout",(function(t){var e=t.vertexIndex+o._startDataIndex;this.highlightOnMouseover&&(this.downplay(i,e),this._labelsBuilder.updateLabels()),s=-1,a.dataIndex=-1,l&&n.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:r.componentIndex})}),this)},updateLayout:function(t,e,n){var r=t.getData();if(this._mesh){var i=this._mesh.geometry.attributes.position.value,a=r.getLayout("points");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,l=2*o;i[s]=a[l],i[s+1]=a[l+1],i[s+2]=h}else for(o=0;o<a.length;o++)i[o]=a[o];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(t){if(this._mesh){var e=new c["a"];c["a"].mul(e,t.viewMatrix,this._mesh.worldTransform),c["a"].mul(e,t.projectionMatrix,e),this._mesh.updateNDCPosition(e,this.is2D,this._api)}},highlight:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var n=t.getItemModel(e),r=n.getModel("emphasis.itemStyle"),o=r.get("color"),s=r.get("opacity");if(null==o){var l=t.getItemVisual(e,"color");o=i.a.color.lift(l,-.4)}null==s&&(s=t.getItemVisual(e,"opacity"));var c=a["a"].parseColor(o);c[3]*=s,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,c),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var n=t.getItemVisual(e,"color"),r=t.getItemVisual(e,"opacity"),i=a["a"].parseColor(n);i[3]*=r,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,i),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(t){if(this._originalOpacity){for(var e=this._mesh.geometry,n=0;n<e.vertexCount;n++){var r=this._originalOpacity[n]*t;e.attributes.color.value[4*n+3]=r}e.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(t){this._mesh&&this._setPositionTextureToMesh(this._mesh,t),this._positionTexture=t},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(t){if(t!==this._sizeScale){if(this._mesh){var e=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",e/this._sizeScale*t);var n=this._mesh.geometry.attributes;if(n.size.value)for(var r=0;r<n.size.value.length;r++)n.size.value[r]=n.size.value[r]/this._sizeScale*t}this._sizeScale=t}},_setPositionTextureToMesh:function(t,e){e&&t.material.set("positionTexture",e),t.material[e?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(t,e,n){if(t.get("large")){var r=u["a"].firstNotNull(t.get("symbolSize"),1);return r instanceof Array?(c=Math.max(r[0],r[1]),i=r[0]/r[1]):(c=r,i=1),{maxSize:r,type:t.get("symbol"),aspect:i}}for(var i,a=t.getData(),o=!1,s=a.getItemVisual(0,"symbol")||"circle",l=!1,c=0,A=e;A<n;A++){r=a.getItemVisual(A,"symbolSize");var h,f=a.getItemVisual(A,"symbol");if(r instanceof Array)h=r[0]/r[1],c=Math.max(Math.max(r[0],r[1]),c);else{if(isNaN(r))return;h=1,c=Math.max(r,c)}null!=i&&Math.abs(h-i)>.05&&(o=!0),f!==s&&(l=!0),s=f,i=h}return o&&console.warn("Different symbol width / height ratio will be ignored."),l&&console.warn("Different symbol type will be ignored."),{maxSize:c,type:s,aspect:i}}},e["a"]=d},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(113),i=function(t){this._list=new r["a"],this._map={},this._maxSize=t||10};i.prototype.setMaxSize=function(t){this._maxSize=t},i.prototype.put=function(t,e){if(!this._map.hasOwnProperty(t)){var n=this._list.length();if(n>=this._maxSize&&n>0){var r=this._list.head;this._list.remove(r),delete this._map[r.key]}var i=this._list.insert(e);i.key=t,this._map[t]=i}},i.prototype.get=function(t){var e=this._map[t];if(this._map.hasOwnProperty(t))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},i.prototype.remove=function(t){var e=this._map[t];"undefined"!==typeof e&&(delete this._map[t],this._list.remove(e))},i.prototype.clear=function(){this._list.clear(),this._map={}},e["a"]=i},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](2);return t[0]=0,t[1]=0,t},clone:function(t){var e=new r["a"](2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var n=new r["a"](2);return n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t},i.random=function(t,e){e=e||1;var n=2*GLMAT_RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var s,l;for(n||(n=2),r||(r=0),l=i?Math.min(i*n+r,e.length):e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}(),e["a"]=i},function(t,e,n){"use strict";e["a"]="@export clay.prez.vertex\n#define SHADER_NAME prez\nuniform mat4 WVP : WORLDVIEWPROJECTION;\nattribute vec3 pos : POSITION;\nattribute vec2 uv : TEXCOORD_0;\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\n@import clay.util.logdepth_vertex_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n vec4 P = vec4(pos, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = WVP * P;\n v_Texcoord = uv * uvRepeat + uvOffset;\n @import clay.util.logdepth_vertex_main\n}\n@end\n@export clay.prez.fragment\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.logdepth_fragment_header\nvarying vec2 v_Texcoord;\nvoid main()\n{\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\n @import clay.util.logdepth_fragment_main\n}\n@end"},function(t,e,n){"use strict";var r=n(35),i=n(11),a=r["a"].extend({material:null,geometry:null,mode:i["a"].TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:i["a"].BACK,frontFace:i["a"].CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(t){},afterRender:function(t,e){},getBoundingBox:function(t,e){return e=r["a"].prototype.getBoundingBox.call(this,t,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:function(){var t=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var e=r["a"].prototype.clone.call(this);e.geometry=this.geometry,e.material=this.material;for(var n=0;n<t.length;n++){var i=t[n];e[i]!==this[i]&&(e[i]=this[i])}return e}}()});a.POINTS=i["a"].POINTS,a.LINES=i["a"].LINES,a.LINE_LOOP=i["a"].LINE_LOOP,a.LINE_STRIP=i["a"].LINE_STRIP,a.TRIANGLES=i["a"].TRIANGLES,a.TRIANGLE_STRIP=i["a"].TRIANGLE_STRIP,a.TRIANGLE_FAN=i["a"].TRIANGLE_FAN,a.BACK=i["a"].BACK,a.FRONT=i["a"].FRONT,a.FRONT_AND_BACK=i["a"].FRONT_AND_BACK,a.CW=i["a"].CW,a.CCW=i["a"].CCW,e["a"]=a},function(t,e,n){"use strict";var r={isPowerOfTwo:function(t){return 0===(t&t-1)},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}};e["a"]=r},function(t,e,n){"use strict";var r=n(3),i=n(21),a=n(12),o=n(33),s=function(t,e){this.normal=t||new r["a"](0,1,0),this.distance=e||0};s.prototype={constructor:s,distanceToPoint:function(t){return a["a"].dot(t.array,this.normal.array)-this.distance},projectPoint:function(t,e){e||(e=new r["a"]);var n=this.distanceToPoint(t);return a["a"].scaleAndAdd(e.array,t.array,this.normal.array,-n),e._dirty=!0,e},normalize:function(){var t=1/a["a"].len(this.normal.array);a["a"].scale(this.normal.array,t),this.distance*=t},intersectFrustum:function(t){for(var e=t.vertices,n=this.normal.array,r=a["a"].dot(e[0].array,n)>this.distance,i=1;i<8;i++)if(a["a"].dot(e[i].array,n)>this.distance!=r)return!0},intersectLine:function(){var t=a["a"].create();return function(e,n,i){var o=this.distanceToPoint(e),s=this.distanceToPoint(n);if(o>0&&s>0||o<0&&s<0)return null;var l=this.normal.array,c=this.distance,u=e.array;a["a"].sub(t,n.array,e.array),a["a"].normalize(t,t);var A=a["a"].dot(l,t);if(0===A)return null;i||(i=new r["a"]);var h=(a["a"].dot(l,u)-c)/A;return a["a"].scaleAndAdd(i.array,u,t,-h),i._dirty=!0,i}}(),applyTransform:function(){var t=i["a"].create(),e=o["a"].create(),n=o["a"].create();return n[3]=1,function(r){r=r.array,a["a"].scale(n,this.normal.array,this.distance),o["a"].transformMat4(n,n,r),this.distance=a["a"].dot(n,this.normal.array),i["a"].invert(t,r),i["a"].transpose(t,t),e[3]=0,a["a"].copy(e,this.normal.array),o["a"].transformMat4(e,e,t),a["a"].copy(this.normal.array,e)}}(),copy:function(t){a["a"].copy(this.normal.array,t.normal.array),this.normal._dirty=!0,this.distance=t.distance},clone:function(){var t=new s;return t.copy(this),t}},e["a"]=s},function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(t){var e=new i(t);return this.insertEntry(e),e},r.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(t){this.value=t,this.next,this.prev},a=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(t,e){var n=this._list,r=this._map,a=null;if(null==r[t]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new i(e),s.key=t,n.insertEntry(s),r[t]=s}return a},o.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}};var s=a;t.exports=s},function(t,e,n){"use strict";var r=n(42);e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(14),i=n(43),a=n(7),o=n(3),s=n(18),l=n(13),c=new a["a"],u=r["a"].extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},(function(){this.build()}),{build:function(){var t={px:A("px",this.depthSegments,this.heightSegments),nx:A("nx",this.depthSegments,this.heightSegments),py:A("py",this.widthSegments,this.depthSegments),ny:A("ny",this.widthSegments,this.depthSegments),pz:A("pz",this.widthSegments,this.heightSegments),nz:A("nz",this.widthSegments,this.heightSegments)},e=["position","texcoord0","normal"],n=0,r=0;for(var i in t)n+=t[i].vertexCount,r+=t[i].indices.length;for(var a=0;a<e.length;a++)this.attributes[e[a]].init(n);this.indices=new l["a"].Uint16Array(r);var o=0,c=0;for(var i in t){var u=t[i];for(a=0;a<e.length;a++)for(var h=e[a],f=u.attributes[h].value,d=u.attributes[h].size,p="normal"===h,m=0;m<f.length;m++){var g=f[m];this.inside&&p&&(g=-g),this.attributes[h].value[m+d*c]=g}var v=u.indices.length;for(m=0;m<u.indices.length;m++)this.indices[m+o]=c+u.indices[this.inside?v-m-1:m];o+=u.indices.length,c+=u.vertexCount}this.boundingBox=new s["a"],this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function A(t,e,n){c.identity();var r=new i["a"]({widthSegments:e,heightSegments:n});switch(t){case"px":a["a"].translate(c,c,o["a"].POSITIVE_X),a["a"].rotateY(c,c,Math.PI/2);break;case"nx":a["a"].translate(c,c,o["a"].NEGATIVE_X),a["a"].rotateY(c,c,-Math.PI/2);break;case"py":a["a"].translate(c,c,o["a"].POSITIVE_Y),a["a"].rotateX(c,c,-Math.PI/2);break;case"ny":a["a"].translate(c,c,o["a"].NEGATIVE_Y),a["a"].rotateX(c,c,Math.PI/2);break;case"pz":a["a"].translate(c,c,o["a"].POSITIVE_Z);break;case"nz":a["a"].translate(c,c,o["a"].NEGATIVE_Z),a["a"].rotateY(c,c,Math.PI);break}return r.applyTransform(c),r}e["a"]=u},function(t,e,n){"use strict";var r=n(5),i=n(27),a=n(4),o=n(10),s=n(15),l=n(19),c=n(9),u=n(42),A=n(36),h=n(61),f=n(13),d=n(60),p=n(126),m=n(127),g={},v=["px","nx","py","ny","pz","nz"];g.prefilterEnvironmentMap=function(t,e,n,s,p){p&&s||(s=g.generateNormalDistribution(),p=g.integrateBRDF(t,s)),n=n||{};var _=n.width||64,y=n.height||64,w=n.type||e.type,x=new i["a"]({width:_,height:y,type:w,flipY:!1,mipmaps:[]});x.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var b=Math.min(_,y),C=Math.log(b)/Math.log(2)+1,B=new l["a"]({shader:new c["a"]({vertex:c["a"].source("clay.skybox.vertex"),fragment:m["a"]})});B.set("normalDistribution",s),n.encodeRGBM&&B.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&B.define("fragment","RGBM_DECODE");var E,T=new A["a"];if("texture2D"===e.textureType){var S=new i["a"]({width:_,height:y,type:w===a["a"].FLOAT?a["a"].HALF_FLOAT:w});d["a"].panoramaToCubeMap(t,e,S,{encodeRGBM:n.decodeRGBM}),e=S}E=new u["a"]({scene:T,material:B}),E.material.set("environmentMap",e);var M=new h["a"]({texture:x});n.encodeRGBM&&(w=x.type=a["a"].UNSIGNED_BYTE);for(var N=new r["a"]({width:_,height:y,type:w}),D=new o["a"]({depthBuffer:!1}),O=f["a"][w===a["a"].UNSIGNED_BYTE?"Uint8Array":"Float32Array"],U=0;U<C;U++){x.mipmaps[U]={pixels:{}},E.material.set("roughness",U/(C-1));for(var I=N.width,L=2*Math.atan(I/(I-.5))/Math.PI*180,F=0;F<v.length;F++){var R=new O(N.width*N.height*4);D.attach(N),D.bind(t);var P=M.getCamera(v[F]);P.fov=L,t.render(T,P),t.gl.readPixels(0,0,N.width,N.height,a["a"].RGBA,w,R),D.unbind(t),x.mipmaps[U].pixels[v[F]]=R}N.width/=2,N.height/=2,N.dirty()}return D.dispose(t),N.dispose(t),E.dispose(t),s.dispose(t),{environmentMap:x,brdfLookup:p,normalDistribution:s,maxMipmapLevel:C}},g.integrateBRDF=function(t,e){e=e||g.generateNormalDistribution();var n=new o["a"]({depthBuffer:!1}),i=new s["a"]({fragment:p["a"]}),l=new r["a"]({width:512,height:256,type:a["a"].HALF_FLOAT,wrapS:a["a"].CLAMP_TO_EDGE,wrapT:a["a"].CLAMP_TO_EDGE,minFilter:a["a"].NEAREST,magFilter:a["a"].NEAREST,useMipmap:!1});return i.setUniform("normalDistribution",e),i.setUniform("viewportSize",[512,256]),i.attachOutput(l),i.render(t,n),n.dispose(t),l},g.generateNormalDistribution=function(t,e){t=t||256,e=e||1024;for(var n=new r["a"]({width:t,height:e,type:a["a"].FLOAT,minFilter:a["a"].NEAREST,magFilter:a["a"].NEAREST,wrapS:a["a"].CLAMP_TO_EDGE,wrapT:a["a"].CLAMP_TO_EDGE,useMipmap:!1}),i=new Float32Array(e*t*4),o=[],s=0;s<t;s++){for(var l=s/t,c=l*l,u=0;u<e;u++){var A=(u<<16|u>>>16)>>>0;A=((1431655765&A)<<1|(2863311530&A)>>>1)>>>0,A=((858993459&A)<<2|(3435973836&A)>>>2)>>>0,A=((252645135&A)<<4|(4042322160&A)>>>4)>>>0,A=(((16711935&A)<<8|(4278255360&A)>>>8)>>>0)/4294967296;var h=Math.sqrt((1-A)/(1+(c*c-1)*A));o[u]=h}for(u=0;u<e;u++){var f=4*(u*t+s),d=(h=o[u],Math.sqrt(1-h*h)),p=u/e,m=2*Math.PI*p;i[f]=d*Math.cos(m),i[f+1]=h,i[f+2]=d*Math.sin(m),i[f+3]=1}}return n.pixels=i,n},e["a"]=g},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new r["a"](4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*s+a*l,t[1]=i*s+o*l,t[2]=r*c+a*u,t[3]=i*c+o*u,t}};i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=i*l+o*s,t[2]=r*-s+a*l,t[3]=i*-s+o*l,t},i.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],l=n[1];return t[0]=r*s,t[1]=i*s,t[2]=a*l,t[3]=o*l,t},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e["a"]=i},function(t,e,n){"use strict";var r=n(20),i={create:function(){var t=new r["a"](6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new r["a"](6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=n*a-r*i;return l?(l=1/l,t[0]=a*l,t[1]=-r*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*o)*l,t[5]=(r*o-n*s)*l,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=n[0],u=n[1],A=n[2],h=n[3],f=n[4],d=n[5];return t[0]=r*c+a*u,t[1]=i*c+o*u,t[2]=r*A+a*h,t[3]=i*A+o*h,t[4]=r*f+a*d+s,t[5]=i*f+o*d+l,t}};i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*c,t[1]=i*u+o*c,t[2]=r*-c+a*u,t[3]=i*-c+o*u,t[4]=s,t[5]=l,t},i.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=n[0],u=n[1];return t[0]=r*c,t[1]=i*c,t[2]=a*u,t[3]=o*u,t[4]=s,t[5]=l,t},i.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=n[0],u=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*c+a*u+s,t[5]=i*c+o*u+l,t},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e["a"]=i},function(t,e){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},r={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},i=Object.prototype.toString,a=Array.prototype,o=a.forEach,s=a.filter,l=a.slice,c=a.map,u=a.reduce,A={};function h(t,e){"createCanvas"===t&&(v=null),A[t]=e}function f(t){if(null==t||"object"!=typeof t)return t;var e=t,a=i.call(t);if("[object Array]"===a){if(!Y(t)){e=[];for(var o=0,s=t.length;o<s;o++)e[o]=f(t[o])}}else if(r[a]){if(!Y(t)){var l=t.constructor;if(t.constructor.from)e=l.from(t);else{e=new l(t.length);for(o=0,s=t.length;o<s;o++)e[o]=f(t[o])}}}else if(!n[a]&&!Y(t)&&!P(t))for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=f(t[c]));return e}function d(t,e,n){if(!L(e)||!L(t))return n?f(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],a=e[r];!L(a)||!L(i)||O(a)||O(i)||P(a)||P(i)||F(a)||F(i)||Y(a)||Y(i)?!n&&r in t||(t[r]=f(e[r],!0)):d(i,a,n)}return t}function p(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=d(n,t[r],e);return n}function m(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function g(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}var v,_=function(){return A.createCanvas()};function y(){return v||(v=_().getContext("2d")),v}function w(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function x(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)t.prototype[i]=n[i];t.prototype.constructor=t,t.superClass=e}function b(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,g(t,e,n)}function C(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function B(t,e,n){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function E(t,e,n){if(t&&e){if(t.map&&t.map===c)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}}function T(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===u)return t.reduce(e,n,r);for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function S(t,e,n){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function M(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function N(t,e){var n=l.call(arguments,2);return function(){return t.apply(e,n.concat(l.call(arguments)))}}function D(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}}function O(t){return"[object Array]"===i.call(t)}function U(t){return"function"===typeof t}function I(t){return"[object String]"===i.call(t)}function L(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function F(t){return!!n[i.call(t)]}function R(t){return!!r[i.call(t)]}function P(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function Q(t){return t!==t}function H(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function k(t,e){return null!=t?t:e}function z(t,e,n){return null!=t?t:null!=e?e:n}function V(){return Function.call.apply(l,arguments)}function G(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function K(t,e){if(!t)throw new Error(e)}function j(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}A.createCanvas=function(){return document.createElement("canvas")};var X="__ec_primitive__";function W(t){t[X]=!0}function Y(t){return t[X]}function q(t){var e=O(t);this.data={};var n=this;function r(t,r){e?n.set(t,r):n.set(r,t)}t instanceof q?t.each(r):t&&B(t,r)}function J(t){return new q(t)}function Z(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function $(){}q.prototype={constructor:q,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=N(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}},e.$override=h,e.clone=f,e.merge=d,e.mergeAll=p,e.extend=m,e.defaults=g,e.createCanvas=_,e.getContext=y,e.indexOf=w,e.inherits=x,e.mixin=b,e.isArrayLike=C,e.each=B,e.map=E,e.reduce=T,e.filter=S,e.find=M,e.bind=N,e.curry=D,e.isArray=O,e.isFunction=U,e.isString=I,e.isObject=L,e.isBuiltInObject=F,e.isTypedArray=R,e.isDom=P,e.eqNaN=Q,e.retrieve=H,e.retrieve2=k,e.retrieve3=z,e.slice=V,e.normalizeCssArray=G,e.assert=K,e.trim=j,e.setAsPrimitive=W,e.isPrimitive=Y,e.createHashMap=J,e.concatArray=Z,e.noop=$},function(t,e){var n="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(5);function o(t,e,n,r,i,a,o){this._zr=t,this._x=0,this._y=0,this._rowHeight=0,this.width=r,this.height=i,this.offsetX=e,this.offsetY=n,this.dpr=o,this.gap=a}function s(t){t=t||{},t.width=t.width||512,t.height=t.height||512,t.devicePixelRatio=t.devicePixelRatio||1,t.gap=null==t.gap?2:t.gap;var e=document.createElement("canvas");e.width=t.width*t.devicePixelRatio,e.height=t.height*t.devicePixelRatio,this._canvas=e,this._texture=new a["a"]({image:e,flipY:!1});var n=this;this._zr=i.a.zrender.init(e);var r=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){r.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=t.devicePixelRatio,this._coords={},this.onupdate=t.onupdate,this._gap=t.gap,this._textureAtlasNodes=[new o(this._zr,0,0,t.width,t.height,this._gap,this._dpr)],this._nodeWidth=t.width,this._nodeHeight=t.height,this._currentNodeIdx=0}o.prototype={constructor:o,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(t,e,n){var r=t.getBoundingRect();null==e&&(e=r.width),null==n&&(n=r.height),e*=this.dpr,n*=this.dpr,this._fitElement(t,e,n);var i=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,l=this.gap;if(i+e+l>o&&(i=this._x=0,a+=this._rowHeight+l,this._y=a,this._rowHeight=0),this._x+=e+l,this._rowHeight=Math.max(this._rowHeight,n),a+n+l>s)return null;t.position[0]+=this.offsetX*this.dpr+i,t.position[1]+=this.offsetY*this.dpr+a,this._zr.add(t);var c=[this.offsetX/this.width,this.offsetY/this.height],u=[[i/o+c[0],a/s+c[1]],[(i+e)/o+c[0],(a+n)/s+c[1]]];return u},_fitElement:function(t,e,n){var r=t.getBoundingRect(),i=e/r.width,a=n/r.height;t.position=[-r.x*i,-r.y*a],t.scale=[i,a],t.update()}},s.prototype={clear:function(){for(var t=0;t<this._textureAtlasNodes.length;t++)this._textureAtlasNodes[t].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var t=4096/this._dpr,e=this._textureAtlasNodes,n=e.length,r=n*this._nodeWidth%t,i=Math.floor(n*this._nodeWidth/t)*this._nodeHeight;if(!(i>=t)){var a=(r+this._nodeWidth)*this._dpr,s=(i+this._nodeHeight)*this._dpr;try{this._zr.resize({width:a,height:s})}catch(c){this._canvas.width=a,this._canvas.height=s}var l=new o(this._zr,r,i,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(l),l}console.error("Too much labels. Some will be ignored.")},add:function(t,e,n){if(this._coords[t.id])return console.warn("Element already been add"),this._coords[t.id];var r=this._getCurrentNode().add(t,e,n);if(!r){var i=this._expand();if(!i)return;r=i.add(t,e,n)}return this._coords[t.id]=r,r},getCoordsScale:function(){var t=this._dpr;return[this._nodeWidth/this._canvas.width*t,this._nodeHeight/this._canvas.height*t]},getCoords:function(t){return this._coords[t]}},e["a"]=s},function(t,e,n){var r=n(170),i=n(171),a=r.applyTransform,o=Math.min,s=Math.max;function l(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}l.prototype={constructor:l,union:function(t){var e=o(t.x,this.x),n=o(t.y,this.y);this.width=s(t.x+t.width,this.x+this.width)-e,this.height=s(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],r=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=r[1]=this.y,e[0]=r[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,a(t,t,i),a(e,e,i),a(n,n,i),a(r,r,i),this.x=o(t[0],e[0],n[0],r[0]),this.y=o(t[1],e[1],n[1],r[1]);var l=s(t[0],e[0],n[0],r[0]),c=s(t[1],e[1],n[1],r[1]);this.width=l-this.x,this.height=c-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,a=i.create();return i.translate(a,a,[-e.x,-e.y]),i.scale(a,a,[n,r]),i.translate(a,a,[t.x,t.y]),a},intersect:function(t){if(!t)return!1;t instanceof l||(t=l.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,a=e.y+e.height,o=t.x,s=t.x+t.width,c=t.y,u=t.y+t.height;return!(r<o||s<n||a<c||u<i)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new l(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},l.create=function(t){return new l(t.x,t.y,t.width,t.height)};var c=l;t.exports=c},function(t,e,n){var r=n(16),i=1e-4;function a(t){return t.replace(/^\s+|\s+$/g,"")}function o(t,e,n,r){var i=e[1]-e[0],a=n[1]-n[0];if(0===i)return 0===a?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*a+n[0]}function s(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return"string"===typeof t?a(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function l(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function c(t){return t.sort((function(t,e){return t-e})),t}function u(t){if(t=+t,isNaN(t))return 0;var e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function A(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var i=e.indexOf(".");return i<0?0:e.length-1-i}function h(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function f(t,e,n){if(!t[e])return 0;var i=r.reduce(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===i)return 0;var a=Math.pow(10,n),o=r.map(t,(function(t){return(isNaN(t)?0:t)/i*a*100})),s=100*a,l=r.map(o,(function(t){return Math.floor(t)})),c=r.reduce(l,(function(t,e){return t+e}),0),u=r.map(o,(function(t,e){return t-l[e]}));while(c<s){for(var A=Number.NEGATIVE_INFINITY,h=null,f=0,d=u.length;f<d;++f)u[f]>A&&(A=u[f],h=f);++l[h],u[h]=0,++c}return l[e]/a}var d=9007199254740991;function p(t){var e=2*Math.PI;return(t%e+e)%e}function m(t){return t>-i&&t<i}var g=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function v(t){if(t instanceof Date)return t;if("string"===typeof t){var e=g.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function _(t){return Math.pow(10,y(t))}function y(t){return Math.floor(Math.log(t)/Math.LN10)}function w(t,e){var n,r=y(t),i=Math.pow(10,r),a=t/i;return n=e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,t=n*i,r>=-20?+t.toFixed(r<0?-r:0):t}function x(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i}function b(t){t.sort((function(t,e){return s(t,e,0)?-1:1}));for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,a=t[r].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-n),e=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!==1?t.splice(r,1):r++}return t;function s(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]===(n?-1:1)||!n&&s(t,e,1))}}function C(t){return t-parseFloat(t)>=0}e.linearMap=o,e.parsePercent=s,e.round=l,e.asc=c,e.getPrecision=u,e.getPrecisionSafe=A,e.getPixelPrecision=h,e.getPercentWithPrecision=f,e.MAX_SAFE_INTEGER=d,e.remRadian=p,e.isRadianAroundZero=m,e.parseDate=v,e.quantity=_,e.nice=w,e.quantile=x,e.reformIntervals=b,e.isNumeric=C},function(t,e,n){"use strict";var r=n(5),i=n(11),a=n(23),o=function(){this._pool={},this._allocatedTextures=[]};o.prototype={constructor:o,get:function(t){var e=c(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var n=this._pool[e];if(!n.length){var i=new r["a"](t);return this._allocatedTextures.push(i),i}return n.pop()},put:function(t){var e=c(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var n=this._pool[e];n.push(t)},clear:function(t){for(var e=0;e<this._allocatedTextures.length;e++)this._allocatedTextures[e].dispose(t);this._pool={},this._allocatedTextures=[]}};var s={width:512,height:512,type:i["a"].UNSIGNED_BYTE,format:i["a"].RGBA,wrapS:i["a"].CLAMP_TO_EDGE,wrapT:i["a"].CLAMP_TO_EDGE,minFilter:i["a"].LINEAR_MIPMAP_LINEAR,magFilter:i["a"].LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},l=Object.keys(s);function c(t){a["a"].defaultsWithPropList(t,s,l),u(t);for(var e="",n=0;n<l.length;n++){var r=l[n],i=t[r].toString();e+=i}return e}function u(t){var e=A(t.width,t.height);t.format===i["a"].DEPTH_COMPONENT&&(t.useMipmap=!1),e&&t.useMipmap||(t.minFilter==i["a"].NEAREST_MIPMAP_NEAREST||t.minFilter==i["a"].NEAREST_MIPMAP_LINEAR?t.minFilter=i["a"].NEAREST:t.minFilter!=i["a"].LINEAR_MIPMAP_LINEAR&&t.minFilter!=i["a"].LINEAR_MIPMAP_NEAREST||(t.minFilter=i["a"].LINEAR)),e||(t.wrapS=i["a"].CLAMP_TO_EDGE,t.wrapT=i["a"].CLAMP_TO_EDGE)}function A(t,e){return 0===(t&t-1)&&0===(e&e-1)}e["a"]=o},function(t,e,n){"use strict";e["a"]="@export clay.compositor.kernel.gaussian_9\nfloat gaussianKernel[9];\ngaussianKernel[0] = 0.07;\ngaussianKernel[1] = 0.09;\ngaussianKernel[2] = 0.12;\ngaussianKernel[3] = 0.14;\ngaussianKernel[4] = 0.16;\ngaussianKernel[5] = 0.14;\ngaussianKernel[6] = 0.12;\ngaussianKernel[7] = 0.09;\ngaussianKernel[8] = 0.07;\n@end\n@export clay.compositor.kernel.gaussian_13\nfloat gaussianKernel[13];\ngaussianKernel[0] = 0.02;\ngaussianKernel[1] = 0.03;\ngaussianKernel[2] = 0.06;\ngaussianKernel[3] = 0.08;\ngaussianKernel[4] = 0.11;\ngaussianKernel[5] = 0.13;\ngaussianKernel[6] = 0.14;\ngaussianKernel[7] = 0.13;\ngaussianKernel[8] = 0.11;\ngaussianKernel[9] = 0.08;\ngaussianKernel[10] = 0.06;\ngaussianKernel[11] = 0.03;\ngaussianKernel[12] = 0.02;\n@end\n@export clay.compositor.gaussian_blur\n#define SHADER_NAME gaussian_blur\nuniform sampler2D texture;varying vec2 v_Texcoord;\nuniform float blurSize : 2.0;\nuniform vec2 textureSize : [512.0, 512.0];\nuniform float blurDir : 0.0;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main (void)\n{\n @import clay.compositor.kernel.gaussian_9\n vec2 off = blurSize / textureSize;\n off *= vec2(1.0 - blurDir, blurDir);\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n for (int i = 0; i < 9; i++) {\n float w = gaussianKernel[i];\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\n sum += texel * w;\n weightAll += w;\n }\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\n}\n@end\n"},function(t,e,n){"use strict";e["a"]="\n@export clay.compositor.lut\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform sampler2D lookup;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n float blueColor = tex.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\n vec4 newColor1 = texture2D(lookup, texPos1);\n vec4 newColor2 = texture2D(lookup, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n gl_FragColor = vec4(newColor.rgb, tex.w);\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.output\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = tex.rgb;\n#ifdef OUTPUT_ALPHA\n gl_FragColor.a = tex.a;\n#else\n gl_FragColor.a = 1.0;\n#endif\n gl_FragColor = encodeHDR(gl_FragColor);\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.bright\nuniform sampler2D texture;\nuniform float threshold : 1;\nuniform float scale : 1.0;\nuniform vec2 textureSize: [512, 512];\nvarying vec2 v_Texcoord;\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvec4 median(vec4 a, vec4 b, vec4 c)\n{\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\n}\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n#ifdef ANTI_FLICKER\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\n texel = median(median(texel, s1, s2), s3, s4);\n#endif\n float lum = dot(texel.rgb , lumWeight);\n vec4 color;\n if (lum > threshold && texel.a > 0.0)\n {\n color = vec4(texel.rgb * scale, texel.a * scale);\n }\n else\n {\n color = vec4(0.0);\n }\n gl_FragColor = encodeHDR(color);\n}\n@end\n"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.downsample\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nfloat brightness(vec3 c)\n{\n return max(max(c.r, c.g), c.b);\n}\n@import clay.util.clamp_sample\nvoid main()\n{\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\n#ifdef ANTI_FLICKER\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\n float s1w = 1.0 / (brightness(s1) + 1.0);\n float s2w = 1.0 / (brightness(s2) + 1.0);\n float s3w = 1.0 / (brightness(s3) + 1.0);\n float s4w = 1.0 / (brightness(s4) + 1.0);\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\n vec4 color = vec4(\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\n 1.0\n );\n#else\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n color *= 0.25;\n#endif\n gl_FragColor = encodeHDR(color);\n}\n@end"},function(t,e,n){"use strict";e["a"]="\n@export clay.compositor.upsample\n#define HIGH_QUALITY\nuniform sampler2D texture;\nuniform vec2 textureSize : [512, 512];\nuniform float sampleScale: 0.5;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\n@import clay.util.clamp_sample\nvoid main()\n{\n#ifdef HIGH_QUALITY\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n gl_FragColor = encodeHDR(s / 16.0);\n#else\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\n vec4 s;\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\n gl_FragColor = encodeHDR(s / 4.0);\n#endif\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.hdr.composite\n#define TONEMAPPING\nuniform sampler2D texture;\n#ifdef BLOOM_ENABLED\nuniform sampler2D bloom;\n#endif\n#ifdef LENSFLARE_ENABLED\nuniform sampler2D lensflare;\nuniform sampler2D lensdirt;\n#endif\n#ifdef LUM_ENABLED\nuniform sampler2D lum;\n#endif\n#ifdef LUT_ENABLED\nuniform sampler2D lut;\n#endif\n#ifdef COLOR_CORRECTION\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float saturation : 1.0;\n#endif\n#ifdef VIGNETTE\nuniform float vignetteDarkness: 1.0;\nuniform float vignetteOffset: 1.0;\n#endif\nuniform float exposure : 1.0;\nuniform float bloomIntensity : 0.25;\nuniform float lensflareIntensity : 1;\nvarying vec2 v_Texcoord;\n@import clay.util.srgb\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\nfloat eyeAdaption(float fLum)\n{\n return mix(0.2, fLum, 0.5);\n}\n#ifdef LUT_ENABLED\nvec3 lutTransform(vec3 color) {\n float blueColor = color.b * 63.0;\n vec2 quad1;\n quad1.y = floor(floor(blueColor) / 8.0);\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\n vec2 quad2;\n quad2.y = floor(ceil(blueColor) / 8.0);\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n vec2 texPos1;\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec2 texPos2;\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\n vec4 newColor1 = texture2D(lut, texPos1);\n vec4 newColor2 = texture2D(lut, texPos2);\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n return newColor.rgb;\n}\n#endif\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = vec4(0.0);\n vec4 originalTexel = vec4(0.0);\n#ifdef TEXTURE_ENABLED\n texel = decodeHDR(texture2D(texture, v_Texcoord));\n originalTexel = texel;\n#endif\n#ifdef BLOOM_ENABLED\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\n texel.rgb += bloomTexel.rgb * bloomIntensity;\n texel.a += bloomTexel.a * bloomIntensity;\n#endif\n#ifdef LENSFLARE_ENABLED\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\n#endif\n texel.a = min(texel.a, 1.0);\n#ifdef LUM_ENABLED\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\n float exposureBias = adaptedLumDest * exposure;\n#else\n float exposureBias = exposure;\n#endif\n#ifdef TONEMAPPING\n texel.rgb *= exposureBias;\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n texel = linearTosRGB(texel);\n#ifdef LUT_ENABLED\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\n#endif\n#ifdef COLOR_CORRECTION\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\n#endif\n#ifdef VIGNETTE\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\n#endif\n gl_FragColor = encodeHDR(texel);\n#ifdef DEBUG\n #if DEBUG == 1\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\n #elif DEBUG == 2\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\n #elif DEBUG == 3\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\n #endif\n#endif\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\n }\n#ifdef PREMULTIPLY_ALPHA\n gl_FragColor.rgb *= gl_FragColor.a;\n#endif\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.blend\n#define SHADER_NAME blend\n#ifdef TEXTURE1_ENABLED\nuniform sampler2D texture1;\nuniform float weight1 : 1.0;\n#endif\n#ifdef TEXTURE2_ENABLED\nuniform sampler2D texture2;\nuniform float weight2 : 1.0;\n#endif\n#ifdef TEXTURE3_ENABLED\nuniform sampler2D texture3;\nuniform float weight3 : 1.0;\n#endif\n#ifdef TEXTURE4_ENABLED\nuniform sampler2D texture4;\nuniform float weight4 : 1.0;\n#endif\n#ifdef TEXTURE5_ENABLED\nuniform sampler2D texture5;\nuniform float weight5 : 1.0;\n#endif\n#ifdef TEXTURE6_ENABLED\nuniform sampler2D texture6;\nuniform float weight6 : 1.0;\n#endif\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = vec4(0.0);\n#ifdef TEXTURE1_ENABLED\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\n#endif\n#ifdef TEXTURE2_ENABLED\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\n#endif\n#ifdef TEXTURE3_ENABLED\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\n#endif\n#ifdef TEXTURE4_ENABLED\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\n#endif\n#ifdef TEXTURE5_ENABLED\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\n#endif\n#ifdef TEXTURE6_ENABLED\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\n#endif\n gl_FragColor = encodeHDR(tex);\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.fxaa\nuniform sampler2D texture;\nuniform vec4 viewport : VIEWPORT;\nvarying vec2 v_Texcoord;\n#define FXAA_REDUCE_MIN (1.0/128.0)\n#define FXAA_REDUCE_MUL (1.0/8.0)\n#define FXAA_SPAN_MAX 8.0\n@import clay.util.rgbm\nvoid main()\n{\n vec2 resolution = 1.0 / viewport.zw;\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\n vec3 rgbM = rgbaM.xyz;\n float opacity = rgbaM.w;\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\n float lumaNW = dot( rgbNW, luma );\n float lumaNE = dot( rgbNE, luma );\n float lumaSW = dot( rgbSW, luma );\n float lumaSE = dot( rgbSE, luma );\n float lumaM = dot( rgbM, luma );\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\n vec2 dir;\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n dir * rcpDirMin)) * resolution;\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\n rgbA *= 0.5;\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\n rgbB *= 0.25;\n rgbB += rgbA * 0.5;\n float lumaB = dot( rgbB, luma );\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\n {\n gl_FragColor = vec4( rgbA, opacity );\n }\n else {\n gl_FragColor = vec4( rgbB, opacity );\n }\n}\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);e["a"]={getFilledRegions:function(t,e){var n,r=(t||[]).slice();if("string"===typeof e?(e=i.a.getMap(e),n=e&&e.geoJson):e&&e.features&&(n=e),!n)return console.error("Map "+e+" not exists. You can download map file on http://echarts.baidu.com/download-map.html"),n.features||console.error("Invalid GeoJSON for map3D"),[];for(var a={},o=n.features,s=0;s<r.length;s++)a[r[s].name]=r[s];for(s=0;s<o.length;s++){var l=o[s].properties.name;a[l]||r.push({name:l})}return r},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}}},function(t,e,n){"use strict";function r(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function i(t,e,n,i,a){var o=n,s=t[e];r(t,e,i);for(var l=n;l<i;l++)a(t[l],s)<0&&(r(t,l,o),o++);return r(t,i,o),o}function a(t,e,n,r){if(n<r){var o=Math.floor((n+r)/2),s=i(t,o,n,r,e);a(t,e,n,s-1),a(t,e,s+1,r)}}function o(){this._parts=[]}o.prototype.step=function(t,e,n){var r=t.length;if(0===n){this._parts=[],this._sorted=!1;var o=Math.floor(r/2);this._parts.push({pivot:o,left:0,right:r-1}),this._currentSortPartIdx=0}if(!this._sorted){var s=this._parts;if(0===s.length)return this._sorted=!0,!0;if(s.length<512){for(var l=0;l<s.length;l++)s[l].pivot=i(t,s[l].pivot,s[l].left,s[l].right,e);var c=[];for(l=0;l<s.length;l++){var u=s[l].left,A=s[l].pivot-1;A>u&&c.push({pivot:Math.floor((A+u)/2),left:u,right:A});u=s[l].pivot+1,A=s[l].right;A>u&&c.push({pivot:Math.floor((A+u)/2),left:u,right:A})}s=this._parts=c}else for(l=0;l<Math.floor(s.length/10);l++){var h=s.length-1-this._currentSortPartIdx;if(a(t,e,s[h].left,s[h].right),this._currentSortPartIdx++,this._currentSortPartIdx===s.length)return this._sorted=!0,!0}return!1}},o.sort=a,e["a"]=o},function(t,e,n){"use strict";var r=n(98),i=n(0),a=n.n(i),o=n(47),s=n.n(o),l=n(22),c=n(2);function u(t,e){var n=t.getBoxLayoutParams(),r=s.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio());var i=this.getGeoBoundingRect(),a=i.width/i.height*(t.get("aspectScale")||.75),o=t.get("boxWidth"),l=t.get("boxDepth"),c=t.get("boxHeight");null==c&&(c=5),isNaN(o)&&isNaN(l)&&(o=100),isNaN(l)?l=o/a:isNaN(o)&&(o=l/a),this.setSize(o,c,l),this.regionHeight=t.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(c-this.regionHeight,0))}function A(t,e){var n=[1/0,-1/0];if(t.eachSeries((function(t){if(t.coordinateSystem===this&&"series.map3D"!==t.type){var e=t.getData(),r=t.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=e.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=a.a.helper.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new a.a.Axis("altitude",r),this.resize(this.model,e)}}var h=function(t){console.error("Map "+t+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},f=0,d={dimensions:r["a"].prototype.dimensions,create:function(t,e){var n=[];if(!a.a.getMap)throw new Error("geo3D component depends on geo component");function r(t,r){var i=d.createGeo3D(t);t.__viewGL=t.__viewGL||new l["a"],i.viewGL=t.__viewGL,t.coordinateSystem=i,i.model=t,n.push(i),i.resize=u,i.resize(t,e),i.update=A}return t.eachComponent("geo3D",(function(t,e){r(t,e)})),t.eachSeriesByType("map3D",(function(t,e){var n=t.get("coordinateSystem");null==n&&(n="geo3D"),"geo3D"===n&&r(t,e)})),t.eachSeries((function(e){if("geo3D"===e.get("coordinateSystem")){if("series.map3D"===e.type)return;var n=e.getReferringComponents("geo3D")[0];if(n||(n=t.getComponent("geo3D")),!n)throw new Error('geo "'+c["a"].firstNotNull(e.get("geo3DIndex"),e.get("geo3DId"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}})),n},createGeo3D:function(t){var e,n=t.get("map");if("string"===typeof n?(e=n,n=a.a.getMap(n)):n&&n.features&&(n={geoJson:n}),n||h(n),!n.geoJson.features)throw new Error("Invalid GeoJSON for map3D");return null==e&&(e="GEO_ANONYMOUS_"+f++),new r["a"](e+f++,e,n&&n.geoJson,n&&n.specialAreas,t.get("nameMap"))}};a.a.registerCoordinateSystem("geo3D",d),e["a"]=d},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6),o=n(207),s=n.n(o),l=n(208),c=n.n(l),u=a["a"].vec3,A=a["a"].mat4,h=[s.a,c.a];function f(t,e,n,r,i){this.name=t,this.map=e,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,r,i),this.transform=A.identity(new Float64Array(16)),this.invTransform=A.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}f.prototype={constructor:f,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(t,e,n){var r=i.a.parseGeoJSON||i.a.parseGeoJson;try{this.regions=t?r(t):[]}catch(u){throw"Invalid geoJson format\n"+u}e=e||{},n=n||{};for(var a=this.regions,o={},s=0;s<a.length;s++){var l=a[s].name;l=n[l]||l,a[s].name=l,o[l]=a[s],this.addGeoCoord(l,a[s].center);var c=e[l];c&&a[s].transformTo(c.left,c.top,c.width,c.height)}this._regionsMap=o,this._geoRect=null,h.forEach((function(t){t(this)}),this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var t,e=this.regions,n=0;n<e.length;n++){var r=e[n].getBoundingRect();t=t||r.clone(),t.union(r)}return this._geoRect=t||new i.a.graphic.BoundingRect(0,0,0,0)},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},setSize:function(t,e,n){this.size=[t,e,n];var r=this.getGeoBoundingRect(),i=t/r.width,a=-n/r.height,o=-t/2-r.x*i,s=n/2-r.y*a,l=this.extrudeY?[o,0,s]:[o,s,0],c=this.extrudeY?[i,1,a]:[i,a,1],u=this.transform;A.identity(u),A.translate(u,u,l),A.scale(u,u,c),A.invert(this.invTransform,u)},dataToPoint:function(t,e){e=e||[];var n=this.extrudeY?1:2,r=this.extrudeY?2:1,i=t[2];return isNaN(i)&&(i=0),e[0]=t[0],e[r]=t[1],this.altitudeAxis?e[n]=this.altitudeAxis.dataToCoord(i):e[n]=0,e[n]+=this.regionHeight,u.transformMat4(e,e,this.transform),e},pointToData:function(t,e){}},e["a"]=f},function(t,e,n){"use strict";var r=n(6),i=r["a"].mat4,a=512,o=.6435011087932844,s=Math.PI,l=.1;function c(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}c.prototype={constructor:c,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(t){this.bearing=t.bearing,this.pitch=t.pitch,this.center=t.center,this.zoom=t.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,a)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var t=.5/Math.tan(o/2)*this.height*l,e=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=o/2,r=Math.PI/2+e,s=Math.sin(n)*t/Math.sin(Math.PI-r-n),c=Math.cos(Math.PI/2-e)*s+t,u=1.1*c;this.pitch>50&&(u=1e3);var A=[];i.perspective(A,o,this.width/this.height,1,u),this.viewGL.camera.projectionMatrix.setArray(A),this.viewGL.camera.decomposeProjectionMatrix();A=i.identity([]);var h=this.dataToPoint(this.center);i.scale(A,A,[1,-1,1]),i.translate(A,A,[0,0,-t]),i.rotateX(A,A,e),i.rotateZ(A,A,-this.bearing/180*Math.PI),i.translate(A,A,[-h[0]*this.getScale()*l,-h[1]*this.getScale()*l,0]),this.viewGL.camera.viewMatrix.array=A;var f=[];i.invert(f,A),this.viewGL.camera.worldTransform.array=f,this.viewGL.camera.decomposeWorldTransform();var d,p=a*this.getScale();if(this.altitudeExtent&&!isNaN(this.boxHeight)){var m=this.altitudeExtent[1]-this.altitudeExtent[0];d=this.boxHeight/m*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else d=p/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*l;this.viewGL.rootNode.scale.set(this.getScale()*l,this.getScale()*l,d)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(t,e){return this.projectOnTileWithScale(t,this.getScale()*a,e)},projectOnTileWithScale:function(t,e,n){var r=t[0],i=t[1],a=r*s/180,o=i*s/180,l=e*(a+s)/(2*s),c=e*(s-Math.log(Math.tan(s/4+.5*o)))/(2*s);return n=n||[],n[0]=l,n[1]=c,n},unprojectFromTile:function(t,e){return this.unprojectOnTileWithScale(t,this.getScale()*a,e)},unprojectOnTileWithScale:function(t,e,n){var r=t[0],i=t[1],a=r/e*(2*s)-s,o=2*(Math.atan(Math.exp(s-i/e*(2*s)))-s/4);return n=n||[],n[0]=180*a/s,n[1]=180*o/s,n},dataToPoint:function(t,e){return e=this.projectOnTileWithScale(t,a,e),e[0]-=this._origin[0],e[1]-=this._origin[1],e[2]=isNaN(t[2])?0:t[2],isNaN(t[2])||(e[2]=t[2],this.altitudeExtent&&(e[2]-=this.altitudeExtent[0])),e}},e["a"]=c},function(t,e,n){"use strict";var r=n(2),i=n(1),a=n(22);e["a"]=function(t,e,n){function o(t,e){var n=e.getWidth(),r=e.getHeight(),i=e.getDevicePixelRatio();this.viewGL.setViewport(0,0,n,r,i),this.width=n,this.height=r,this.altitudeScale=t.get("altitudeScale"),this.boxHeight=t.get("boxHeight")}function s(t,e){if("auto"!==this.model.get("boxHeight")){var n=[1/0,-1/0];t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData(),r=t.coordDimToDataDim("alt")[0];if(r){var i=e.getDataExtent(r,!0);n[0]=Math.min(n[0],i[0]),n[1]=Math.max(n[1],i[1])}}}),this),n&&isFinite(n[1]-n[0])&&(this.altitudeExtent=n)}}return{dimensions:e.prototype.dimensions,create:function(l,c){var u=[];return l.eachComponent(t,(function(t){var n=t.__viewGL;n||(n=t.__viewGL=new a["a"],n.setRootNode(new i["a"].Node));var r=new e;r.viewGL=t.__viewGL,r.resize=o,r.resize(t,c),u.push(r),t.coordinateSystem=r,r.model=t,r.update=s})),l.eachSeries((function(e){if(e.get("coordinateSystem")===t){var n=e.getReferringComponents(t)[0];if(n||(n=l.getComponent(t)),!n)throw new Error(t+' "'+r["a"].firstNotNull(e.get(t+"Index"),e.get(t+"Id"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}})),n&&n(u,l,c),u}}}},function(t,e,n){"use strict";e["a"]="\n@export ecgl.displayShadow.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_WorldPosition;\n\nvarying vec3 v_Normal;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n\n@end\n\n\n@export ecgl.displayShadow.fragment\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform float roughness: 0.2;\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.ssaoMap.header\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n float shadow = 1.0;\n\n @import ecgl.common.ssaoMap.main\n\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\n }\n#endif\n\n shadow *= 0.5 + ao * 0.5;\n shadow = clamp(shadow, 0.0, 1.0);\n\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\n}\n\n@end"},function(t,e,n){"use strict";var r=n(264),i=n.n(r),a=n(265),o=n.n(a);function s(t){this.viewGL=t}s.prototype.reset=function(t,e){this._updateCamera(e.getWidth(),e.getHeight(),e.getDevicePixelRatio()),this._viewTransform=i.a.create(),this.updateTransform(t,e)},s.prototype.updateTransform=function(t,e){var n=t.coordinateSystem;n.getRoamTransform&&(i.a.invert(this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),e.getZr().refresh())},s.prototype.dataToPoint=function(t,e,n){n=t.dataToPoint(e,null,n);var r=this._viewTransform;r&&o.a.applyTransform(n,n,r)},s.prototype.removeTransformInPoint=function(t){return this._viewTransform&&o.a.applyTransform(t,t,this._viewTransform),t},s.prototype.getZoom=function(){if(this._viewTransform){var t=this._viewTransform;return 1/Math.max(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]))}return 1},s.prototype._setCameraTransform=function(t){var e=this.viewGL.camera;e.position.set(t[4],t[5],0),e.scale.set(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]),1)},s.prototype._updateCamera=function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var r=this.viewGL.camera;r.left=r.top=0,r.bottom=e,r.right=t,r.near=0,r.far=100},e["a"]=s},function(t,e,n){(function(t){var n;"undefined"!==typeof window?n=window.__DEV__:"undefined"!==typeof t&&(n=t.__DEV__),"undefined"===typeof n&&(n=!0);var r=n;e.__DEV__=r}).call(e,n(67))},function(t,e,n){"use strict";var r=n(14),i=n(0),a=n.n(i),o=n(39),s=n(6),l=s["a"].vec2,c=[[0,0],[1,1]],u=r["a"].extend((function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new r["a"].Attribute("position","float",2,"POSITION"),normal:new r["a"].Attribute("normal","float",2),offset:new r["a"].Attribute("offset","float",1),color:new r["a"].Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.offset.init(t),e.normal.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:this.vertexCount>65535?new Uint32Array(3*t):new Uint16Array(3*t))},_getCubicCurveApproxStep:function(t,e,n,r){var i=l.dist(t,e)+l.dist(n,e)+l.dist(r,n),a=1/(i+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(t,e,n,r){var i=this._getCubicCurveApproxStep(t,e,n,r),a=Math.ceil(1/i);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(c)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(c)},getPolylineVertexCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/2}return this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;if("number"===typeof t)e=t;else{var n="number"!==typeof t[0];e=n?t.length:t.length/2}return this.useNativeLine?0:2*(e-1)},addCubicCurve:function(t,e,n,r,i,a){null==a&&(a=1);var o=t[0],s=t[1],l=e[0],c=e[1],u=n[0],A=n[1],h=r[0],f=r[1],d=this._getCubicCurveApproxStep(t,e,n,r),p=d*d,m=p*d,g=3*d,v=3*p,_=6*p,y=6*m,w=o-2*l+u,x=s-2*c+A,b=3*(l-u)-o+h,C=3*(c-A)-s+f,B=o,E=s,T=(l-o)*g+w*v+b*m,S=(c-s)*g+x*v+C*m,M=w*_+b*y,N=x*_+C*y,D=b*y,O=C*y,U=0,I=0,L=Math.ceil(1/d),F=new Float32Array(3*(L+1)),R=(F=[],0);for(I=0;I<L+1;I++)F[R++]=B,F[R++]=E,B+=T,E+=S,T+=M,S+=N,M+=D,N+=O,U+=d,U>1&&(B=T>0?Math.min(B,h):Math.max(B,h),E=S>0?Math.min(E,f):Math.max(E,f));this.addPolyline(F,i,a)},addLine:function(t,e,n,r){this.addPolyline([t,e],n,r)},addPolyline:function(){var t=l.create(),e=l.create(),n=l.create(),r=l.create(),i=[],a=[],o=[];return function(s,c,u,A,h){if(s.length){var f="number"!==typeof s[0];if(null==h&&(h=f?s.length:s.length/2),!(h<2)){null==A&&(A=0),null==u&&(u=1),this._itemVertexOffsets.push(this._vertexOffset);for(var d,p=f?"number"!==typeof c[0]:c.length/4===h,m=this.attributes.position,g=this.attributes.color,v=this.attributes.offset,_=this.attributes.normal,y=this.indices,w=this._vertexOffset,x=0;x<h;x++){if(f)i=s[x+A],d=p?c[x+A]:c;else{var b=2*x+A;if(i=i||[],i[0]=s[b],i[1]=s[b+1],p){var C=4*x+A;d=d||[],d[0]=c[C],d[1]=c[C+1],d[2]=c[C+2],d[3]=c[C+3]}else d=c}if(this.useNativeLine)x>1&&(m.copy(w,w-1),g.copy(w,w-1),w++);else{var B;if(x<h-1){if(f)l.copy(a,s[x+1]);else{b=2*(x+1)+A;a=a||[],a[0]=s[b],a[1]=s[b+1]}if(x>0){l.sub(t,i,o),l.sub(e,a,i),l.normalize(t,t),l.normalize(e,e),l.add(r,t,e),l.normalize(r,r);var E=u/2*Math.min(1/l.dot(t,r),2);n[0]=-r[1],n[1]=r[0],B=E}else l.sub(t,a,i),l.normalize(t,t),n[0]=-t[1],n[1]=t[0],B=u/2}else l.sub(t,i,o),l.normalize(t,t),n[0]=-t[1],n[1]=t[0],B=u/2;_.set(w,n),_.set(w+1,n),v.set(w,B),v.set(w+1,-B),l.copy(o,i),m.set(w,i),m.set(w+1,i),g.set(w,d),g.set(w+1,d),w+=2}if(this.useNativeLine)g.set(w,d),m.set(w,i),w++;else if(x>0){var T=3*this._faceOffset;y=this.indices;y[T]=w-4,y[T+1]=w-3,y[T+2]=w-2,y[T+3]=w-3,y[T+4]=w-1,y[T+5]=w-2,this._faceOffset+=2}}this._vertexOffset=w}}}}(),setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],r=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,i=n;i<r;i++)this.attributes.color.set(i,e);this.dirty("color")}});a.a.util.defaults(u.prototype,o["a"]),e["a"]=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(106),n(153),n(203),n(209),n(215),n(221),n(227),n(234),n(238),n(245),n(251),n(254),n(258),n(261),n(266),n(279),n(285)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(107),o=n(108),s=n(152),l=n(1),c={version:"1.1.2",dependencies:{echarts:"4.1.0",claygl:"1.2.1"}},u=c.dependencies;function A(t){throw new Error(t+" version is too old, needs "+u[t]+" or higher")}function h(t,e){t.replace(".","")-0<u[e].replace(".","")-0&&A(e),console.log("Loaded "+e+", version "+t)}function f(t){this._layers={},this._zr=t}h(a["a"],"claygl"),h(i.a.version,"echarts"),f.prototype.update=function(t,e){var n=this,r=e.getZr();if(r.getWidth()&&r.getHeight()){for(var a in this._layers)this._layers[a].removeViewsAll();t.eachComponent((function(n,r){if("series"!==n){var i=e.getViewOfComponentModel(r),a=r.coordinateSystem;if(i.__ecgl__){if(a){if(!a.viewGL)return void console.error("Can't find viewGL in coordinateSystem of component "+r.id);o=a.viewGL}else{if(!r.viewGL)return void console.error("Can't find viewGL of component "+r.id);o=a.viewGL}var o=a.viewGL,c=s(r);c.addView(o),i.afterRender&&i.afterRender(r,t,e,c),l(i.groupGL,r.get("silent"))}}})),t.eachSeries((function(n){var r=e.getViewOfSeriesModel(n),i=n.coordinateSystem;if(r.__ecgl__){if(i&&!i.viewGL&&!r.viewGL)return void console.error("Can't find viewGL of series "+r.id);var a=i&&i.viewGL||r.viewGL,o=s(n);o.addView(a),r.afterRender&&r.afterRender(n,t,e,o),l(r.groupGL,n.get("silent"))}}))}else console.warn("Dom has no width or height");function s(t){var e;e=(t.coordinateSystem&&t.coordinateSystem.model,t.get("zlevel"));var a=n._layers,s=a[e];if(!s){if(s=a[e]=new o["a"]("gl-"+e,r),r.painter.isSingleCanvas()){s.virtual=!0;var l=new i.a.graphic.Image({z:1e4,style:{image:s.renderer.canvas},silent:!0});s.__hostImage=l,r.add(l)}r.painter.insertLayer(e,s)}return s.__hostImage&&s.__hostImage.setStyle({width:s.renderer.getWidth(),height:s.renderer.getHeight()}),s}function l(t,e){t&&t.traverse((function(t){t.isRenderable&&t.isRenderable()&&(t.ignorePicking=null!=t.$ignorePicking?t.$ignorePicking:e)}))}};var d=i.a.init;i.a.init=function(){var t=d.apply(this,arguments);return t.getZr().painter.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=document.createElement("canvas"),n=t.pixelRatio||this.dpr;e.width=this.getWidth()*n,e.height=this.getHeight()*n;var r=e.getContext("2d");r.dpr=n,r.clearRect(0,0,e.width,e.height),t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(0,0,e.width,e.height));var i,a=this.storage.getDisplayList(!0),o={},s=this;function l(t,e){var n,i=s._zlevelList;null==t&&(t=-1/0);for(var a=0;a<i.length;a++){var o=i[a],l=s._layers[o];if(!l.__builtin__&&o>t&&o<e){n=l;break}}n&&n.renderToCanvas&&(r.save(),n.renderToCanvas(r),r.restore())}for(var c={ctx:r},u=0;u<a.length;u++){var A=a[u];A.zlevel!==i&&(l(i,A.zlevel),i=A.zlevel),this._doPaintEl(A,c,!0,o)}return l(i,1/0),e},t},i.a.registerPostUpdate((function(t,e){var n=e.getZr(),r=n.__egl=n.__egl||new f(n);r.update(t,e)})),i.a.registerPreprocessor(s["a"]),i.a.graphicGL=l["a"]},function(t,e,n){"use strict";e["a"]="1.3.0"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(52),o=n(116),s=n(4),l=n(1),c=n(53),u=n(81),A=n.n(u),h=function(t,e){this.id=t,this.zr=e;try{this.renderer=new a["a"]({clearBit:0,devicePixelRatio:e.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(e.painter.getWidth(),e.painter.getHeight())}catch(r){return this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",void console.error(r)}this.onglobalout=this.onglobalout.bind(this),e.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position="absolute",n.left="0",n.top="0",this.views=[],this._picking=new o["a"]({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new i.a.graphic.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null};function f(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}h.prototype.addView=function(t){if(t.layer!==this){var e=this._viewsToDispose.indexOf(t);e>=0&&this._viewsToDispose.splice(e,1),this.views.push(t),t.layer=this;var n=this.zr;t.scene.traverse((function(t){t.__zr=n,t.addAnimatorsToZr&&t.addAnimatorsToZr(n)}))}},h.prototype.removeView=function(t){if(t.layer===this){var e=this.views.indexOf(t);e>=0&&(this.views.splice(e,1),t.scene.traverse(f,this),t.layer=null,this._viewsToDispose.push(t))}},h.prototype.removeViewsAll=function(){this.views.forEach((function(t){t.scene.traverse(f,this),t.layer=null,this._viewsToDispose.push(t)}),this),this.views.length=0},h.prototype.resize=function(t,e){var n=this.renderer;n.resize(t,e)},h.prototype.clear=function(){var t=this.renderer.gl,e=this._backgroundColor||[0,0,0,0];t.clearColor(e[0],e[1],e[2],e[3]),t.depthMask(!0),t.colorMask(!0,!0,!0,!0),t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT)},h.prototype.clearDepth=function(){var t=this.renderer.gl;t.clear(t.DEPTH_BUFFER_BIT)},h.prototype.clearColor=function(){var t=this.renderer.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},h.prototype.needsRefresh=function(){this.zr.refresh()},h.prototype.refresh=function(t){this._backgroundColor=t?l["a"].parseColor(t):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var e=0;e<this.views.length;e++)this.views[e].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(e=0;e<this._viewsToDispose.length;e++)this._viewsToDispose[e].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},h.prototype.renderToCanvas=function(t){this._startAccumulating(!0),t.drawImage(this.dom,0,0,t.canvas.width,t.canvas.height)},h.prototype._doRender=function(t){this.clear(),this.renderer.saveViewport();for(var e=0;e<this.views.length;e++)this.views[e].render(this.renderer,t);this.renderer.restoreViewport()},h.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var d=1;function p(t){for(var e=0;e<t.length;e++)t[e].__used__=0}function m(t,e){for(var n=0;n<e.length;n++)e[n].__used__||e[n].dispose(t)}function g(t,e){t.__used__=t.__used__||0,t.__used__++,1===t.__used__&&e.push(t)}function v(t,e,n){var r,i;t.traverse((function(t){if(t.isRenderable()){var a=t.geometry,o=t.material;if(o!==r)for(var l=o.getTextureUniforms(),c=0;c<l.length;c++){var u=l[c],A=o.uniforms[u].value;if(A)if(A instanceof s["a"])g(A,e);else if(A instanceof Array)for(var h=0;h<A.length;h++)A[h]instanceof s["a"]&&g(A[h],e)}a!==i&&g(a,n),r=o,i=a}}));for(var a=0;a<t.lights.length;a++)t.lights[a].cubemap&&g(t.lights[a].cubemap,e)}h.prototype._startAccumulating=function(t){var e=this;this._stopAccumulating();for(var n=!1,r=0;r<this.views.length;r++)n=this.views[r].needsAccumulate()||n;function i(r){if(e._accumulatingId&&r===e._accumulatingId){for(var a=!0,o=0;o<e.views.length;o++)a=e.views[o].isAccumulateFinished()&&n;a||(e._doRender(!0),t?i(r):A()((function(){i(r)})))}}n&&(this._accumulatingId=d++,t?i(e._accumulatingId):this._accumulatingTimeout=setTimeout((function(){i(e._accumulatingId)}),50))},h.prototype._trackAndClean=function(){var t=[],e=[];this._textureList&&(p(this._textureList),p(this._geometriesList));for(var n=0;n<this.views.length;n++)v(this.views[n].scene,t,e);this._textureList&&(m(this.renderer,this._textureList),m(this.renderer,this._geometriesList)),this._textureList=t,this._geometriesList=e},h.prototype.dispose=function(){this._stopAccumulating(),this.renderer.disposeScene(this.scene),this.zr.off("globalout",this.onglobalout)},h.prototype.onmousedown=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mousedown",t,e),this._dispatchDataEvent("mousedown",t,e)),this._downX=t.offsetX,this._downY=t.offsetY}},h.prototype.onmousemove=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY),n=e&&e.target,r=this._hovered;this._hovered=e,r&&n!==r.target&&(r.relatedTarget=n,this._dispatchEvent("mouseout",t,r),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",t,e),e&&(this.zr.setCursorStyle("pointer"),r&&n===r.target||this._dispatchEvent("mouseover",t,e)),this._dispatchDataEvent("mousemove",t,e)}},h.prototype.onmouseup=function(t){if(!t.target||!t.target.__isGLToZRProxy){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mouseup",t,e),this._dispatchDataEvent("mouseup",t,e)),this._upX=t.offsetX,this._upY=t.offsetY}},h.prototype.onclick=h.prototype.dblclick=function(t){if(!t.target||!t.target.__isGLToZRProxy){var e=this._upX-this._downX,n=this._upY-this._downY;if(!(Math.sqrt(e*e+n*n)>20)){t=t.event;var r=this.pickObject(t.offsetX,t.offsetY);r&&(this._dispatchEvent(t.type,t,r),this._dispatchDataEvent(t.type,t,r));var i=this._clickToSetFocusPoint(t);if(i){var a=i.view.setDOFFocusOnPoint(i.distance);a&&this.zr.refresh()}}}},h.prototype._clickToSetFocusPoint=function(t){for(var e=this.renderer,n=e.viewport,r=this.views.length-1;r>=0;r--){var i=this.views[r];if(i.hasDOF()&&i.containPoint(t.offsetX,t.offsetY)){this._picking.scene=i.scene,this._picking.camera=i.camera,e.viewport=i.viewport;var a=this._picking.pick(t.offsetX,t.offsetY,!0);if(a)return a.view=i,a}}e.viewport=n},h.prototype.onglobalout=function(t){var e=this._hovered;e&&this._dispatchEvent("mouseout",t,{target:e.target})},h.prototype.pickObject=function(t,e){for(var n=[],r=this.renderer,i=r.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(t,e)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,r.viewport=o.viewport,this._picking.pickAll(t,e,n))}return r.viewport=i,n.sort((function(t,e){return t.distance-e.distance})),n[0]},h.prototype._dispatchEvent=function(t,e,n){n||(n={});var r=n.target;n.cancelBubble=!1,n.event=e,n.type=t,n.offsetX=e.offsetX,n.offsetY=e.offsetY;while(r)if(r.trigger(t,n),r=r.getParent(),n.cancelBubble)break;this._dispatchToView(t,n)},h.prototype._dispatchDataEvent=function(t,e,n){var r=n&&n.target,i=r&&r.dataIndex,a=r&&r.seriesIndex,o=r&&r.eventData,s=!1,l=this._zrEventProxy;l.position=[e.offsetX,e.offsetY],l.update();var c={target:l};"mousemove"===t&&(null!=i?i!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(l.dataIndex=this._lastDataIndex,l.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(c,"mouseout",e)),s=!0):null!=o&&o!==this._lastEventData&&(null!=this._lastEventData&&(l.eventData=this._lastEventData,this.zr.handler.dispatchToElement(c,"mouseout",e)),s=!0),this._lastEventData=o,this._lastDataIndex=i,this._lastSeriesIndex=a),l.eventData=o,l.dataIndex=i,l.seriesIndex=a,(null!=o||parseInt(i,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(c,t,e),s&&this.zr.handler.dispatchToElement(c,"mouseover",e))},h.prototype._dispatchToView=function(t,e){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(e.offsetX,e.offsetY)&&this.views[n].trigger(t,e)},i.a.util.extend(h.prototype,c["a"]),e["a"]=h},function(t,e,n){"use strict";function r(t,e,n){"object"==typeof e&&(n=e,e=null);var r,o=this;if(!(t instanceof Function))for(var s in r=[],t)t.hasOwnProperty(s)&&r.push(s);var l=function(e){if(o.apply(this,arguments),t instanceof Function?i(this,t.call(this,e)):a(this,t,r),this.constructor===l)for(var n=l.__initializers__,s=0;s<n.length;s++)n[s].apply(this,arguments)};l.__super__=o,o.__initializers__?l.__initializers__=o.__initializers__.slice():l.__initializers__=[],e&&l.__initializers__.push(e);var c=function(){};return c.prototype=o.prototype,l.prototype=new c,l.prototype.constructor=l,i(l.prototype,n),l.extend=o.extend,l.derive=o.extend,l}function i(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function a(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}}e["a"]={extend:r,derive:r}},function(t,e,n){"use strict";var r=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_astc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],i=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function a(t){for(var e={},n={},a=0;a<r.length;a++){var o=r[a];l(o)}for(a=0;a<i.length;a++){var s=i[a];n[s]=t.getParameter(t[s])}function l(n){if(t.getExtension){var r=t.getExtension(n);r||(r=t.getExtension("MOZ_"+n)),r||(r=t.getExtension("WEBKIT_"+n)),e[n]=r}}this.getExtension=function(t){return t in e||l(t),e[t]},this.getParameter=function(t){return n[t]}}e["a"]=a},function(t,e,n){"use strict";function r(t){var e=new XMLHttpRequest;e.open("get",t.url),e.responseType=t.responseType||"text",t.onprogress&&(e.onprogress=function(e){if(e.lengthComputable){var n=e.loaded/e.total;t.onprogress(n,e.loaded,e.total)}else t.onprogress(null)}),e.onload=function(n){e.status>=400?t.onerror&&t.onerror():t.onload&&t.onload(e.response)},t.onerror&&(e.onerror=t.onerror),e.send(null)}e["a"]={get:r}},function(t,e,n){"use strict";var r=n(68),i={},a={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return t=Math.round(t),t<0?0:t>255?255:t}function s(t){return t=Math.round(t),t<0?0:t>360?360:t}function l(t){return t<0?0:t>1?1:t}function c(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100*255):o(parseInt(t,10))}function u(t){return t.length&&"%"===t.charAt(t.length-1)?l(parseFloat(t)/100):l(parseFloat(t))}function A(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function h(t,e,n){return t+(e-t)*n}function f(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var p=new r["a"](20),m=null;function g(t,e){m&&d(m,e),m=p.put(t,m||e.slice())}function v(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=u(t[1]),i=u(t[2]),a=i<=.5?i*(r+1):i+r-i*r,s=2*i-a;return e=e||[],f(e,o(255*A(s,a,n+1/3)),o(255*A(s,a,n)),o(255*A(s,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function _(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),l=s-o,c=(s+o)/2;if(0===l)e=0,n=0;else{n=c<.5?l/(s+o):l/(2-s-o);var u=((s-r)/6+l/2)/l,A=((s-i)/6+l/2)/l,h=((s-a)/6+l/2)/l;r===s?e=h-A:i===s?e=1/3+u-h:a===s&&(e=2/3+A-u),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,c];return null!=t[3]&&f.push(t[3]),f}}i.parse=function(t,e){if(t){e=e||[];var n=p.get(t);if(n)return d(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in a)return d(e,a[r]),g(t,e),e;if("#"!==r.charAt(0)){var i=r.indexOf("("),o=r.indexOf(")");if(-1!==i&&o+1===r.length){var s=r.substr(0,i),l=r.substr(i+1,o-(i+1)).split(","),A=1;switch(s){case"rgba":if(4!==l.length)return void f(e,0,0,0,1);A=u(l.pop());case"rgb":return 3!==l.length?void f(e,0,0,0,1):(f(e,c(l[0]),c(l[1]),c(l[2]),A),g(t,e),e);case"hsla":return 4!==l.length?void f(e,0,0,0,1):(l[3]=u(l[3]),v(l,e),g(t,e),e);case"hsl":return 3!==l.length?void f(e,0,0,0,1):(v(l,e),g(t,e),e);default:return}}f(e,0,0,0,1)}else{if(4===r.length){var h=parseInt(r.substr(1),16);return h>=0&&h<=4095?(f(e,(3840&h)>>4|(3840&h)>>8,240&h|(240&h)>>4,15&h|(15&h)<<4,1),g(t,e),e):void f(e,0,0,0,1)}if(7===r.length){h=parseInt(r.substr(1),16);return h>=0&&h<=16777215?(f(e,(16711680&h)>>16,(65280&h)>>8,255&h,1),g(t,e),e):void f(e,0,0,0,1)}}}},i.parseToFloat=function(t,e){if(e=i.parse(t,e),e)return e[0]/=255,e[1]/=255,e[2]/=255,e},i.lift=function(t,e){var n=i.parse(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0;return i.stringify(n,4===n.length?"rgba":"rgb")}},i.toHex=function(t){var e=i.parse(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},i.fastLerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),s=e[i],c=e[a],u=r-i;return n[0]=o(h(s[0],c[0],u)),n[1]=o(h(s[1],c[1],u)),n[2]=o(h(s[2],c[2],u)),n[3]=l(h(s[3],c[3],u)),n}},i.fastMapToColor=i.fastLerp,i.lerp=function(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),a=Math.floor(r),s=Math.ceil(r),c=i.parse(e[a]),u=i.parse(e[s]),A=r-a,f=i.stringify([o(h(c[0],u[0],A)),o(h(c[1],u[1],A)),o(h(c[2],u[2],A)),l(h(c[3],u[3],A))],"rgba");return n?{color:f,leftIndex:a,rightIndex:s,value:r}:f}},i.mapToColor=i.lerp,i.modifyHSL=function(t,e,n,r){if(t=i.parse(t),t)return t=_(t),null!=e&&(t[0]=s(e)),null!=n&&(t[1]=u(n)),null!=r&&(t[2]=u(r)),i.stringify(v(t),"rgba")},i.modifyAlpha=function(t,e){if(t=i.parse(t),t&&null!=e)return t[3]=l(e),i.stringify(t,"rgba")},i.stringify=function(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}},e["a"]=i},function(t,e,n){"use strict";var r=function(){this.head=null,this.tail=null,this._length=0};r.prototype.insert=function(t){var e=new r.Entry(t);return this.insertEntry(e),e},r.prototype.insertAt=function(t,e){if(!(t<0)){var n=this.head,i=0;while(n&&i!=t)n=n.next,i++;if(n){var a=new r.Entry(e),o=n.prev;o?(o.next=a,a.prev=o):this.head=a,a.next=n,n.prev=a}else this.insert(e)}},r.prototype.insertBeforeEntry=function(t,e){var n=new r.Entry(t),i=e.prev;i?(i.next=n,n.prev=i):this.head=n,n.next=e,e.prev=n,this._length++},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._length++},r.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._length--},r.prototype.removeAt=function(t){if(!(t<0)){var e=this.head,n=0;while(e&&n!=t)e=e.next,n++;return e?(this.remove(e),e.value):void 0}},r.prototype.getHead=function(){if(this.head)return this.head.value},r.prototype.getTail=function(){if(this.tail)return this.tail.value},r.prototype.getAt=function(t){if(!(t<0)){var e=this.head,n=0;while(e&&n!=t)e=e.next,n++;return e.value}},r.prototype.indexOf=function(t){var e=this.head,n=0;while(e){if(e.value===t)return n;e=e.next,n++}},r.prototype.length=function(){return this._length},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.forEach=function(t,e){var n=this.head,r=0,i="undefined"!=typeof e;while(n)i?t.call(e,n.value,r):t(n.value,r),n=n.next,r++},r.prototype.clear=function(){this.tail=this.head=null,this._length=0},r.Entry=function(t){this.value=t,this.next=null,this.prev=null},e["a"]=r},function(t,e,n){"use strict";var r=n(115),i=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function a(t,e,n){function r(t,n,r,i){var o="";isNaN(n)&&(n=n in e?e[n]:a[n]),isNaN(r)&&(r=r in e?e[r]:a[r]);for(var s=parseInt(n);s<parseInt(r);s++)o+="{"+i.replace(/float\s*\(\s*_idx_\s*\)/g,s.toFixed(1)).replace(/_idx_/g,s)+"}";return o}var a={};for(var o in n)a[o+"_COUNT"]=n[o];return t.replace(i,r)}function o(t,e,n){var r=[];if(e)for(var i in e){var a=e[i];a>0&&r.push("#define "+i.toUpperCase()+"_COUNT "+a)}if(n)for(var o=0;o<n.length;o++){var s=n[o];r.push("#define "+s.toUpperCase()+"_ENABLED")}for(var s in t){var l=t[s];null===l?r.push("#define "+s):r.push("#define "+s+" "+l.toString())}return r.join("\n")}function s(t){for(var e=[],n=0;n<t.length;n++)e.push("#extension GL_"+t[n][0]+" : enable");return e.join("\n")}function l(t){return["precision",t,"float"].join(" ")+";\n"+["precision",t,"int"].join(" ")+";\n"+["precision",t,"sampler2D"].join(" ")+";\n"}function c(t){this._renderer=t,this._cache={}}c.prototype.getProgram=function(t,e,n,i){var c=this._cache,u=t.isSkinnedMesh&&t.isSkinnedMesh(),A=t.isInstancedMesh&&t.isInstancedMesh(),h="s"+e.shader.shaderID+"m"+e.getProgramKey();n&&(h+="se"+n.getProgramKey(t.lightGroup)),u&&(h+=",sk"+t.joints.length),A&&(h+=",is"),i.logDepthBuffer&&(h+=",ld");var f=c[h];if(f)return f;var d=n?n.getLightsNumbers(t.lightGroup):{},p=(i=this._renderer,i.gl),m=e.getEnabledTextures(),g="";if(u){var v={SKINNING:null,JOINT_COUNT:t.joints.length};t.joints.length>i.getMaxJointNumber()&&(v.USE_SKIN_MATRICES_TEXTURE=null),g+="\n"+o(v)+"\n"}A&&(g+="\n#define INSTANCING\n"),i.logDepthBuffer&&(g+="\n#define LOG_DEPTH\n");for(var _=g+o(e.vertexDefines,d,m),y=g+o(e.fragmentDefines,d,m),w=[["OES_standard_derivatives","TEXTURE_LOD"],["EXT_shader_texture_lod","STANDARD_DERIVATIVES"],["EXT_frag_depth","FRAG_DEPTH"]].filter((function(t){return null!=i.getGLExtension(t[0])})),x=0;x<w.length;x++){var b="\n#define SUPPORT_"+w[x][1];y+=b,_+=b}var C=_+"\n"+e.shader.vertex,B=s(w)+"\n"+l(e.precision)+"\n"+y+"\n"+e.shader.fragment,E=a(C,e.vertexDefines,d),T=a(B,e.fragmentDefines,d);f=new r["a"];f.uniformSemantics=e.shader.uniformSemantics,f.attributes=e.shader.attributes;var S=f.buildProgram(p,e.shader,E,T);return f.__error=S,c[h]=f,f},e["a"]=c},function(t,e,n){"use strict";var r=n(13),i=n(8),a=1,o=2,s=3,l={};function c(t){for(var e=t.split("\n"),n=0,r=e.length;n<r;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function u(t,e,n){if(!t.getShaderParameter(e,t.COMPILE_STATUS))return[t.getShaderInfoLog(e),c(n)].join("\n")}var A=new r["a"].Float32Array(16),h=i["a"].extend({uniformSemantics:{},attributes:{}},(function(){this._locations={},this._textureSlot=0,this._program=null}),{bind:function(t){this._textureSlot=0,t.gl.useProgram(this._program)},hasUniform:function(t){var e=this._locations[t];return null!==e&&void 0!==e},useTextureSlot:function(t,e,n){e&&(t.gl.activeTexture(t.gl.TEXTURE0+n),e.isRenderable()?e.bind(t):e.unbind(t))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(t){this._textureSlot=t||0},takeCurrentTextureSlot:function(t,e){var n=this._textureSlot;return this.useTextureSlot(t,e,n),this._textureSlot++,n},setUniform:function(t,e,n,i){var a=this._locations,o=a[n];if(null===o||void 0===o)return!1;switch(e){case"m4":if(!(i instanceof Float32Array)){for(var s=0;s<i.length;s++)A[s]=i[s];i=A}t.uniformMatrix4fv(o,!1,i);break;case"2i":t.uniform2i(o,i[0],i[1]);break;case"2f":t.uniform2f(o,i[0],i[1]);break;case"3i":t.uniform3i(o,i[0],i[1],i[2]);break;case"3f":t.uniform3f(o,i[0],i[1],i[2]);break;case"4i":t.uniform4i(o,i[0],i[1],i[2],i[3]);break;case"4f":t.uniform4f(o,i[0],i[1],i[2],i[3]);break;case"1i":t.uniform1i(o,i);break;case"1f":t.uniform1f(o,i);break;case"1fv":t.uniform1fv(o,i);break;case"1iv":t.uniform1iv(o,i);break;case"2iv":t.uniform2iv(o,i);break;case"2fv":t.uniform2fv(o,i);break;case"3iv":t.uniform3iv(o,i);break;case"3fv":t.uniform3fv(o,i);break;case"4iv":t.uniform4iv(o,i);break;case"4fv":t.uniform4fv(o,i);break;case"m2":case"m2v":t.uniformMatrix2fv(o,!1,i);break;case"m3":case"m3v":t.uniformMatrix3fv(o,!1,i);break;case"m4v":if(Array.isArray(i)&&Array.isArray(i[0])){var l=new r["a"].Float32Array(16*i.length),c=0;for(s=0;s<i.length;s++)for(var u=i[s],h=0;h<16;h++)l[c++]=u[h];t.uniformMatrix4fv(o,!1,l)}else t.uniformMatrix4fv(o,!1,i);break}return!0},setUniformOfSemantic:function(t,e,n){var r=this.uniformSemantics[e];return!!r&&this.setUniform(t,r.type,r.symbol,n)},enableAttributes:function(t,e,n){var r,i=t.gl,c=this._program,u=this._locations;r=n?n.__enabledAttributeList:l[t.__uid__],r||(r=n?n.__enabledAttributeList=[]:l[t.__uid__]=[]);for(var A=[],h=0;h<e.length;h++){var f=e[h];if(this.attributes[f]){var d=u[f];if(null==d){if(d=i.getAttribLocation(c,f),-1===d){A[h]=-1;continue}u[f]=d}A[h]=d,r[d]?r[d]=o:r[d]=a}else A[h]=-1}for(h=0;h<r.length;h++)switch(r[h]){case a:i.enableVertexAttribArray(h),r[h]=s;break;case o:r[h]=s;break;case s:i.disableVertexAttribArray(h),r[h]=0;break}return A},getAttribLocation:function(t,e){var n=this._locations,r=n[e];return null==r&&(r=t.getAttribLocation(this._program,e),n[e]=r),r},isAttribEnabled:function(t,e){var n=l[t.__uid__]||[];return!!n[e]},buildProgram:function(t,e,n,r){var i=t.createShader(t.VERTEX_SHADER),a=t.createProgram();t.shaderSource(i,n),t.compileShader(i);var o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,r),t.compileShader(o);var s=u(t,i,n);if(s)return s;if(s=u(t,o,r),s)return s;if(t.attachShader(a,i),t.attachShader(a,o),e.attributeSemantics["POSITION"])t.bindAttribLocation(a,0,e.attributeSemantics["POSITION"].symbol);else{var l=Object.keys(this.attributes);t.bindAttribLocation(a,0,l[0])}if(t.linkProgram(a),t.deleteShader(i),t.deleteShader(o),this._program=a,this.vertexCode=n,this.fragmentCode=r,!t.getProgramParameter(a,t.LINK_STATUS))return"Could not link program\n"+t.getProgramInfoLog(a);for(var c=0;c<e.uniforms.length;c++){var A=e.uniforms[c];this._locations[A]=t.getUniformLocation(a,A)}}});e["a"]=h},function(t,e,n){"use strict";var r=n(8),i=n(54),a=n(26),o=n(3),s=n(7),l=n(71),c=n(11),u=n(12),A=r["a"].extend({scene:null,camera:null,renderer:null},(function(){this._ray=new i["a"],this._ndc=new a["a"]}),{pick:function(t,e,n){var r=this.pickAll(t,e,[],n);return r[0]||null},pickAll:function(t,e,n,r){return this.renderer.screenToNDC(t,e,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,r||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(t,e,n){t instanceof l["a"]&&t.isRenderable()&&(t.ignorePicking&&!n||!(t.mode===c["a"].TRIANGLES&&t.geometry.isUseIndices()||t.geometry.pickByRay||t.geometry.pick)||this._intersectRenderable(t,e));for(var r=0;r<t._children.length;r++)this._intersectNode(t._children[r],e,n)},_intersectRenderable:function(){var t=new o["a"],e=new o["a"],n=new o["a"],r=new i["a"],a=new s["a"];return function(i,l){var h=i.isSkinnedMesh();r.copy(this._ray),s["a"].invert(a,i.worldTransform),h||r.applyTransform(a);var f=i.geometry,d=h?i.skeleton.boundingBox:f.boundingBox;if(!d||r.intersectBoundingBox(d))if(f.pick)f.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,i,l);else if(f.pickByRay)f.pickByRay(r,i,l);else{var p,m,g=i.cullFace===c["a"].BACK&&i.frontFace===c["a"].CCW||i.cullFace===c["a"].FRONT&&i.frontFace===c["a"].CW,v=f.indices,_=f.attributes.position,y=f.attributes.weight,w=f.attributes.joint,x=[];if(_&&_.value&&v){if(h){m=i.skeleton.getSubSkinMatrices(i.__uid__,i.joints);for(var b=0;b<i.joints.length;b++){x[b]=x[b]||[];for(var C=0;C<16;C++)x[b][C]=m[16*b+C]}var B=[],E=[],T=[],S=[],M=[],N=f.attributes.skinnedPosition;N&&N.value||(f.createAttribute("skinnedPosition","f",3),N=f.attributes.skinnedPosition,N.init(f.vertexCount));for(b=0;b<f.vertexCount;b++){_.get(b,B),y.get(b,E),w.get(b,T),E[3]=1-E[0]-E[1]-E[2],u["a"].set(S,0,0,0);for(C=0;C<4;C++)T[C]>=0&&E[C]>1e-4&&(u["a"].transformMat4(M,B,x[T[C]]),u["a"].scaleAndAdd(S,S,M,E[C]));N.set(b,S)}}for(b=0;b<v.length;b+=3){var D=v[b],O=v[b+1],U=v[b+2],I=h?f.attributes.skinnedPosition:_;if(I.get(D,t.array),I.get(O,e.array),I.get(U,n.array),p=g?r.intersectTriangle(t,e,n,i.culling):r.intersectTriangle(t,n,e,i.culling),p){var L=new o["a"];h?o["a"].copy(L,p):o["a"].transformMat4(L,p,i.worldTransform),l.push(new A.Intersection(p,L,i,[D,O,U],b/3,o["a"].dist(L,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(t,e){return t.distance-e.distance}});A.Intersection=function(t,e,n,r,i,a){this.point=t,this.pointWorld=e,this.target=n,this.triangle=r,this.triangleIndex=i,this.distance=a},e["a"]=A},function(t,e,n){"use strict";var r=n(8),i=n(11),a=n(57),o=n(13);function s(t){return{byte:o["a"].Int8Array,ubyte:o["a"].Uint8Array,short:o["a"].Int16Array,ushort:o["a"].Uint16Array}[t]||o["a"].Float32Array}function l(t){return"attr_"+t}function c(t,e,n,r){switch(this.name=t,this.type=e,this.size=n,this.semantic=r||"",this.value=null,n){case 1:this.get=function(t){return this.value[t]},this.set=function(t,e){this.value[t]=e},this.copy=function(t,e){this.value[t]=this.value[t]};break;case 2:this.get=function(t,e){var n=this.value;return e[0]=n[2*t],e[1]=n[2*t+1],e},this.set=function(t,e){var n=this.value;n[2*t]=e[0],n[2*t+1]=e[1]},this.copy=function(t,e){var n=this.value;e*=2,t*=2,n[t]=n[e],n[t+1]=n[e+1]};break;case 3:this.get=function(t,e){var n=3*t,r=this.value;return e[0]=r[n],e[1]=r[n+1],e[2]=r[n+2],e},this.set=function(t,e){var n=3*t,r=this.value;r[n]=e[0],r[n+1]=e[1],r[n+2]=e[2]},this.copy=function(t,e){var n=this.value;e*=3,t*=3,n[t]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2]};break;case 4:this.get=function(t,e){var n=this.value,r=4*t;return e[0]=n[r],e[1]=n[r+1],e[2]=n[r+2],e[3]=n[r+3],e},this.set=function(t,e){var n=this.value,r=4*t;n[r]=e[0],n[r+1]=e[1],n[r+2]=e[2],n[r+3]=e[3]},this.copy=function(t,e){var n=this.value;e*=4,t*=4,n[t]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2],n[t+3]=n[e+3]}}}function u(t,e,n,r,i){this.name=t,this.type=e,this.buffer=n,this.size=r,this.semantic=i,this.symbol="",this.needsRemove=!1}function A(t){this.buffer=t,this.count=0}c.prototype.init=function(t){if(!this.value||this.value.length!==t*this.size){var e=s(this.type);this.value=new e(t*this.size)}},c.prototype.fromArray=function(t){var e,n=s(this.type);if(t[0]&&t[0].length){var r=0,i=this.size;e=new n(t.length*i);for(var a=0;a<t.length;a++)for(var o=0;o<i;o++)e[r++]=t[a][o]}else e=new n(t);this.value=e},c.prototype.clone=function(t){var e=new c(this.name,this.type,this.size,this.semantic);return t&&console.warn("todo"),e};var h=r["a"].extend((function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}}),(function(){this._cache=new a["a"],this._attributeList=Object.keys(this.attributes),this.__vaoCache={}}),{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var t=this.getEnabledAttributes(),e=0;e<t.length;e++)this.dirtyAttribute(t[e]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirtyAll("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(t){this._cache.dirtyAll(l(t)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(t,e){if(t<this.triangleCount&&t>=0){e||(e=[]);var n=this.indices;return e[0]=n[3*t],e[1]=n[3*t+1],e[2]=n[3*t+2],e}},setTriangleIndices:function(t,e){var n=this.indices;n[3*t]=e[0],n[3*t+1]=e[1],n[3*t+2]=e[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(t){var e,n=this.vertexCount>65535?o["a"].Uint32Array:o["a"].Uint16Array;if(t[0]&&t[0].length){var r=0,i=3;e=new n(t.length*i);for(var a=0;a<t.length;a++)for(var s=0;s<i;s++)e[r++]=t[a][s]}else e=new n(t);this.indices=e},createAttribute:function(t,e,n,r){var i=new c(t,e,n,r);return this.attributes[t]&&this.removeAttribute(t),this.attributes[t]=i,this._attributeList.push(t),i},removeAttribute:function(t){var e=this._attributeList,n=e.indexOf(t);return n>=0&&(e.splice(n,1),delete this.attributes[t],!0)},getAttribute:function(t){return this.attributes[t]},getEnabledAttributes:function(){var t=this._enabledAttributes,e=this._attributeList;if(t)return t;for(var n=[],r=this.vertexCount,i=0;i<e.length;i++){var a=e[i],o=this.attributes[a];o.value&&o.value.length===r*o.size&&n.push(a)}return this._enabledAttributes=n,n},getBufferChunks:function(t){var e=this._cache;e.use(t.__uid__);var n=e.isDirty("attributes"),r=e.isDirty("indices");if(n||r){this._updateBuffer(t.gl,n,r);for(var i=this.getEnabledAttributes(),a=0;a<i.length;a++)e.fresh(l(i[a]));e.fresh("attributes"),e.fresh("indices")}return e.fresh("any"),e.get("chunks")},_updateBuffer:function(t,e,n){var r=this._cache,i=r.get("chunks"),a=!1;i||(i=[],i[0]={attributeBuffers:[],indicesBuffer:null},r.put("chunks",i),a=!0);var o=i[0],s=o.attributeBuffers,c=o.indicesBuffer;if(e||a){var h=this.getEnabledAttributes(),f={};if(!a)for(var d=0;d<s.length;d++)f[s[d].name]=s[d];for(var p=0;p<h.length;p++){var m,g,v=h[p],_=this.attributes[v];a||(m=f[v]),g=m?m.buffer:t.createBuffer(),r.isDirty(l(v))&&(t.bindBuffer(t.ARRAY_BUFFER,g),t.bufferData(t.ARRAY_BUFFER,_.value,this.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW)),s[p]=new u(v,_.type,g,_.size,_.semantic)}for(d=p;d<s.length;d++)t.deleteBuffer(s[d].buffer);s.length=p}this.isUseIndices()&&(n||a)&&(c||(c=new A(t.createBuffer()),o.indicesBuffer=c),c.count=this.indices.length,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW))},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get("chunks");if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=0;a<i.attributeBuffers.length;a++){var o=i.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}i.indicesBuffer&&t.gl.deleteBuffer(i.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension("OES_vertex_array_object");for(var l in this.__vaoCache){var c=this.__vaoCache[l].vao;c&&s.deleteVertexArrayOES(c)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});Object.defineProperty&&(Object.defineProperty(h.prototype,"vertexCount",{enumerable:!1,get:function(){var t=this.attributes[this.mainAttribute];return t||(t=this.attributes[this._attributeList[0]]),t&&t.value?t.value.length/t.size:0}}),Object.defineProperty(h.prototype,"triangleCount",{enumerable:!1,get:function(){var t=this.indices;return t?t.length/3:0}})),h.STATIC_DRAW=i["a"].STATIC_DRAW,h.DYNAMIC_DRAW=i["a"].DYNAMIC_DRAW,h.STREAM_DRAW=i["a"].STREAM_DRAW,h.AttributeBuffer=u,h.IndicesBuffer=A,h.Attribute=c,e["a"]=h},function(t,e,n){"use strict";var r=n(119),i="uniform vec3 ",a="uniform float ",o="@export clay.header.",s="@end",l=":unconfigurable;";e["a"]=[o+"directional_light",i+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+l,i+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+l,s,o+"ambient_light",i+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+l,s,o+"ambient_sh_light",i+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+l,i+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+l,r["a"],s,o+"ambient_cubemap_light",i+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+l,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+l,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+l,s,o+"point_light",i+"pointLightPosition[POINT_LIGHT_COUNT]"+l,a+"pointLightRange[POINT_LIGHT_COUNT]"+l,i+"pointLightColor[POINT_LIGHT_COUNT]"+l,s,o+"spot_light",i+"spotLightPosition[SPOT_LIGHT_COUNT]"+l,i+"spotLightDirection[SPOT_LIGHT_COUNT]"+l,a+"spotLightRange[SPOT_LIGHT_COUNT]"+l,a+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+l,a+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+l,a+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+l,i+"spotLightColor[SPOT_LIGHT_COUNT]"+l,s].join("\n")},function(t,e,n){"use strict";e["a"]="vec3 calcAmbientSHLight(int idx, vec3 N) {\n int offset = 9 * idx;\n return ambientSHLightCoefficients[0]\n + ambientSHLightCoefficients[1] * N.x\n + ambientSHLightCoefficients[2] * N.y\n + ambientSHLightCoefficients[3] * N.z\n + ambientSHLightCoefficients[4] * N.x * N.z\n + ambientSHLightCoefficients[5] * N.z * N.y\n + ambientSHLightCoefficients[6] * N.y * N.x\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\n}"},function(t,e,n){"use strict";e["a"]="@export clay.skybox.vertex\n#define SHADER_NAME skybox\nuniform mat4 world : WORLD;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nvarying vec3 v_WorldPosition;\nvoid main()\n{\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end\n@export clay.skybox.fragment\n#define PI 3.1415926\nuniform mat4 viewInverse : VIEWINVERSE;\n#ifdef EQUIRECTANGULAR\nuniform sampler2D environmentMap;\n#else\nuniform samplerCube environmentMap;\n#endif\nuniform float lod: 0.0;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\n@import clay.util.srgb\n@import clay.util.ACES\nvoid main()\n{\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n#ifdef EQUIRECTANGULAR\n float phi = acos(V.y);\n float theta = atan(-V.x, V.z) + PI * 0.5;\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\n#else\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\n #else\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\n #endif\n#endif\n#ifdef SRGB_DECODE\n texel = sRGBToLinear(texel);\n#endif\n#ifdef TONEMAPPING\n texel.rgb = ACESToneMapping(texel.rgb);\n#endif\n#ifdef SRGB_ENCODE\n texel = linearTosRGB(texel);\n#endif\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\n}\n@end"},function(t,e,n){"use strict";var r=n(4),i=n(5),a=(n(27),542327876),o=131072,s=512,l=4;function c(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var u=31,A=c("DXT1"),h=c("DXT3"),f=c("DXT5"),d=0,p=1,m=2,g=3,v=4,_=7,y=20,w=21,x=28,b={parse:function(t,e){var n=new Int32Array(t,0,u);if(n[d]!==a)return null;if(!n(y)&l)return null;var c,b,C=n(w),B=n[v],E=n[g],T=n[x]&s,S=n[m]&o;switch(C){case A:c=8,b=r["a"].COMPRESSED_RGB_S3TC_DXT1_EXT;break;case h:c=16,b=r["a"].COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case f:c=16,b=r["a"].COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var M=n[p]+4,N=T?6:1,D=1;S&&(D=Math.max(1,n[_]));for(var O=[],U=0;U<N;U++){var I=B,L=E;O[U]=new i["a"]({width:I,height:L,format:b});for(var F=[],R=0;R<D;R++){var P=Math.max(4,I)/4*Math.max(4,L)/4*c,Q=new Uint8Array(t,M,P);M+=P,I*=.5,L*=.5,F[R]=Q}O[U].pixels=F[0],S&&(O[U].mipmaps=F)}if(!e)return O[0];e.width=O[0].width,e.height=O[0].height,e.format=O[0].format,e.pixels=O[0].pixels,e.mipmaps=O[0].mipmaps}};e["a"]=b},function(t,e,n){"use strict";var r=n(4),i=n(5),a=String.fromCharCode,o=8,s=32767;function l(t,e,n,r){if(t[3]>0){var i=Math.pow(2,t[3]-128-8+r);e[n+0]=t[0]*i,e[n+1]=t[1]*i,e[n+2]=t[2]*i}else e[n+0]=0,e[n+1]=0,e[n+2]=0;return e[n+3]=1,e}function c(t,e,n){for(var r="",i=e;i<n;i++)r+=a(t[i]);return r}function u(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]}function A(t,e,n,r){var i=0,a=0,o=r;while(o>0)if(t[a][0]=e[n++],t[a][1]=e[n++],t[a][2]=e[n++],t[a][3]=e[n++],1===t[a][0]&&1===t[a][1]&&1===t[a][2]){for(var s=t[a][3]<<i>>>0;s>0;s--)u(t[a-1],t[a]),a++,o--;i+=8}else a++,o--,i=0;return n}function h(t,e,n,r){if(r<o|r>s)return A(t,e,n,r);var i=e[n++];if(2!=i)return A(t,e,n-1,r);if(t[0][1]=e[n++],t[0][2]=e[n++],i=e[n++],(t[0][2]<<8>>>0|i)>>>0!==r)return null;for(i=0;i<4;i++)for(var a=0;a<r;){var l=e[n++];if(l>128){l=(127&l)>>>0;var c=e[n++];while(l--)t[a++][i]=c}else while(l--)t[a++][i]=e[n++]}return n}var f={parseRGBE:function(t,e,n){null==n&&(n=0);var o=new Uint8Array(t),s=o.length;if("#?"===c(o,0,2)){for(var u=2;u<s;u++)if("\n"===a(o[u])&&"\n"===a(o[u+1]))break;if(!(u>=s)){u+=2;for(var A="";u<s;u++){var f=a(o[u]);if("\n"===f)break;A+=f}var d=A.split(" "),p=parseInt(d[1]),m=parseInt(d[3]);if(m&&p){for(var g=u+1,v=[],_=0;_<m;_++){v[_]=[];for(var y=0;y<4;y++)v[_][y]=0}for(var w=new Float32Array(m*p*4),x=0,b=0;b<p;b++){g=h(v,o,g,m);if(!g)return null;for(_=0;_<m;_++)l(v[_],w,x,n),x+=4}return e||(e=new i["a"]),e.width=m,e.height=p,e.pixels=w,e.type=r["a"].FLOAT,e}}}},parseRGBEFromPNG:function(t){}};e["a"]=f},function(t,e,n){"use strict";var r=n(5),i=n(3),a=n(26),o=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function s(t){return"_on"+t}var l=function(t){var e=this;this._texture=new r["a"]({anisotropic:32,flipY:!1,surface:this,dispose:function(t){e.dispose(),r["a"].prototype.dispose.call(this,t)}}),o.forEach((function(t){this[s(t)]=function(e){e.triangle&&this._meshes.forEach((function(n){this.dispatchEvent(t,n,e.triangle,e.point)}),this)}}),this),this._meshes=[],t&&this.setECharts(t),this.onupdate=null};l.prototype={constructor:l,getTexture:function(){return this._texture},setECharts:function(t){this._chart=t;var e=t.getDom();if(e instanceof HTMLCanvasElement){var n=this,r=t.getZr(),i=r.__oldRefreshImmediately||r.refreshImmediately;r.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},r.__oldRefreshImmediately=i}else console.error("ECharts must init on canvas if it is used as texture."),e=document.createElement("canvas");this._texture.image=e,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var t=new i["a"],e=new i["a"],n=new i["a"],r=new a["a"],o=new a["a"],s=new a["a"],l=new a["a"],c=new i["a"];return function(u,A,h,f){var d=A.geometry,p=d.attributes.position,m=d.attributes.texcoord0,g=i["a"].dot,v=i["a"].cross;p.get(h[0],t.array),p.get(h[1],e.array),p.get(h[2],n.array),m.get(h[0],r.array),m.get(h[1],o.array),m.get(h[2],s.array),v(c,e,n);var _=g(t,c),y=g(f,c)/_;v(c,n,t);var w=g(f,c)/_;v(c,t,e);var x=g(f,c)/_;a["a"].scale(l,r,y),a["a"].scaleAndAdd(l,l,o,w),a["a"].scaleAndAdd(l,l,s,x);var b=l.x*this._chart.getWidth(),C=l.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(u,{zrX:b,zrY:C})}}(),attachToMesh:function(t){this._meshes.indexOf(t)>=0||(o.forEach((function(e){t.on(e,this[s(e)],this)}),this),this._meshes.push(t))},detachFromMesh:function(t){var e=this._meshes.indexOf(t);e>=0&&this._meshes.splice(e,1),o.forEach((function(e){t.off(e,this[s(e)])}),this)},dispose:function(){this._meshes.forEach((function(t){this.detachFromMesh(t)}),this)}},e["a"]=l},function(t,e,n){"use strict";var r=n(24),i=n(77),a=r["a"].extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(t,e){if(t.getGLExtension("EXT_shader_texture_lod")){this._brdfLookup||(this._normalDistribution=i["a"].generateNormalDistribution(),this._brdfLookup=i["a"].integrateBRDF(t,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var r=i["a"].prefilterEnvironmentMap(t,n,{encodeRGBM:!0,width:e,height:e},this._normalDistribution,this._brdfLookup);this.cubemap=r.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(t)}}else console.warn("Device not support textureCubeLodEXT")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(t){return t.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(t){return t._brdfLookup}}}});e["a"]=a},function(t,e,n){"use strict";e["a"]="\n@export clay.compositor.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nvarying vec2 v_Texcoord;\nvoid main()\n{\n v_Texcoord = texcoord;\n gl_Position = worldViewProjection * vec4(position, 1.0);\n}\n@end"},function(t,e,n){"use strict";e["a"]="#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform sampler2D normalDistribution;\nuniform vec2 viewportSize : [512, 256];\nconst vec3 N = vec3(0.0, 0.0, 1.0);\nconst float fSampleNumber = float(SAMPLE_NUMBER);\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nfloat G_Smith(float roughness, float NoV, float NoL) {\n float k = roughness * roughness / 2.0;\n float G1V = NoV / (NoV * (1.0 - k) + k);\n float G1L = NoL / (NoL * (1.0 - k) + k);\n return G1L * G1V;\n}\nvoid main() {\n vec2 uv = gl_FragCoord.xy / viewportSize;\n float NoV = uv.x;\n float roughness = uv.y;\n vec3 V;\n V.x = sqrt(1.0 - NoV * NoV);\n V.y = 0.0;\n V.z = NoV;\n float A = 0.0;\n float B = 0.0;\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(L.z, 0.0, 1.0);\n float NoH = clamp(H.z, 0.0, 1.0);\n float VoH = clamp(dot(V, H), 0.0, 1.0);\n if (NoL > 0.0) {\n float G = G_Smith(roughness, NoV, NoL);\n float G_Vis = G * VoH / (NoH * NoV);\n float Fc = pow(1.0 - VoH, 5.0);\n A += (1.0 - Fc) * G_Vis;\n B += Fc * G_Vis;\n }\n }\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\n}\n"},function(t,e,n){"use strict";e["a"]="#define SHADER_NAME prefilter\n#define SAMPLE_NUMBER 1024\n#define PI 3.14159265358979\nuniform mat4 viewInverse : VIEWINVERSE;\nuniform samplerCube environmentMap;\nuniform sampler2D normalDistribution;\nuniform float roughness : 0.5;\nvarying vec2 v_Texcoord;\nvarying vec3 v_WorldPosition;\n@import clay.util.rgbm\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvoid main() {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(v_WorldPosition - eyePos);\n vec3 N = V;\n vec3 prefilteredColor = vec3(0.0);\n float totalWeight = 0.0;\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\n vec3 L = reflect(-V, H);\n float NoL = clamp(dot(N, L), 0.0, 1.0);\n if (NoL > 0.0) {\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\n totalWeight += NoL;\n }\n }\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\n}\n"},function(t,e,n){"use strict";var r=n(24),i=n(13),a=r["a"].extend({castShadow:!1,coefficients:[]},(function(){this._coefficientsTmpArr=new i["a"].Float32Array(27)}),{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(t){for(var e=t._coefficientsTmpArr,n=0;n<t.coefficients.length;n++)e[n]=t.coefficients[n];return e}}}});e["a"]=a},function(t,e,n){"use strict";var r=n(4),i=n(10),a=n(5),o=(n(15),n(13)),s=n(42),l=n(75),c=n(61),u=n(36),A=n(12),h=(n(130),{}),f=["px","nx","py","ny","pz","nz"];function d(t,e){var n=t[0],r=t[1],i=t[2];return 0===e?1:1===e?n:2===e?r:3===e?i:4===e?n*i:5===e?r*i:6===e?n*r:7===e?3*i*i-1:n*n-r*r}var p={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function m(t,e,n,r){for(var i=new o["a"].Float32Array(27),a=A["a"].create(),s=A["a"].create(),l=A["a"].create(),c=0;c<9;c++){for(var u=A["a"].create(),h=0;h<f.length;h++){for(var m=e[f[h]],g=A["a"].create(),v=0,_=0,y=p[f[h]],w=0;w<r;w++)for(var x=0;x<n;x++){a[0]=x/(n-1)*2-1,a[1]=w/(r-1)*2-1,a[2]=-1,A["a"].normalize(a,a),l[0]=a[y[0]]*y[3],l[1]=a[y[1]]*y[4],l[2]=a[y[2]]*y[5],s[0]=m[_++]/255,s[1]=m[_++]/255,s[2]=m[_++]/255;var b=m[_++]/255*8.12;s[0]*=b,s[1]*=b,s[2]*=b,A["a"].scaleAndAdd(g,g,s,d(l,c)*-a[2]),v+=-a[2]}A["a"].scaleAndAdd(u,u,g,1/v)}i[3*c]=u[0]/6,i[3*c+1]=u[1]/6,i[3*c+2]=u[2]/6}return i}h.projectEnvironmentMap=function(t,e,n){var o;n=n||{},n.lod=n.lod||0;var A=new u["a"],h=64;"texture2D"===e.textureType?o=new l["a"]({scene:A,environmentMap:e}):(h=e.image&&e.image.px?e.image.px.width:e.width,o=new s["a"]({scene:A,environmentMap:e}));var d=Math.ceil(h/Math.pow(2,n.lod)),p=Math.ceil(h/Math.pow(2,n.lod)),g=new a["a"]({width:d,height:p}),v=new i["a"];o.material.define("fragment","RGBM_ENCODE"),n.decodeRGBM&&o.material.define("fragment","RGBM_DECODE"),o.material.set("lod",n.lod);for(var _=new c["a"]({texture:g}),y={},w=0;w<f.length;w++){y[f[w]]=new Uint8Array(d*p*4);var x=_.getCamera(f[w]);x.fov=90,v.attach(g),v.bind(t),t.render(A,x),t.gl.readPixels(0,0,d,p,r["a"].RGBA,r["a"].UNSIGNED_BYTE,y[f[w]]),v.unbind(t)}return o.dispose(t),v.dispose(t),g.dispose(t),m(t,y,d,p)},e["a"]=h},function(t,e,n){"use strict";e["a"]="uniform samplerCube environmentMap;\nvarying vec2 v_Texcoord;\n#define TEXTURE_SIZE 16\nmat3 front = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 1.0, 0.0,\n 0.0, 0.0, 1.0\n);\nmat3 back = mat3(\n -1.0, 0.0, 0.0,\n 0.0, 1.0, 0.0,\n 0.0, 0.0, -1.0\n);\nmat3 left = mat3(\n 0.0, 0.0, -1.0,\n 0.0, 1.0, 0.0,\n 1.0, 0.0, 0.0\n);\nmat3 right = mat3(\n 0.0, 0.0, 1.0,\n 0.0, 1.0, 0.0,\n -1.0, 0.0, 0.0\n);\nmat3 up = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 0.0, 1.0,\n 0.0, -1.0, 0.0\n);\nmat3 down = mat3(\n 1.0, 0.0, 0.0,\n 0.0, 0.0, -1.0,\n 0.0, 1.0, 0.0\n);\nfloat harmonics(vec3 normal){\n int index = int(gl_FragCoord.x);\n float x = normal.x;\n float y = normal.y;\n float z = normal.z;\n if(index==0){\n return 1.0;\n }\n else if(index==1){\n return x;\n }\n else if(index==2){\n return y;\n }\n else if(index==3){\n return z;\n }\n else if(index==4){\n return x*z;\n }\n else if(index==5){\n return y*z;\n }\n else if(index==6){\n return x*y;\n }\n else if(index==7){\n return 3.0*z*z - 1.0;\n }\n else{\n return x*x - y*y;\n }\n}\nvec3 sampleSide(mat3 rot)\n{\n vec3 result = vec3(0.0);\n float divider = 0.0;\n for (int i = 0; i < TEXTURE_SIZE * TEXTURE_SIZE; i++) {\n float x = mod(float(i), float(TEXTURE_SIZE));\n float y = float(i / TEXTURE_SIZE);\n vec2 sidecoord = ((vec2(x, y) + vec2(0.5, 0.5)) / vec2(TEXTURE_SIZE)) * 2.0 - 1.0;\n vec3 normal = normalize(vec3(sidecoord, -1.0));\n vec3 fetchNormal = rot * normal;\n vec3 texel = textureCube(environmentMap, fetchNormal).rgb;\n result += harmonics(fetchNormal) * texel * -normal.z;\n divider += -normal.z;\n }\n return result / divider;\n}\nvoid main()\n{\n vec3 result = (\n sampleSide(front) +\n sampleSide(back) +\n sampleSide(left) +\n sampleSide(right) +\n sampleSide(up) +\n sampleSide(down)\n ) / 6.0;\n gl_FragColor = vec4(result, 1.0);\n}"},function(t,e,n){"use strict";var r=n(14),i=n(18),a=r["a"].extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},(function(){this.build()}),{build:function(){var t=this.heightSegments,e=this.widthSegments,n=this.attributes.position,r=this.attributes.texcoord0,a=this.attributes.normal,o=(e+1)*(t+1);n.init(o),r.init(o),a.init(o);var s,l,c,u,A,h,f,d,p,m,g,v=o>65535?Uint32Array:Uint16Array,_=this.indices=new v(e*t*6),y=this.radius,w=this.phiStart,x=this.phiLength,b=this.thetaStart,C=this.thetaLength,B=(y=this.radius,[]),E=[],T=0,S=1/y;for(f=0;f<=t;f++)for(h=0;h<=e;h++)u=h/e,A=f/t,s=-y*Math.cos(w+u*x)*Math.sin(b+A*C),l=y*Math.cos(b+A*C),c=y*Math.sin(w+u*x)*Math.sin(b+A*C),B[0]=s,B[1]=l,B[2]=c,E[0]=u,E[1]=A,n.set(T,B),r.set(T,E),B[0]*=S,B[1]*=S,B[2]*=S,a.set(T,B),T++;var M=e+1,N=0;for(f=0;f<t;f++)for(h=0;h<e;h++)p=f*M+h,d=f*M+h+1,g=(f+1)*M+h+1,m=(f+1)*M+h,_[N++]=d,_[N++]=p,_[N++]=g,_[N++]=p,_[N++]=m,_[N++]=g;this.boundingBox=new i["a"],this.boundingBox.max.set(y,y,y),this.boundingBox.min.set(-y,-y,-y)}});e["a"]=a},function(t,e,n){"use strict";var r=n(24),i=r["a"].extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}}});e["a"]=i},function(t,e,n){"use strict";var r=n(24),i=n(3),a=r["a"].extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new i["a"],t.__dir.copy(t.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r["a"].prototype.clone.call(this);return t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}});e["a"]=a},function(t,e,n){"use strict";var r=n(24),i=r["a"].extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r["a"].prototype.clone.call(this);return t.range=this.range,t}});e["a"]=i},function(t,e,n){"use strict";var r=n(24),i=n(3),a=r["a"].extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(t){return t.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(t){return t.falloffFactor}},spotLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new i["a"],t.__dir.copy(t.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=r["a"].prototype.clone.call(this);return t.range=this.range,t.umbraAngle=this.umbraAngle,t.penumbraAngle=this.penumbraAngle,t.falloffFactor=this.falloffFactor,t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}});e["a"]=a},function(t,e,n){"use strict";var r=n(33),i=function(t,e,n,i){t=t||0,e=e||0,n=n||0,i=i||0,this.array=r["a"].fromValues(t,e,n,i),this._dirty=!0};i.prototype={constructor:i,add:function(t){return r["a"].add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n,r){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z,this.w)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},dist:function(t){return r["a"].dist(this.array,t.array)},distance:function(t){return r["a"].distance(this.array,t.array)},div:function(t){return r["a"].div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r["a"].divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r["a"].dot(this.array,t.array)},len:function(){return r["a"].len(this.array)},length:function(){return r["a"].length(this.array)},lerp:function(t,e,n){return r["a"].lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r["a"].min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r["a"].max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r["a"].negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r["a"].normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r["a"].random(this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r["a"].scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r["a"].sqrDist(this.array,t.array)},squaredDistance:function(t){return r["a"].squaredDistance(this.array,t.array)},sqrLen:function(){return r["a"].sqrLen(this.array)},squaredLength:function(){return r["a"].squaredLength(this.array)},sub:function(t){return r["a"].sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r["a"].subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r["a"].transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return r["a"].transformQuat(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a=Object.defineProperty;if(a){var o=i.prototype;a(o,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),a(o,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),a(o,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),a(o,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}i.add=function(t,e,n){return r["a"].add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i,a){r["a"].set(t.array,e,n,i,a),t._dirty=!0},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.dist=function(t,e){return r["a"].distance(t.array,e.array)},i.distance=i.dist,i.div=function(t,e,n){return r["a"].divide(t.array,e.array,n.array),t._dirty=!0,t},i.divide=i.div,i.dot=function(t,e){return r["a"].dot(t.array,e.array)},i.len=function(t){return r["a"].length(t.array)},i.lerp=function(t,e,n,i){return r["a"].lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r["a"].min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r["a"].max(t.array,e.array,n.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].multiply(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.negate=function(t,e){return r["a"].negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r["a"].normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r["a"].random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r["a"].scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.sqrDist=function(t,e){return r["a"].sqrDist(t.array,e.array)},i.squaredDistance=i.sqrDist,i.sqrLen=function(t){return r["a"].sqrLen(t.array)},i.squaredLength=i.sqrLen,i.sub=function(t,e,n){return r["a"].subtract(t.array,e.array,n.array),t._dirty=!0,t},i.subtract=i.sub,i.transformMat4=function(t,e,n){return r["a"].transformMat4(t.array,e.array,n.array),t._dirty=!0,t},i.transformQuat=function(t,e,n){return r["a"].transformQuat(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(78),i=function(){this.array=r["a"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return r["a"].adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return r["a"].determinant(this.array)},identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r["a"].rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return r["a"].transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(t,e){return r["a"].adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r["a"].determinant(t.array)},i.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r["a"].invert(t.array,e.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].mul(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.rotate=function(t,e,n){return r["a"].rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return r["a"].transpose(t.array,e.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(79),i=function(){this.array=r["a"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r["a"].determinant(this.array)},identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r["a"].rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r["a"].translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r["a"].determinant(t.array)},i.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r["a"].invert(t.array,e.array),t._dirty=!0,t},i.mul=function(t,e,n){return r["a"].mul(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.rotate=function(t,e,n){return r["a"].rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n.array),t._dirty=!0,t},i.translate=function(t,e,n){return r["a"].translate(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(34),i=function(){this.array=r["a"].create(),this._dirty=!0};i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return r["a"].adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r["a"].copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r["a"].determinant(this.array)},fromMat2d:function(t){return r["a"].fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return r["a"].fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return r["a"].fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return r["a"].identity(this.array),this._dirty=!0,this},invert:function(){return r["a"].invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r["a"].mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r["a"].mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r["a"].multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r["a"].multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r["a"].rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r["a"].scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r["a"].translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return r["a"].normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return r["a"].transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(t,e){return r["a"].adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return r["a"].copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r["a"].determinant(t.array)},i.identity=function(t){return r["a"].identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r["a"].invert(t.array,e.array),t},i.mul=function(t,e,n){return r["a"].mul(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul,i.fromMat2d=function(t,e){return r["a"].fromMat2d(t.array,e.array),t._dirty=!0,t},i.fromMat4=function(t,e){return r["a"].fromMat4(t.array,e.array),t._dirty=!0,t},i.fromQuat=function(t,e){return r["a"].fromQuat(t.array,e.array),t._dirty=!0,t},i.normalFromMat4=function(t,e){return r["a"].normalFromMat4(t.array,e.array),t._dirty=!0,t},i.rotate=function(t,e,n){return r["a"].rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r["a"].scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return r["a"].transpose(t.array,e.array),t._dirty=!0,t},i.translate=function(t,e,n){return r["a"].translate(t.array,e.array,n.array),t._dirty=!0,t},e["a"]=i},function(t,e,n){"use strict";var r=n(141),i=n.n(r),a={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(t,e){this._animators=this._animators||[];var n,r=this;if(t){for(var a=t.split("."),o=r,s=0,l=a.length;s<l;s++)o&&(o=o[a[s]]);o&&(n=o)}else n=r;if(null==n)throw new Error("Target "+t+" not exists");var c=this._animators,u=new i.a(n,e),A=this;return u.during((function(){A.__zr&&A.__zr.refresh()})).done((function(){var t=c.indexOf(u);t>=0&&c.splice(t,1)})),c.push(u),this.__zr&&this.__zr.animation.addAnimator(u),u},stopAnimation:function(t){this._animators=this._animators||[];for(var e=this._animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},addAnimatorsToZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.addAnimator(this._animators[e])},removeAnimatorsFromZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.removeAnimator(this._animators[e])}};e["a"]=a},function(t,e,n){var r=n(142),i=n(144),a=n(80),o=a.isArrayLike,s=Array.prototype.slice;function l(t,e){return t[e]}function c(t,e,n){t[e]=n}function u(t,e,n){return(e-t)*n+t}function A(t,e,n){return n>.5?e:t}function h(t,e,n,r,i){var a=t.length;if(1==i)for(var o=0;o<a;o++)r[o]=u(t[o],e[o],n);else{var s=a&&t[0].length;for(o=0;o<a;o++)for(var l=0;l<s;l++)r[o][l]=u(t[o][l],e[o][l],n)}}function f(t,e,n){var r=t.length,i=e.length;if(r!==i){var a=r>i;if(a)t.length=i;else for(var o=r;o<i;o++)t.push(1===n?e[o]:s.call(e[o]))}var l=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===n)isNaN(t[o])&&(t[o]=e[o]);else for(var c=0;c<l;c++)isNaN(t[o][c])&&(t[o][c]=e[o][c])}function d(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1}else{var a=t[0].length;for(i=0;i<r;i++)for(var o=0;o<a;o++)if(t[i][o]!==e[i][o])return!1}return!0}function p(t,e,n,r,i,a,o,s,l){var c=t.length;if(1==l)for(var u=0;u<c;u++)s[u]=m(t[u],e[u],n[u],r[u],i,a,o);else{var A=t[0].length;for(u=0;u<c;u++)for(var h=0;h<A;h++)s[u][h]=m(t[u][h],e[u][h],n[u][h],r[u][h],i,a,o)}}function m(t,e,n,r,i,a,o){var s=.5*(n-t),l=.5*(r-e);return(2*(e-n)+s+l)*o+(-3*(e-n)-2*s-l)*a+s*i+e}function g(t){if(o(t)){var e=t.length;if(o(t[0])){for(var n=[],r=0;r<e;r++)n.push(s.call(t[r]));return n}return s.call(t)}return t}function v(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function _(t){var e=t[t.length-1].value;return o(e&&e[0])?2:1}function y(t,e,n,a,s,l){var c=t._getter,g=t._setter,y="spline"===e,w=a.length;if(w){var x,b=a[0].value,C=o(b),B=!1,E=!1,T=C?_(a):0;a.sort((function(t,e){return t.time-e.time})),x=a[w-1].time;for(var S=[],M=[],N=a[0].value,D=!0,O=0;O<w;O++){S.push(a[O].time/x);var U=a[O].value;if(C&&d(U,N,T)||!C&&U===N||(D=!1),N=U,"string"==typeof U){var I=i.parse(U);I?(U=I,B=!0):E=!0}M.push(U)}if(l||!D){var L=M[w-1];for(O=0;O<w-1;O++)C?f(M[O],L,T):!isNaN(M[O])||isNaN(L)||E||B||(M[O]=L);C&&f(c(t._target,s),L,T);var F,R,P,Q,H,k,z=0,V=0;if(B)var G=[0,0,0,0];var K=function(t,e){var n;if(e<0)n=0;else if(e<V){for(F=Math.min(z+1,w-1),n=F;n>=0;n--)if(S[n]<=e)break;n=Math.min(n,w-2)}else{for(n=z;n<w;n++)if(S[n]>e)break;n=Math.min(n-1,w-2)}z=n,V=e;var r=S[n+1]-S[n];if(0!==r)if(R=(e-S[n])/r,y)if(Q=M[n],P=M[0===n?n:n-1],H=M[n>w-2?w-1:n+1],k=M[n>w-3?w-1:n+2],C)p(P,Q,H,k,R,R*R,R*R*R,c(t,s),T);else{if(B)i=p(P,Q,H,k,R,R*R,R*R*R,G,1),i=v(G);else{if(E)return A(Q,H,R);i=m(P,Q,H,k,R,R*R,R*R*R)}g(t,s,i)}else if(C)h(M[n],M[n+1],R,c(t,s),T);else{var i;if(B)h(M[n],M[n+1],R,G,1),i=v(G);else{if(E)return A(M[n],M[n+1],R);i=u(M[n],M[n+1],R)}g(t,s,i)}},j=new r({target:t._target,life:x,loop:t._loop,delay:t._delay,onframe:K,ondestroy:n});return e&&"spline"!==e&&(j.easing=e),j}}}var w=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||l,this._setter=r||c,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};w.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:g(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0,a=function(){i--,i||r._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=y(this,t,a,this._tracks[o],o,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(t,e){l(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var x=w;t.exports=x},function(t,e,n){var r=n(143);function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,a="string"==typeof i?r[i]:i,o="function"===typeof a?a(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var a=i;t.exports=a},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))},elasticOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},r=n;t.exports=r},function(t,e,n){var r=n(74),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function a(t){return t=Math.round(t),t<0?0:t>255?255:t}function o(t){return t=Math.round(t),t<0?0:t>360?360:t}function s(t){return t<0?0:t>1?1:t}function l(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100*255):a(parseInt(t,10))}function c(t){return t.length&&"%"===t.charAt(t.length-1)?s(parseFloat(t)/100):s(parseFloat(t))}function u(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function A(t,e,n){return t+(e-t)*n}function h(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function f(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var d=new r(20),p=null;function m(t,e){p&&f(p,e),p=d.put(t,p||e.slice())}function g(t,e){if(t){e=e||[];var n=d.get(t);if(n)return f(e,n);t+="";var r=t.replace(/ /g,"").toLowerCase();if(r in i)return f(e,i[r]),m(t,e),e;if("#"!==r.charAt(0)){var a=r.indexOf("("),o=r.indexOf(")");if(-1!==a&&o+1===r.length){var s=r.substr(0,a),u=r.substr(a+1,o-(a+1)).split(","),A=1;switch(s){case"rgba":if(4!==u.length)return void h(e,0,0,0,1);A=c(u.pop());case"rgb":return 3!==u.length?void h(e,0,0,0,1):(h(e,l(u[0]),l(u[1]),l(u[2]),A),m(t,e),e);case"hsla":return 4!==u.length?void h(e,0,0,0,1):(u[3]=c(u[3]),v(u,e),m(t,e),e);case"hsl":return 3!==u.length?void h(e,0,0,0,1):(v(u,e),m(t,e),e);default:return}}h(e,0,0,0,1)}else{if(4===r.length){var p=parseInt(r.substr(1),16);return p>=0&&p<=4095?(h(e,(3840&p)>>4|(3840&p)>>8,240&p|(240&p)>>4,15&p|(15&p)<<4,1),m(t,e),e):void h(e,0,0,0,1)}if(7===r.length){p=parseInt(r.substr(1),16);return p>=0&&p<=16777215?(h(e,(16711680&p)>>16,(65280&p)>>8,255&p,1),m(t,e),e):void h(e,0,0,0,1)}}}}function v(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=c(t[1]),i=c(t[2]),o=i<=.5?i*(r+1):i+r-i*r,s=2*i-o;return e=e||[],h(e,a(255*u(s,o,n+1/3)),a(255*u(s,o,n)),a(255*u(s,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function _(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),l=s-o,c=(s+o)/2;if(0===l)e=0,n=0;else{n=c<.5?l/(s+o):l/(2-s-o);var u=((s-r)/6+l/2)/l,A=((s-i)/6+l/2)/l,h=((s-a)/6+l/2)/l;r===s?e=h-A:i===s?e=1/3+u-h:a===s&&(e=2/3+A-u),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,c];return null!=t[3]&&f.push(t[3]),f}}function y(t,e){var n=g(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return S(n,4===n.length?"rgba":"rgb")}}function w(t){var e=g(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function x(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),l=e[i],c=e[o],u=r-i;return n[0]=a(A(l[0],c[0],u)),n[1]=a(A(l[1],c[1],u)),n[2]=a(A(l[2],c[2],u)),n[3]=s(A(l[3],c[3],u)),n}}var b=x;function C(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),l=g(e[i]),c=g(e[o]),u=r-i,h=S([a(A(l[0],c[0],u)),a(A(l[1],c[1],u)),a(A(l[2],c[2],u)),s(A(l[3],c[3],u))],"rgba");return n?{color:h,leftIndex:i,rightIndex:o,value:r}:h}}var B=C;function E(t,e,n,r){if(t=g(t),t)return t=_(t),null!=e&&(t[0]=o(e)),null!=n&&(t[1]=c(n)),null!=r&&(t[2]=c(r)),S(v(t),"rgba")}function T(t,e){if(t=g(t),t&&null!=e)return t[3]=s(e),S(t,"rgba")}function S(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}e.parse=g,e.lift=y,e.toHex=w,e.fastLerp=x,e.fastMapToColor=b,e.lerp=C,e.mapToColor=B,e.modifyHSL=E,e.modifyAlpha=T,e.stringify=S},function(t,e,n){"use strict";e["a"]="\n@export clay.util.rand\nhighp float rand(vec2 uv) {\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\n return fract(sin(sn) * c);\n}\n@end\n@export clay.util.calculate_attenuation\nuniform float attenuationFactor : 5.0;\nfloat lightAttenuation(float dist, float range)\n{\n float attenuation = 1.0;\n attenuation = dist*dist/(range*range+1.0);\n float att_s = attenuationFactor;\n attenuation = 1.0/(attenuation*att_s+1.0);\n att_s = 1.0/(att_s+1.0);\n attenuation = attenuation - att_s;\n attenuation /= 1.0 - att_s;\n return clamp(attenuation, 0.0, 1.0);\n}\n@end\n@export clay.util.edge_factor\n#ifdef SUPPORT_STANDARD_DERIVATIVES\nfloat edgeFactor(float width)\n{\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#else\nfloat edgeFactor(float width)\n{\n return 1.0;\n}\n#endif\n@end\n@export clay.util.encode_float\nvec4 encodeFloat(const in float depth)\n{\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n vec4 res = fract(depth * bitShifts);\n res -= res.xxyz * bit_mask;\n return res;\n}\n@end\n@export clay.util.decode_float\nfloat decodeFloat(const in vec4 color)\n{\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\n return dot(color, bitShifts);\n}\n@end\n@export clay.util.float\n@import clay.util.encode_float\n@import clay.util.decode_float\n@end\n@export clay.util.rgbm_decode\nvec3 RGBMDecode(vec4 rgbm, float range) {\n return range * rgbm.rgb * rgbm.a;\n}\n@end\n@export clay.util.rgbm_encode\nvec4 RGBMEncode(vec3 color, float range) {\n if (dot(color, color) == 0.0) {\n return vec4(0.0);\n }\n vec4 rgbm;\n color /= range;\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n rgbm.rgb = color / rgbm.a;\n return rgbm;\n}\n@end\n@export clay.util.rgbm\n@import clay.util.rgbm_decode\n@import clay.util.rgbm_encode\nvec4 decodeHDR(vec4 color)\n{\n#if defined(RGBM_DECODE) || defined(RGBM)\n return vec4(RGBMDecode(color, 8.12), 1.0);\n#else\n return color;\n#endif\n}\nvec4 encodeHDR(vec4 color)\n{\n#if defined(RGBM_ENCODE) || defined(RGBM)\n return RGBMEncode(color.xyz, 8.12);\n#else\n return color;\n#endif\n}\n@end\n@export clay.util.srgb\nvec4 sRGBToLinear(in vec4 value) {\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\n}\nvec4 linearTosRGB(in vec4 value) {\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\n}\n@end\n@export clay.chunk.skinning_header\n#ifdef SKINNING\nattribute vec3 weight : WEIGHT;\nattribute vec4 joint : JOINT;\n#ifdef USE_SKIN_MATRICES_TEXTURE\nuniform sampler2D skinMatricesTexture : ignore;\nuniform float skinMatricesTextureSize: ignore;\nmat4 getSkinMatrix(sampler2D tex, float idx) {\n float j = idx * 4.0;\n float x = mod(j, skinMatricesTextureSize);\n float y = floor(j / skinMatricesTextureSize) + 0.5;\n vec2 scale = vec2(skinMatricesTextureSize);\n return mat4(\n texture2D(tex, vec2(x + 0.5, y) / scale),\n texture2D(tex, vec2(x + 1.5, y) / scale),\n texture2D(tex, vec2(x + 2.5, y) / scale),\n texture2D(tex, vec2(x + 3.5, y) / scale)\n );\n}\nmat4 getSkinMatrix(float idx) {\n return getSkinMatrix(skinMatricesTexture, idx);\n}\n#else\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\nmat4 getSkinMatrix(float idx) {\n return skinMatrix[int(idx)];\n}\n#endif\n#endif\n@end\n@export clay.chunk.skin_matrix\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\nif (weight.y > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\n}\nif (weight.z > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\n}\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\nif (weightW > 1e-4)\n{\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\n}\n@end\n@export clay.chunk.instancing_header\n#ifdef INSTANCING\nattribute vec4 instanceMat1;\nattribute vec4 instanceMat2;\nattribute vec4 instanceMat3;\n#endif\n@end\n@export clay.chunk.instancing_matrix\nmat4 instanceMat = mat4(\n vec4(instanceMat1.xyz, 0.0),\n vec4(instanceMat2.xyz, 0.0),\n vec4(instanceMat3.xyz, 0.0),\n vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)\n);\n@end\n@export clay.util.parallax_correct\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\n vec3 first = (boxMax - pos) / dir;\n vec3 second = (boxMin - pos) / dir;\n vec3 further = max(first, second);\n float dist = min(further.x, min(further.y, further.z));\n vec3 fixedPos = pos + dir * dist;\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\n return normalize(fixedPos - boxCenter);\n}\n@end\n@export clay.util.clamp_sample\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\n{\n#ifdef STEREO\n float eye = step(0.5, coord.x) * 0.5;\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\n#else\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\n#endif\n return texture2D(texture, coordClamped);\n}\n@end\n@export clay.util.ACES\nvec3 ACESToneMapping(vec3 color)\n{\n const float A = 2.51;\n const float B = 0.03;\n const float C = 2.43;\n const float D = 0.59;\n const float E = 0.14;\n return (color * (A * color + B)) / (color * (C * color + D) + E);\n}\n@end\n@export clay.util.logdepth_vertex_header\n#ifdef LOG_DEPTH\n#ifdef SUPPORT_FRAG_DEPTH\nvarying float v_FragDepth;\n#else\nuniform float logDepthBufFC: LOG_DEPTH_BUFFER_FC;\n#endif\n#endif\n@end\n@export clay.util.logdepth_vertex_main\n#ifdef LOG_DEPTH\n #ifdef SUPPORT_FRAG_DEPTH\n v_FragDepth = 1.0 + gl_Position.w;\n #else\n gl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC - 1.0;\n gl_Position.z *= gl_Position.w;\n #endif\n#endif\n@end\n@export clay.util.logdepth_fragment_header\n#if defined(LOG_DEPTH) && defined(SUPPORT_FRAG_DEPTH)\nvarying float v_FragDepth;\nuniform float logDepthBufFC : LOG_DEPTH_BUFFER_FC;\n#endif\n@end\n@export clay.util.logdepth_fragment_main\n#if defined(LOG_DEPTH) && defined(SUPPORT_FRAG_DEPTH)\n gl_FragDepthEXT = log2(v_FragDepth) * logDepthBufFC * 0.5;\n#endif\n@end\n"},function(t,e,n){"use strict";e["a"]="\n@export ecgl.common.transformUniforms\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\nuniform mat4 world : WORLD;\n@end\n\n@export ecgl.common.attributes\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 normal : NORMAL;\n@end\n\n@export ecgl.common.uv.header\nuniform vec2 uvRepeat : [1.0, 1.0];\nuniform vec2 uvOffset : [0.0, 0.0];\nuniform vec2 detailUvRepeat : [1.0, 1.0];\nuniform vec2 detailUvOffset : [0.0, 0.0];\n\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n@export ecgl.common.uv.main\nv_Texcoord = texcoord * uvRepeat + uvOffset;\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\n@end\n\n@export ecgl.common.uv.fragmentHeader\nvarying vec2 v_Texcoord;\nvarying vec2 v_DetailTexcoord;\n@end\n\n\n@export ecgl.common.albedo.main\n\n vec4 albedoTexel = vec4(1.0);\n#ifdef DIFFUSEMAP_ENABLED\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\n #ifdef SRGB_DECODE\n albedoTexel = sRGBToLinear(albedoTexel);\n #endif\n#endif\n\n#ifdef DETAILMAP_ENABLED\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\n #ifdef SRGB_DECODE\n detailTexel = sRGBToLinear(detailTexel);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexHeader\n\n#ifdef WIREFRAME_QUAD\nattribute vec4 barycentric;\nvarying vec4 v_Barycentric;\n#elif defined(WIREFRAME_TRIANGLE)\nattribute vec3 barycentric;\nvarying vec3 v_Barycentric;\n#endif\n\n@end\n\n@export ecgl.common.wireframe.vertexMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n v_Barycentric = barycentric;\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentHeader\n\nuniform float wireframeLineWidth : 1;\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\n\n#ifdef WIREFRAME_QUAD\nvarying vec4 v_Barycentric;\nfloat edgeFactor () {\n vec4 d = fwidth(v_Barycentric);\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\n}\n#elif defined(WIREFRAME_TRIANGLE)\nvarying vec3 v_Barycentric;\nfloat edgeFactor () {\n vec3 d = fwidth(v_Barycentric);\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\n return min(min(a3.x, a3.y), a3.z);\n}\n#endif\n\n@end\n\n\n@export ecgl.common.wireframe.fragmentMain\n\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\n if (wireframeLineWidth > 0.) {\n vec4 lineColor = wireframeLineColor;\n#ifdef SRGB_DECODE\n lineColor = sRGBToLinear(lineColor);\n#endif\n\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\n }\n#endif\n@end\n\n\n\n\n@export ecgl.common.bumpMap.header\n\n#ifdef BUMPMAP_ENABLED\nuniform sampler2D bumpMap;\nuniform float bumpScale : 1.0;\n\n\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\n{\n vec2 dSTdx = dFdx(v_Texcoord);\n vec2 dSTdy = dFdy(v_Texcoord);\n\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\n\n vec3 vSigmaX = dFdx(surfPos);\n vec3 vSigmaY = dFdy(surfPos);\n vec3 vN = surfNormal;\n\n vec3 R1 = cross(vSigmaY, vN);\n vec3 R2 = cross(vN, vSigmaX);\n\n float fDet = dot(vSigmaX, R1);\n\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\n return normalize(abs(fDet) * baseNormal - vGrad);\n\n}\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexHeader\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.vertexMain\n\n#ifdef NORMALMAP_ENABLED\n if (dot(tangent, tangent) > 0.0) {\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n }\n#endif\n\n@end\n\n\n@export ecgl.common.normalMap.fragmentHeader\n\n#ifdef NORMALMAP_ENABLED\nuniform sampler2D normalMap;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@end\n\n@export ecgl.common.normalMap.fragmentMain\n#ifdef NORMALMAP_ENABLED\n if (dot(v_Tangent, v_Tangent) > 0.0) {\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\n N = normalize(tbn * N);\n }\n }\n#endif\n@end\n\n\n\n@export ecgl.common.vertexAnimation.header\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute vec3 prevNormal;\nuniform float percent;\n#endif\n\n@end\n\n@export ecgl.common.vertexAnimation.main\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n vec3 norm = mix(prevNormal, normal, percent);\n#else\n vec3 pos = position;\n vec3 norm = normal;\n#endif\n\n@end\n\n\n@export ecgl.common.ssaoMap.header\n#ifdef SSAOMAP_ENABLED\nuniform sampler2D ssaoMap;\nuniform vec4 viewport : VIEWPORT;\n#endif\n@end\n\n@export ecgl.common.ssaoMap.main\n float ao = 1.0;\n#ifdef SSAOMAP_ENABLED\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\n#endif\n@end\n\n\n\n\n@export ecgl.common.diffuseLayer.header\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.header\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\n#endif\n\n@end\n\n@export ecgl.common.layers.header\n@import ecgl.common.diffuseLayer.header\n@import ecgl.common.emissiveLayer.header\n@end\n\n@export ecgl.common.diffuseLayer.main\n\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\n float intensity = layerDiffuseIntensity[_idx_];\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\n }}\n#endif\n\n@end\n\n@export ecgl.common.emissiveLayer.main\n\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\n {{\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\n #ifdef SRGB_DECODE\n texel2 = sRGBToLinear(texel2);\n #endif\n float intensity = layerEmissionIntensity[_idx_];\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\n }}\n#endif\n\n@end\n"},function(t,e,n){"use strict";e["a"]="@export ecgl.color.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\n@import ecgl.common.uv.header\n\nattribute vec2 texcoord : TEXCOORD_0;\nattribute vec3 position: POSITION;\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvoid main()\n{\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n @import ecgl.common.uv.main\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n@export ecgl.color.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.layers.header\n\n@import ecgl.common.uv.fragmentHeader\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n\n}\n@end"},function(t,e,n){"use strict";e["a"]="/**\n * http: */\n\n@export ecgl.lambert.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n\n@import ecgl.common.attributes\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.vertexAnimation.header\n\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n}\n\n@end\n\n\n@export ecgl.lambert.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\nuniform sampler2D detailMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color);\n#else\n gl_FragColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n gl_FragColor *= sRGBToLinear(v_Color);\n #else\n gl_FragColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n gl_FragColor *= albedoTexel;\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n vec3 lightColor = directionalLightColor[i];\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor.rgb *= diffuseColor;\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){"use strict";e["a"]="@export ecgl.realistic.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\n\n@import ecgl.common.wireframe.vertexHeader\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\nattribute vec4 tangent : TANGENT;\nvarying vec3 v_Tangent;\nvarying vec3 v_Bitangent;\n#endif\n\n@import ecgl.common.vertexAnimation.header\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nvoid main()\n{\n\n @import ecgl.common.uv.main\n\n @import ecgl.common.vertexAnimation.main\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n\n#ifdef NORMALMAP_ENABLED\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\n#endif\n\n @import ecgl.common.wireframe.vertexMain\n\n}\n\n@end\n\n\n\n@export ecgl.realistic.fragment\n\n#define LAYER_DIFFUSEMAP_COUNT 0\n#define LAYER_EMISSIVEMAP_COUNT 0\n#define PI 3.14159265358979\n#define ROUGHNESS_CHANEL 0\n#define METALNESS_CHANEL 1\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform sampler2D diffuseMap;\n\nuniform sampler2D detailMap;\nuniform sampler2D metalnessMap;\nuniform sampler2D roughnessMap;\n\n@import ecgl.common.layers.header\n\nuniform float emissionIntensity: 1.0;\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nuniform float metalness : 0.0;\nuniform float roughness : 0.5;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n@import clay.header.ambient_cubemap_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n@import ecgl.common.normalMap.fragmentHeader\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import clay.util.rgbm\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n\nfloat D_Phong(float g, float ndh) {\n float a = pow(8192.0, g);\n return (a + 2.0) / 8.0 * pow(ndh, a);\n}\n\nvoid main()\n{\n vec4 albedoColor = color;\n\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n albedoColor *= sRGBToLinear(v_Color);\n #else\n albedoColor *= v_Color;\n #endif\n#endif\n\n @import ecgl.common.albedo.main\n\n @import ecgl.common.diffuseLayer.main\n\n albedoColor *= albedoTexel;\n\n float m = metalness;\n\n#ifdef METALNESSMAP_ENABLED\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 baseColor = albedoColor.rgb;\n albedoColor.rgb = baseColor * (1.0 - m);\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\n\n float g = 1.0 - roughness;\n\n#ifdef ROUGHNESSMAP_ENABLED\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n#endif\n\n vec3 N = v_Normal;\n\n#ifdef DOUBLE_SIDED\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n@import ecgl.common.normalMap.fragmentMain\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n vec3 diffuseTerm = vec3(0.0);\n vec3 specularTerm = vec3(0.0);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\n }}\n#endif\n\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\n }}\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\n {{\n vec3 L = -directionalLightDirection[_idx_];\n vec3 lc = directionalLightColor[_idx_];\n\n vec3 H = normalize(L + V);\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[_idx_];\n }\n#endif\n\n vec3 li = lc * ndl * shadowContrib;\n\n diffuseTerm += li;\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\n }}\n#endif\n\n\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\n vec3 L = reflect(-V, N);\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\n float bias2 = rough2 * 5.0;\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\n vec3 envTexel2;\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\n {{\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\n }}\n#endif\n\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\n gl_FragColor.a = albedoColor.a;\n\n#ifdef SRGB_ENCODE\n gl_FragColor = linearTosRGB(gl_FragColor);\n#endif\n\n @import ecgl.common.emissiveLayer.main\n\n @import ecgl.common.wireframe.fragmentMain\n}\n\n@end"},function(t,e,n){"use strict";e["a"]="@export ecgl.hatching.vertex\n\n@import ecgl.realistic.vertex\n\n@end\n\n\n@export ecgl.hatching.fragment\n\n#define NORMAL_UP_AXIS 1\n#define NORMAL_FRONT_AXIS 2\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n#ifdef AMBIENT_LIGHT_COUNT\n@import clay.header.ambient_light\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n@import clay.header.ambient_sh_light\n#endif\n\n#ifdef DIRECTIONAL_LIGHT_COUNT\n@import clay.header.directional_light\n#endif\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\n\n@import ecgl.common.ssaoMap.header\n\n@import ecgl.common.bumpMap.header\n\n@import clay.util.srgb\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.plugin.compute_shadow_map\n\nuniform sampler2D hatch1;\nuniform sampler2D hatch2;\nuniform sampler2D hatch3;\nuniform sampler2D hatch4;\nuniform sampler2D hatch5;\nuniform sampler2D hatch6;\n\nfloat shade(in float tone) {\n vec4 c = vec4(1. ,1., 1., 1.);\n float step = 1. / 6.;\n vec2 uv = v_DetailTexcoord;\n if (tone <= step / 2.0) {\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\n }\n else if (tone <= step) {\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\n }\n if(tone > step && tone <= 2. * step){\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\n }\n if(tone > 2. * step && tone <= 3. * step){\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\n }\n if(tone > 3. * step && tone <= 4. * step){\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\n }\n if(tone > 4. * step && tone <= 5. * step){\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\n }\n if(tone > 5. * step){\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\n }\n\n return c.r;\n}\n\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n#ifdef SRGB_DECODE\n vec4 inkColor = sRGBToLinear(color);\n#else\n vec4 inkColor = color;\n#endif\n\n#ifdef VERTEX_COLOR\n #ifdef SRGB_DECODE\n inkColor *= sRGBToLinear(v_Color);\n #else\n inkColor *= v_Color;\n #endif\n#endif\n\n vec3 N = v_Normal;\n#ifdef DOUBLE_SIDED\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n N = -N;\n }\n#endif\n\n float tone = 0.0;\n\n float ambientFactor = 1.0;\n\n#ifdef BUMPMAP_ENABLED\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n ambientFactor = dot(v_Normal, N);\n#endif\n\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\n\n @import ecgl.common.ssaoMap.main\n\n#ifdef AMBIENT_LIGHT_COUNT\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\n {\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\n }\n#endif\n#ifdef AMBIENT_SH_LIGHT_COUNT\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\n {{\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\n }}\n#endif\n#ifdef DIRECTIONAL_LIGHT_COUNT\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\n if(shadowEnabled)\n {\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\n }\n#endif\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\n {\n vec3 lightDirection = -directionalLightDirection[i];\n float lightTone = dot(directionalLightColor[i], w);\n\n float shadowContrib = 1.0;\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n if (shadowEnabled)\n {\n shadowContrib = shadowContribsDir[i];\n }\n#endif\n\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\n\n tone += lightTone * clamp(ndl, 0.0, 1.0);\n }\n#endif\n\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\n }\n@end\n"},function(t,e,n){"use strict";e["a"]="@export ecgl.sm.depth.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nuniform float percent : 1.0;\n#endif\n\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\n\nvoid main(){\n\n#ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n#else\n vec3 pos = position;\n#endif\n\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\n gl_Position = v_ViewPosition;\n\n v_Texcoord = texcoord;\n\n}\n@end\n\n\n\n@export ecgl.sm.depth.fragment\n\n@import clay.sm.depth.fragment\n\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function o(t,e){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r)}}function s(t){o(t,"itemStyle"),o(t,"lineStyle"),o(t,"areaStyle"),o(t,"label")}function l(t){t&&(t instanceof Array||(t=[t]),i.a.util.each(t,(function(t){if(t.axisLabel){var e=t.axisLabel;i.a.util.extend(e,e.textStyle),e.textStyle=null}})))}e["a"]=function(t){i.a.util.each(t.series,(function(e){i.a.util.indexOf(a,e.type)>=0&&(s(e),"mapbox"===e.coordinateSystem&&(e.coordinateSystem="mapbox3D",t.mapbox3D=t.mapbox))})),l(t.xAxis3D),l(t.yAxis3D),l(t.zAxis3D),l(t.grid3D),o(t.geo3D)}},function(t,e,n){"use strict";n(154),n(158),n(159),n(166);var r=n(0),i=n.n(r);i.a.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"grid3D",query:t},(function(e){e.setView(t)}))})),i.a.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},(function(t,e){})),i.a.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},(function(t,e){}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(155),o=i.a.extendComponentModel({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});function s(t,e){return e.type||(e.data?"category":"value")}i.a.helper.mixinAxisModelCommonMethods(o),Object(a["a"])("x",o,s,{name:"X"}),Object(a["a"])("y",o,s,{name:"Y"}),Object(a["a"])("z",o,s,{name:"Z"})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(156),o=n(157),s=n.n(o),l=["value","category","time","log"];e["a"]=function(t,e,n,r){i.a.util.each(l,(function(o){e.extend({type:t+"Axis3D."+o,__ordinalMeta:null,mergeDefaultAndTheme:function(e,r){var a=r.getTheme();i.a.util.merge(e,a.get(o+"Axis3D")),i.a.util.merge(e,this.getDefaultOption()),e.type=n(t,e)},optionUpdated:function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=s.a.createByAxisModel(this))},getCategories:function(){if("category"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:i.a.util.merge(i.a.util.clone(a["a"][o+"Axis3D"]),r||{},!0)})})),e.superClass.registerSubTypeDefaulter(t+"Axis3D",i.a.util.curry(n,t))}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},o=i.a.util.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},a),s=i.a.util.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},a),l=i.a.util.defaults({scale:!0,min:"dataMin",max:"dataMax"},s),c=i.a.util.defaults({logBase:10},s);c.scale=!0,e["a"]={categoryAxis3D:o,valueAxis3D:s,timeAxis3D:l,logAxis3D:c}},function(t,e,n){var r=n(16),i=r.createHashMap,a=r.isObject,o=r.map;function s(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}s.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&o(n,u);return new s({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})};var l=s.prototype;function c(t){return t._map||(t._map=i(t.categories))}function u(t){return a(t)&&null!=t.value?t.value:t+""}l.getOrdinal=function(t){return c(this).get(t)},l.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!==typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=c(this);return e=r.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e};var A=s;t.exports=A},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),l=i.a.extendComponentModel({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});i.a.util.merge(l.prototype,a["a"]),i.a.util.merge(l.prototype,o["a"]),i.a.util.merge(l.prototype,s["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(25),l=n(2),c=n(82),u=n(30),A=n(161),h=n(163),f=n(62),d=n(46),p=l["a"].firstNotNull;a["a"].Shader.import(d["a"]),["x","y","z"].forEach((function(t){i.a.extendComponentView({type:t+"Axis3D"})}));var m={x:0,y:2,z:1};i.a.extendComponentView({type:"grid3D",__ecgl__:!0,init:function(t,e){var n=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],r=["x","y","z"],i=new a["a"].Material({shader:a["a"].createShader("ecgl.color"),depthMask:!1,transparent:!0}),l=new a["a"].Material({shader:a["a"].createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});i.define("fragment","DOUBLE_SIDED"),i.define("both","VERTEX_COLOR"),this.groupGL=new a["a"].Node,this._control=new o["a"]({zr:e.getZr()}),this._control.init(),this._faces=n.map((function(t){var e=new A["a"](t,l,i);return this.groupGL.add(e.rootNode),e}),this),this._axes=r.map((function(t){var e=new h["a"](t,l);return this.groupGL.add(e.rootNode),e}),this);var d=e.getDevicePixelRatio();this._axisLabelSurface=new c["a"]({width:256,height:256,devicePixelRatio:d}),this._axisLabelSurface.onupdate=function(){e.getZr().refresh()},this._axisPointerLineMesh=new a["a"].Mesh({geometry:new s["a"]({useNativeLine:!1}),material:l,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new c["a"]({width:128,height:128,devicePixelRatio:d}),this._axisPointerLabelsMesh=new f["a"]({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new a["a"].Node,this._sceneHelper=new u["a"],this._sceneHelper.initLight(this._lightRoot)},render:function(t,e,n){this._model=t,this._api=n;var r=t.coordinateSystem;r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=t.getModel("viewControl");i.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),i.off("update"),t.get("show")&&(this._faces.forEach((function(r){r.update(t,e,n)}),this),this._axes.forEach((function(e){e.update(t,this._axisLabelSurface,n)}),this)),i.on("update",this._onCameraChange.bind(this,t,n),this),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._initMouseHandler(t)},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},showAxisPointer:function(t,e,n,r){this._doShowAxisPointer(),this._updateAxisPointer(r.value)},hideAxisPointer:function(t,e,n,r){this._doHideAxisPointer()},_initMouseHandler:function(t){var e=t.coordinateSystem,n=e.viewGL;t.get("show")&&t.get("axisPointer.show")?n.on("mousemove",this._updateAxisPointerOnMousePosition,this):n.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(t){if(!t.target){for(var e,n=this._model,r=n.coordinateSystem,i=r.viewGL,o=i.castRay(t.offsetX,t.offsetY,new a["a"].Ray),s=0;s<this._faces.length;s++){var l=this._faces[s];if(!l.rootNode.invisible){l.plane.normal.dot(i.camera.worldTransform.z)<0&&l.plane.normal.negate();var c=o.intersectPlane(l.plane);if(c){var u=r.getAxis(l.faceInfo[0]),A=r.getAxis(l.faceInfo[1]),h=m[l.faceInfo[0]],f=m[l.faceInfo[1]];u.contain(c.array[h])&&A.contain(c.array[f])&&(e=c)}}}if(e){var d=r.pointToData(e.array,[],!0);this._updateAxisPointer(d),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(t,e){t.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;e.dispatchAction({type:"grid3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:t.id})},_updateFaceVisibility:function(){var t=this._control.getCamera(),e=new a["a"].Vector3;t.update();for(var n=0;n<this._faces.length/2;n++){for(var r=[],i=0;i<2;i++){var o=this._faces[2*n+i];o.rootNode.getWorldPosition(e),e.transformMat4(t.viewMatrix),r[i]=e.z}var s=r[0]>r[1]?0:1,l=this._faces[2*n+s],c=this._faces[2*n+1-s];l.rootNode.invisible=!0,c.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var t=this._model.coordinateSystem,e=t.getAxis("x"),n=t.getAxis("y"),r=t.getAxis("z"),i=r.getExtentMax(),a=r.getExtentMin(),o=e.getExtentMin(),s=e.getExtentMax(),l=n.getExtentMax(),c=n.getExtentMin(),u=this._axes[0].rootNode,A=this._axes[1].rootNode,h=this._axes[2].rootNode,f=this._faces,d=f[4].rootNode.invisible?c:l,p=f[2].rootNode.invisible?i:a,m=f[0].rootNode.invisible?o:s,g=f[2].rootNode.invisible?i:a,v=f[0].rootNode.invisible?s:o,_=f[4].rootNode.invisible?c:l;u.rotation.identity(),A.rotation.identity(),h.rotation.identity(),f[4].rootNode.invisible&&(this._axes[0].flipped=!0,u.rotation.rotateX(Math.PI)),f[0].rootNode.invisible&&(this._axes[1].flipped=!0,A.rotation.rotateZ(Math.PI)),f[4].rootNode.invisible&&(this._axes[2].flipped=!0,h.rotation.rotateY(Math.PI)),u.position.set(0,p,d),A.position.set(m,g,0),h.position.set(v,0,_),u.update(),A.update(),h.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var t=this._control.getCamera(),e=[new a["a"].Vector4,new a["a"].Vector4],n=new a["a"].Vector4;this.groupGL.getWorldPosition(n),n.w=1,n.transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),n.x/=n.w,n.y/=n.w,this._axes.forEach((function(r){for(var i=r.axisLineCoords,a=(r.labelsMesh.geometry,0);a<e.length;a++)e[a].setArray(i[a]),e[a].w=1,e[a].transformMat4(r.rootNode.worldTransform).transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),e[a].x/=e[a].w,e[a].y/=e[a].w;var o,s,l=e[1].x-e[0].x,c=e[1].y-e[0].y,u=(e[1].x+e[0].x)/2,A=(e[1].y+e[0].y)/2;Math.abs(c/l)<.5?(o="center",s=A>n.y?"bottom":"top"):(s="middle",o=u>n.x?"left":"right"),r.setSpriteAlign(o,s,this._api)}),this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(t){var e=this._model.coordinateSystem,n=e.dataToPoint(t),r=this._axisPointerLineMesh,i=r.geometry,o=this._model.getModel("axisPointer"),s=this._api.getDevicePixelRatio();function c(t){return l["a"].firstNotNull(t.model.get("axisPointer.show"),o.get("show"))}function u(t){var e=t.model.getModel("axisPointer",o),n=e.getModel("lineStyle"),r=a["a"].parseColor(n.get("color")),i=p(n.get("width"),1),s=p(n.get("opacity"),1);return r[3]*=s,{color:r,lineWidth:i}}i.convertToDynamicArray(!0);for(var A=0;A<this._faces.length;A++){var h=this._faces[A];if(!h.rootNode.invisible){for(var f=h.faceInfo,d=f[3]<0?e.getAxis(f[2]).getExtentMin():e.getAxis(f[2]).getExtentMax(),g=m[f[2]],v=0;v<2;v++){var _=f[v],y=f[1-v],w=e.getAxis(_),x=e.getAxis(y);if(c(w)){var b=[0,0,0],C=[0,0,0],B=m[_],E=m[y];b[B]=C[B]=n[B],b[g]=C[g]=d,b[E]=x.getExtentMin(),C[E]=x.getExtentMax();var T=u(w);i.addLine(b,C,T.color,T.lineWidth*s)}}if(c(e.getAxis(f[2]))){b=n.slice(),C=n.slice();C[g]=d;T=u(e.getAxis(f[2]));i.addLine(b,C,T.color,T.lineWidth*s)}}}i.convertToTypedArray(),this._updateAxisPointerLabelsMesh(t),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(t){var e=this._model,n=this._axisPointerLabelsMesh,r=this._axisPointerLabelsSurface,a=e.coordinateSystem,o=e.getModel("axisPointer");n.geometry.convertToDynamicArray(!0),r.clear();var s={x:"y",y:"x",z:"y"};this._axes.forEach((function(e,l){var c=a.getAxis(e.dim),u=c.model,A=u.getModel("axisPointer",o),h=A.getModel("label"),f=A.get("lineStyle.color");if(h.get("show")&&A.get("show")){var d=t[l],p=h.get("formatter"),g=c.scale.getLabel(d);if(null!=p)g=p(g,t);else if("interval"===c.scale.type||"log"===c.scale.type){var v=i.a.number.getPrecisionSafe(c.scale.getTicks()[0]);g=d.toFixed(v+2)}var _=h.getModel("textStyle"),y=_.get("color"),w=new i.a.graphic.Text;i.a.graphic.setTextStyle(w.style,_,{text:g,textFill:y||f,textAlign:"left",textVerticalAlign:"top"});var x=r.add(w),b=w.getBoundingRect(),C=this._api.getDevicePixelRatio(),B=e.rootNode.position.toArray(),E=m[s[e.dim]];B[E]+=(e.flipped?-1:1)*h.get("margin"),B[m[e.dim]]=c.dataToCoord(t[l]),n.geometry.addSprite(B,[b.width*C,b.height*C],x,e.textAlign,e.textVerticalAlign)}}),this),r.getZr().refreshImmediately(),n.material.set("uvScale",r.getCoordsScale()),n.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(69),i=n(12),a=n(33),o=n(78),s=n(79),l=n(34),c=n(21),u=n(55);e["a"]={vec2:r["a"],vec3:i["a"],vec4:a["a"],mat2:o["a"],mat2d:s["a"],mat3:l["a"],mat4:c["a"],quat:u["a"]}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(25),l=n(162),c=o["a"].firstNotNull,u={x:0,y:2,z:1};function A(t,e,n,r){var i=[0,0,0],a=r<0?n.getExtentMin():n.getExtentMax();i[u[n.dim]]=a,t.position.setArray(i),t.rotation.identity(),e.distance=-Math.abs(a),e.normal.set(0,0,0),"x"===n.dim?(t.rotation.rotateY(r*Math.PI/2),e.normal.x=-r):"z"===n.dim?(t.rotation.rotateX(-r*Math.PI/2),e.normal.y=-r):(r>0&&t.rotation.rotateY(Math.PI),e.normal.z=-r)}function h(t,e,n){this.rootNode=new a["a"].Node;var r=new a["a"].Mesh({geometry:new s["a"]({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),i=new a["a"].Mesh({geometry:new l["a"],material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(i),this.rootNode.add(r),this.faceInfo=t,this.plane=new a["a"].Plane,this.linesMesh=r,this.quadsMesh=i}h.prototype.update=function(t,e,n){var r=t.coordinateSystem,i=[r.getAxis(this.faceInfo[0]),r.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,i,t,n),this._udpateSplitAreas(o,i,t,n),a.convertToTypedArray(),o.convertToTypedArray();var s=r.getAxis(this.faceInfo[2]);A(this.rootNode,this.plane,s,this.faceInfo[3])},h.prototype._updateSplitLines=function(t,e,n,r){var o=r.getDevicePixelRatio();e.forEach((function(r,s){var l=r.model,u=e[1-s].getExtent();if(!r.scale.isBlank()){var A=l.getModel("splitLine",n.getModel("splitLine"));if(A.get("show")){var h=A.getModel("lineStyle"),f=h.get("color"),d=c(h.get("opacity"),1),p=c(h.get("width"),1);f=i.a.util.isArray(f)?f:[f];for(var m=r.getTicksCoords({tickModel:A}),g=0,v=0;v<m.length;v++){var _=m[v].coord,y=a["a"].parseColor(f[g%f.length]);y[3]*=d;var w=[0,0,0],x=[0,0,0];w[s]=x[s]=_,w[1-s]=u[0],x[1-s]=u[1],t.addLine(w,x,y,p*o),g++}}}}))},h.prototype._udpateSplitAreas=function(t,e,n,r){e.forEach((function(r,o){var s=r.model,l=e[1-o].getExtent();if(!r.scale.isBlank()){var u=s.getModel("splitArea",n.getModel("splitArea"));if(u.get("show")){var A=u.getModel("areaStyle"),h=A.get("color"),f=c(A.get("opacity"),1);h=i.a.util.isArray(h)?h:[h];for(var d=r.getTicksCoords({tickModel:u,clamp:!0}),p=0,m=[0,0,0],g=[0,0,0],v=0;v<d.length;v++){var _=d[v].coord,y=[0,0,0],w=[0,0,0];if(y[o]=w[o]=_,y[1-o]=l[0],w[1-o]=l[1],0!==v){var x=a["a"].parseColor(h[p%h.length]);x[3]*=f,t.addQuad([m,y,w,g],x),m=y,g=w,p++}else m=y,g=w}}}}))},e["a"]=h},function(t,e,n){"use strict";var r=n(14),i=n(0),a=n.n(i),o=n(39),s=n(6),l=s["a"].vec3,c=r["a"].extend((function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new r["a"].Attribute("position","float",3,"POSITION"),normal:new r["a"].Attribute("normal","float",3,"NORMAL"),color:new r["a"].Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(t){var e=this.attributes,n=this.getQuadVertexCount()*t,r=this.getQuadTriangleCount()*t;this.vertexCount!==n&&(e.position.init(n),e.normal.init(n),e.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var t=l.create(),e=l.create(),n=l.create(),r=[0,3,1,3,2,1];return function(i,a){var o=this.attributes.position,s=this.attributes.normal,c=this.attributes.color;l.sub(t,i[1],i[0]),l.sub(e,i[2],i[1]),l.cross(n,t,e),l.normalize(n,n);for(var u=0;u<4;u++)o.set(this._vertexOffset+u,i[u]),c.set(this._vertexOffset+u,a),s.set(this._vertexOffset+u,n);var A=3*this._faceOffset;for(u=0;u<6;u++)this.indices[A+u]=r[u]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});a.a.util.defaults(c.prototype,o["a"]),e["a"]=c},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(25),s=n(2),l=n(62),c=s["a"].firstNotNull,u={x:0,y:2,z:1};function A(t,e){var n=new a["a"].Mesh({geometry:new o["a"]({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,renderOrder:2}),r=new l["a"];r.material.depthMask=!1;var i=new a["a"].Node;i.add(n),i.add(r),this.rootNode=i,this.dim=t,this.linesMesh=n,this.labelsMesh=r,this.axisLineCoords=null,this.labelElements=[]}var h={x:"y",y:"x",z:"y"};A.prototype.update=function(t,e,n){var r=t.coordinateSystem,o=r.getAxis(this.dim),s=this.linesMesh.geometry,l=this.labelsMesh.geometry;s.convertToDynamicArray(!0),l.convertToDynamicArray(!0);var A=o.model,f=o.getExtent(),d=n.getDevicePixelRatio(),p=A.getModel("axisLine",t.getModel("axisLine")),m=A.getModel("axisTick",t.getModel("axisTick")),g=A.getModel("axisLabel",t.getModel("axisLabel")),v=p.get("lineStyle.color");if(p.get("show")){var _=p.getModel("lineStyle"),y=[0,0,0],w=[0,0,0],x=u[o.dim];y[x]=f[0],w[x]=f[1],this.axisLineCoords=[y,w];var b=a["a"].parseColor(v),C=c(_.get("width"),1),B=c(_.get("opacity"),1);b[3]*=B,s.addLine(y,w,b,C*d)}if(m.get("show")){var E=m.getModel("lineStyle"),T=a["a"].parseColor(c(E.get("color"),v));C=c(E.get("width"),1);T[3]*=c(E.get("opacity"),1);for(var S=o.getTicksCoords(),M=m.get("length"),N=0;N<S.length;N++){var D=S[N].coord,O=(y=[0,0,0],w=[0,0,0],x=u[o.dim],u[h[o.dim]]);y[x]=w[x]=D,w[O]=M,s.addLine(y,w,T,C*d)}}this.labelElements=[];d=n.getDevicePixelRatio();if(g.get("show")){S=o.getTicksCoords();var U=A.get("data"),I=g.get("margin"),L=o.getViewLabels();for(N=0;N<L.length;N++){var F=L[N].tickValue,R=L[N].formattedLabel,P=L[N].rawLabel,Q=(D=o.dataToCoord(F),[0,0,0]);x=u[o.dim],O=u[h[o.dim]];Q[x]=Q[x]=D,Q[O]=I;var H=g;U&&U[F]&&U[F].textStyle&&(H=new i.a.Model(U[F].textStyle,g,A.ecModel));var k=c(H.get("color"),v),z=new i.a.graphic.Text;i.a.graphic.setTextStyle(z.style,H,{text:R,textFill:"function"===typeof k?k("category"===o.type?P:"value"===o.type?F+"":F,N):k,textVerticalAlign:"top",textAlign:"left"});var V=e.add(z),G=z.getBoundingRect();l.addSprite(Q,[G.width*d,G.height*d],V),this.labelElements.push(z)}}if(A.get("name")){var K=A.getModel("nameTextStyle"),j=(Q=[0,0,0],x=u[o.dim],O=u[h[o.dim]],c(K.get("color"),v)),X=K.get("borderColor");C=K.get("borderWidth");Q[x]=Q[x]=(f[0]+f[1])/2,Q[O]=A.get("nameGap");z=new i.a.graphic.Text;i.a.graphic.setTextStyle(z.style,K,{text:A.get("name"),textFill:j,textStroke:X,lineWidth:C});V=e.add(z),G=z.getBoundingRect();l.addSprite(Q,[G.width*d,G.height*d],V),z.__idx=this.labelElements.length,this.nameLabelElement=z}this.labelsMesh.material.set("textureAtlas",e.getTexture()),this.labelsMesh.material.set("uvScale",e.getCoordsScale()),s.convertToTypedArray(),l.convertToTypedArray()},A.prototype.setSpriteAlign=function(t,e,n){for(var r=n.getDevicePixelRatio(),i=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a],s=o.getBoundingRect();i.setSpriteAlign(a,[s.width*r,s.height*r],t,e)}var l=this.nameLabelElement;if(l){s=l.getBoundingRect();i.setSpriteAlign(l.__idx,[s.width*r,s.height*r],t,e),i.dirty()}this.textAlign=t,this.textVerticalAlign=e},e["a"]=A},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(14),o=n(39),s=[0,1,2,0,2,3],l=a["a"].extend((function(){return{attributes:{position:new a["a"].Attribute("position","float",3,"POSITION"),texcoord:new a["a"].Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new a["a"].Attribute("offset","float",2),color:new a["a"].Attribute("color","float",4,"COLOR")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(t){this._spriteCount=t;var e=4*t,n=2*t;this.vertexCount!==e&&(this.attributes.position.init(e),this.attributes.offset.init(e),this.attributes.color.init(e)),this.triangleCount!==n&&(this.indices=e>65535?new Uint32Array(3*n):new Uint16Array(3*n))},setSpriteAlign:function(t,e,n,r,i){var a,o,s,l;switch(null==n&&(n="left"),null==r&&(r="top"),i=i||0,n){case"left":a=i,s=e[0]+i;break;case"center":case"middle":a=-e[0]/2,s=e[0]/2;break;case"right":a=-e[0]-i,s=-i;break}switch(r){case"bottom":o=i,l=e[1]+i;break;case"middle":o=-e[1]/2,l=e[1]/2;break;case"top":o=-e[1]-i,l=-i;break}var c=4*t,u=this.attributes.offset;u.set(c,[a,l]),u.set(c+1,[s,l]),u.set(c+2,[s,o]),u.set(c+3,[a,o])},addSprite:function(t,e,n,r,i,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,t,e,n,r,i,a);for(var l=0;l<s.length;l++)this.indices[3*this._faceOffset+l]=s[l]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(t,e,n,r,i,a,o){for(var s=4*t,l=this.attributes,c=0;c<4;c++)l.position.set(s+c,e);var u=l.texcoord;u.set(s,[r[0][0],r[0][1]]),u.set(s+1,[r[1][0],r[0][1]]),u.set(s+2,[r[1][0],r[1][1]]),u.set(s+3,[r[0][0],r[1][1]]),this.setSpriteAlign(t,n,i,a,o)}});i.a.util.defaults(l.prototype,o["a"]),e["a"]=l},function(t,e,n){"use strict";e["a"]="@export ecgl.labels.vertex\n\nattribute vec3 position: POSITION;\nattribute vec2 texcoord: TEXCOORD_0;\nattribute vec2 offset;\n#ifdef VERTEX_COLOR\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n vec4 proj = worldViewProjection * vec4(position, 1.0);\n\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\n\n screen += offset;\n\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\n gl_Position = proj;\n#ifdef VERTEX_COLOR\n v_Color = a_Color;\n#endif\n v_Texcoord = texcoord;\n}\n@end\n\n\n@export ecgl.labels.fragment\n\nuniform vec3 color : [1.0, 1.0, 1.0];\nuniform float alpha : 1.0;\nuniform sampler2D textureAtlas;\nuniform vec2 uvScale: [1.0, 1.0];\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\nvarying float v_Miter;\n\nvarying vec2 v_Texcoord;\n\nvoid main()\n{\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n#endif\n}\n\n@end"},function(t,e,n){"use strict";var r=n(167),i=n(169),a=n(0),o=n.n(a),s=n(47),l=n.n(s),c=n(22),u=n(2);function A(t,e){var n=t.getBoxLayoutParams(),r=l.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio());var i=t.get("boxWidth"),a=t.get("boxHeight"),o=t.get("boxDepth");["x","y","z"].forEach((function(e){if(!this.getAxis(e))throw new Error("Grid"+t.id+" don't have "+e+"Axis")}),this),this.getAxis("x").setExtent(-i/2,i/2),this.getAxis("y").setExtent(o/2,-o/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[i,a,o]}function h(t,e){var n={};function r(t,e){n[t]=n[t]||[1/0,-1/0],n[t][0]=Math.min(e[0],n[t][0]),n[t][1]=Math.max(e[1],n[t][1])}t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();["x","y","z"].forEach((function(t){e.mapDimension(t,!0).forEach((function(n){r(t,e.getDataExtent(n,!0))}))}))}}),this),["xAxis3D","yAxis3D","zAxis3D"].forEach((function(e){t.eachComponent(e,(function(t){var r=e.charAt(0),a=t.getReferringComponents("grid3D")[0],s=a.coordinateSystem;if(s===this){var l=s.getAxis(r);if(l)console.warn("Can't have two %s in one grid3D",e);else{var c=o.a.helper.createScale(n[r]||[1/0,-1/0],t);l=new i["a"](r,c),l.type=t.get("type");var u="category"===l.type;l.onBand=u&&t.get("boundaryGap"),l.inverse=t.get("inverse"),t.axis=l,l.model=t,l.getLabelModel=function(){return t.getModel("axisLabel",a.getModel("axisLabel"))},l.getTickModel=function(){return t.getModel("axisTick",a.getModel("axisTick"))},s.addAxis(l)}}}),this)}),this),this.resize(this.model,e)}var f={dimensions:r["a"].prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("grid3D",(function(t){t.__viewGL=t.__viewGL||new c["a"];var e=new r["a"];e.model=t,e.viewGL=t.__viewGL,t.coordinateSystem=e,n.push(e),e.resize=A,e.update=h}));var i=["xAxis3D","yAxis3D","zAxis3D"];function a(t,e){return i.map((function(n){var r=t.getReferringComponents(n)[0];if(null==r&&(r=e.getComponent(n)),!r)throw new Error(n+' "'+u["a"].firstNotNull(t.get(n+"Index"),t.get(n+"Id"),0)+'" not found');return r}))}return t.eachSeries((function(e){if("cartesian3D"===e.get("coordinateSystem")){var n=e.getReferringComponents("grid3D")[0];if(null==n){var r=a(e,t);n=r[0].getCoordSysModel();r.forEach((function(t){var e=t.getCoordSysModel();if(!e)throw new Error('grid3D "'+u["a"].firstNotNull(t.get("gridIndex"),t.get("gridId"),0)+'" not found');if(e!==n)throw new Error("xAxis3D, yAxis3D, zAxis3D must use the same grid")}))}var i=n.coordinateSystem;e.coordinateSystem=i}})),n}};o.a.registerCoordinateSystem("grid3D",f)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(168),o=n.n(a);function s(t){o.a.call(this,t),this.size=[0,0,0]}s.prototype={constructor:s,type:"cartesian3D",dimensions:["x","y","z"],model:null,containPoint:function(t){return this.getAxis("x").contain(t[0])&&this.getAxis("y").contain(t[2])&&this.getAxis("z").contain(t[1])},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])&&this.getAxis("z").containData(t[2])},dataToPoint:function(t,e,n){return e=e||[],e[0]=this.getAxis("x").dataToCoord(t[0],n),e[2]=this.getAxis("y").dataToCoord(t[1],n),e[1]=this.getAxis("z").dataToCoord(t[2],n),e},pointToData:function(t,e,n){return e=e||[],e[0]=this.getAxis("x").coordToData(t[0],n),e[1]=this.getAxis("y").coordToData(t[2],n),e[2]=this.getAxis("z").coordToData(t[1],n),e}},i.a.util.inherits(s,o.a),e["a"]=s},function(t,e,n){var r=n(16);function i(t){return this._axes[t]}var a=function(t){this._axes={},this._dimList=[],this.name=t||""};a.prototype={constructor:a,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return r.map(this._dimList,i,this)},getAxesByScale:function(t){return t=t.toLowerCase(),r.filter(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,r=t instanceof Array?[]:{},i=0;i<n.length;i++){var a=n[i],o=this._axes[a];r[a]=o[e](t[a])}return r}};var o=a;t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function a(t,e,n){i.a.Axis.call(this,t,e,n)}a.prototype={constructor:a,getExtentMin:function(){var t=this._extent;return Math.min(t[0],t[1])},getExtentMax:function(){var t=this._extent;return Math.max(t[0],t[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},i.a.util.inherits(a,i.a.Axis),e["a"]=a},function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function r(t,e){var r=new n(2);return null==t&&(t=0),null==e&&(e=0),r[0]=t,r[1]=e,r}function i(t,e){return t[0]=e[0],t[1]=e[1],t}function a(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e,n){return t[0]=e,t[1]=n,t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function l(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function u(t){return Math.sqrt(h(t))}var A=u;function h(t){return t[0]*t[0]+t[1]*t[1]}var f=h;function d(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function p(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function m(t,e){return t[0]*e[0]+t[1]*e[1]}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function v(t,e){var n=u(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function _(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var y=_;function w(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var x=w;function b(t,e){return t[0]=-e[0],t[1]=-e[1],t}function C(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function B(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function E(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function T(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}e.create=r,e.copy=i,e.clone=a,e.set=o,e.add=s,e.scaleAndAdd=l,e.sub=c,e.len=u,e.length=A,e.lenSquare=h,e.lengthSquare=f,e.mul=d,e.div=p,e.dot=m,e.scale=g,e.normalize=v,e.distance=_,e.dist=y,e.distanceSquare=w,e.distSquare=x,e.negate=b,e.lerp=C,e.applyTransform=B,e.min=E,e.max=T},function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function r(){var t=new n(6);return i(t),t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t}function s(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function l(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],s=e[3],l=e[5],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*c,t[1]=-r*c+o*u,t[2]=i*u+s*c,t[3]=-i*c+u*s,t[4]=u*a+c*l,t[5]=u*l-c*a,t}function c(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function u(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],l=n*o-a*r;return l?(l=1/l,t[0]=o*l,t[1]=-a*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-o*i)*l,t[5]=(a*i-n*s)*l,t):null}function A(t){var e=r();return a(e,t),e}e.create=r,e.identity=i,e.copy=a,e.mul=o,e.translate=s,e.rotate=l,e.scale=c,e.invert=u,e.clone=A},function(t,e,n){var r=n(16),i=n(173),a=n(84);function o(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function s(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var l=r.normalizeCssArray,c=/([&<>"'])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function A(t){return null==t?"":(t+"").replace(c,(function(t,e){return u[e]}))}var h=["a","b","c","d","e","f","g"],f=function(t,e){return"{"+t+(null==e?"":e)+"}"};function d(t,e,n){r.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var a=e[0].$vars||[],o=0;o<a.length;o++){var s=h[o];t=t.replace(f(s),f(s,0))}for(var l=0;l<i;l++)for(var c=0;c<a.length;c++){var u=e[l][a[c]];t=t.replace(f(h[c],l),n?A(u):u)}return t}function p(t,e,n){return r.each(e,(function(e,r){t=t.replace("{"+r+"}",n?A(e):e)})),t}function m(t,e){t=r.isString(t)?{color:t,extraCssText:e}:t||{};var n=t.color,i=t.type,a=(e=t.extraCssText,t.renderMode||"html"),o=t.markerId||"X";return n?"html"===a?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+A(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+A(n)+";"+(e||"")+'"></span>':{renderMode:a,content:"{marker"+o+"|}  ",style:{color:n}}:""}function g(t,e){return t+="","0000".substr(0,e-t.length)+t}function v(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=a.parseDate(e),i=n?"UTC":"",o=r["get"+i+"FullYear"](),s=r["get"+i+"Month"]()+1,l=r["get"+i+"Date"](),c=r["get"+i+"Hours"](),u=r["get"+i+"Minutes"](),A=r["get"+i+"Seconds"](),h=r["get"+i+"Milliseconds"]();return t=t.replace("MM",g(s,2)).replace("M",s).replace("yyyy",o).replace("yy",o%100).replace("dd",g(l,2)).replace("d",l).replace("hh",g(c,2)).replace("h",c).replace("mm",g(u,2)).replace("m",u).replace("ss",g(A,2)).replace("s",A).replace("SSS",g(h,3)),t}function _(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}var y=i.truncateText;function w(t){return i.getBoundingRect(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)}function x(t,e,n,r,a,o,s,l){return i.getBoundingRect(t,e,n,r,a,l,o,s)}e.addCommas=o,e.toCamelCase=s,e.normalizeCssArray=l,e.encodeHTML=A,e.formatTpl=d,e.formatTplSimple=p,e.getTooltipMarker=m,e.formatTime=v,e.capitalFirst=_,e.truncateText=y,e.getTextBoundingRect=w,e.getTextRect=x},function(t,e,n){var r=n(83),i=n(174),a=n(16),o=a.getContext,s=a.extend,l=a.retrieve2,c=a.retrieve3,u=a.trim,A={},h=0,f=5e3,d=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,p="12px sans-serif",m={};function g(t,e){m[t]=e}function v(t,e){e=e||p;var n=t+":"+e;if(A[n])return A[n];for(var r=(t+"").split("\n"),i=0,a=0,o=r.length;a<o;a++)i=Math.max(D(r[a],e).width,i);return h>f&&(h=0,A={}),h++,A[n]=i,i}function _(t,e,n,r,i,a,o,s){return o?w(t,e,n,r,i,a,o,s):y(t,e,n,r,i,a,s)}function y(t,e,n,i,a,o,s){var l=O(t,e,a,o,s),c=v(t,e);a&&(c+=a[1]+a[3]);var u=l.outerHeight,A=x(0,c,n),h=b(0,u,i),f=new r(A,h,c,u);return f.lineHeight=l.lineHeight,f}function w(t,e,n,i,a,o,s,l){var c=U(t,{rich:s,truncate:l,font:e,textAlign:n,textPadding:a,textLineHeight:o}),u=c.outerWidth,A=c.outerHeight,h=x(0,u,n),f=b(0,A,i);return new r(h,f,u,A)}function x(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function b(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function C(t,e,n){var r=e.textPosition,i=e.textDistance,a=n.x,o=n.y,s=n.height,l=n.width,c=s/2,u="left",A="top";switch(r){case"left":a-=i,o+=c,u="right",A="middle";break;case"right":a+=i+l,o+=c,A="middle";break;case"top":a+=l/2,o-=i,u="center",A="bottom";break;case"bottom":a+=l/2,o+=s+i,u="center";break;case"inside":a+=l/2,o+=c,u="center",A="middle";break;case"insideLeft":a+=i,o+=c,A="middle";break;case"insideRight":a+=l-i,o+=c,u="right",A="middle";break;case"insideTop":a+=l/2,o+=i,u="center";break;case"insideBottom":a+=l/2,o+=s-i,u="center",A="bottom";break;case"insideTopLeft":a+=i,o+=i;break;case"insideTopRight":a+=l-i,o+=i,u="right";break;case"insideBottomLeft":a+=i,o+=s-i,A="bottom";break;case"insideBottomRight":a+=l-i,o+=s-i,u="right",A="bottom";break}return t=t||{},t.x=a,t.y=o,t.textAlign=u,t.textVerticalAlign=A,t}function B(t,e,n){var r={textPosition:t,textDistance:n};return C({},r,e)}function E(t,e,n,r,i){if(!e)return"";var a=(t+"").split("\n");i=T(e,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=S(a[o],i);return a.join("\n")}function T(t,e,n,r){r=s({},r),r.font=e;n=l(n,"...");r.maxIterations=l(r.maxIterations,2);var i=r.minChar=l(r.minChar,0);r.cnCharWidth=v("国",e);var a=r.ascCharWidth=v("a",e);r.placeholder=l(r.placeholder,"");for(var o=t=Math.max(0,t-1),c=0;c<i&&o>=a;c++)o-=a;var u=v(n,e);return u>o&&(n="",u=0),o=t-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=o,r.containerWidth=t,r}function S(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=v(t,r);if(a<=n)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?M(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,s),a=v(t,r)}return""===t&&(t=e.placeholder),t}function M(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function N(t){return v("国",t)}function D(t,e){return m.measureText(t,e)}function O(t,e,n,r,i){null!=t&&(t+="");var a=l(r,N(e)),o=t?t.split("\n"):[],s=o.length*a,c=s;if(n&&(c+=n[0]+n[2]),t&&i){var u=i.outerHeight,A=i.outerWidth;if(null!=u&&c>u)t="",o=[];else if(null!=A)for(var h=T(A-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,d=o.length;f<d;f++)o[f]=S(o[f],h)}return{lines:o,height:s,outerHeight:c,lineHeight:a}}function U(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;var r,a=d.lastIndex=0;while(null!=(r=d.exec(t))){var o=r.index;o>a&&I(n,t.substring(a,o)),I(n,r[2],r[1]),a=d.lastIndex}a<t.length&&I(n,t.substring(a,t.length));var s=n.lines,u=0,A=0,h=[],f=e.textPadding,p=e.truncate,m=p&&p.outerWidth,g=p&&p.outerHeight;f&&(null!=m&&(m-=f[1]+f[3]),null!=g&&(g-=f[0]+f[2]));for(var _=0;_<s.length;_++){for(var y=s[_],w=0,x=0,b=0;b<y.tokens.length;b++){var C=y.tokens[b],B=C.styleName&&e.rich[C.styleName]||{},T=C.textPadding=B.textPadding,S=C.font=B.font||e.font,M=C.textHeight=l(B.textHeight,N(S));if(T&&(M+=T[0]+T[2]),C.height=M,C.lineHeight=c(B.textLineHeight,e.textLineHeight,M),C.textAlign=B&&B.textAlign||e.textAlign,C.textVerticalAlign=B&&B.textVerticalAlign||"middle",null!=g&&u+C.lineHeight>g)return{lines:[],width:0,height:0};C.textWidth=v(C.text,S);var D=B.textWidth,O=null==D||"auto"===D;if("string"===typeof D&&"%"===D.charAt(D.length-1))C.percentWidth=D,h.push(C),D=0;else{if(O){D=C.textWidth;var U=B.textBackgroundColor,L=U&&U.image;L&&(L=i.findExistImage(L),i.isImageReady(L)&&(D=Math.max(D,L.width*M/L.height)))}var F=T?T[1]+T[3]:0;D+=F;var R=null!=m?m-x:null;null!=R&&R<D&&(!O||R<F?(C.text="",C.textWidth=D=0):(C.text=E(C.text,R-F,S,p.ellipsis,{minChar:p.minChar}),C.textWidth=v(C.text,S),D=C.textWidth+F))}x+=C.width=D,B&&(w=Math.max(w,C.lineHeight))}y.width=x,y.lineHeight=w,u+=w,A=Math.max(A,x)}n.outerWidth=n.width=l(e.textWidth,A),n.outerHeight=n.height=l(e.textHeight,u),f&&(n.outerWidth+=f[1]+f[3],n.outerHeight+=f[0]+f[2]);for(_=0;_<h.length;_++){C=h[_];var P=C.percentWidth;C.width=parseInt(P,10)/100*A}return n}function I(t,e,n){for(var r=""===e,i=e.split("\n"),a=t.lines,o=0;o<i.length;o++){var s=i[o],l={styleName:n,text:s,isLineHolder:!s&&!r};if(o)a.push({tokens:[l]});else{var c=(a[a.length-1]||(a[0]={tokens:[]})).tokens,u=c.length;1===u&&c[0].isLineHolder?c[0]=l:(s||!u||r)&&c.push(l)}}}function L(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&u(e)||t.textFont||t.font}m.measureText=function(t,e){var n=o();return n.font=e||p,n.measureText(t)},e.DEFAULT_FONT=p,e.$override=g,e.getWidth=v,e.getBoundingRect=_,e.adjustTextX=x,e.adjustTextY=b,e.calculateTextPosition=C,e.adjustTextPositionOnRect=B,e.truncateText=E,e.getLineHeight=N,e.measureText=D,e.parsePlainText=O,e.parseRichText=U,e.makeFont=L},function(t,e,n){var r=n(175),i=new r(50);function a(t){if("string"===typeof t){var e=i.get(t);return e&&e.image}return t}function o(t,e,n,r,a){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=i.get(t),c={hostEl:n,cb:r,cbPayload:a};return o?(e=o.image,!l(e)&&o.pending.push(c)):(e=new Image,e.onload=e.onerror=s,i.put(t,e.__cachedImgObj={image:e,pending:[c]}),e.src=e.__zrImageSrc=t),e}return t}return e}function s(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function l(t){return t&&t.width&&t.height}e.findExistImage=a,e.createOrUpdateImage=o,e.isImageReady=l},function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(t){var e=new i(t);return this.insertEntry(e),e},r.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(t){this.value=t,this.next,this.prev},a=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(t,e){var n=this._list,r=this._map,a=null;if(null==r[t]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new i(e),s.key=t,n.insertEntry(s),r[t]=s}return a},o.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}};var s=a;t.exports=s},function(t,e,n){"use strict";var r=n(8),i=n(11),a=n(3),o=n(18),s=n(59),l=n(7),c=n(52),u=n(9),A=n(19),h=n(10),f=n(4),d=n(5),p=n(27),m=n(37),g=n(38),v=n(15),_=n(85),y=n(21),w=n(177),x=["px","nx","py","ny","pz","nz"];function b(t,e,n){if("alphaMap"===n)return t.material.get("diffuseMap");if("alphaCutoff"===n){if(t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")){var r=t.material.get("alphaCutoff");return r||0}return 0}return"uvRepeat"===n?t.material.get("uvRepeat"):"uvOffset"===n?t.material.get("uvOffset"):e.get(n)}function C(t,e){var n=t.material,r=e.material;return n.get("diffuseMap")!==r.get("diffuseMap")||(n.get("alphaCutoff")||0)!==(r.get("alphaCutoff")||0)}u["a"]["import"](w["a"]);var B=r["a"].extend((function(){return{softShadow:B.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new h["a"],_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new _["a"]}}),(function(){this._gaussianPassH=new v["a"]({fragment:u["a"].source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new v["a"]({fragment:u["a"].source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new v["a"]({fragment:u["a"].source("clay.sm.debug_depth")})}),{render:function(t,e,n,r){n||(n=e.getMainCamera()),this.trigger("beforerender",this,t,e,n),this._renderShadowPass(t,e,n,r),this.trigger("afterrender",this,t,e,n)},renderDebug:function(t,e){t.saveClear();var n=t.viewport,r=0,i=0,a=e||n.width/4,o=a;for(var s in this.softShadow===B.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM"),this._textures){var l=this._textures[s];t.setViewport(r,i,a*l.width/l.height,o),this._outputDepthPass.setUniform("depthMap",l),this._outputDepthPass.render(t),r+=a*l.width/l.height}t.setViewport(n),t.restoreClear()},_updateReceivers:function(t,e){if(e.receiveShadow?(this._receivers.push(e),e.material.set("shadowEnabled",1),e.material.set("pcfKernel",this.kernelPCF)):e.material.set("shadowEnabled",0),this.softShadow===B.VSM)e.material.define("fragment","USE_VSM"),e.material.undefine("fragment","PCF_KERNEL_SIZE");else{e.material.undefine("fragment","USE_VSM");var n=this.kernelPCF;n&&n.length?e.material.define("fragment","PCF_KERNEL_SIZE",n.length/2):e.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(t,e){var n=this;e.traverse((function(e){e.isRenderable()&&n._updateReceivers(t,e)}));for(var r=0;r<e.lights.length;r++){var i=e.lights[r];i.castShadow&&!i.invisible&&this._lightsCastShadow.push(i)}},_renderShadowPass:function(t,e,n,r){for(var i in this._shadowMapNumber)this._shadowMapNumber[i]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=t.gl;if(r||e.update(),n&&n.update(),e.updateLights(),this._update(t,e),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var o,s=[],l=[],c=[],u=[],A=[],h=[],f=0;f<this._lightsCastShadow.length;f++){var d=this._lightsCastShadow[f];if("DIRECTIONAL_LIGHT"===d.type){if(o){console.warn("Only one direectional light supported with shadow cascade");continue}if(d.shadowCascade>4){console.warn("Support at most 4 cascade");continue}d.shadowCascade>1&&(o=d),this.renderDirectionalLightShadow(t,e,n,d,A,u,c)}else"SPOT_LIGHT"===d.type?this.renderSpotLightShadow(t,e,d,l,s):"POINT_LIGHT"===d.type&&this.renderPointLightShadow(t,e,d,h);this._shadowMapNumber[d.type]++}for(var p in this._shadowMapNumber){var m=this._shadowMapNumber[p],g=p+"_SHADOWMAP_COUNT";for(f=0;f<this._receivers.length;f++){var v=this._receivers[f],_=v.material;_.fragmentDefines[g]!==m&&(m>0?_.define("fragment",g,m):_.isDefined("fragment",g)&&_.undefine("fragment",g))}}for(f=0;f<this._receivers.length;f++){v=this._receivers[f],_=v.material;o?_.define("fragment","SHADOW_CASCADE",o.shadowCascade):_.undefine("fragment","SHADOW_CASCADE")}var y=e.shadowUniforms;if(c.length>0){var w=c.map(B);if(y.directionalLightShadowMaps={value:c,type:"tv"},y.directionalLightMatrices={value:u,type:"m4v"},y.directionalLightShadowMapSizes={value:w,type:"1fv"},o){var x=A.slice(),b=A.slice();x.pop(),b.shift(),x.reverse(),b.reverse(),u.reverse(),y.shadowCascadeClipsNear={value:x,type:"1fv"},y.shadowCascadeClipsFar={value:b,type:"1fv"}}}if(s.length>0){var C=s.map(B);y=e.shadowUniforms;y.spotLightShadowMaps={value:s,type:"tv"},y.spotLightMatrices={value:l,type:"m4v"},y.spotLightShadowMapSizes={value:C,type:"1fv"}}h.length>0&&(y.pointLightShadowMaps={value:h,type:"tv"})}function B(t){return t.height}},renderDirectionalLightShadow:function(){var t=new s["a"],e=new l["a"],n=new o["a"],r=new l["a"],i=new l["a"],a=new l["a"],u=new l["a"];return function(o,s,A,h,f,d,p){var g=this._getDepthMaterial(h),v={getMaterial:function(t){return t.shadowDepthMaterial||g},isMaterialChanged:C,getUniform:b,ifRender:function(t){return t.castShadow},sortCompare:c["a"].opaqueSortCompare};if(!s.viewBoundingBoxLastFrame.isFinite()){var _=s.getBoundingBox();s.viewBoundingBoxLastFrame.copy(_).applyTransform(A.viewMatrix)}var w=Math.min(-s.viewBoundingBoxLastFrame.min.z,A.far),x=Math.max(-s.viewBoundingBoxLastFrame.max.z,A.near),E=this._getDirectionalLightCamera(h,s,A),T=a.array;u.copy(E.projectionMatrix),y["a"].invert(i.array,E.worldTransform.array),y["a"].multiply(i.array,i.array,A.worldTransform.array),y["a"].multiply(T,u.array,i.array);for(var S=[],M=A instanceof m["a"],N=(A.near+A.far)/(A.near-A.far),D=2*A.near*A.far/(A.near-A.far),O=0;O<=h.shadowCascade;O++){var U=x*Math.pow(w/x,O/h.shadowCascade),I=x+(w-x)*O/h.shadowCascade,L=U*h.cascadeSplitLogFactor+I*(1-h.cascadeSplitLogFactor);S.push(L),f.push(-(-L*N+D)/-L)}var F=this._getTexture(h,h.shadowCascade);p.push(F);var R=o.viewport,P=o.gl;this._frameBuffer.attach(F),this._frameBuffer.bind(o),P.clear(P.COLOR_BUFFER_BIT|P.DEPTH_BUFFER_BIT);for(O=0;O<h.shadowCascade;O++){var Q=S[O],H=S[O+1];M?y["a"].perspective(e.array,A.fov/180*Math.PI,A.aspect,Q,H):y["a"].ortho(e.array,A.left,A.right,A.bottom,A.top,Q,H),t.setFromProjection(e),t.getTransformedBoundingBox(n,i),n.applyProjection(u);var k=n.min.array,z=n.max.array;k[0]=Math.max(k[0],-1),k[1]=Math.max(k[1],-1),z[0]=Math.min(z[0],1),z[1]=Math.min(z[1],1),r.ortho(k[0],z[0],k[1],z[1],1,-1),E.projectionMatrix.multiplyLeft(r);var V=h.shadowResolution||512;o.setViewport((h.shadowCascade-O-1)*V,0,V,V,1);var G=s.updateRenderList(E);o.renderPass(G.opaque,E,v),this.softShadow===B.VSM&&this._gaussianFilter(o,F,F.width);var K=new l["a"];K.copy(E.viewMatrix).multiplyLeft(E.projectionMatrix),d.push(K.array),E.projectionMatrix.copy(u)}this._frameBuffer.unbind(o),o.setViewport(R)}}(),renderSpotLightShadow:function(t,e,n,r,i){var a=this._getTexture(n),o=this._getSpotLightCamera(n),s=t.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(t),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var u=this._getDepthMaterial(n),A={getMaterial:function(t){return t.shadowDepthMaterial||u},isMaterialChanged:C,getUniform:b,ifRender:function(t){return t.castShadow},sortCompare:c["a"].opaqueSortCompare},h=e.updateRenderList(o);t.renderPass(h.opaque,o,A),this._frameBuffer.unbind(t),this.softShadow===B.VSM&&this._gaussianFilter(t,a,a.width);var f=new l["a"];f.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),i.push(a),r.push(f.array)},renderPointLightShadow:function(t,e,n,r){var i=this._getTexture(n),s=t.gl;r.push(i);var l=this._getDepthMaterial(n),u={getMaterial:function(t){return t.shadowDepthMaterial||l},getUniform:b,sortCompare:c["a"].opaqueSortCompare},A={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},h=new o["a"],f=n.getWorldPosition().array,d=new o["a"],p=n.range;d.min.setArray(f),d.max.setArray(f);var m=new a["a"](p,p,p);d.max.add(m),d.min.sub(m);var g={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};e.traverse((function(t){if(t.isRenderable()&&t.castShadow){var e=t.geometry;if(!e.boundingBox){for(var n=0;n<x.length;n++)A[x[n]].push(t);return}if(h.transformFrom(e.boundingBox,t.worldTransform),!h.intersectBoundingBox(d))return;h.updateVertices();for(n=0;n<x.length;n++)g[x[n]]=!1;for(n=0;n<8;n++){var r=h.vertices[n],i=r[0]-f[0],a=r[1]-f[1],o=r[2]-f[2],s=Math.abs(i),l=Math.abs(a),c=Math.abs(o);s>l?s>c?g[i>0?"px":"nx"]=!0:g[o>0?"pz":"nz"]=!0:l>c?g[a>0?"py":"ny"]=!0:g[o>0?"pz":"nz"]=!0}for(n=0;n<x.length;n++)g[x[n]]&&A[x[n]].push(t)}}));for(var v=0;v<6;v++){var _=x[v],y=this._getPointLightCamera(n,_);this._frameBuffer.attach(i,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+v),this._frameBuffer.bind(t),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),t.renderPass(A[_],y,u)}this._frameBuffer.unbind(t)},_getDepthMaterial:function(t){var e=this._lightMaterials[t.__uid__],n="POINT_LIGHT"===t.type;if(!e){var r=n?"clay.sm.distance.":"clay.sm.depth.";e=new A["a"]({precision:this.precision,shader:new u["a"](u["a"].source(r+"vertex"),u["a"].source(r+"fragment"))}),this._lightMaterials[t.__uid__]=e}return null!=t.shadowSlopeScale&&e.setUniform("slopeScale",t.shadowSlopeScale),null!=t.shadowBias&&e.setUniform("bias",t.shadowBias),this.softShadow===B.VSM?e.define("fragment","USE_VSM"):e.undefine("fragment","USE_VSM"),n&&(e.set("lightPosition",t.getWorldPosition().array),e.set("range",t.range)),e},_gaussianFilter:function(t,e,n){var r={width:n,height:n,type:f["a"].FLOAT},i=this._texturePool.get(r);this._frameBuffer.attach(i),this._frameBuffer.bind(t),this._gaussianPassH.setUniform("texture",e),this._gaussianPassH.setUniform("textureWidth",n),this._gaussianPassH.render(t),this._frameBuffer.attach(e),this._gaussianPassV.setUniform("texture",i),this._gaussianPassV.setUniform("textureHeight",n),this._gaussianPassV.render(t),this._frameBuffer.unbind(t),this._texturePool.put(i)},_getTexture:function(t,e){var n=t.__uid__,r=this._textures[n],a=t.shadowResolution||512;return e=e||1,r||(r="POINT_LIGHT"===t.type?new p["a"]:new d["a"],r.width=a*e,r.height=a,this.softShadow===B.VSM?(r.type=f["a"].FLOAT,r.anisotropic=4):(r.minFilter=i["a"].NEAREST,r.magFilter=i["a"].NEAREST,r.useMipmap=!1),this._textures[n]=r),r},_getPointLightCamera:function(t,e){this._lightCameras.point||(this._lightCameras.point={px:new m["a"],nx:new m["a"],py:new m["a"],ny:new m["a"],pz:new m["a"],nz:new m["a"]});var n=this._lightCameras.point[e];switch(n.far=t.range,n.fov=90,n.position.set(0,0,0),e){case"px":n.lookAt(a["a"].POSITIVE_X,a["a"].NEGATIVE_Y);break;case"nx":n.lookAt(a["a"].NEGATIVE_X,a["a"].NEGATIVE_Y);break;case"py":n.lookAt(a["a"].POSITIVE_Y,a["a"].POSITIVE_Z);break;case"ny":n.lookAt(a["a"].NEGATIVE_Y,a["a"].NEGATIVE_Z);break;case"pz":n.lookAt(a["a"].POSITIVE_Z,a["a"].NEGATIVE_Y);break;case"nz":n.lookAt(a["a"].NEGATIVE_Z,a["a"].NEGATIVE_Y);break}return t.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:function(){var t=new l["a"],e=new o["a"],n=new o["a"];return function(r,i,a){this._lightCameras.directional||(this._lightCameras.directional=new g["a"]);var o=this._lightCameras.directional;e.copy(i.viewBoundingBoxLastFrame),e.intersection(a.frustum.boundingBox),o.position.copy(e.min).add(e.max).scale(.5).transformMat4(a.worldTransform),o.rotation.copy(r.rotation),o.scale.copy(r.scale),o.updateWorldTransform(),l["a"].invert(t,o.worldTransform),l["a"].multiply(t,t,a.worldTransform),n.copy(e).applyTransform(t);var s=n.min.array,c=n.max.array;return o.position.set((s[0]+c[0])/2,(s[1]+c[1])/2,c[2]).transformMat4(o.worldTransform),o.near=0,o.far=-s[2]+c[2],isNaN(this.lightFrustumBias)?o.far*=4:o.far+=this.lightFrustumBias,o.left=s[0],o.right=c[0],o.top=c[1],o.bottom=s[1],o.update(!0),o}}(),_getSpotLightCamera:function(t){this._lightCameras.spot||(this._lightCameras.spot=new m["a"]);var e=this._lightCameras.spot;return e.fov=2*t.penumbraAngle,e.far=t.range,e.worldTransform.copy(t.worldTransform),e.updateProjectionMatrix(),y["a"].invert(e.viewMatrix.array,e.worldTransform.array),e},dispose:function(t){var e=t.gl||t;for(var n in this._frameBuffer&&this._frameBuffer.dispose(e),this._textures)this._textures[n].dispose(e);this._texturePool.clear(t.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var r=0;r<this._receivers.length;r++){var i=this._receivers[r];if(i.material){var a=i.material;a.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),a.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),a.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),a.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});B.VSM=1,B.PCF=2,e["a"]=B},function(t,e,n){"use strict";e["a"]="@export clay.sm.depth.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nattribute vec3 position : POSITION;\nattribute vec2 texcoord : TEXCOORD_0;\nuniform vec2 uvRepeat = vec2(1.0, 1.0);\nuniform vec2 uvOffset = vec2(0.0, 0.0);\n@import clay.chunk.skinning_header\n@import clay.chunk.instancing_header\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nvoid main(){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n v_ViewPosition = worldViewProjection * P;\n gl_Position = v_ViewPosition;\n v_Texcoord = texcoord * uvRepeat + uvOffset;\n}\n@end\n@export clay.sm.depth.fragment\nvarying vec4 v_ViewPosition;\nvarying vec2 v_Texcoord;\nuniform float bias : 0.001;\nuniform float slopeScale : 1.0;\nuniform sampler2D alphaMap;\nuniform float alphaCutoff: 0.0;\n@import clay.util.encode_float\nvoid main(){\n float depth = v_ViewPosition.z / v_ViewPosition.w;\n if (alphaCutoff > 0.0) {\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\n discard;\n }\n }\n#ifdef USE_VSM\n depth = depth * 0.5 + 0.5;\n float moment1 = depth;\n float moment2 = depth * depth;\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n moment2 += 0.25*(dx*dx+dy*dy);\n #endif\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\n#else\n #ifdef SUPPORT_STANDARD_DERIVATIVES\n float dx = dFdx(depth);\n float dy = dFdy(depth);\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\n #else\n depth += bias;\n #endif\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\n#endif\n}\n@end\n@export clay.sm.debug_depth\nuniform sampler2D depthMap;\nvarying vec2 v_Texcoord;\n@import clay.util.decode_float\nvoid main() {\n vec4 tex = texture2D(depthMap, v_Texcoord);\n#ifdef USE_VSM\n gl_FragColor = vec4(tex.rgb, 1.0);\n#else\n float depth = decodeFloat(tex);\n gl_FragColor = vec4(depth, depth, depth, 1.0);\n#endif\n}\n@end\n@export clay.sm.distance.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform mat4 world : WORLD;\nattribute vec3 position : POSITION;\n@import clay.chunk.skinning_header\nvarying vec3 v_WorldPosition;\nvoid main (){\n vec4 P = vec4(position, 1.0);\n#ifdef SKINNING\n @import clay.chunk.skin_matrix\n P = skinMatrixWS * P;\n#endif\n#ifdef INSTANCING\n @import clay.chunk.instancing_matrix\n P = instanceMat * P;\n#endif\n gl_Position = worldViewProjection * P;\n v_WorldPosition = (world * P).xyz;\n}\n@end\n@export clay.sm.distance.fragment\nuniform vec3 lightPosition;\nuniform float range : 100;\nvarying vec3 v_WorldPosition;\n@import clay.util.encode_float\nvoid main(){\n float dist = distance(lightPosition, v_WorldPosition);\n#ifdef USE_VSM\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\n#else\n dist = dist / range;\n gl_FragColor = encodeFloat(dist);\n#endif\n}\n@end\n@export clay.plugin.shadow_map_common\n@import clay.util.decode_float\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\n vec4 tex = texture2D(map, uv);\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\n float shadowContrib = tapShadowMap(map, uv, z);\n vec2 offset = vec2(1.0 / textureSize) * scale;\n#ifdef PCF_KERNEL_SIZE\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\n }}\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\n#else\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\n return shadowContrib / 9.0;\n#endif\n}\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\n return pcf(map, uv, z, textureSize, vec2(1.0));\n}\nfloat chebyshevUpperBound(vec2 moments, float z){\n float p = 0.0;\n z = z * 0.5 + 0.5;\n if (z <= moments.x) {\n p = 1.0;\n }\n float variance = moments.y - moments.x * moments.x;\n variance = max(variance, 0.0000001);\n float mD = moments.x - z;\n float pMax = variance / (variance + mD * mD);\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\n return max(p, pMax);\n}\nfloat computeShadowContrib(\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\n) {\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\n posInLightSpace.xyz /= posInLightSpace.w;\n float z = posInLightSpace.z;\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\n #ifdef USE_VSM\n vec2 moments = texture2D(map, uv * scale + offset).xy;\n return chebyshevUpperBound(moments, z);\n #else\n return pcf(map, uv * scale + offset, z, textureSize, scale);\n #endif\n }\n return 1.0;\n}\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\n}\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\n{\n float dist = length(direction);\n vec4 shadowTex = textureCube(map, direction);\n#ifdef USE_VSM\n vec2 moments = shadowTex.xy;\n float variance = moments.y - moments.x * moments.x;\n float mD = moments.x - dist;\n float p = variance / (variance + mD * mD);\n if(moments.x + 0.001 < dist){\n return clamp(p, 0.0, 1.0);\n }else{\n return 1.0;\n }\n#else\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\n#endif\n}\n@end\n@export clay.plugin.compute_shadow_map\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\n#if defined(SHADOW_CASCADE)\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\n#else\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\n#endif\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\n#endif\nuniform bool shadowEnabled : true;\n#ifdef PCF_KERNEL_SIZE\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\n#endif\n@import clay.plugin.shadow_map_common\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\n spotLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\n#ifdef SHADOW_CASCADE\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\n / (gl_DepthRange.far - gl_DepthRange.near);\n float shadowContrib;\n shadowContribs[0] = 1.0;\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\n if (\n depth >= shadowCascadeClipsNear[_idx_] &&\n depth <= shadowCascadeClipsFar[_idx_]\n ) {\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[0],\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\n );\n shadowContribs[0] = shadowContrib;\n }\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#else\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\n float shadowContrib;\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n shadowContrib = computeShadowContrib(\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\n directionalLightShadowMapSizes[_idx_]\n );\n shadowContribs[_idx_] = shadowContrib;\n }}\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\n vec3 lightPosition;\n vec3 direction;\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\n lightPosition = pointLightPosition[_idx_];\n direction = position - lightPosition;\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\n }}\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\n shadowContribs[_idx_] = 1.0;\n }}\n}\n#endif\n#endif\n@end"},function(t,e,n){"use strict";var r=n(9),i=n(5),a=n(4),o=n(10),s=n(179),l=n(191),c=n(193),u=n(195),A=n(1),h=n(196),f=n(198),d=(n(7),n(199)),p=n(86),m=n(87),g=n(88),v=n(89),_=n(90),y=n(91),w=n(92),x=n(93),b=n(94),C=n(200),B=n(201);r["a"]["import"](p["a"]),r["a"]["import"](m["a"]),r["a"]["import"](g["a"]),r["a"]["import"](v["a"]),r["a"]["import"](_["a"]),r["a"]["import"](y["a"]),r["a"]["import"](w["a"]),r["a"]["import"](x["a"]),r["a"]["import"](b["a"]),r["a"]["import"](C["a"]),r["a"]["import"](B["a"]);var E={color:{parameters:{width:function(t){return t.getWidth()},height:function(t){return t.getHeight()}}}},T=["composite","FXAA"];function S(){this._sourceTexture=new i["a"]({type:a["a"].HALF_FLOAT}),this._depthTexture=new i["a"]({format:a["a"].DEPTH_COMPONENT,type:a["a"].UNSIGNED_INT}),this._framebuffer=new o["a"],this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,o["a"].DEPTH_ATTACHMENT),this._normalPass=new h["a"],this._compositor=Object(s["a"])(d["a"]);var t=this._compositor.getNodeByName("source");t.texture=this._sourceTexture;var e=this._compositor.getNodeByName("coc");this._sourceNode=t,this._cocNode=e,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map((function(t){return this._compositor.getNodeByName(t)}),this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=T.map((function(t){return this._compositor.getNodeByName(t)}),this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new l["a"](n),this._ssrPass=new c["a"](n),this._edgePass=new f["a"](n)}S.prototype.resize=function(t,e,n){n=n||1;t*=n,e*=n;var r=this._sourceTexture,i=this._depthTexture;r.width=t,r.height=e,i.width=t,i.height=e},S.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},S.prototype._getPrevNode=function(t){var e=T.indexOf(t.name)-1,n=this._finalNodesChain[e];while(n&&!this._compositor.getNodeByName(n.name))e-=1,n=this._finalNodesChain[e];return n},S.prototype._getNextNode=function(t){var e=T.indexOf(t.name)+1,n=this._finalNodesChain[e];while(n&&!this._compositor.getNodeByName(n.name))e+=1,n=this._finalNodesChain[e];return n},S.prototype._addChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(e.outputs=E,t.inputs.texture=e.name,n?(t.outputs=E,n.inputs.texture=t.name):t.outputs=null,this._compositor.addNode(t))},S.prototype._removeChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(n?(e.outputs=E,n.inputs.texture=e.name):e.outputs=null,this._compositor.removeNode(t))},S.prototype.updateNormal=function(t,e,n,r){this._ifRenderNormalPass()&&this._normalPass.update(t,e,n)},S.prototype.updateSSAO=function(t,e,n,r){this._ssaoPass.update(t,n,r)},S.prototype.enableSSAO=function(){this._enableSSAO=!0},S.prototype.disableSSAO=function(){this._enableSSAO=!1},S.prototype.enableSSR=function(){this._enableSSR=!0},S.prototype.disableSSR=function(){this._enableSSR=!1},S.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},S.prototype.getSourceFrameBuffer=function(){return this._framebuffer},S.prototype.getSourceTexture=function(){return this._sourceTexture},S.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},S.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},S.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()},S.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},S.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()},S.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()},S.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0},S.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1},S.prototype.enableEdge=function(){this._enableEdge=!0},S.prototype.disableEdge=function(){this._enableEdge=!1},S.prototype.setBloomIntensity=function(t){this._compositeNode.setParameter("bloomIntensity",t)},S.prototype.setSSAOParameter=function(t,e){switch(t){case"quality":var n={low:6,medium:12,high:32,ultra:62}[e]||12;this._ssaoPass.setParameter("kernelSize",n);break;case"radius":this._ssaoPass.setParameter(t,e),this._ssaoPass.setParameter("bias",e/200);break;case"intensity":this._ssaoPass.setParameter(t,e);break;default:console.warn("Unkown SSAO parameter "+t)}},S.prototype.setDOFParameter=function(t,e){switch(t){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(t,e);break;case"blurRadius":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter("blurRadius",e);break;case"quality":var r={low:4,medium:8,high:16,ultra:32}[e]||8;this._dofBlurKernelSize=r;for(n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define("POISSON_KERNEL_SIZE",r);this._dofBlurKernel=new Float32Array(2*r);break;default:console.warn("Unkown DOF parameter "+t)}},S.prototype.setSSRParameter=function(t,e){if(null!=e)switch(t){case"quality":var n={low:10,medium:15,high:30,ultra:80}[e]||20,r={low:32,medium:16,high:8,ultra:4}[e]||16;this._ssrPass.setParameter("maxIteration",n),this._ssrPass.setParameter("pixelStride",r);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-e,1),0));break;case"physical":this.setPhysicallyCorrectSSR(e);break;default:console.warn("Unkown SSR parameter "+t)}},S.prototype.setPhysicallyCorrectSSR=function(t){this._ssrPass.setPhysicallyCorrect(t)},S.prototype.setEdgeColor=function(t){var e=A["a"].parseColor(t);this._edgePass.setParameter("edgeColor",e)},S.prototype.setExposure=function(t){this._compositeNode.setParameter("exposure",Math.pow(2,t))},S.prototype.setColorLookupTexture=function(t,e){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?t:"none",e,{minFilter:A["a"].Texture.NEAREST,magFilter:A["a"].Texture.NEAREST,flipY:!1})},S.prototype.setColorCorrection=function(t,e){this._compositeNode.setParameter(t,e)},S.prototype.isSSREnabled=function(){return this._enableSSR},S.prototype.composite=function(t,e,n,r,i){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(t,n,a,i),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(t,n,a,i),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter("depth",this._depthTexture);for(var s=this._dofBlurKernel,l=this._dofBlurKernelSize,c=Math.floor(u["a"].length/2/l),A=i%c,h=0;h<2*l;h++)s[h]=u["a"][h+A*l*2];for(h=0;h<this._dofBlurNodes.length;h++)this._dofBlurNodes[h].setParameter("percent",i/30),this._dofBlurNodes[h].setParameter("poissonKernel",s);this._cocNode.setParameter("zNear",n.near),this._cocNode.setParameter("zFar",n.far),this._compositor.render(t,r)},S.prototype.dispose=function(t){this._sourceTexture.dispose(t),this._depthTexture.dispose(t),this._framebuffer.dispose(t),this._compositor.dispose(t),this._normalPass.dispose(t),this._ssaoPass.dispose(t)},e["a"]=S},function(t,e,n){"use strict";var r=n(180);e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(23),i=n(181),a=n(183),o=n(184),s=n(185),l=n(9),c=n(4),u=n(5),A=n(27),h=n(186);Object(h["a"])(l["a"]);var f=/^#source\((.*?)\)/;function d(t,e){var n=new i["a"];e=e||{};var r={textures:{},parameters:{}},a=function(i,a){for(var o=0;o<t.nodes.length;o++){var s=t.nodes[o],l=p(s,r,e);l&&n.addNode(l)}};for(var o in t.parameters){var s=t.parameters[o];r.parameters[o]=v(s)}return _(t,r,e,(function(t){r.textures=t,a()})),n}function p(t,e,n){var r,i,c,u,A=t.type||"filter";if("filter"===A){var h=t.shader.trim(),d=f.exec(h);if(d?r=l["a"].source(d[1].trim()):"#"===h.charAt(0)&&(r=e.shaders[h.substr(1)]),r||(r=h),!r)return}if(t.inputs)for(var p in i={},t.inputs)"string"===typeof t.inputs[p]?i[p]=t.inputs[p]:i[p]={node:t.inputs[p].node,pin:t.inputs[p].pin};if(t.outputs)for(var p in c={},t.outputs){var m=t.outputs[p];c[p]={},null!=m.attachment&&(c[p].attachment=m.attachment),null!=m.keepLastFrame&&(c[p].keepLastFrame=m.keepLastFrame),null!=m.outputLastFrame&&(c[p].outputLastFrame=m.outputLastFrame),m.parameters&&(c[p].parameters=v(m.parameters))}if(u="scene"===A?new a["a"]({name:t.name,scene:n.scene,camera:n.camera,outputs:c}):"texture"===A?new o["a"]({name:t.name,outputs:c}):new s["a"]({name:t.name,shader:r,inputs:i,outputs:c}),u){if(t.parameters)for(var p in t.parameters){var g=t.parameters[p];"string"===typeof g?(g=g.trim(),"#"===g.charAt(0)?g=e.textures[g.substr(1)]:u.on("beforerender",y(p,x(g)))):"function"===typeof g&&u.on("beforerender",g),u.setParameter(p,g)}if(t.defines&&u.pass)for(var p in t.defines){g=t.defines[p];u.pass.material.define("fragment",p,g)}}return u}function m(t,e){return t}function g(t,e){return e}function v(t){var e={};if(!t)return e;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach((function(n){var r=t[n];null!=r&&("string"===typeof r&&(r=c["a"][r]),e[n]=r)}));var n=t.scale||1;return["width","height"].forEach((function(r){if(null!=t[r]){var i=t[r];"string"===typeof i?(i=i.trim(),e[r]=w(r,x(i),n)):e[r]=i}})),e.width||(e.width=m),e.height||(e.height=g),null!=t.useMipmap&&(e.useMipmap=t.useMipmap),e}function _(t,e,n,i){if(t.textures){var a={},o=0,s=!1,l=n.textureRootPath;r["a"].each(t.textures,(function(t,e){var n,c=t.path,h=v(t.parameters);if(Array.isArray(c)&&6===c.length)l&&(c=c.map((function(t){return r["a"].relative2absolute(t,l)}))),n=new A["a"](h);else{if("string"!==typeof c)return;l&&(c=r["a"].relative2absolute(c,l)),n=new u["a"](h)}n.load(c),o++,n.once("success",(function(){a[e]=n,o--,0===o&&(i(a),s=!0)}))})),0!==o||s||i(a)}else i({})}function y(t,e){return function(n){var r=n.getDevicePixelRatio(),i=n.getWidth(),a=n.getHeight(),o=e(i,a,r);this.setParameter(t,o)}}function w(t,e,n){return n=n||1,function(t){var r=t.getDevicePixelRatio(),i=t.getWidth()*n,a=t.getHeight()*n;return e(i,a,r)}}function x(t){var e=/^expr\((.*)\)$/.exec(t);if(e)try{var n=new Function("width","height","dpr","return "+e[1]);return n(1,1),n}catch(r){throw new Error("Invalid expression.")}}e["a"]=d},function(t,e,n){"use strict";var r=n(182),i=n(85),a=n(10),o=r["a"].extend((function(){return{_outputs:[],_texturePool:new i["a"],_frameBuffer:new a["a"]({depthBuffer:!1})}}),{addNode:function(t){r["a"].prototype.addNode.call(this,t),t._compositor=this},render:function(t,e){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var n=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(n=0;n<this._outputs.length;n++)this._outputs[n].render(t,e);for(n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(t){return this._texturePool.get(t)},releaseTexture:function(t){this._texturePool.put(t)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(t){this._texturePool.clear(t)}});e["a"]=o},function(t,e,n){"use strict";var r=n(8),i=n(48),a=r["a"].extend((function(){return{nodes:[]}}),{dirty:function(){this._dirty=!0},addNode:function(t){this.nodes.indexOf(t)>=0||(this.nodes.push(t),this._dirty=!0)},removeNode:function(t){"string"===typeof t&&(t=this.getNodeByName(t));var e=this.nodes.indexOf(t);e>=0&&(this.nodes.splice(e,1),this._dirty=!0)},getNodeByName:function(t){for(var e=0;e<this.nodes.length;e++)if(this.nodes[e].name===t)return this.nodes[e]},update:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear();for(t=0;t<this.nodes.length;t++){var e=this.nodes[t];if(e.inputs)for(var n in e.inputs)if(e.inputs[n])if(!e.pass||e.pass.material.isUniformEnabled(n)){var r=e.inputs[n],i=this.findPin(r);i?e.link(n,i.node,i.pin):"string"===typeof r?console.warn("Node "+r+" not exist"):console.warn("Pin of "+r.node+"."+r.pin+" not exist")}else console.warn("Pin "+e.name+"."+n+" not used.")}},findPin:function(t){var e;if(("string"===typeof t||t instanceof i["a"])&&(t={node:t}),"string"===typeof t.node)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n];r.name===t.node&&(e=r)}else e=t.node;if(e){var a=t.pin;if(a||e.outputs&&(a=Object.keys(e.outputs)[0]),e.outputs[a])return{node:e,pin:a}}}});e["a"]=a},function(t,e,n){"use strict";var r=n(48),i=n(11),a=n(10),o=r["a"].extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},(function(){this.frameBuffer=new a["a"]}),{render:function(t){this._rendering=!0;var e,n=t.gl;if(this.trigger("beforerender"),this.outputs){var r=this.frameBuffer;for(var a in this.outputs){var o=this.updateParameter(a,t),s=this.outputs[a],l=this._compositor.allocateTexture(o);this._outputTextures[a]=l;var c=s.attachment||n.COLOR_ATTACHMENT0;"string"==typeof c&&(c=n[c]),r.attach(l,c)}r.bind(t);var u=t.getGLExtension("EXT_draw_buffers");if(u){var A=[];for(var c in this.outputs)c=parseInt(c),c>=n.COLOR_ATTACHMENT0&&c<=n.COLOR_ATTACHMENT0+8&&A.push(c);u.drawBuffersEXT(A)}t.saveClear(),t.clearBit=i["a"].DEPTH_BUFFER_BIT|i["a"].COLOR_BUFFER_BIT,e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),t.restoreClear(),r.unbind(t)}else e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger("afterrender",e),this._rendering=!1,this._rendered=!0}});e["a"]=o},function(t,e,n){"use strict";var r=n(48),i=r["a"].extend((function(){return{texture:null,outputs:{color:{}}}}),(function(){}),{getOutput:function(t,e){return this.texture},beforeFrame:function(){},afterFrame:function(){}});e["a"]=i},function(t,e,n){"use strict";var r=n(15),i=n(48),a=i["a"].extend((function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}}),(function(){var t=new r["a"]({fragment:this.shader});this.pass=t}),{render:function(t,e){this.trigger("beforerender",t),this._rendering=!0;var n=t.gl;for(var r in this.inputLinks){var i=this.inputLinks[r],a=i.node.getOutput(t,i.pin);this.pass.setUniform(r,a)}if(this.outputs){this.pass.outputs={};var o={};for(var s in this.outputs){var l=this.updateParameter(s,t);isNaN(l.width)&&this.updateParameter(s,t);var c=this.outputs[s],u=this._compositor.allocateTexture(l);this._outputTextures[s]=u;var A=c.attachment||n.COLOR_ATTACHMENT0;"string"===typeof A&&(A=n[A]),o[A]=u}for(var A in this._compositor.getFrameBuffer().bind(t),o)this._compositor.getFrameBuffer().attach(o[A],A);this.pass.render(t),this._compositor.getFrameBuffer().updateMipmap(t)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(t),this.pass.render(t,e);for(var r in this.inputLinks){i=this.inputLinks[r];i.node.removeReference(i.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",t)},updateParameter:function(t,e){var n,r,i=this.outputs[t],a=i.parameters,o=i._parametersCopy;if(o||(o=i._parametersCopy={}),a)for(var s in a)"width"!==s&&"height"!==s&&(o[s]=a[s]);return n="function"===typeof a.width?a.width.call(this,e):a.width,r="function"===typeof a.height?a.height.call(this,e):a.height,n=Math.ceil(n),r=Math.ceil(r),o.width===n&&o.height===r||this._outputTextures[t]&&this._outputTextures[t].dispose(e),o.width=n,o.height=r,o},setParameter:function(t,e){this.pass.setUniform(t,e)},getParameter:function(t){return this.pass.getUniform(t)},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},define:function(t,e){this.pass.material.define("fragment",t,e)},undefine:function(t){this.pass.material.undefine("fragment",t)},removeReference:function(t){if(this._outputReferences[t]--,0===this._outputReferences[t]){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}},clear:function(){i["a"].prototype.clear.call(this),this.pass.material.disableTexturesAll()}});e["a"]=a},function(t,e,n){"use strict";e["a"]=m;var r=n(187),i=n(86),a=n(188),o=n(87),s=n(189),l=n(88),c=n(89),u=n(90),A=n(91),h=n(92),f=n(190),d=n(93),p=n(94);function m(t){t["import"](r["a"]),t["import"](i["a"]),t["import"](a["a"]),t["import"](o["a"]),t["import"](s["a"]),t["import"](l["a"]),t["import"](c["a"]),t["import"](u["a"]),t["import"](A["a"]),t["import"](h["a"]),t["import"](f["a"]),t["import"](d["a"]),t["import"](p["a"])}},function(t,e,n){"use strict";e["a"]="@export clay.compositor.coloradjust\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nuniform float contrast : 1.0;\nuniform float exposure : 0.0;\nuniform float gamma : 1.0;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\n float luminance = dot( color, w );\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.brightness\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float brightness : 0.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = tex.rgb + vec3(brightness);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.contrast\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float contrast : 1.0;\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord);\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.exposure\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float exposure : 0.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb * pow(2.0, exposure);\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.gamma\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float gamma : 1.0;\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = pow(tex.rgb, vec3(gamma));\n gl_FragColor = vec4(color, tex.a);\n}\n@end\n@export clay.compositor.saturation\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float saturation : 1.0;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D(texture, v_Texcoord);\n vec3 color = tex.rgb;\n float luminance = dot(color, w);\n color = mix(vec3(luminance), color, saturation);\n gl_FragColor = vec4(color, tex.a);\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.hdr.log_lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\n@import clay.util.rgbm\nvoid main()\n{\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\n float luminance = dot(tex.rgb, w);\n luminance = log(luminance + 0.001);\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\n}\n@end\n@export clay.compositor.hdr.lum_adaption\nvarying vec2 v_Texcoord;\nuniform sampler2D adaptedLum;\nuniform sampler2D currentLum;\nuniform float frameTime : 0.02;\n@import clay.util.rgbm\nvoid main()\n{\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\n}\n@end\n@export clay.compositor.lum\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\nvoid main()\n{\n vec4 tex = texture2D( texture, v_Texcoord );\n float luminance = dot(tex.rgb, w);\n gl_FragColor = vec4(vec3(luminance), 1.0);\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.vignette\n#define OUTPUT_ALPHA\nvarying vec2 v_Texcoord;\nuniform sampler2D texture;\nuniform float darkness: 1;\nuniform float offset: 1;\n@import clay.util.rgbm\nvoid main()\n{\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\n gl_FragColor.rgb = texel.rgb;\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\n}\n@end"},function(t,e,n){"use strict";e["a"]="@export clay.compositor.lensflare\n#define SAMPLE_NUMBER 8\nuniform sampler2D texture;\nuniform sampler2D lenscolor;\nuniform vec2 textureSize : [512, 512];\nuniform float dispersal : 0.3;\nuniform float haloWidth : 0.4;\nuniform float distortion : 1.0;\nvarying vec2 v_Texcoord;\n@import clay.util.rgbm\nvec4 textureDistorted(\n in vec2 texcoord,\n in vec2 direction,\n in vec3 distortion\n) {\n return vec4(\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\n 1.0\n );\n}\nvoid main()\n{\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\n vec2 haloVec = normalize(ghostVec) * haloWidth;\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\n vec4 result = vec4(0.0);\n for (int i = 0; i < SAMPLE_NUMBER; i++)\n {\n vec2 offset = fract(texcoord + ghostVec * float(i));\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n }\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n weight = pow(1.0 - weight, 10.0);\n vec2 offset = fract(texcoord + haloVec);\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\n gl_FragColor = result;\n}\n@end"},function(t,e,n){"use strict";var r=n(7),i=n(3),a=n(5),o=n(4),s=n(15),l=n(9),c=n(10),u=n(49),A=n(192);function h(t){for(var e=new Uint8Array(t*t*4),n=0,r=new i["a"],a=0;a<t;a++)for(var o=0;o<t;o++)r.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),e[n++]=255*(.5*r.x+.5),e[n++]=255*(.5*r.y+.5),e[n++]=0,e[n++]=255;return e}function f(t){return new a["a"]({pixels:h(t),wrapS:o["a"].REPEAT,wrapT:o["a"].REPEAT,width:t,height:t})}function d(t,e,n){var r=new Float32Array(3*t);e=e||0;for(var i=0;i<t;i++){var a=Object(u["a"])(i+e,2)*(n?1:2)*Math.PI,o=Object(u["a"])(i+e,3)*Math.PI,s=Math.random(),l=Math.cos(a)*Math.sin(o)*s,c=Math.cos(o)*s,A=Math.sin(a)*Math.sin(o)*s;r[3*i]=l,r[3*i+1]=c,r[3*i+2]=A}return r}function p(t){t=t||{},this._ssaoPass=new s["a"]({fragment:l["a"].source("ecgl.ssao.estimate")}),this._blurPass=new s["a"]({fragment:l["a"].source("ecgl.ssao.blur")}),this._framebuffer=new c["a"]({depthBuffer:!1}),this._ssaoTexture=new a["a"],this._blurTexture=new a["a"],this._blurTexture2=new a["a"],this._depthTex=t.depthTexture,this._normalTex=t.normalTexture,this.setNoiseSize(4),this.setKernelSize(t.kernelSize||12),null!=t.radius&&this.setParameter("radius",t.radius),null!=t.power&&this.setParameter("power",t.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}l["a"].import(A["a"]),p.prototype.setDepthTexture=function(t){this._depthTex=t},p.prototype.setNormalTexture=function(t){this._normalTex=t,this._ssaoPass.material[t?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)},p.prototype.update=function(t,e,n){var i=t.getWidth(),a=t.getHeight(),o=this._ssaoPass,s=this._blurPass;o.setUniform("kernel",this._kernels[n%this._kernels.length]),o.setUniform("depthTex",this._depthTex),null!=this._normalTex&&o.setUniform("normalTex",this._normalTex),o.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var l=new r["a"];r["a"].transpose(l,e.worldTransform),o.setUniform("projection",e.projectionMatrix.array),o.setUniform("projectionInv",e.invProjectionMatrix.array),o.setUniform("viewInverseTranspose",l.array);var c=this._ssaoTexture,u=this._blurTexture,A=this._blurTexture2;c.width=i/2,c.height=a/2,u.width=i,u.height=a,A.width=i,A.height=a,this._framebuffer.attach(c),this._framebuffer.bind(t),t.gl.clearColor(1,1,1,1),t.gl.clear(t.gl.COLOR_BUFFER_BIT),o.render(t),s.setUniform("textureSize",[i/2,a/2]),s.setUniform("projection",e.projectionMatrix.array),this._framebuffer.attach(u),s.setUniform("direction",0),s.setUniform("ssaoTexture",c),s.render(t),this._framebuffer.attach(A),s.setUniform("textureSize",[i,a]),s.setUniform("direction",1),s.setUniform("ssaoTexture",u),s.render(t),this._framebuffer.unbind(t);var h=t.clearColor;t.gl.clearColor(h[0],h[1],h[2],h[3])},p.prototype.getTargetTexture=function(){return this._blurTexture2},p.prototype.setParameter=function(t,e){"noiseTexSize"===t?this.setNoiseSize(e):"kernelSize"===t?this.setKernelSize(e):"intensity"===t?this._ssaoPass.material.set("intensity",e):this._ssaoPass.setUniform(t,e)},p.prototype.setKernelSize=function(t){this._kernelSize=t,this._ssaoPass.material.define("fragment","KERNEL_SIZE",t),this._kernels=this._kernels||[];for(var e=0;e<30;e++)this._kernels[e]=d(t,e*t,!!this._normalTex)},p.prototype.setNoiseSize=function(t){var e=this._ssaoPass.getUniform("noiseTex");e?(e.data=h(t),e.width=e.height=t,e.dirty()):(e=f(t),this._ssaoPass.setUniform("noiseTex",f(t))),this._ssaoPass.setUniform("noiseTexSize",[t,t])},p.prototype.dispose=function(t){this._blurTexture.dispose(t),this._ssaoTexture.dispose(t),this._blurTexture2.dispose(t)},e["a"]=p},function(t,e,n){"use strict";e["a"]="@export ecgl.ssao.estimate\n\nuniform sampler2D depthTex;\n\nuniform sampler2D normalTex;\n\nuniform sampler2D noiseTex;\n\nuniform vec2 depthTexSize;\n\nuniform vec2 noiseTexSize;\n\nuniform mat4 projection;\n\nuniform mat4 projectionInv;\n\nuniform mat4 viewInverseTranspose;\n\nuniform vec3 kernel[KERNEL_SIZE];\n\nuniform float radius : 1;\n\nuniform float power : 1;\n\nuniform float bias: 1e-2;\n\nuniform float intensity: 1.0;\n\nvarying vec2 v_Texcoord;\n\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\n float occlusion = 0.0;\n\n for (int i = 0; i < KERNEL_SIZE; i++) {\n vec3 samplePos = kernel[i];\n#ifdef NORMALTEX_ENABLED\n samplePos = kernelBasis * samplePos;\n#endif\n samplePos = samplePos * radius + originPos;\n\n vec4 texCoord = projection * vec4(samplePos, 1.0);\n texCoord.xy /= texCoord.w;\n\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\n\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\n if (projection[3][3] == 0.0) {\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\n }\n else {\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\n }\n \n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\n }\n#ifdef NORMALTEX_ENABLED\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\n#else\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\n#endif\n return pow(occlusion, power);\n}\n\nvoid main()\n{\n\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\n\n#ifdef NORMALTEX_ENABLED\n vec4 tex = texture2D(normalTex, v_Texcoord);\n if (dot(tex.rgb, tex.rgb) == 0.0) {\n gl_FragColor = vec4(1.0);\n return;\n }\n vec3 N = tex.rgb * 2.0 - 1.0;\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\n\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\n vec3 T = normalize(rvec - N * dot(rvec, N));\n vec3 BT = normalize(cross(N, T));\n mat3 kernelBasis = mat3(T, BT, N);\n#else\n if (depthTexel.r > 0.99999) {\n gl_FragColor = vec4(1.0);\n return;\n }\n mat3 kernelBasis;\n#endif\n\n float z = depthTexel.r * 2.0 - 1.0;\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * projectedPos;\n\n vec3 position = p4.xyz / p4.w;\n\n float ao = ssaoEstimator(position, kernelBasis);\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\n gl_FragColor = vec4(vec3(ao), 1.0);\n}\n\n@end\n\n\n@export ecgl.ssao.blur\n#define SHADER_NAME SSAO_BLUR\n\nuniform sampler2D ssaoTexture;\n\n#ifdef NORMALTEX_ENABLED\nuniform sampler2D normalTex;\n#endif\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\nuniform int direction: 0.0;\n\n#ifdef DEPTHTEX_ENABLED\nuniform sampler2D depthTex;\nuniform mat4 projection;\nuniform float depthRange : 0.5;\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n#endif\n\nvoid main()\n{\n float kernel[5];\n kernel[0] = 0.122581;\n kernel[1] = 0.233062;\n kernel[2] = 0.288713;\n kernel[3] = 0.233062;\n kernel[4] = 0.122581;\n\n vec2 off = vec2(0.0);\n if (direction == 0) {\n off[0] = blurSize / textureSize.x;\n }\n else {\n off[1] = blurSize / textureSize.y;\n }\n\n vec2 coord = v_Texcoord;\n\n float sum = 0.0;\n float weightAll = 0.0;\n\n#ifdef NORMALTEX_ENABLED\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\n#endif\n#if defined(DEPTHTEX_ENABLED)\n float centerDepth = getLinearDepth(v_Texcoord);\n#endif\n\n for (int i = 0; i < 5; i++) {\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\n\n float w = kernel[i];\n#ifdef NORMALTEX_ENABLED\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\n#endif\n#ifdef DEPTHTEX_ENABLED\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\n#endif\n\n weightAll += w;\n sum += texture2D(ssaoTexture, coord).r * w;\n }\n\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\n}\n\n@end\n"},function(t,e,n){"use strict";var r=n(7),i=(n(3),n(5)),a=n(4),o=n(15),s=n(9),l=n(10),c=(n(49),n(77)),u=n(194);function A(t){t=t||{},this._ssrPass=new o["a"]({fragment:s["a"].source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new o["a"]({fragment:s["a"].source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new o["a"]({fragment:s["a"].source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new o["a"]({fragment:s["a"].source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",t.normalTexture),this._ssrPass.setUniform("gBufferTexture2",t.depthTexture),this._blurPass1.setUniform("gBufferTexture1",t.normalTexture),this._blurPass1.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.setUniform("gBufferTexture1",t.normalTexture),this._blurPass2.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new i["a"]({type:a["a"].HALF_FLOAT}),this._texture2=new i["a"]({type:a["a"].HALF_FLOAT}),this._texture3=new i["a"]({type:a["a"].HALF_FLOAT}),this._prevTexture=new i["a"]({type:a["a"].HALF_FLOAT}),this._currentTexture=new i["a"]({type:a["a"].HALF_FLOAT}),this._frameBuffer=new l["a"]({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}s["a"].import(u["a"]),A.prototype.setAmbientCubemap=function(t,e){this._ssrPass.material.set("specularCubemap",t),this._ssrPass.material.set("specularIntensity",e);var n=t&&e;this._ssrPass.material[n?"enableTexture":"disableTexture"]("specularCubemap")},A.prototype.update=function(t,e,n,i){var a=t.getWidth(),o=t.getHeight(),s=this._ssrTexture,l=this._texture2,c=this._texture3;s.width=this._prevTexture.width=this._currentTexture.width=a/this._downScale,s.height=this._prevTexture.height=this._currentTexture.height=o/this._downScale,l.width=c.width=a,l.height=c.height=o;var u=this._frameBuffer,A=this._ssrPass,h=this._blurPass1,f=this._blurPass2,d=this._blendPass,p=new r["a"],m=new r["a"];r["a"].transpose(p,e.worldTransform),r["a"].transpose(m,e.viewMatrix),A.setUniform("sourceTexture",n),A.setUniform("projection",e.projectionMatrix.array),A.setUniform("projectionInv",e.invProjectionMatrix.array),A.setUniform("toViewSpace",p.array),A.setUniform("toWorldSpace",m.array),A.setUniform("nearZ",e.near);var g=i/this._totalSamples*this._samplePerFrame;if(A.setUniform("jitterOffset",g),A.setUniform("sampleOffset",i*this._samplePerFrame),h.setUniform("textureSize",[s.width,s.height]),f.setUniform("textureSize",[a,o]),f.setUniform("sourceTexture",n),h.setUniform("projection",e.projectionMatrix.array),f.setUniform("projection",e.projectionMatrix.array),u.attach(s),u.bind(t),A.render(t),this._physicallyCorrect&&(u.attach(this._currentTexture),d.setUniform("texture1",this._prevTexture),d.setUniform("texture2",s),d.material.set({weight1:i>=1?.95:0,weight2:i>=1?.05:1}),d.render(t)),u.attach(l),h.setUniform("texture",this._physicallyCorrect?this._currentTexture:s),h.render(t),u.attach(c),f.setUniform("texture",l),f.render(t),u.unbind(t),this._physicallyCorrect){var v=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=v}},A.prototype.getTargetTexture=function(){return this._texture3},A.prototype.setParameter=function(t,e){"maxIteration"===t?this._ssrPass.material.define("fragment","MAX_ITERATION",e):this._ssrPass.setUniform(t,e)},A.prototype.setPhysicallyCorrect=function(t){t?(this._normalDistribution||(this._normalDistribution=c["a"].generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=t},A.prototype.setSSAOTexture=function(t){var e=this._blurPass2;t?(e.material.enableTexture("ssaoTex"),e.material.set("ssaoTex",t)):e.material.disableTexture("ssaoTex")},A.prototype.isFinished=function(t){return!this._physicallyCorrect||t>this._totalSamples/this._samplePerFrame},A.prototype.dispose=function(t){this._ssrTexture.dispose(t),this._texture2.dispose(t),this._texture3.dispose(t),this._prevTexture.dispose(t),this._currentTexture.dispose(t),this._frameBuffer.dispose(t)},e["a"]=A},function(t,e,n){"use strict";e["a"]="@export ecgl.ssr.main\n\n#define SHADER_NAME SSR\n#define MAX_ITERATION 20;\n#define SAMPLE_PER_FRAME 5;\n#define TOTAL_SAMPLES 128;\n\nuniform sampler2D sourceTexture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform sampler2D gBufferTexture3;\nuniform samplerCube specularCubemap;\nuniform float specularIntensity: 1;\n\nuniform mat4 projection;\nuniform mat4 projectionInv;\nuniform mat4 toViewSpace;\nuniform mat4 toWorldSpace;\n\nuniform float maxRayDistance: 200;\n\nuniform float pixelStride: 16;\nuniform float pixelStrideZCutoff: 50; \nuniform float screenEdgeFadeStart: 0.9; \nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\n\nuniform float nearZ;\nuniform vec2 viewportSize : VIEWPORT_SIZE;\n\nuniform float jitterOffset: 0;\n\nvarying vec2 v_Texcoord;\n\n#ifdef DEPTH_DECODE\n@import clay.util.decode_float\n#endif\n\n#ifdef PHYSICALLY_CORRECT\nuniform sampler2D normalDistribution;\nuniform float sampleOffset: 0;\nuniform vec2 normalDistributionSize;\n\nvec3 transformNormal(vec3 H, vec3 N) {\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\n vec3 tangentX = normalize(cross(N, upVector));\n vec3 tangentZ = cross(N, tangentX);\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\n}\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\n return transformNormal(H, N);\n}\nfloat G_Smith(float g, float ndv, float ndl) {\n float roughness = 1.0 - g;\n float k = roughness * roughness / 2.0;\n float G1V = ndv / (ndv * (1.0 - k) + k);\n float G1L = ndl / (ndl * (1.0 - k) + k);\n return G1L * G1V;\n}\nvec3 F_Schlick(float ndv, vec3 spec) {\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\n}\n#endif\n\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\n{\n vec4 depthTexel = texture2D(depthTexture, uv);\n return depthTexel.r * 2.0 - 1.0;\n}\n\nfloat linearDepth(float depth)\n{\n if (projection[3][3] == 0.0) {\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n }\n else {\n return (depth - projection[3][2]) / projection[2][2];\n }\n}\n\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\n{\n if (rayZFar > rayZNear)\n {\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\n }\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\n}\n\n\nbool traceScreenSpaceRay(\n vec3 rayOrigin, vec3 rayDir, float jitter,\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\n)\n{\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\n\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\n\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\n vec4 H1 = projection * vec4(rayEnd, 1.0);\n\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\n\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\n\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\n\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\n vec2 delta = P1 - P0;\n\n bool permute = false;\n if (abs(delta.x) < abs(delta.y)) {\n permute = true;\n delta = delta.yx;\n P0 = P0.yx;\n P1 = P1.yx;\n }\n float stepDir = sign(delta.x);\n float invdx = stepDir / delta.x;\n\n vec3 dQ = (Q1 - Q0) * invdx;\n float dk = (k1 - k0) * invdx;\n\n vec2 dP = vec2(stepDir, delta.y * invdx);\n\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\n float pixStride = 1.0 + strideScaler * pixelStride;\n\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\n\n vec4 pqk = vec4(P0, Q0.z, k0);\n vec4 dPQK = vec4(dP, dQ.z, dk);\n\n pqk += dPQK * jitter;\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n float rayZNear;\n\n bool intersect = false;\n\n vec2 texelSize = 1.0 / viewportSize;\n\n iterationCount = 0.0;\n\n for (int i = 0; i < MAX_ITERATION; i++)\n {\n pqk += dPQK;\n\n rayZNear = rayZFar;\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\n\n hitPixel = permute ? pqk.yx : pqk.xy;\n hitPixel *= texelSize;\n\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\n\n iterationCount += 1.0;\n\n dPQK *= 1.2;\n\n if (intersect) {\n break;\n }\n }\n\n Q0.xy += dQ.xy * iterationCount;\n Q0.z = pqk.z;\n hitPoint = Q0 / pqk.w;\n\n return intersect;\n}\n\nfloat calculateAlpha(\n float iterationCount, float reflectivity,\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\n)\n{\n float alpha = clamp(reflectivity, 0.0, 1.0);\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\n\n float _eyeFadeStart = eyeFadeStart;\n float _eyeFadeEnd = eyeFadeEnd;\n if (_eyeFadeStart > _eyeFadeEnd) {\n float tmp = _eyeFadeEnd;\n _eyeFadeEnd = _eyeFadeStart;\n _eyeFadeStart = tmp;\n }\n\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\n\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\n\n return alpha;\n}\n\n@import clay.util.rand\n\n@import clay.util.rgbm\n\nvoid main()\n{\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\n\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\n discard;\n }\n\n float g = normalAndGloss.a;\n#if !defined(PHYSICALLY_CORRECT)\n if (g <= minGlossiness) {\n discard;\n }\n#endif\n\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\n\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\n\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\n vec4 pos = projectionInv * projectedPos;\n vec3 rayOrigin = pos.xyz / pos.w;\n vec3 V = -normalize(rayOrigin);\n\n float ndv = clamp(dot(N, V), 0.0, 1.0);\n float iterationCount;\n float jitter = rand(fract(v_Texcoord + jitterOffset));\n\n#ifdef PHYSICALLY_CORRECT\n vec4 color = vec4(vec3(0.0), 1.0);\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\n vec3 albedo = albedoMetalness.rgb;\n float m = albedoMetalness.a;\n vec3 diffuseColor = albedo * (1.0 - m);\n vec3 spec = mix(vec3(0.04), albedo, m);\n\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\n\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\n vec3 rayDir = normalize(reflect(-V, H));\n#else\n vec3 rayDir = normalize(reflect(-V, N));\n#endif\n vec2 hitPixel;\n vec3 hitPoint;\n\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\n\n float dist = distance(rayOrigin, hitPoint);\n\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\n#ifdef PHYSICALLY_CORRECT\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\n float vdh = clamp(dot(V, H), 0.0, 1.0);\n float ndh = clamp(dot(N, H), 0.0, 1.0);\n vec3 litTexel = vec3(0.0);\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\n\n }\n else {\n #ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\n#endif\n }\n color.rgb += ndl * litTexel * (\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\n );\n }\n color.rgb /= float(SAMPLE_PER_FRAME);\n#else\n #if !defined(SPECULARCUBEMAP_ENABLED)\n if (dot(hitNormal, rayDir) >= 0.0) {\n discard;\n }\n if (!intersect) {\n discard;\n }\n#endif\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\n vec4 color = texture2D(sourceTexture, hitPixel);\n color.rgb *= alpha;\n\n#ifdef SPECULARCUBEMAP_ENABLED\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\n alpha = alpha * (intersect ? 1.0 : 0.0);\n float bias = (1.0 -g) * 5.0;\n color.rgb += (1.0 - alpha)\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\n * specularIntensity;\n#endif\n\n#endif\n\n gl_FragColor = encodeHDR(color);\n}\n@end\n\n@export ecgl.ssr.blur\n\nuniform sampler2D texture;\nuniform sampler2D gBufferTexture1;\nuniform sampler2D gBufferTexture2;\nuniform mat4 projection;\nuniform float depthRange : 0.05;\n\nvarying vec2 v_Texcoord;\n\nuniform vec2 textureSize;\nuniform float blurSize : 1.0;\n\n#ifdef BLEND\n #ifdef SSAOTEX_ENABLED\nuniform sampler2D ssaoTex;\n #endif\nuniform sampler2D sourceTexture;\n#endif\n\nfloat getLinearDepth(vec2 coord)\n{\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\n}\n\n@import clay.util.rgbm\n\n\nvoid main()\n{\n @import clay.compositor.kernel.gaussian_9\n\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\n float g = centerNTexel.a;\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\n#ifdef VERTICAL\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\n#else\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\n#endif\n\n vec2 coord = v_Texcoord;\n\n vec4 sum = vec4(0.0);\n float weightAll = 0.0;\n\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\n float cD = getLinearDepth(v_Texcoord);\n for (int i = 0; i < 9; i++) {\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\n float w = gaussianKernel[i]\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\n float d = getLinearDepth(coord);\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\n\n weightAll += w;\n sum += decodeHDR(texture2D(texture, coord)) * w;\n }\n\n#ifdef BLEND\n float aoFactor = 1.0;\n #ifdef SSAOTEX_ENABLED\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\n #endif\n gl_FragColor = encodeHDR(\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\n );\n#else\n gl_FragColor = encodeHDR(sum / weightAll);\n#endif\n}\n\n@end"},function(t,e,n){"use strict";e["a"]=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925]},function(t,e,n){"use strict";var r=n(5),i=n(4),a=n(9),o=n(10),s=n(19),l=n(15),c=n(60),u=n(197);function A(t,e,n,r,i){var a=t.gl;e.setUniform(a,"1i",n,i),a.activeTexture(a.TEXTURE0+i),r.isRenderable()?r.bind(t):r.unbind(t)}function h(t,e,n,r,i){var a,o,s,l,c=t.gl;return function(i,u,h){if(!l||l.material!==i.material){var f=i.material,d=i.__program,p=f.get("roughness");null==p&&(p=1);var m=f.get("normalMap")||e,g=f.get("roughnessMap"),v=f.get("bumpMap"),_=f.get("uvRepeat"),y=f.get("uvOffset"),w=f.get("detailUvRepeat"),x=f.get("detailUvOffset"),b=!!v&&f.isTextureEnabled("bumpMap"),C=!!g&&f.isTextureEnabled("roughnessMap"),B=f.isDefined("fragment","DOUBLE_SIDED");v=v||n,g=g||r,h!==u?(u.set("normalMap",m),u.set("bumpMap",v),u.set("roughnessMap",g),u.set("useBumpMap",b),u.set("useRoughnessMap",C),u.set("doubleSide",B),null!=_&&u.set("uvRepeat",_),null!=y&&u.set("uvOffset",y),null!=w&&u.set("detailUvRepeat",w),null!=x&&u.set("detailUvOffset",x),u.set("roughness",p)):(d.setUniform(c,"1f","roughness",p),a!==m&&A(t,d,"normalMap",m,0),o!==v&&v&&A(t,d,"bumpMap",v,1),s!==g&&g&&A(t,d,"roughnessMap",g,2),null!=_&&d.setUniform(c,"2f","uvRepeat",_),null!=y&&d.setUniform(c,"2f","uvOffset",y),null!=w&&d.setUniform(c,"2f","detailUvRepeat",w),null!=x&&d.setUniform(c,"2f","detailUvOffset",x),d.setUniform(c,"1i","useBumpMap",+b),d.setUniform(c,"1i","useRoughnessMap",+C),d.setUniform(c,"1i","doubleSide",+B)),a=m,o=v,s=g,l=i}}}function f(t){t=t||{},this._depthTex=new r["a"]({format:i["a"].DEPTH_COMPONENT,type:i["a"].UNSIGNED_INT}),this._normalTex=new r["a"]({type:i["a"].HALF_FLOAT}),this._framebuffer=new o["a"],this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,o["a"].DEPTH_ATTACHMENT),this._normalMaterial=new s["a"]({shader:new a["a"](a["a"].source("ecgl.normal.vertex"),a["a"].source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=c["a"].createBlank("#000"),this._defaultBumpMap=c["a"].createBlank("#000"),this._defaultRoughessMap=c["a"].createBlank("#000"),this._debugPass=new l["a"]({fragment:a["a"].source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}a["a"].import(u["a"]),f.prototype.getDepthTexture=function(){return this._depthTex},f.prototype.getNormalTexture=function(){return this._normalTex},f.prototype.update=function(t,e,n){var r=t.getWidth(),i=t.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=r,a.height=i,o.width=r,o.height=i;var l=e.getRenderList(n).opaque;this._framebuffer.bind(t),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.gl.disable(t.gl.BLEND),t.renderPass(l,n,{getMaterial:function(){return s},ifRender:function(t){return t.renderNormal},beforeRender:h(t,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:t.opaqueSortCompare}),this._framebuffer.unbind(t)},f.prototype.renderDebug=function(t){this._debugPass.render(t)},f.prototype.dispose=function(t){this._depthTex.dispose(t),this._normalTex.dispose(t)},e["a"]=f},function(t,e,n){"use strict";e["a"]="@export ecgl.normal.vertex\n\n@import ecgl.common.transformUniforms\n\n@import ecgl.common.uv.header\n\n@import ecgl.common.attributes\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\n@import ecgl.common.normalMap.vertexHeader\n\n@import ecgl.common.vertexAnimation.header\n\nvoid main()\n{\n\n @import ecgl.common.vertexAnimation.main\n\n @import ecgl.common.uv.main\n\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\n\n @import ecgl.common.normalMap.vertexMain\n\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n\n}\n\n\n@end\n\n\n@export ecgl.normal.fragment\n\n#define ROUGHNESS_CHANEL 0\n\nuniform bool useBumpMap;\nuniform bool useRoughnessMap;\nuniform bool doubleSide;\nuniform float roughness;\n\n@import ecgl.common.uv.fragmentHeader\n\nvarying vec3 v_Normal;\nvarying vec3 v_WorldPosition;\n\nuniform mat4 viewInverse : VIEWINVERSE;\n\n@import ecgl.common.normalMap.fragmentHeader\n@import ecgl.common.bumpMap.header\n\nuniform sampler2D roughnessMap;\n\nvoid main()\n{\n vec3 N = v_Normal;\n \n bool flipNormal = false;\n if (doubleSide) {\n vec3 eyePos = viewInverse[3].xyz;\n vec3 V = normalize(eyePos - v_WorldPosition);\n\n if (dot(N, V) < 0.0) {\n flipNormal = true;\n }\n }\n\n @import ecgl.common.normalMap.fragmentMain\n\n if (useBumpMap) {\n N = bumpNormal(v_WorldPosition, v_Normal, N);\n }\n\n float g = 1.0 - roughness;\n\n if (useRoughnessMap) {\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\n }\n\n if (flipNormal) {\n N = -N;\n }\n\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\n gl_FragColor.a = g;\n}\n@end"},function(t,e,n){"use strict";n(7),n(3);var r=n(5),i=n(4),a=n(15),o=n(9),s=n(10);function l(t){t=t||{},this._edgePass=new a["a"]({fragment:o["a"].source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",t.normalTexture),this._edgePass.setUniform("depthTexture",t.depthTexture),this._targetTexture=new r["a"]({type:i["a"].HALF_FLOAT}),this._frameBuffer=new s["a"],this._frameBuffer.attach(this._targetTexture)}l.prototype.update=function(t,e,n,r){var i=t.getWidth(),a=t.getHeight(),o=this._targetTexture;o.width=i,o.height=a;var s=this._frameBuffer;s.bind(t),this._edgePass.setUniform("projectionInv",e.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[i,a]),this._edgePass.setUniform("texture",n),this._edgePass.render(t),s.unbind(t)},l.prototype.getTargetTexture=function(){return this._targetTexture},l.prototype.setParameter=function(t,e){this._edgePass.setUniform(t,e)},l.prototype.dispose=function(t){this._targetTexture.dispose(t),this._frameBuffer.dispose(t)},e["a"]=l},function(t,e,n){"use strict";e["a"]={type:"compositor",nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]}},function(t,e,n){"use strict";e["a"]="@export ecgl.dof.coc\n\nuniform sampler2D depth;\n\nuniform float zNear: 0.1;\nuniform float zFar: 2000;\n\nuniform float focalDistance: 3;\nuniform float focalRange: 1;\nuniform float focalLength: 30;\nuniform float fstop: 2.8;\n\nvarying vec2 v_Texcoord;\n\n@import clay.util.encode_float\n\nvoid main()\n{\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\n\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\n\n float aperture = focalLength / fstop;\n\n float coc;\n\n float uppper = focalDistance + focalRange;\n float lower = focalDistance - focalRange;\n if (dist <= uppper && dist >= lower) {\n coc = 0.5;\n }\n else {\n float focalAdjusted = dist > uppper ? uppper : lower;\n\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\n\n if (dist < lower) {\n coc = -coc;\n }\n coc = coc * 0.5 + 0.5;\n }\n\n gl_FragColor = encodeFloat(coc);\n}\n@end\n\n\n@export ecgl.dof.composite\n\n#define DEBUG 0\n\nuniform sampler2D original;\nuniform sampler2D blurred;\nuniform sampler2D nearfield;\nuniform sampler2D coc;\nuniform sampler2D nearcoc;\nvarying vec2 v_Texcoord;\n\n@import clay.util.rgbm\n@import clay.util.float\n\nvoid main()\n{\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\n vec4 originalColor = texture2D(original, v_Texcoord);\n\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\n\n fCoc = abs(fCoc * 2.0 - 1.0);\n\n float weight = smoothstep(0.0, 1.0, fCoc);\n \n#ifdef NEARFIELD_ENABLED\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\n\n gl_FragColor = encodeHDR(\n mix(\n nearfieldColor, mix(originalColor, blurredColor, weight),\n pow(1.0 - fNearCoc, 4.0)\n )\n );\n#else\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\n#endif\n\n}\n\n@end\n\n\n\n@export ecgl.dof.diskBlur\n\n#define POISSON_KERNEL_SIZE 16;\n\nuniform sampler2D texture;\nuniform sampler2D coc;\nvarying vec2 v_Texcoord;\n\nuniform float blurRadius : 10.0;\nuniform vec2 textureSize : [512.0, 512.0];\n\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\n\nuniform float percent;\n\nfloat nrand(const in vec2 n) {\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n@import clay.util.rgbm\n@import clay.util.float\n\n\nvoid main()\n{\n vec2 offset = blurRadius / textureSize;\n\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\n float cosa = cos(rnd);\n float sina = sin(rnd);\n vec4 basis = vec4(cosa, -sina, sina, cosa);\n\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\n#endif\n\n#ifdef BLUR_COC\n float cocSum = 0.0;\n#else\n vec4 color = vec4(0.0);\n#endif\n\n\n float weightSum = 0.0;\n\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\n vec2 ofs = poissonKernel[i];\n\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\n\n vec2 uv = v_Texcoord + ofs * offset;\n vec4 texel = texture2D(texture, uv);\n\n float w = 1.0;\n#ifdef BLUR_COC\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\n#else\n texel = texel;\n #if !defined(BLUR_NEARFIELD)\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\n w *= abs(fCoc);\n #endif\n texel.rgb *= texel.a;\n color += texel * w;\n#endif\n\n weightSum += w;\n }\n\n#ifdef BLUR_COC\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\n#else\n color /= weightSum;\n color.rgb /= (color.a + 0.0001);\n gl_FragColor = color;\n#endif\n}\n\n@end"},function(t,e,n){"use strict";e["a"]="@export ecgl.edge\n\nuniform sampler2D texture;\n\nuniform sampler2D normalTexture;\nuniform sampler2D depthTexture;\n\nuniform mat4 projectionInv;\n\nuniform vec2 textureSize;\n\nuniform vec4 edgeColor: [0,0,0,0.8];\n\nvarying vec2 v_Texcoord;\n\nvec3 packColor(vec2 coord) {\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\n vec4 p4 = projectionInv * p;\n\n return vec3(\n texture2D(normalTexture, coord).rg,\n -p4.z / p4.w / 5.0\n );\n}\n\nvoid main() {\n vec2 cc = v_Texcoord;\n vec3 center = packColor(cc);\n\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\n float dx = size / textureSize.x;\n float dy = size / textureSize.y;\n\n vec2 coord;\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\n vec3 top = packColor(cc+vec2(0.0, -dy));\n vec3 topRight = packColor(cc+vec2(dx, -dy));\n vec3 left = packColor(cc+vec2(-dx, 0.0));\n vec3 right = packColor(cc+vec2(dx, 0.0));\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\n vec3 bottom = packColor(cc+vec2(0.0, dy));\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\n\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\n\n float edge = sqrt(dot(h, h) + dot(v, v));\n\n edge = smoothstep(0.8, 1.0, edge);\n\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\n}\n@end"},function(t,e,n){"use strict";var r=n(49),i=n(15),a=n(10),o=n(5),s=n(9),l=n(7);function c(t){for(var e=[],n=0;n<30;n++)e.push([Object(r["a"])(n,2),Object(r["a"])(n,3)]);this._haltonSequence=e,this._frame=0,this._sourceTex=new o["a"],this._sourceFb=new a["a"],this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new o["a"],this._outputTex=new o["a"];var l=this._blendPass=new i["a"]({fragment:s["a"].source("clay.compositor.blend")});l.material.disableTexturesAll(),l.material.enableTexture(["texture1","texture2"]),this._blendFb=new a["a"]({depthBuffer:!1}),this._outputPass=new i["a"]({fragment:s["a"].source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(t){t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)}}c.prototype={constructor:c,jitterProjection:function(t,e){var n=t.viewport,r=n.devicePixelRatio||t.getDevicePixelRatio(),i=n.width*r,a=n.height*r,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new l["a"];s.array[12]=(2*o[0]-1)/i,s.array[13]=(2*o[1]-1)/a,l["a"].mul(e.projectionMatrix,s,e.projectionMatrix),l["a"].invert(e.invProjectionMatrix,e.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(t,e){this._prevFrameTex.width=t,this._prevFrameTex.height=e,this._outputTex.width=t,this._outputTex.height=e,this._sourceTex.width=t,this._sourceTex.height=e,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(t,e,n){var r=this._blendPass;0===this._frame?(r.setUniform("weight1",0),r.setUniform("weight2",1)):(r.setUniform("weight1",.9),r.setUniform("weight2",.1)),r.setUniform("texture1",this._prevFrameTex),r.setUniform("texture2",e||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(t),r.render(t),this._blendFb.unbind(t),n||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(t));var i=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=i,this._frame++},dispose:function(t){this._sourceFb.dispose(t),this._blendFb.dispose(t),this._prevFrameTex.dispose(t),this._outputTex.dispose(t),this._sourceTex.dispose(t),this._outputPass.dispose(t),this._blendPass.dispose(t)}},e["a"]=c},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(204),n(205),n(97);i.a.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"geo3D",query:t},(function(e){e.setView(t)}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),l=n(31),c=n(95),u=i.a.extendComponentModel({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var t=this.option;t.regions=this.getFilledRegions(t.regions,t.map);var e=i.a.helper.completeDimensions(["value"],t.data,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions")}),n=new i.a.List(e,this);n.initData(t.regions);var r={};n.each((function(t){var e=n.getName(t),i=n.getItemModel(t);r[e]=i})),this._regionModelMap=r,this._data=n},getData:function(){return this._data},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new i.a.Model(null,this)},getRegionPolygonCoords:function(t){var e=this.getData().getName(t),n=this.coordinateSystem.getRegion(e);return n?n.geometries:[]},getFormattedLabel:function(t,e){var n=this._data.getName(t),r=this.getRegionModel(n),i=r.get("normal"===e?["label","formatter"]:["emphasis","label","formatter"]);null==i&&(i=r.get(["label","formatter"]));var a={name:n};if("function"===typeof i)return a.status=e,i(a);if("string"===typeof i){var o=a.seriesName;return i.replace("{a}",null!=o?o:"")}return n},defaultOption:{regions:[]}});i.a.util.merge(u.prototype,c["a"]),i.a.util.merge(u.prototype,a["a"]),i.a.util.merge(u.prototype,o["a"]),i.a.util.merge(u.prototype,s["a"]),i.a.util.merge(u.prototype,l["a"])},function(t,e,n){"use strict";var r=n(63),i=n(0),a=n.n(i),o=n(1),s=n(45),l=n(30);a.a.extendComponentView({type:"geo3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new r["a"](e),this.groupGL=new o["a"].Node,this._lightRoot=new o["a"].Node,this._sceneHelper=new l["a"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new s["a"]({zr:e.getZr()}),this._control.init()},render:function(t,e,n){this.groupGL.add(this._geo3DBuilder.rootNode);var r=t.coordinateSystem;if(r&&r.viewGL){r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL);var i=this._control;i.setViewGL(r.viewGL);var a=t.getModel("viewControl");i.setFromViewControlModel(a,0),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._geo3DBuilder.update(t,e,n,0,t.getData().count());var o=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(t){t.material&&t.material[o]("fragment","SRGB_DECODE")})),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"geo3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:t.id})})),i.update()}},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},dispose:function(){this._control.dispose()}})},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,a,s,l,c,u,h,f=e&&e.length,d=f?e[0]*n:t.length,p=i(t,0,d,n,!0),m=[];if(!p)return m;if(f&&(p=A(t,e,p,n)),t.length>80*n){r=s=t[0],a=l=t[1];for(var g=n;g<d;g+=n)c=t[g],u=t[g+1],c<r&&(r=c),u<a&&(a=u),c>s&&(s=c),u>l&&(l=u);h=Math.max(s-r,l-a)}return o(p,m,n,r,a,h),m}function i(t,e,n,r,i){var a,o;if(i===D(t,e,n,r)>0)for(a=e;a<n;a+=r)o=S(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=S(a,t[a],t[a+1],o);return o&&x(o,o.next)&&(M(o),o=o.next),o}function a(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!x(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(M(r),r=e=r.prev,r===r.next)return null;n=!0}}while(n||r!==e);return e}function o(t,e,n,r,i,A,h){if(t){!h&&A&&p(t,r,i,A);var f,d,m=t;while(t.prev!==t.next)if(f=t.prev,d=t.next,A?l(t,r,i,A):s(t))e.push(f.i/n),e.push(t.i/n),e.push(d.i/n),M(t),t=d.next,m=d.next;else if(t=d,t===m){h?1===h?(t=c(t,e,n),o(t,e,n,r,i,A,2)):2===h&&u(t,e,n,r,i,A):o(a(t),e,n,r,i,A,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(w(e,n,r)>=0)return!1;var i=t.next.next;while(i!==t.prev){if(_(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&w(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(t,e,n,r){var i=t.prev,a=t,o=t.next;if(w(i,a,o)>=0)return!1;var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,A=g(s,l,e,n,r),h=g(c,u,e,n,r),f=t.nextZ;while(f&&f.z<=h){if(f!==t.prev&&f!==t.next&&_(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;f=f.nextZ}f=t.prevZ;while(f&&f.z>=A){if(f!==t.prev&&f!==t.next&&_(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}function c(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!x(i,a)&&b(i,r,r.next,a)&&B(i,a)&&B(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),M(r),M(r.next),r=t=a),r=r.next}while(r!==t);return r}function u(t,e,n,r,i,s){var l=t;do{var c=l.next.next;while(c!==l.prev){if(l.i!==c.i&&y(l,c)){var u=T(l,c);return l=a(l,l.next),u=a(u,u.next),o(l,e,n,r,i,s),void o(u,e,n,r,i,s)}c=c.next}l=l.next}while(l!==t)}function A(t,e,n,r){var o,s,l,c,u,A=[];for(o=0,s=e.length;o<s;o++)l=e[o]*r,c=o<s-1?e[o+1]*r:t.length,u=i(t,l,c,r,!1),u===u.next&&(u.steiner=!0),A.push(v(u));for(A.sort(h),o=0;o<A.length;o++)f(A[o],n),n=a(n,n.next);return n}function h(t,e){return t.x-e.x}function f(t,e){if(e=d(t,e),e){var n=T(e,t);a(n,n.next)}}function d(t,e){var n,r=e,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===o)return n.prev;var l,c=n,u=n.x,A=n.y,h=1/0;r=n.next;while(r!==c)i>=r.x&&r.x>=u&&i!==r.x&&_(a<A?i:o,a,u,A,a<A?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),(l<h||l===h&&r.x>n.x)&&B(r,t)&&(n=r,h=l)),r=r.next;return n}function p(t,e,n,r){var i=t;do{null===i.z&&(i.z=g(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,m(i)}function m(t){var e,n,r,i,a,o,s,l,c=1;do{n=t,t=null,a=null,o=0;while(n){for(o++,r=n,s=0,e=0;e<c;e++)if(s++,r=r.nextZ,!r)break;l=c;while(s>0||l>0&&r)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(o>1);return t}function g(t,e,n,r,i){return t=32767*(t-n)/i,e=32767*(e-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function v(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function _(t,e,n,r,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!C(t,e)&&B(t,e)&&B(e,t)&&E(t,e)}function w(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function x(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){return!!(x(t,e)&&x(n,r)||x(t,r)&&x(n,e))||w(t,e,n)>0!==w(t,e,r)>0&&w(n,r,t)>0!==w(n,r,e)>0}function C(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function B(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function E(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function T(t,e){var n=new N(t.i,t.x,t.y),r=new N(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function S(t,e,n,r){var i=new N(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function N(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}e["a"]=r,r.deviation=function(t,e,n,r){var i=e&&e.length,a=i?e[0]*n:t.length,o=Math.abs(D(t,0,a,n));if(i)for(var s=0,l=e.length;s<l;s++){var c=e[s]*n,u=s<l-1?e[s+1]*n:t.length;o-=Math.abs(D(t,c,u,n))}var A=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,f=r[s+1]*n,d=r[s+2]*n;A+=Math.abs((t[h]-t[d])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[d+1]-t[h+1]))}return 0===o&&0===A?0:Math.abs((A-o)/o)}},function(t,e){var n={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function r(t,e){if("china"===t){var r=n[e.name];if(r){var i=e.center;i[0]+=r[0]/10.5,i[1]+=-r[1]/14}}}t.exports=r},function(t,e){var n={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function r(t,e){if("world"===t){var r=n[e.name];if(r){var i=e.center;i[0]=r[0],i[1]=r[1]}}}t.exports=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(210),n(211),n(213);i.a.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"globe",query:t},(function(e){e.setView(t)}))})),i.a.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},(function(t,e){}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),l=n(31);function c(t,e){t.id=t.id||t.name||e+""}var u=i.a.extendComponentModel({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){u.superApply(this,"init",arguments),i.a.util.each(this.option.layers,(function(t,e){i.a.util.merge(t,this.defaultLayerOption),c(t,e)}),this)},mergeOption:function(t){var e=this.option.layers;function n(t){return i.a.util.reduce(t,(function(t,e,n){return c(e,n),t[e.id]=e,t}),{})}if(this.option.layers=null,u.superApply(this,"mergeOption",arguments),e&&e.length){var r=n(t.layers),a=n(e);for(var o in r)a[o]?i.a.util.merge(a[o],r[o],!0):e.push(t.layers[o]);this.option.layers=e}i.a.util.each(this.option.layers,(function(t){i.a.util.merge(t,this.defaultLayerOption)}),this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var t=this.getDisplacementTexture(),e=this.get("displacementScale");return t&&"none"!==t||(e=0),e},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var t=this.getDisplacementTexture(),e=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==t||this._displacementScale!==e,this._displacementTexture=t,this._displacementScale=e},isDisplacementChanged:function(){return this._displacementChanged}});i.a.util.merge(u.prototype,a["a"]),i.a.util.merge(u.prototype,o["a"]),i.a.util.merge(u.prototype,s["a"]),i.a.util.merge(u.prototype,l["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(30),l=n(212),c=n(2);i.a.extendComponentView({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(t,e){this.groupGL=new a["a"].Node,this._sphereGeometry=new a["a"].SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new a["a"].SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new a["a"].PlaneGeometry,this._earthMesh=new a["a"].Mesh({renderNormal:!0}),this._lightRoot=new a["a"].Node,this._sceneHelper=new s["a"],this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._earthMesh),this._control=new o["a"]({zr:e.getZr()}),this._control.init(),this._layerMeshes={}},render:function(t,e,n){var r=t.coordinateSystem,i=t.get("shading");r.viewGL.add(this._lightRoot),t.get("show")?r.viewGL.add(this.groupGL):r.viewGL.remove(this.groupGL),this._sceneHelper.setScene(r.viewGL.scene),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var o=this._earthMesh;o.geometry=this._sphereGeometry;var s="ecgl."+i;o.material&&o.material.shader.name===s||(o.material=a["a"].createMaterial(s)),a["a"].setMaterialFromModel(i,o.material,t,n),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach((function(t){var e=o.material.get(t);e&&(e.flipY=!1)})),o.material.set("color",a["a"].parseColor(t.get("baseColor")));var l=.99*r.radius;o.scale.set(l,l,l);var c=o.material.setTextureImage("diffuseMap",t.get("baseTexture"),n,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(o);var u=o.material.setTextureImage("bumpMap",t.get("heightTexture"),n,{flipY:!1,anisotropic:8});u&&u.surface&&u.surface.attachToMesh(o),o.material[t.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(t,n),this._displaceVertices(t,n),this._updateViewControl(t,n),this._updateLayers(t,n)},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n)},_updateLayers:function(t,e){var n=t.coordinateSystem,r=t.get("layers"),o=n.radius,s=[],l=[],u=[],A=[];i.a.util.each(r,(function(t){var r=new i.a.Model(t),h=r.get("type"),f=a["a"].loadTexture(r.get("texture"),e,{flipY:!1,anisotropic:8});if(f.surface&&f.surface.attachToMesh(this._earthMesh),"blend"===h){var d=r.get("blendTo"),p=c["a"].firstNotNull(r.get("intensity"),1);"emission"===d?(u.push(f),A.push(p)):(s.push(f),l.push(p))}else{var m=r.get("id"),g=this._layerMeshes[m];g||(g=this._layerMeshes[m]=new a["a"].Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var v=r.get("shading");"lambert"===v?(g.material=g.__lambertMaterial||new a["a"].Material({autoUpdateTextureStatus:!1,shader:a["a"].createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),g.__lambertMaterial=g.material):(g.material=g.__colorMaterial||new a["a"].Material({autoUpdateTextureStatus:!1,shader:a["a"].createShader("ecgl.color"),transparent:!0,depthMask:!1}),g.__colorMaterial=g.material),g.material.enableTexture("diffuseMap");var _=r.get("distance"),y=o+(null==_?n.radius/100:_);g.scale.set(y,y,y),o=y;var w=this._blankTexture||(this._blankTexture=a["a"].createBlankTexture("rgba(255, 255, 255, 0)"));g.material.set("diffuseMap",w),a["a"].loadTexture(r.get("texture"),e,{flipY:!1,anisotropic:8},(function(t){t.surface&&t.surface.attachToMesh(g),g.material.set("diffuseMap",t),e.getZr().refresh()})),r.get("show")?this.groupGL.add(g):this.groupGL.remove(g)}}),this);var h=this._earthMesh.material;h.define("fragment","LAYER_DIFFUSEMAP_COUNT",s.length),h.define("fragment","LAYER_EMISSIVEMAP_COUNT",u.length),h.set("layerDiffuseMap",s),h.set("layerDiffuseIntensity",l),h.set("layerEmissiveMap",u),h.set("layerEmissionIntensity",A);var f=t.getModel("debug.wireframe");if(f.get("show")){h.define("both","WIREFRAME_TRIANGLE");var d=a["a"].parseColor(f.get("lineStyle.color")||"rgba(0,0,0,0.5)"),p=c["a"].firstNotNull(f.get("lineStyle.width"),1);h.set("wireframeLineWidth",p),h.set("wireframeLineColor",d)}else h.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(t,e){var n=t.coordinateSystem,r=t.getModel("viewControl"),i=(n.viewGL.camera,this);function a(){return{type:"globeChangeCamera",alpha:o.getAlpha(),beta:o.getBeta(),distance:o.getDistance()-n.radius,center:o.getCenter(),from:i.uid,globeId:t.id}}var o=this._control;o.setViewGL(n.viewGL);var s,l,c=r.get("targetCoord");null!=c&&(l=c[0]+90,s=c[1]),o.setFromViewControlModel(r,{baseDistance:n.radius,alpha:s,beta:l}),o.off("update"),o.on("update",(function(){e.dispatchAction(a())}))},_displaceVertices:function(t,e){var n=t.get("displacementQuality"),r=t.get("debug.wireframe.show"),i=t.coordinateSystem;if(t.isDisplacementChanged()||n!==this._displacementQuality||r!==this._showDebugWireframe){this._displacementQuality=n,this._showDebugWireframe=r;var a=this._sphereGeometry,o={low:100,medium:200,high:400,ultra:800}[n]||200,s=o/2;(a.widthSegments!==o||r)&&(a.widthSegments=o,a.heightSegments=s,a.build()),this._doDisplaceVertices(a,i),r&&a.generateBarycentric()}},_doDisplaceVertices:function(t,e){var n=t.attributes.position.value,r=t.attributes.texcoord0.value,i=t.__originalPosition;i&&i.length===n.length||(i=new Float32Array(n.length),i.set(n),t.__originalPosition=i);for(var a=e.displacementWidth,o=e.displacementHeight,s=e.displacementData,l=0;l<t.vertexCount;l++){var c=3*l,u=2*l,A=i[c+1],h=i[c+2],f=i[c+3],d=r[u++],p=r[u++],m=Math.round(d*(a-1)),g=Math.round(p*(o-1)),v=g*a+m,_=s?s[v]:0;n[c+1]=A+A*_,n[c+2]=h+h*_,n[c+3]=f+f*_}t.generateVertexNormals(),t.dirty(),t.updateBoundingBox()},_updateLight:function(t,e){var n=this._earthMesh;this._sceneHelper.updateLight(t);var r=this._sceneHelper.mainLight,a=t.get("light.main.time")||new Date,o=l["a"].getPosition(i.a.number.parseDate(a),0,0),s=Math.cos(o.altitude);r.position.y=-s*Math.cos(o.azimuth),r.position.x=Math.sin(o.altitude),r.position.z=s*Math.sin(o.azimuth),r.lookAt(n.getWorldPosition())},dispose:function(t,e){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=Math.PI,i=Math.sin,a=Math.cos,o=Math.tan,s=Math.asin,l=Math.atan2,c=r/180,u=864e5,A=2440588,h=2451545;function f(t){return t.valueOf()/u-.5+A}function d(t){return f(t)-h}var p=23.4397*c;function m(t,e){return l(i(t)*a(p)-o(e)*i(p),a(t))}function g(t,e){return s(i(e)*a(p)+a(e)*i(p)*i(t))}function v(t,e,n){return l(i(t),a(t)*i(e)-o(n)*a(e))}function _(t,e,n){return s(i(e)*i(n)+a(e)*a(n)*a(t))}function y(t,e){return c*(280.16+360.9856235*t)-e}function w(t){return c*(357.5291+.98560028*t)}function x(t){var e=c*(1.9148*i(t)+.02*i(2*t)+3e-4*i(3*t)),n=102.9372*c;return t+e+n+r}function b(t){var e=w(t),n=x(e);return{dec:g(n,0),ra:m(n,0)}}var C={getPosition:function(t,e,n){var r=c*-n,i=c*e,a=d(t),o=b(a),s=y(a,r)-o.ra;return{azimuth:v(s,i,o.dec),altitude:_(s,i,o.dec)}}};e["a"]=C},function(t,e,n){"use strict";var r=n(214),i=n(0),a=n.n(i),o=n(47),s=n.n(o),l=n(22),c=n(2),u=n(1);function A(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.width,a=t.height;n.width=i,n.height=a,r.drawImage(t,0,0,i,a);for(var o=r.getImageData(0,0,i,a).data,s=new Float32Array(o.length/4),l=0;l<o.length/4;l++){var c=o[4*l];s[l]=c/255*e}return{data:s,width:i,height:a}}function h(t,e){var n=t.getBoxLayoutParams(),r=s.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});r.y=e.getHeight()-r.y-r.height,this.viewGL.setViewport(r.x,r.y,r.width,r.height,e.getDevicePixelRatio()),this.radius=t.get("globeRadius");var i=t.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,i-this.radius)}function f(t,e){var n=[1/0,-1/0];if(t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData(),r=t.coordDimToDataDim("alt"),i=r&&r[0];if(i){var a=e.getDataExtent(i,!0);n[0]=Math.min(n[0],a[0]),n[1]=Math.max(n[1],a[1])}}}),this),n&&isFinite(n[1]-n[0])){var r=a.a.helper.createScale(n,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new a.a.Axis("altitude",r),this.resize(this.model,e)}}var d={dimensions:r["a"].prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("globe",(function(t){t.__viewGL=t.__viewGL||new l["a"];var i=new r["a"];i.viewGL=t.__viewGL,t.coordinateSystem=i,i.model=t,n.push(i),i.resize=h,i.resize(t,e),i.update=f})),t.eachSeries((function(e){if("globe"===e.get("coordinateSystem")){var n=e.getReferringComponents("globe")[0];if(n||(n=t.getComponent("globe")),!n)throw new Error('globe "'+c["a"].firstNotNull(e.get("globe3DIndex"),e.get("globe3DId"),0)+'" not found');var r=n.coordinateSystem;e.coordinateSystem=r}})),t.eachComponent("globe",(function(t,n){var r=t.coordinateSystem,i=t.getDisplacementTexture(),a=t.getDisplacemenScale();if(t.isDisplacementChanged()){if(t.hasDisplacement()){var o=!0;u["a"].loadTexture(i,e,(function(n){var r=n.image,i=A(r,a);t.setDisplacementData(i.data,i.width,i.height),o||e.dispatchAction({type:"globeUpdateDisplacment"})})),o=!1}else r.setDisplacementData(null,0,0);r.setDisplacementData(t.displacementData,t.displacementWidth,t.displacementHeight)}})),n}};a.a.registerCoordinateSystem("globe",d)},function(t,e,n){"use strict";var r=n(6),i=r["a"].vec3;function a(t){this.radius=t,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}a.prototype={constructor:a,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},_getDisplacementScale:function(t,e){var n=(t+180)/360*(this.displacementWidth-1),r=(90-e)/180*(this.displacementHeight-1),i=Math.round(n)+Math.round(r)*this.displacementWidth;return this.displacementData[i]},dataToPoint:function(t,e){var n=t[0],r=t[1],i=t[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(n,r)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(i)),n=n*Math.PI/180,r=r*Math.PI/180;var o=Math.cos(r)*a;return e=e||[],e[0]=-o*Math.cos(n+Math.PI),e[1]=Math.sin(r)*a,e[2]=o*Math.sin(n+Math.PI),e},pointToData:function(t,e){var n=t[0],r=t[1],a=t[2],o=i.len(t);n/=o,r/=o,a/=o;var s=Math.asin(r),l=Math.atan2(a,-n);l<0&&(l=2*Math.PI+l);var c=180*s/Math.PI,u=180*l/Math.PI-180;return e=e||[],e[0]=u,e[1]=c,e[2]=o-this.radius,this.altitudeAxis&&(e[2]=this.altitudeAxis.coordToData(e[2])),e}},e["a"]=a},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(216),n(218),n(219);i.a.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},(function(t,e){e.eachComponent({mainType:"mapbox3D",query:t},(function(e){e.setMapboxCameraOption(t)}))}))},function(t,e,n){"use strict";var r=n(217),i=n(0),a=n.n(i),o=n(100),s=Object(o["a"])("mapbox3D",r["a"],(function(t){t.forEach((function(t){t.setCameraOption(t.model.getMapboxCameraOption())}))}));a.a.registerCoordinateSystem("mapbox3D",s)},function(t,e,n){"use strict";var r=n(99);function i(){r["a"].apply(this,arguments)}i.prototype=new r["a"],i.prototype.constructor=i,i.prototype.type="mapbox3D",e["a"]=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(28),o=n(29),s=["zoom","center","pitch","bearing"],l=i.a.extendComponentModel({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var t=this;return s.reduce((function(e,n){return e[n]=t.get(n),e}),{})},setMapboxCameraOption:function(t){null!=t&&s.forEach((function(e){null!=t[e]&&(this.option[e]=t[e])}),this)},getMapbox:function(){return this._mapbox},setMapbox:function(t){this._mapbox=t}});i.a.util.merge(l.prototype,a["a"]),i.a.util.merge(l.prototype,o["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(220),o=n(30),s=n(1),l=n(101);s["a"].Shader.import(l["a"]);i.a.extendComponentView({type:"mapbox3D",__ecgl__:!0,init:function(t,e){var n=e.getZr();this._zrLayer=new a["a"]("mapbox3D",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new s["a"].Node,this._sceneHelper=new o["a"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMapbox(),i=this._dispatchInteractAction.bind(this,e,r);["zoom","rotate","drag","pitch","rotate","move"].forEach((function(t){r.on(t,i)})),this._groundMesh=new s["a"].Mesh({geometry:new s["a"].PlaneGeometry,material:new s["a"].Material({shader:new s["a"].Shader({vertex:s["a"].Shader.source("ecgl.displayShadow.vertex"),fragment:s["a"].Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(t,e,n){var r=this._zrLayer.getMapbox(),i=t.get("style"),a=JSON.stringify(i);a!==this._oldStyleStr&&i&&r.setStyle(i),this._oldStyleStr=a,r.setCenter(t.get("center")),r.setZoom(t.get("zoom")),r.setPitch(t.get("pitch")),r.setBearing(t.get("bearing")),t.setMapbox(r);var o=t.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._mapbox3DModel=t},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n),t.coordinateSystem.viewGL.scene.traverse((function(t){t.material&&(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(t,e,n,r){t.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:"mapbox3DChangeCamera",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var t=this._mapbox3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var n=new s["a"].Plane(new s["a"].Vector3(0,0,1),0),r=t.viewGL.camera.castRay(new s["a"].Vector2(-1,-1)),i=t.viewGL.camera.castRay(new s["a"].Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),l=a.dist(o)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(l,l,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}})},function(t,e,n){"use strict";function r(t,e){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}r.prototype.resize=function(){this._mapbox.resize()},r.prototype.getMapbox=function(){return this._mapbox},r.prototype.clear=function(){},r.prototype.refresh=function(){this._mapbox.resize()};var i=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];r.prototype._initEvents=function(){var t=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},i.forEach((function(e){this._handlers[e]=function(e){var n={};for(var r in e)n[r]=e[r];n.bubbles=!1;var i=new e.constructor(e.type,n);t.dispatchEvent(i)},this.zr.dom.addEventListener(e,this._handlers[e])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},r.prototype.dispose=function(){i.forEach((function(t){this.zr.dom.removeEventListener(t,this._handlers[t])}),this)},e["a"]=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r);n(222),n(224),n(225);i.a.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},(function(t,e){e.eachComponent({mainType:"maptalks3D",query:t},(function(e){e.setMaptalksCameraOption(t)}))}))},function(t,e,n){"use strict";var r=n(223),i=n(0),a=n.n(i),o=n(100),s=Object(o["a"])("maptalks3D",r["a"],(function(t){t.forEach((function(t){t.setCameraOption(t.model.getMaptalksCameraOption())}))}));a.a.registerCoordinateSystem("maptalks3D",s)},function(t,e,n){"use strict";var r=n(99);function i(){r["a"].apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}i.prototype=new r["a"],i.prototype.constructor=i,i.prototype.type="maptalks3D",e["a"]=i},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(28),o=n(29),s=["zoom","center","pitch","bearing"],l=i.a.extendComponentModel({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var t=this;return s.reduce((function(e,n){return e[n]=t.get(n),e}),{})},setMaptalksCameraOption:function(t){null!=t&&s.forEach((function(e){null!=t[e]&&(this.option[e]=t[e])}),this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(t){this._maptalks=t}});i.a.util.merge(l.prototype,a["a"]),i.a.util.merge(l.prototype,o["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(226),o=n(30),s=n(1),l=n(101);s["a"].Shader.import(l["a"]);i.a.extendComponentView({type:"maptalks3D",__ecgl__:!0,init:function(t,e){this._groundMesh=new s["a"].Mesh({geometry:new s["a"].PlaneGeometry,material:new s["a"].Material({shader:new s["a"].Shader({vertex:s["a"].Shader.source("ecgl.displayShadow.vertex"),fragment:s["a"].Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(t,e){var n=e.getZr();this._zrLayer=new a["a"]("maptalks3D",n,t.get("center"),t.get("zoom")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new s["a"].Node,this._sceneHelper=new o["a"](this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var r=this._zrLayer.getMaptalks(),i=this._dispatchInteractAction.bind(this,e,r);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach((function(t){r.on(t,i)}))},render:function(t,e,n){this._zrLayer||this._initMaptalksLayer(t,n);var r=this._zrLayer.getMaptalks(),i=t.get("urlTemplate"),a=r.getBaseLayer();i!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:i,attribution:t.get("attribution")}):(a=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:i,subdomains:["a","b","c"],attribution:t.get("attribution")}),r.setBaseLayer(a))),this._oldUrlTemplate=i,r.setCenter(t.get("center")),r.setZoom(t.get("zoom"),{animation:!1}),r.setPitch(t.get("pitch")),r.setBearing(t.get("bearing")),t.setMaptalks(r);var o=t.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel("postEffect"),n),o.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._maptalks3DModel=t},afterRender:function(t,e,n,r){var i=r.renderer;this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n),t.coordinateSystem.viewGL.scene.traverse((function(t){t.material&&(t.material.define("fragment","NORMAL_UP_AXIS",2),t.material.define("fragment","NORMAL_FRONT_AXIS",1))}))},updateCamera:function(t,e,n,r){t.coordinateSystem.setCameraOption(r),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:"maptalks3DChangeCamera",pitch:e.getPitch(),zoom:u(e.getResolution())+1,center:e.getCenter().toArray(),bearing:e.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var t=this._maptalks3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var n=new s["a"].Plane(new s["a"].Vector3(0,0,1),0),r=t.viewGL.camera.castRay(new s["a"].Vector2(-1,-1)),i=t.viewGL.camera.castRay(new s["a"].Vector2(1,1)),a=r.intersectPlane(n),o=i.intersectPlane(n),l=a.dist(o)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(l,l,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}});const c=12756274*Math.PI/(256*Math.pow(2,20));function u(t){return 19-Math.log(t/c)/Math.LN2}},function(t,e,n){"use strict";function r(t,e,n,r){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:r,doubleClickZoom:!1,fog:!1}),this._initEvents()}r.prototype.resize=function(){this._maptalks.checkSize()},r.prototype.getMaptalks=function(){return this._maptalks},r.prototype.clear=function(){},r.prototype.refresh=function(){this._maptalks.checkSize()};var i=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];r.prototype._initEvents=function(){var t=this.dom;this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},i.forEach((function(e){this._handlers[e]=function(n){var r={};for(var i in n)r[i]=n[i];r.bubbles=!1;var a=new n.constructor(n.type,r);"mousewheel"===e||"DOMMouseScroll"===e?t.dispatchEvent(a):t.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(e,this._handlers[e])}),this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)},r.prototype.dispose=function(){i.forEach((function(t){this.zr.dom.removeEventListener(t,this._handlers[t])}),this),this._maptalks.remove()},e["a"]=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(228),n(231),n(233),n(17));i.a.registerVisual(Object(a["a"])("bar3D")),i.a.registerProcessor((function(t,e){t.eachSeriesByType("bar3d",(function(t){var e=t.getData();e.filterSelf((function(t){return e.hasValue(t)}))}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(3),o=n(6),s=n(229),l=n(230),c=o["a"].vec3,u=i.a.helper.dataStack.isDimensionStacked;function A(t,e){var n=t.getData(),r=t.get("minHeight")||0,o=t.get("barSize"),s=["lng","lat","alt"].map((function(e){return t.coordDimToDataDim(e)[0]}));if(null==o){var u=e.radius*Math.PI,A=Object(l["a"])(n,s[0],s[1]);o=[u/Math.sqrt(n.count()/A),u/Math.sqrt(n.count()/A)]}else i.a.util.isArray(o)||(o=[o,o]);var h=d(n,s);n.each(s,(function(t,i,a,s){var l=n.get(h.dimension,s),u=h.isStacked?l-a:e.altitudeAxis.scale.getExtent()[0],A=Math.max(e.altitudeAxis.dataToCoord(a),r),f=e.dataToPoint([t,i,u]),d=e.dataToPoint([t,i,l]),p=c.sub([],d,f);c.normalize(p,p);var m=[o[0],A,o[1]];n.setItemLayout(s,[f,p,m])})),n.setLayout("orient",a["a"].UP.array)}function h(t,e){var n=t.getData(),r=t.get("barSize"),a=t.get("minHeight")||0,o=["lng","lat","alt"].map((function(e){return t.coordDimToDataDim(e)[0]}));if(null==r){var s=Math.min(e.size[0],e.size[2]),c=Object(l["a"])(n,o[0],o[1]);r=[s/Math.sqrt(n.count()/c),s/Math.sqrt(n.count()/c)]}else i.a.util.isArray(r)||(r=[r,r]);var u=[0,1,0],A=d(n,o);n.each(o,(function(t,i,o,s){var l=n.get(A.dimension,s),c=A.isStacked?l-o:e.altitudeAxis.scale.getExtent()[0],h=Math.max(e.altitudeAxis.dataToCoord(o),a),f=e.dataToPoint([t,i,c]),d=[r[0],h,r[1]];n.setItemLayout(s,[f,u,d])})),n.setLayout("orient",[1,0,0])}function f(t,e){var n=t.getData(),r=t.coordDimToDataDim("lng")[0],a=t.coordDimToDataDim("lat")[0],o=t.coordDimToDataDim("alt")[0],s=t.get("barSize"),c=t.get("minHeight")||0;if(null==s){var u=n.getDataExtent(r),A=n.getDataExtent(a),h=e.dataToPoint([u[0],A[0]]),f=e.dataToPoint([u[1],A[1]]),p=Math.min(Math.abs(h[0]-f[0]),Math.abs(h[1]-f[1]))||1,m=Object(l["a"])(n,r,a);s=[p/Math.sqrt(n.count()/m),p/Math.sqrt(n.count()/m)]}else i.a.util.isArray(s)||(s=[s,s]),s[0]/=e.getScale()/16,s[1]/=e.getScale()/16;var g=[0,0,1],v=[r,a,o],_=d(n,v);n.each(v,(function(t,r,i,a){var o=n.get(_.dimension,a),l=_.isStacked?o-i:0,u=e.dataToPoint([t,r,l]),A=e.dataToPoint([t,r,o]),h=Math.max(A[2]-u[2],c),f=[s[0],h,s[1]];n.setItemLayout(a,[u,g,f])})),n.setLayout("orient",[1,0,0])}function d(t,e){var n=u(t,e[2]);return{dimension:n?t.getCalculationInfo("stackResultDimension"):e[2],isStacked:n}}i.a.registerLayout((function(t,e){t.eachSeriesByType("bar3D",(function(t){var e=t.coordinateSystem,n=e&&e.type;if("globe"===n)A(t,e);else if("cartesian3D"===n)Object(s["a"])(t,e);else if("geo3D"===n)h(t,e);else{if("mapbox3D"!==n&&"maptalks3D"!==n)throw e?new Error("bar3D doesn't support coordinate system "+e.type):new Error("bar3D doesn't have coordinate system.");f(t,e)}}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6),o=a["a"].vec3,s=i.a.helper.dataStack.isDimensionStacked;function l(t){var e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function c(t,e){var n=t.getData(),r=t.get("barSize");if(null==r){var a,c,u=e.size,A=e.getAxis("x"),h=e.getAxis("y");a="category"===A.type?.7*A.getBandWidth():.6*Math.round(u[0]/Math.sqrt(n.count())),c="category"===h.type?.7*h.getBandWidth():.6*Math.round(u[1]/Math.sqrt(n.count())),r=[a,c]}else i.a.util.isArray(r)||(r=[r,r]);var f=e.getAxis("z").scale.getExtent(),d=l(f),p=["x","y","z"].map((function(e){return t.coordDimToDataDim(e)[0]})),m=s(n,p[2]),g=m?n.getCalculationInfo("stackResultDimension"):p[2];n.each(p,(function(t,i,a,s){var l=n.get(g,s),c=m?l-a:d?0:f[0],u=e.dataToPoint([t,i,c]),A=e.dataToPoint([t,i,l]),h=o.dist(u,A),p=[0,A[1]<u[1]?-1:1,0];0===Math.abs(h)&&(h=.1);var v=[r[0],h,r[1]];n.setItemLayout(s,[u,p,v])})),n.setLayout("orient",[1,0,0])}e["a"]=c},function(t,e,n){"use strict";e["a"]=function(t,e,n){for(var r=t.getDataExtent(e),i=t.getDataExtent(n),a=r[1]-r[0]||r[0],o=i[1]-i[0]||i[0],s=50,l=new Uint8Array(s*s),c=0;c<t.count();c++){var u=t.get(e,c),A=t.get(n,c),h=Math.floor((u-r[0])/a*(s-1)),f=Math.floor((A-i[0])/o*(s-1)),d=f*s+h;l[d]=l[d]||1}var p=0;for(c=0;c<l.length;c++)l[c]&&p++;return p/l.length}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(32),l=n(232),c=n(65),u=n(6),A=u["a"].vec3;i.a.extendChartView({type:"bar3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this._api=e,this._labelsBuilder=new c["a"](256,256,e);var n=this;this._labelsBuilder.getLabelPosition=function(t,e,r){if(n._data){var i=n._data.getItemLayout(t),a=i[0],o=i[1],s=i[2][1];return A.scaleAndAdd([],a,o,r+s)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(t,e,n){var r=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=r,this._barMesh||(this._barMesh=new a["a"].Mesh({geometry:new l["a"],shadowDepthMaterial:new a["a"].Material({shader:new a["a"].Shader(a["a"].Shader.source("ecgl.sm.depth.vertex"),a["a"].Shader.source("ecgl.sm.depth.fragment"))}),culling:"cartesian3D"===t.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var i=t.coordinateSystem;if(this._doRender(t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[o]("fragment","SRGB_DECODE")}this._data=t.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(t)},_updateAnimation:function(t){a["a"].updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,t)},_doRender:function(t,e){var n=t.getData(),r=t.get("shading"),i="color"!==r,o=this,s=this._barMesh,l="ecgl."+r;s.material&&s.material.shader.name===l||(s.material=a["a"].createMaterial(l,["VERTEX_COLOR"])),a["a"].setMaterialFromModel(r,s.material,t,e),s.geometry.enableNormal=i,s.geometry.resetOffset();var c=t.get("bevelSize"),u=t.get("bevelSmoothness");s.geometry.bevelSegments=u,s.geometry.bevelSize=c;var A=[],h=new Float32Array(4*n.count()),f=0,d=0,p=!1;n.each((function(t){if(n.hasValue(t)){var e=n.getItemVisual(t,"color"),r=n.getItemVisual(t,"opacity");null==r&&(r=1),a["a"].parseColor(e,A),A[3]*=r,h[f++]=A[0],h[f++]=A[1],h[f++]=A[2],h[f++]=A[3],A[3]>0&&(d++,A[3]<.99&&(p=!0))}})),s.geometry.setBarCount(d);var m=n.getLayout("orient"),g=this._barIndexOfData=new Int32Array(n.count());d=0;n.each((function(t){if(n.hasValue(t)){var e=n.getItemLayout(t),r=e[0],i=e[1],a=e[2],s=4*t;A[0]=h[s++],A[1]=h[s++],A[2]=h[s++],A[3]=h[s++],A[3]>0&&(o._barMesh.geometry.addBar(r,i,m,a,A,t),g[t]=d++)}else g[t]=-1})),s.geometry.dirty(),s.geometry.updateBoundingBox();var v=s.material;v.transparent=p,v.depthMask=!p,s.geometry.sortTriangles=p,this._initHandler(t,e)},_initHandler:function(t,e){var n=t.getData(),r=this._barMesh,i="cartesian3D"===t.coordinateSystem.type;r.seriesIndex=t.seriesIndex;var a=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(t){var o=r.geometry.getDataIndexOfVertex(t.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),i&&e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",o),n.get("y",o),n.get("z",o,!0)]})),a=o,r.dataIndex=o}),this),r.on("mouseout",(function(t){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,r.dataIndex=-1,i&&e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_highlight:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=e.getItemModel(t),o=r.getModel("emphasis.itemStyle"),s=o.get("color"),l=o.get("opacity");if(null==s){var c=e.getItemVisual(t,"color");s=i.a.color.lift(c,-.4)}null==l&&(l=e.getItemVisual(t,"opacity"));var u=a["a"].parseColor(s);u[3]*=l,this._barMesh.geometry.setColor(n,u),this._api.getZr().refresh()}}},_downplay:function(t){var e=this._data;if(e){var n=this._barIndexOfData[t];if(!(n<0)){var r=e.getItemVisual(t,"color"),i=e.getItemVisual(t,"opacity"),o=a["a"].parseColor(r);o[3]*=i,this._barMesh.geometry.setColor(n,o),this._api.getZr().refresh()}}},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,r,a){var l=e.getData(),c=o["a"].queryDataIndex(l,a),u=this;null!=c?i.a.util.each(s["a"].normalizeToArray(c),(function(e){"highlight"===t?this._highlight(e):this._downplay(e)}),this):l.each((function(e){"highlight"===t?u._highlight(e):u._downplay(e)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(39),o=n(64),s=n(14),l=n(6),c=l["a"].vec3,u=l["a"].mat3,A=s["a"].extend((function(){return{attributes:{position:new s["a"].Attribute("position","float",3,"POSITION"),normal:new s["a"].Attribute("normal","float",3,"NORMAL"),color:new s["a"].Attribute("color","float",4,"COLOR"),prevPosition:new s["a"].Attribute("prevPosition","float",3),prevNormal:new s["a"].Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}}),{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(t){var e=this.enableNormal,n=this.getBarVertexCount()*t,r=this.getBarTriangleCount()*t;this.vertexCount!==n&&(this.attributes.position.init(n),e?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==r&&(this.indices=n>65535?new Uint32Array(3*r):new Uint16Array(3*r),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarVertexCount(t):this.enableNormal?24:8},getBarTriangleCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarTriangleCount(t):12},_getBevelBarVertexCount:function(t){return 4*(t+1)*(t+1)*2},_getBevelBarTriangleCount:function(t){var e=4*t+3,n=2*t+1;return(e+1)*n*2+4},setColor:function(t,e){for(var n=this.getBarVertexCount(),r=n*t,i=n*(t+1),a=r;a<i;a++)this.attributes.color.set(a,e);this.dirtyAttribute("color")},getDataIndexOfVertex:function(t){return this._dataIndices?this._dataIndices[t]:null},addBar:function(){for(var t=c.create,e=c.scaleAndAdd,n=t(),r=t(),i=t(),a=t(),o=t(),s=t(),l=t(),u=[],A=[],h=0;h<8;h++)u[h]=t();var f=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],d=[0,1,2,0,2,3],p=[];for(h=0;h<f.length;h++)for(var m=f[h],g=0;g<2;g++){for(var v=[],_=0;_<3;_++)v.push(m[d[3*g+_]]);p.push(v)}return function(t,h,m,g,v,_){var y=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(t,h,m,g,this.bevelSize,this.bevelSegments,v);else{c.copy(i,h),c.normalize(i,i),c.cross(a,m,i),c.normalize(a,a),c.cross(r,i,a),c.normalize(a,a),c.negate(o,r),c.negate(s,i),c.negate(l,a),e(u[0],t,r,g[0]/2),e(u[0],u[0],a,g[2]/2),e(u[1],t,r,g[0]/2),e(u[1],u[1],l,g[2]/2),e(u[2],t,o,g[0]/2),e(u[2],u[2],l,g[2]/2),e(u[3],t,o,g[0]/2),e(u[3],u[3],a,g[2]/2),e(n,t,i,g[1]),e(u[4],n,r,g[0]/2),e(u[4],u[4],a,g[2]/2),e(u[5],n,r,g[0]/2),e(u[5],u[5],l,g[2]/2),e(u[6],n,o,g[0]/2),e(u[6],u[6],l,g[2]/2),e(u[7],n,o,g[0]/2),e(u[7],u[7],a,g[2]/2);var w=this.attributes;if(this.enableNormal){A[0]=r,A[1]=o,A[2]=i,A[3]=s,A[4]=a,A[5]=l;for(var x=this._vertexOffset,b=0;b<f.length;b++){for(var C=3*this._triangleOffset,B=0;B<6;B++)this.indices[C++]=x+d[B];x+=4,this._triangleOffset+=2}for(b=0;b<f.length;b++){var E=A[b];for(B=0;B<4;B++){var T=f[b][B];w.position.set(this._vertexOffset,u[T]),w.normal.set(this._vertexOffset,E),w.color.set(this._vertexOffset++,v)}}}else{for(b=0;b<p.length;b++){for(C=3*this._triangleOffset,B=0;B<3;B++)this.indices[C+B]=p[b][B]+this._vertexOffset;this._triangleOffset++}for(b=0;b<u.length;b++)w.position.set(this._vertexOffset,u[b]),w.color.set(this._vertexOffset++,v)}}var S=this._vertexOffset;for(b=y;b<S;b++)this._dataIndices[b]=_}}(),_addBevelBar:function(){var t=c.create(),e=c.create(),n=c.create(),r=u.create(),i=[],a=[1,-1,-1,1],o=[1,1,-1,-1],s=[2,0];return function(l,u,A,h,f,d,p){c.copy(e,u),c.normalize(e,e),c.cross(n,A,e),c.normalize(n,n),c.cross(t,e,n),c.normalize(n,n),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=e[0],r[4]=e[1],r[5]=e[2],r[6]=n[0],r[7]=n[1],r[8]=n[2],f=Math.min(h[0],h[2])/2*f;for(var m=0;m<3;m++)i[m]=Math.max(h[m]-2*f,0);var g=(h[0]-i[0])/2,v=(h[1]-i[1])/2,_=(h[2]-i[2])/2,y=[],w=[],x=this._vertexOffset,b=[];for(m=0;m<2;m++){b[m]=b[m]=[];for(var C=0;C<=d;C++)for(var B=0;B<4;B++){(0===C&&0===m||1===m&&C===d)&&b[m].push(x);for(var E=0;E<=d;E++){var T=E/d*Math.PI/2+Math.PI/2*B,S=C/d*Math.PI/2+Math.PI/2*m;w[0]=g*Math.cos(T)*Math.sin(S),w[1]=v*Math.cos(S),w[2]=_*Math.sin(T)*Math.sin(S),y[0]=w[0]+a[B]*i[0]/2,y[1]=w[1]+v+s[m]*i[1]/2,y[2]=w[2]+o[B]*i[2]/2,Math.abs(g-v)<1e-6&&Math.abs(v-_)<1e-6||(w[0]/=g*g,w[1]/=v*v,w[2]/=_*_),c.normalize(w,w),c.transformMat3(y,y,r),c.transformMat3(w,w,r),c.add(y,y,l),this.attributes.position.set(x,y),this.enableNormal&&this.attributes.normal.set(x,w),this.attributes.color.set(x,p),x++}}}var M=4*d+3,N=2*d+1,D=M+1;for(B=0;B<N;B++)for(m=0;m<=M;m++){var O=B*D+m+this._vertexOffset,U=B*D+(m+1)%D+this._vertexOffset,I=(B+1)*D+(m+1)%D+this._vertexOffset,L=(B+1)*D+m+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[I,O,U]),this.setTriangleIndices(this._triangleOffset++,[I,L,O])}this.setTriangleIndices(this._triangleOffset++,[b[0][0],b[0][2],b[0][1]]),this.setTriangleIndices(this._triangleOffset++,[b[0][0],b[0][3],b[0][2]]),this.setTriangleIndices(this._triangleOffset++,[b[1][0],b[1][1],b[1][2]]),this.setTriangleIndices(this._triangleOffset++,[b[1][0],b[1][2],b[1][3]]),this._vertexOffset=x}}()});i.a.util.defaults(A.prototype,a["a"]),i.a.util.defaults(A.prototype,o["a"]),e["a"]=A},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31),o=n(32),s=n(40),l=n(50),c=i.a.extendSeriesModel({type:"series.bar3D",dependencies:["globe"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){return Object(l["a"])(this)},getFormattedLabel:function(t,e,n,r){var i=o["a"].getFormattedLabel(this,t,e,n,r);return null==i&&(i=this.getData().get("z",t)),i},formatTooltip:function(t){return Object(s["a"])(this,t)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});i.a.util.merge(c.prototype,a["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(235),n(236),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("line3D","circle",null)),i.a.registerVisual(Object(s["a"])("line3D")),i.a.registerLayout((function(t,e){t.eachSeriesByType("line3D",(function(t){var e=t.getData(),n=t.coordinateSystem;if(n){if("cartesian3D"!==n.type)return void console.error("line3D needs cartesian3D coordinateSystem");var r=new Float32Array(3*e.count()),i=[],a=[],o=n.dimensions,s=o.map((function(e){return t.coordDimToDataDim(e)[0]}));n&&e.each(s,(function(t,e,o,s){i[0]=t,i[1]=e,i[2]=o,n.dataToPoint(i,a),r[3*s]=a[0],r[3*s+1]=a[1],r[3*s+2]=a[2]})),e.setLayout("points",r)}}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(40),o=n(50);i.a.extendSeriesModel({type:"series.line3D",dependencies:["grid3D"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){return Object(o["a"])(this)},formatTooltip:function(t){return Object(a["a"])(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(25),l=n(7),c=n(3),u=n(237),A=n.n(u),h=n(6),f=n(46),d=h["a"].vec3;a["a"].Shader.import(f["a"]);i.a.extendChartView({type:"line3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this._api=e},render:function(t,e,n){var r=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=r,this._line3DMesh||(this._line3DMesh=new a["a"].Mesh({geometry:new s["a"]({useNativeLine:!1,sortTriangles:!0}),material:new a["a"].Material({shader:a["a"].createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var i=t.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL);var o=i.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[o]("fragment","SRGB_DECODE")}this._doRender(t,n),this._data=t.getData(),this._camera=i.viewGL.camera,this.updateCamera(),this._updateAnimation(t)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(t,e){var n=t.getData(),r=this._line3DMesh;r.geometry.resetOffset();var i=n.getLayout("points"),s=[],l=new Float32Array(i.length/3*4),c=0,u=!1;n.each((function(t){var e=n.getItemVisual(t,"color"),r=n.getItemVisual(t,"opacity");null==r&&(r=1),a["a"].parseColor(e,s),s[3]*=r,l[c++]=s[0],l[c++]=s[1],l[c++]=s[2],l[c++]=s[3],s[3]<.99&&(u=!0)})),r.geometry.setVertexCount(r.geometry.getPolylineVertexCount(i)),r.geometry.setTriangleCount(r.geometry.getPolylineTriangleCount(i)),r.geometry.addPolyline(i,l,o["a"].firstNotNull(t.get("lineStyle.width"),1)),r.geometry.dirty(),r.geometry.updateBoundingBox();var A=r.material;A.transparent=u,A.depthMask=!u;var h=t.getModel("debug.wireframe");h.get("show")?(r.geometry.createAttribute("barycentric","float",3),r.geometry.generateBarycentric(),r.material.set("both","WIREFRAME_TRIANGLE"),r.material.set("wireframeLineColor",a["a"].parseColor(h.get("lineStyle.color")||"rgba(0,0,0,0.5)")),r.material.set("wireframeLineWidth",o["a"].firstNotNull(h.get("lineStyle.width"),1))):r.material.set("both","WIREFRAME_TRIANGLE"),this._points=i,this._initHandler(t,e)},_updateAnimation:function(t){a["a"].updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,t)},_initHandler:function(t,e){var n=t.getData(),r=t.coordinateSystem,i=this._line3DMesh,a=-1;i.seriesIndex=t.seriesIndex,i.off("mousemove"),i.off("mouseout"),i.on("mousemove",(function(t){var o=r.pointToData(t.point.array),s=n.indicesOfNearest("x",o[0])[0];s!==a&&(e.dispatchAction({type:"grid3DShowAxisPointer",value:[n.get("x",s),n.get("y",s),n.get("z",s)]}),i.dataIndex=s),a=s}),this),i.on("mouseout",(function(t){a=-1,i.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateNDCPosition:function(){var t=new l["a"],e=this._camera;l["a"].multiply(t,e.projectionMatrix,e.viewMatrix);var n=this._positionNDC,r=this._points,i=r.length/3;n&&n.length/2===i||(n=this._positionNDC=new Float32Array(2*i));for(var a=[],o=0;o<i;o++){var s=3*o,c=2*o;a[0]=r[s],a[1]=r[s+1],a[2]=r[s+2],a[3]=1,d.transformMat4(a,a,t.array),n[c]=a[0]/a[3],n[c+1]=a[1]/a[3]}},_pick:function(t,e,n,r,i,a){var o=this._positionNDC,s=this._data.hostModel,l=s.get("lineStyle.width"),u=-1,h=n.viewport.width,f=n.viewport.height,d=.5*h,p=.5*f;t=(t+1)*d,e=(e+1)*p;for(var m=1;m<o.length/2;m++){var g=(o[2*(m-1)]+1)*d,v=(o[2*(m-1)+1]+1)*p,_=(o[2*m]+1)*d,y=(o[2*m+1]+1)*p;if(A.a.containStroke(g,v,_,y,l,t,e)){var w=(g-t)*(g-t)+(v-e)*(v-e),x=(_-t)*(_-t)+(y-e)*(y-e);u=w<x?m-1:m}}if(u>=0){var b=3*u,C=new c["a"](this._points[b],this._points[b+1],this._points[b+2]);a.push({dataIndex:u,point:C,pointWorld:C.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(C)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e){function n(t,e,n,r,i,a,o){if(0===i)return!1;var s=i,l=0,c=t;if(o>e+s&&o>r+s||o<e-s&&o<r-s||a>t+s&&a>n+s||a<t-s&&a<n-s)return!1;if(t===n)return Math.abs(a-t)<=s/2;l=(e-r)/(t-n),c=(t*r-n*e)/(t-n);var u=l*a-o+c,A=u*u/(l*l+1);return A<=s/2*s/2}e.containStroke=n},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(239),n(240),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("scatter3D","circle",null)),i.a.registerVisual(Object(s["a"])("scatter3D")),i.a.registerLayout({seriesType:"scatter3D",reset:function(t){var e=t.coordinateSystem;if(e){var n=e.dimensions;if(n.length<3)return void console.error("scatter3D needs 3D coordinateSystem");var r=n.map((function(e){return t.coordDimToDataDim(e)[0]})),i=[],a=[];return{progress:function(t,n){for(var o=new Float32Array(3*(t.end-t.start)),s=t.start;s<t.end;s++){var l=3*(s-t.start);i[0]=n.get(r[0],s),i[1]=n.get(r[1],s),i[2]=n.get(r[2],s),e.dataToPoint(i,a),o[l]=a[0],o[l+1]=a[1],o[l+2]=a[2]}n.setLayout("points",o)}}}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(32),o=n(40),s=n(50);i.a.extendSeriesModel({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){return Object(s["a"])(this)},getFormattedLabel:function(t,e,n,r){var i=a["a"].getFormattedLabel(this,t,e,n,r);if(null==i){var o=this.getData(),s=o.dimensions[o.dimensions.length-1];i=o.get(s,t)}return i},formatTooltip:function(t){return Object(o["a"])(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(32),l=n(66);i.a.extendChartView({type:"scatter3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this._pointsBuilderList=[],this._currentStep=0},render:function(t,e,n){if(this.groupGL.removeAll(),t.getData().count()){var r=t.coordinateSystem;if(!r||!r.viewGL)throw new Error("Invalid coordinate system");r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera;var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new l["a"](!1,n)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),i.update(t,e,n),i.updateView(r.viewGL.camera)}},incrementalPrepareRender:function(t,e,n){var r=t.coordinateSystem;if(!r||!r.viewGL)throw new Error("Invalid coordinate system");r.viewGL.add(this.groupGL),this._camera=r.viewGL.camera,this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(t,e,n,r){if(!(t.end<=t.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new l["a"](!1,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),i.update(e,n,r,t.start,t.end),i.updateView(e.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach((function(t){t.updateView(this._camera)}),this)},highlight:function(t,e,n,r){this._toggleStatus("highlight",t,e,n,r)},downplay:function(t,e,n,r){this._toggleStatus("downplay",t,e,n,r)},_toggleStatus:function(t,e,n,r,a){var l=e.getData(),c=o["a"].queryDataIndex(l,a),u="highlight"===t;null!=c?i.a.util.each(s["a"].normalizeToArray(c),(function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];u?n.highlight(l,t):n.downplay(l,t)}}),this):l.each((function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];u?n.highlight(l,t):n.downplay(l,t)}}))},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function a(t,e,n){e=e||document.createElement("canvas");e.width=t,e.height=t;var r=e.getContext("2d");return n&&n(r),e}function o(t,e,n,r){i.a.util.isArray(e)||(e=[e,e]);var a=l.getMarginByStyle(n,r),o=e[0]+a.left+a.right,s=e[1]+a.top+a.bottom,c=i.a.helper.createSymbol(t,0,0,e[0],e[1]),u=Math.max(o,s);c.position=[a.left,a.top],o>s?c.position[1]+=(u-s)/2:c.position[0]+=(u-o)/2;var A=c.getBoundingRect();return c.position[0]-=A.x,c.position[1]-=A.y,c.setStyle(n),c.update(),c.__size=u,c}function s(t,e,n){var r=e.width,i=e.height,a=t.canvas.width,o=t.canvas.height,s=r/a,l=i/o;function c(t){return t<128?1:-1}function u(t,a){var o=1/0;t=Math.floor(t*s),a=Math.floor(a*l);for(var u=a*r+t,A=e.data[4*u],h=c(A),f=Math.max(a-n,0);f<Math.min(a+n,i);f++)for(var d=Math.max(t-n,0);d<Math.min(t+n,r);d++){u=f*r+d;var p=e.data[4*u],m=c(p),g=d-t,v=f-a;if(h!==m){var _=g*g+v*v;_<o&&(o=_)}}return h*Math.sqrt(o)}for(var A=t.createImageData(a,o),h=0;h<o;h++)for(var f=0;f<a;f++){var d=u(f,h),p=d/n*.5+.5,m=4*(h*a+f);A.data[m++]=255*(1-p),A.data[m++]=255*(1-p),A.data[m++]=255*(1-p),A.data[m++]=255}return A}var l={getMarginByStyle:function(t){var e=t.minMargin||0,n=0;t.stroke&&"none"!==t.stroke&&(n=null==t.lineWidth?1:t.lineWidth);var r=t.shadowBlur||0,i=t.shadowOffsetX||0,a=t.shadowOffsetY||0,o={};return o.left=Math.max(n/2,-i+r,e),o.right=Math.max(n/2,i+r,e),o.top=Math.max(n/2,-a+r,e),o.bottom=Math.max(n/2,a+r,e),o},createSymbolSprite:function(t,e,n,r){var i=o(t,e,n),s=l.getMarginByStyle(n);return{image:a(i.__size,r,(function(t){i.brush(t)})),margin:s}},createSDFFromCanvas:function(t,e,n,r){return a(e,r,(function(e){var r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height);e.putImageData(s(e,i,n),0,0)}))},createSimpleSprite:function(t,e){return a(t,e,(function(e){var n=t/2;e.beginPath(),e.arc(n,n,60,0,2*Math.PI,!1),e.closePath();var r=e.createRadialGradient(n,n,0,n,n,n);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=r,e.fill()}))}};e["a"]=l},function(t,e,n){"use strict";var r=n(1),i=n(243),a=n(0),o=n.n(a),s=n(6),l=n(244),c=s["a"].vec4;r["a"].Shader.import(l["a"]);var u=r["a"].Mesh.extend((function(){var t=new r["a"].Geometry({dynamic:!0,attributes:{color:new r["a"].Geometry.Attribute("color","float",4,"COLOR"),position:new r["a"].Geometry.Attribute("position","float",3,"POSITION"),size:new r["a"].Geometry.Attribute("size","float",1),prevPosition:new r["a"].Geometry.Attribute("prevPosition","float",3),prevSize:new r["a"].Geometry.Attribute("prevSize","float",1)}});o.a.util.extend(t,i["a"]);var e=new r["a"].Material({shader:r["a"].createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});e.enableTexture("sprite"),e.define("both","VERTEX_COLOR"),e.define("both","VERTEX_SIZE");var n=new r["a"].Texture2D({image:document.createElement("canvas"),flipY:!1});return e.set("sprite",n),t.pick=this._pick.bind(this),{geometry:t,material:e,mode:r["a"].Mesh.POINTS,sizeScale:1}}),{_pick:function(t,e,n,i,a,o){var s=this._positionNDC;if(s)for(var l=n.viewport,c=2/l.width,u=2/l.height,A=this.geometry.vertexCount-1;A>=0;A--){var h;h=this.geometry.indices?this.geometry.indices[A]:A;var f=s[2*h],d=s[2*h+1],p=this.geometry.attributes.size.get(h)/this.sizeScale,m=p/2;if(t>f-m*c&&t<f+m*c&&e>d-m*u&&e<d+m*u){var g=new r["a"].Vector3,v=new r["a"].Vector3;this.geometry.attributes.position.get(h,g.array),r["a"].Vector3.transformMat4(v,g,this.worldTransform),o.push({vertexIndex:h,point:g,pointWorld:v,target:this,distance:v.distance(i.getWorldPosition())})}}},updateNDCPosition:function(t,e,n){var r=this._positionNDC,i=this.geometry;r&&r.length/2===i.vertexCount||(r=this._positionNDC=new Float32Array(2*i.vertexCount));for(var a=c.create(),o=0;o<i.vertexCount;o++)i.attributes.position.get(o,a),a[3]=1,c.transformMat4(a,a,t.array),c.scale(a,a,1/a[3]),r[2*o]=a[0],r[2*o+1]=a[1]}});e["a"]=u},function(t,e,n){"use strict";var r=n(96),i=n(6),a=i["a"].vec3;e["a"]={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(t,e){var n=this.indices,r=a.create();if(!n){n=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var i=0;i<n.length;i++)n[i]=i}if(0===e){var o,s=this.attributes.position,l=(t=t.array,0);this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(i=0;i<this.vertexCount;i++){s.get(i,r);var c=a.sqrDist(r,t);isNaN(c)&&(c=1e7,l++),0===i?(o=c,c=0):c-=o,this._zList[i]=c}this._noneCount=l}if(this.vertexCount<2e4)0===e&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(i=0;i<3;i++)this._progressiveQuickSort(3*e+i);this.dirtyIndices()},_simpleSort:function(t){var e=this._zList,n=this.indices;function i(t,n){return e[n]-e[t]}t?Array.prototype.sort.call(n,i):r["a"].sort(n,i,0,n.length-1)},_progressiveQuickSort:function(t){var e=this._zList,n=this.indices;this._quickSort=this._quickSort||new r["a"],this._quickSort.step(n,(function(t,n){return e[n]-e[t]}),t)}}},function(t,e,n){"use strict";e["a"]="@export ecgl.sdfSprite.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform float elapsedTime : 0;\n\nattribute vec3 position : POSITION;\n\n#ifdef VERTEX_SIZE\nattribute float size;\n#else\nuniform float u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\nattribute vec4 a_FillColor: COLOR;\nvarying vec4 v_Color;\n#endif\n\n#ifdef VERTEX_ANIMATION\nattribute vec3 prevPosition;\nattribute float prevSize;\nuniform float percent : 1.0;\n#endif\n\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvarying float v_Size;\n\nvoid main()\n{\n\n#ifdef POSITIONTEXTURE_ENABLED\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\n#else\n\n #ifdef VERTEX_ANIMATION\n vec3 pos = mix(prevPosition, position, percent);\n #else\n vec3 pos = position;\n #endif\n gl_Position = worldViewProjection * vec4(pos, 1.0);\n#endif\n\n#ifdef VERTEX_SIZE\n#ifdef VERTEX_ANIMATION\n v_Size = mix(prevSize, size, percent);\n#else\n v_Size = size;\n#endif\n#else\n v_Size = u_Size;\n#endif\n\n#ifdef VERTEX_COLOR\n v_Color = a_FillColor;\n #endif\n\n gl_PointSize = v_Size;\n}\n\n@end\n\n@export ecgl.sdfSprite.fragment\n\nuniform vec4 color: [1, 1, 1, 1];\nuniform vec4 strokeColor: [1, 1, 1, 1];\nuniform float smoothing: 0.07;\n\nuniform float lineWidth: 0.0;\n\n#ifdef VERTEX_COLOR\nvarying vec4 v_Color;\n#endif\n\nvarying float v_Size;\n\nuniform sampler2D sprite;\n\n@import clay.util.srgb\n\nvoid main()\n{\n gl_FragColor = color;\n\n vec4 _strokeColor = strokeColor;\n\n#ifdef VERTEX_COLOR\n gl_FragColor *= v_Color;\n #endif\n\n#ifdef SPRITE_ENABLED\n float d = texture2D(sprite, gl_PointCoord).r;\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\n\n if (lineWidth > 0.0) {\n float sLineWidth = lineWidth / 2.0;\n\n float outlineMaxValue0 = 0.5 + sLineWidth;\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\n float outlineMinValue1 = 0.5 - sLineWidth;\n\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\n float a = _strokeColor.a;\n if (d <= outlineMinValue1) {\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\n }\n else {\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\n }\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\n }\n }\n#endif\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(gl_FragColor);\n#endif\n}\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(246),n(247),n(250),n(17));i.a.registerVisual(Object(a["a"])("lines3D")),i.a.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},(function(){})),i.a.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},(function(){})),i.a.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},(function(){}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(6),o=a["a"].vec3,s=a["a"].vec2,l=o.normalize,c=o.cross,u=o.sub,A=o.add,h=o.create,f=h(),d=h(),p=h(),m=h(),g=[],v=[];function _(t,e){s.copy(g,t[0]),s.copy(v,t[1]);var n=[],r=n[0]=h(),i=n[1]=h(),a=n[2]=h(),_=n[3]=h();e.dataToPoint(g,r),e.dataToPoint(v,_),l(f,r),u(d,_,r),l(d,d),c(p,d,f),l(p,p),c(d,f,p),A(i,f,d),l(i,i),l(f,_),u(d,r,_),l(d,d),c(p,d,f),l(p,p),c(d,f,p),A(a,f,d),l(a,a),A(m,r,_),l(m,m);var y=o.dot(r,m),w=o.dot(m,i),x=(Math.max(o.len(r),o.len(_))-y)/w*2;return o.scaleAndAdd(i,r,i,x),o.scaleAndAdd(a,_,a,x),n}function y(t,e,n){var r=[],i=r[0]=o.create(),a=r[1]=o.create(),s=r[2]=o.create(),l=r[3]=o.create();e.dataToPoint(t[0],i),e.dataToPoint(t[1],l);var c=o.dist(i,l);return o.lerp(a,i,l,.3),o.lerp(s,i,l,.3),o.scaleAndAdd(a,a,n,Math.min(.1*c,10)),o.scaleAndAdd(s,s,n,Math.min(.1*c,10)),r}function w(t,e){for(var n=new Float32Array(3*t.length),r=0,i=[],a=0;a<t.length;a++)e.dataToPoint(t[a],i),n[r++]=i[0],n[r++]=i[1],n[r++]=i[2];return n}function x(t){var e=[];return t.each((function(n){var r=t.getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords",!0);if(!(i instanceof Array&&i.length>0&&i[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(i)+". Lines must have 2d coords array in data item.");e.push(i)})),{coordsList:e}}function b(t,e){var n=t.getData(),r=t.get("polyline");n.setLayout("lineType",r?"polyline":"cubicBezier");var i=x(n);n.each((function(t){var a=i.coordsList[t],o=r?w:_;n.setItemLayout(t,o(a,e))}))}function C(t,e,n){var r=t.getData(),i=t.get("polyline"),a=x(r);r.setLayout("lineType",i?"polyline":"cubicBezier"),r.each((function(t){var o=a.coordsList[t],s=i?w(o,e):y(o,e,n);r.setItemLayout(t,s)}))}i.a.registerLayout((function(t,e){t.eachSeriesByType("lines3D",(function(t){var e=t.coordinateSystem;"globe"===e.type?b(t,e):"geo3D"===e.type?C(t,e,[0,1,0]):"mapbox3D"!==e.type&&"maptalks3D"!==e.type||C(t,e,[0,0,1])}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(25),s=n(248),l=n(46);function c(t){return null!=t.radius?t.radius:null!=t.size?Math.max(t.size[0],t.size[1],t.size[2]):100}a["a"].Shader.import(l["a"]);i.a.extendChartView({type:"lines3D",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this._meshLinesMaterial=new a["a"].Material({shader:a["a"].createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new a["a"].Mesh({geometry:new o["a"],material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new s["a"]},render:function(t,e,n){this.groupGL.add(this._linesMesh);var r=t.coordinateSystem,i=t.getData();if(r&&r.viewGL){var o=r.viewGL;o.add(this.groupGL),this._updateLines(t,e,n);var s=r.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[s]("fragment","SRGB_DECODE"),this._trailMesh.material[s]("fragment","SRGB_DECODE")}var l=this._trailMesh;if(l.stopAnimation(),t.get("effect.show")){this.groupGL.add(l),l.updateData(i,n,this._linesMesh.geometry),l.__time=l.__time||0;var c=36e5;this._curveEffectsAnimator=l.animate("",{loop:!0}).when(c,{__time:c}).during((function(){l.setAnimationTime(l.__time)})).start()}else this.groupGL.remove(l),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend="lighter"===t.get("blendMode")?a["a"].additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var t=this._curveEffectsAnimator;t&&(t.isPaused()?t.resume():t.pause())},_updateLines:function(t,e,n){var r=t.getData(),i=t.coordinateSystem,o=this._linesMesh.geometry,s=t.get("polyline");o.expandLine=!0;var l=c(i);o.segmentScale=l/20;var u="lineStyle.width".split("."),A=n.getDevicePixelRatio(),h=0;r.each((function(t){var e=r.getItemModel(t),n=e.get(u);null==n&&(n=1),r.setItemVisual(t,"lineWidth",n),h=Math.max(n,h)})),o.useNativeLine=!1;var f=0,d=0;r.each((function(t){var e=r.getItemLayout(t);s?(f+=o.getPolylineVertexCount(e),d+=o.getPolylineTriangleCount(e)):(f+=o.getCubicCurveVertexCount(e[0],e[1],e[2],e[3]),d+=o.getCubicCurveTriangleCount(e[0],e[1],e[2],e[3]))})),o.setVertexCount(f),o.setTriangleCount(d),o.resetOffset();var p=[];r.each((function(t){var e=r.getItemLayout(t),n=r.getItemVisual(t,"color"),i=r.getItemVisual(t,"opacity"),l=r.getItemVisual(t,"lineWidth")*A;null==i&&(i=1),p=a["a"].parseColor(n,p),p[3]*=i,s?o.addPolyline(e,p,l):o.addCubicCurve(e[0],e[1],e[2],e[3],p,l)})),o.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(1)),a=n(6),o=n(25),s=n(249),l=a["a"].vec3;function c(t){return t>0?1:-1}i["a"].Shader.import(s["a"]),e["a"]=i["a"].Mesh.extend((function(){var t=new i["a"].Material({shader:new i["a"].Shader(i["a"].Shader.source("ecgl.trail2.vertex"),i["a"].Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),e=new o["a"]({dynamic:!0});return e.createAttribute("dist","float",1),e.createAttribute("distAll","float",1),e.createAttribute("start","float",1),{geometry:e,material:t,culling:!1,$ignorePicking:!0}}),{updateData:function(t,e,n){var r=t.hostModel,a=this.geometry,o=r.getModel("effect"),s=o.get("trailWidth")*e.getDevicePixelRatio(),u=o.get("trailLength"),A=r.get("effect.constantSpeed"),h=1e3*r.get("effect.period"),f=null!=A;this.getScene()||console.error("TrailMesh must been add to scene before updateData"),f?this.material.set("speed",A/1e3):this.material.set("period",h),this.material[f?"define":"undefine"]("vertex","CONSTANT_SPEED");var d=r.get("polyline");a.trailLength=u,this.material.set("trailLength",u),a.resetOffset(),["position","positionPrev","positionNext"].forEach((function(t){a.attributes[t].value=n.attributes[t].value}));var p=["dist","distAll","start","offset","color"];p.forEach((function(t){a.attributes[t].init(a.vertexCount)})),a.indices=n.indices;var m=[],g=o.get("trailColor"),v=o.get("trailOpacity"),_=null!=g,y=null!=v;this.updateWorldTransform();var w=this.worldTransform.x.len(),x=this.worldTransform.y.len(),b=this.worldTransform.z.len(),C=0,B=0;t.each((function(e){var r=t.getItemLayout(e),o=y?v:t.getItemVisual(e,"opacity"),u=t.getItemVisual(e,"color");null==o&&(o=1),m=i["a"].parseColor(_?g:u,m),m[3]*=o;for(var A=d?n.getPolylineVertexCount(r):n.getCubicCurveVertexCount(r[0],r[1],r[2],r[3]),p=0,E=[],T=[],S=C;S<C+A;S++)a.attributes.position.get(S,E),E[0]*=w,E[1]*=x,E[2]*=b,S>C&&(p+=l.dist(E,T)),a.attributes.dist.set(S,p),l.copy(T,E);B=Math.max(B,p);var M=Math.random()*(f?p:h);for(S=C;S<C+A;S++)a.attributes.distAll.set(S,p),a.attributes.start.set(S,M),a.attributes.offset.set(S,c(n.attributes.offset.get(S))*s/2),a.attributes.color.set(S,m);C+=A})),this.material.set("spotSize",.1*B*u),this.material.set("spotIntensity",o.get("spotIntensity")),a.dirty()},setAnimationTime:function(t){this.material.set("time",t)}})},function(t,e,n){"use strict";e["a"]="@export ecgl.trail2.vertex\nattribute vec3 position: POSITION;\nattribute vec3 positionPrev;\nattribute vec3 positionNext;\nattribute float offset;\nattribute float dist;\nattribute float distAll;\nattribute float start;\n\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\nuniform float near : NEAR;\n\nuniform float speed : 0;\nuniform float trailLength: 0.3;\nuniform float time;\nuniform float period: 1000;\n\nuniform float spotSize: 1;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.vertexHeader\n\n@import ecgl.lines3D.clipNear\n\nvoid main()\n{\n @import ecgl.lines3D.expandLine\n\n gl_Position = currProj;\n\n v_Color = a_Color;\n\n @import ecgl.common.wireframe.vertexMain\n\n#ifdef CONSTANT_SPEED\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\n#else\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\n#endif\n\n float trailLen = distAll * trailLength;\n\n v_Percent = (dist - t * distAll) / trailLen;\n\n v_SpotPercent = spotSize / distAll;\n\n }\n@end\n\n\n@export ecgl.trail2.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform float spotIntensity: 5;\n\nvarying vec4 v_Color;\nvarying float v_Percent;\nvarying float v_SpotPercent;\n\n@import ecgl.common.wireframe.fragmentHeader\n\n@import clay.util.srgb\n\nvoid main()\n{\n if (v_Percent > 1.0 || v_Percent < 0.0) {\n discard;\n }\n\n float fade = v_Percent;\n\n#ifdef SRGB_DECODE\n gl_FragColor = sRGBToLinear(color * v_Color);\n#else\n gl_FragColor = color * v_Color;\n#endif\n\n @import ecgl.common.wireframe.fragmentMain\n\n if (v_Percent > (1.0 - v_SpotPercent)) {\n gl_FragColor.rgb *= spotIntensity;\n }\n\n gl_FragColor.a *= fade;\n}\n\n@end"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.lines3D",dependencies:["globe"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n=new i.a.List(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(252),n(253),n(17));i.a.registerVisual(Object(a["a"])("polygons3D"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31);function o(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.dataToPoint(e[r]));return n}var s=i.a.extendSeriesModel({type:"series.polygons3D",getRegionModel:function(t){return this.getData().getItemModel(t)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getItemModel(t),r=n.option instanceof Array?n.option:n.getShallow("coords");n.get("multiPolygon")||(r=[r]);for(var i=[],a=0;a<r.length;a++){for(var s=[],l=1;l<r[a].length;l++)s.push(o(e,r[a][l]));i.push({exterior:o(e,r[a][0]),interiors:s})}return i},getInitialData:function(t){var e=new i.a.List(["value"],this);return e.hasItemOption=!1,e.initData(t.data,[],(function(t,n,r,i){if(t instanceof Array)return NaN;e.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0})),e},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});i.a.util.merge(s.prototype,a["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(63),o=n(1);i.a.extendChartView({type:"polygons3D",__ecgl__:!0,init:function(t,e){this.groupGL=new o["a"].Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll();var r=t.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL);var i=this._geo3DBuilderList[0];i||(i=new a["a"](n),i.extrudeY="mapbox3D"!==r.type&&"maptalks3D"!==r.type,this._geo3DBuilderList[0]=i),this._updateShaderDefines(r,i),i.update(t,e,n),this._geo3DBuilderList.length=1,this.groupGL.add(i.rootNode)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll();var r=t.coordinateSystem;r&&r.viewGL&&r.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(t,e,n,r){var i=this._geo3DBuilderList[this._currentStep],o=e.coordinateSystem;i||(i=new a["a"](r),i.extrudeY="mapbox3D"!==o.type&&"maptalks3D"!==o.type,this._geo3DBuilderList[this._currentStep]=i),i.update(e,n,r,t.start,t.end),this.groupGL.add(i.rootNode),this._updateShaderDefines(o,i),this._currentStep++},_updateShaderDefines:function(t,e){var n=t.viewGL.isLinearSpace()?"define":"undefine";e.rootNode.traverse((function(e){e.material&&(e.material[n]("fragment","SRGB_DECODE"),"mapbox3D"!==t.type&&"maptalks3D"!==t.type||(e.material.define("fragment","NORMAL_UP_AXIS",2),e.material.define("fragment","NORMAL_FRONT_AXIS",1)))}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(255),n(256),n(257),n(17));i.a.registerVisual(Object(a["a"])("surface"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(31),o=n(40),s=n(50),l=i.a.extendSeriesModel({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualColorAccessPath:"itemStyle.color",formatTooltip:function(t){return Object(o["a"])(this,t)},getInitialData:function(t,e){var n=t.data;function r(t){return!(isNaN(t.min)||isNaN(t.max)||isNaN(t.step))}function a(t){var e=i.a.number.getPrecisionSafe;return Math.max(e(t.min),e(t.max),e(t.step))+1}if(!n)if(t.parametric){var o=t.parametricEquation||{},l=o.u||{},c=o.v||{};["u","v"].forEach((function(t){r(o[t])||console.error("Invalid parametricEquation.%s",t)})),["x","y","z"].forEach((function(t){"function"===typeof o[t]||console.error("parametricEquation.%s needs to be function",t)}));var u=Math.floor((l.max+l.step-l.min)/l.step),A=Math.floor((c.max+c.step-c.min)/c.step);n=new Float32Array(u*A*5);var h=a(l),f=a(c);for(B=0,E=0;E<A;E++)for(T=0;T<u;T++){var d=T*l.step+l.min,p=E*c.step+c.min,m=i.a.number.round(Math.min(d,l.max),h),g=i.a.number.round(Math.min(p,c.max),f);S=o.x(m,g),M=o.y(m,g),O=o.z(m,g);n[B++]=S,n[B++]=M,n[B++]=O,n[B++]=m,n[B++]=g}}else{var v=t.equation||{},_=v.x||{},y=v.y||{};if(["x","y"].forEach((function(t){r(v[t])||console.error("Invalid equation.%s",t)})),"function"!==typeof v.z)return void console.error("equation.z needs to be function");var w=Math.floor((_.max+_.step-_.min)/_.step),x=Math.floor((y.max+y.step-y.min)/y.step);n=new Float32Array(w*x*3);for(var b=a(_),C=a(y),B=0,E=0;E<x;E++)for(var T=0;T<w;T++){var S=T*_.step+_.min,M=E*y.step+y.min,N=i.a.number.round(Math.min(S,_.max),b),D=i.a.number.round(Math.min(M,y.max),C),O=v.z(N,D);n[B++]=N,n[B++]=D,n[B++]=O}}var U=["x","y","z"];t.parametric&&U.push("u","v");var I=Object(s["a"])(this,U,n);return I},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});i.a.util.merge(l.prototype,a["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=(n(2),n(6)),s=n(64),l=o["a"].vec3;function c(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])}i.a.extendChartView({type:"surface",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node},render:function(t,e,n){var r=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=r,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var i=t.coordinateSystem,o=t.get("shading"),s=t.getData(),l="ecgl."+o;if(this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===l||(this._surfaceMesh.material=a["a"].createMaterial(l,["VERTEX_COLOR","DOUBLE_SIDED"])),a["a"].setMaterialFromModel(o,this._surfaceMesh.material,t,n),i&&i.viewGL){i.viewGL.add(this.groupGL);var c=i.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[c]("fragment","SRGB_DECODE")}var u=t.get("parametric"),A=t.get("dataShape");A||(A=this._getDataShape(s,u),t.get("data")&&console.warn("dataShape is not provided. Guess it is ",A));var h=t.getModel("wireframe"),f=h.get("lineStyle.width"),d=h.get("show")&&f>0;this._updateSurfaceMesh(this._surfaceMesh,t,A,d);var p=this._surfaceMesh.material;d?(p.define("WIREFRAME_QUAD"),p.set("wireframeLineWidth",f),p.set("wireframeLineColor",a["a"].parseColor(h.get("lineStyle.color")))):p.undefine("WIREFRAME_QUAD"),this._initHandler(t,n),this._updateAnimation(t)},_updateAnimation:function(t){a["a"].updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,t)},_createSurfaceMesh:function(){var t=new a["a"].Mesh({geometry:new a["a"].Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new a["a"].Material({shader:new a["a"].Shader(a["a"].Shader.source("ecgl.sm.depth.vertex"),a["a"].Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return t.geometry.createAttribute("barycentric","float",4),t.geometry.createAttribute("prevPosition","float",3),t.geometry.createAttribute("prevNormal","float",3),i.a.util.extend(t.geometry,s["a"]),t},_initHandler:function(t,e){var n=t.getData(),r=this._surfaceMesh,i=t.coordinateSystem;function a(t,e){for(var n=1/0,i=-1,a=[],o=0;o<t.length;o++){r.geometry.attributes.position.get(t[o],a);var s=l.dist(e.array,a);s<n&&(n=s,i=t[o])}return i}r.seriesIndex=t.seriesIndex;var o=-1;r.off("mousemove"),r.off("mouseout"),r.on("mousemove",(function(t){var s=a(t.triangle,t.point);if(s>=0){var c=[];r.geometry.attributes.position.get(s,c);for(var u=i.pointToData(c),A=1/0,h=-1,f=[],d=0;d<n.count();d++){f[0]=n.get("x",d),f[1]=n.get("y",d),f[2]=n.get("z",d);var p=l.squaredDistance(f,u);p<A&&(h=d,A=p)}h!==o&&e.dispatchAction({type:"grid3DShowAxisPointer",value:u}),o=h,r.dataIndex=h}else r.dataIndex=-1}),this),r.on("mouseout",(function(t){o=-1,r.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})}),this)},_updateSurfaceMesh:function(t,e,n,r){var i=t.geometry,o=e.getData(),s=o.getLayout("points"),u=0;o.each((function(t){o.hasValue(t)||u++}));var A=u||r,h=i.attributes.position,f=i.attributes.normal,d=i.attributes.texcoord0,p=i.attributes.barycentric,m=i.attributes.color,g=n[0],v=n[1],_=e.get("shading"),y="color"!==_;if(A){var w=(g-1)*(v-1)*4;h.init(w),r&&p.init(w)}else h.value=new Float32Array(s);m.init(i.vertexCount),d.init(i.vertexCount);var x=[0,3,1,1,3,2],b=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],C=i.indices=new(i.vertexCount>65535?Uint32Array:Uint16Array)((g-1)*(v-1)*6),B=function(t,e,n){n[1]=t*v+e,n[0]=t*v+e+1,n[3]=(t+1)*v+e+1,n[2]=(t+1)*v+e},E=!1;if(A){var T=[],S=[],M=0;y?f.init(i.vertexCount):f.value=null;for(var N=[[],[],[]],D=[],O=[],U=l.create(),I=function(t,e,n){var r=3*e;return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n},L=new Float32Array(s.length),F=new Float32Array(s.length/3*4),R=0;R<o.count();R++)if(o.hasValue(R)){var P=a["a"].parseColor(o.getItemVisual(R,"color")),Q=o.getItemVisual(R,"opacity");P[3]*=Q,P[3]<.99&&(E=!0);for(var H=0;H<4;H++)F[4*R+H]=P[H]}var k=[1e7,1e7,1e7];for(R=0;R<g-1;R++)for(var z=0;z<v-1;z++){var V=R*(v-1)+z,G=4*V;B(R,z,T);var K=!1;for(H=0;H<4;H++)I(s,T[H],S),c(S)&&(K=!0);for(H=0;H<4;H++)K?h.set(G+H,k):(I(s,T[H],S),h.set(G+H,S)),r&&p.set(G+H,b[H]);for(H=0;H<6;H++)C[M++]=x[H]+G;if(y&&!K)for(H=0;H<2;H++){for(var j=3*H,X=0;X<3;X++){var W=T[x[j]+X];I(s,W,N[X])}l.sub(D,N[0],N[1]),l.sub(O,N[1],N[2]),l.cross(U,D,O);for(X=0;X<3;X++){var Y=3*T[x[j]+X];L[Y]=L[Y]+U[0],L[Y+1]=L[Y+1]+U[1],L[Y+2]=L[Y+2]+U[2]}}}if(y)for(R=0;R<L.length/3;R++)I(L,R,U),l.normalize(U,U),L[3*R]=U[0],L[3*R+1]=U[1],L[3*R+2]=U[2];P=[];var q=[];for(R=0;R<g-1;R++)for(z=0;z<v-1;z++){V=R*(v-1)+z,G=4*V;B(R,z,T);for(H=0;H<4;H++){for(X=0;X<4;X++)P[X]=F[4*T[H]+X];m.set(G+H,P),y&&(I(L,T[H],U),f.set(G+H,U));W=T[H];q[0]=W%v/(v-1),q[1]=Math.floor(W/v)/(g-1),d.set(G+H,q)}V++}}else{for(q=[],R=0;R<o.count();R++){q[0]=R%v/(v-1),q[1]=Math.floor(R/v)/(g-1);P=a["a"].parseColor(o.getItemVisual(R,"color")),Q=o.getItemVisual(R,"opacity");P[3]*=Q,P[3]<.99&&(E=!0),m.set(R,P),d.set(R,q)}T=[];var J=0;for(R=0;R<g-1;R++)for(z=0;z<v-1;z++){B(R,z,T);for(H=0;H<6;H++)C[J++]=T[x[H]]}y?i.generateVertexNormals():f.value=null}t.material.get("normalMap")&&i.generateTangents(),i.updateBoundingBox(),i.dirty(),t.material.transparent=E,t.material.depthMask=!E},_getDataShape:function(t,e){for(var n=-1/0,r=0,i=0,a=0,o=!1,s=e?"u":"x",l=t.count(),c=0;c<l;c++){var u=t.get(s,c);u<n&&(a&&a!==i&&(o=!0),a=i,i=0,r++),n=u,i++}if(r&&1!==i||(o=!0),!o)return[r+1,i];var A=Math.floor(Math.sqrt(l));while(A>0){if(Math.floor(l/A)===l/A)return[A,l/A];A--}return A=Math.floor(Math.sqrt(l)),[A,A]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.registerLayout((function(t,e){t.eachSeriesByType("surface",(function(t){var e=t.coordinateSystem;e&&"cartesian3D"===e.type||console.error("Surface chart only support cartesian3D coordinateSystem");var n=t.getData(),r=new Float32Array(3*n.count()),i=[NaN,NaN,NaN];if(e&&"cartesian3D"===e.type){var a=e.dimensions,o=a.map((function(e){return t.coordDimToDataDim(e)[0]}));n.each(o,(function(t,a,o,s){var l;l=n.hasValue(s)?e.dataToPoint([t,a,o]):i,r[3*s]=l[0],r[3*s+1]=l[1],r[3*s+2]=l[2]}))}n.setLayout("points",r)}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(98),n(259),n(260),n(17));i.a.registerVisual(Object(a["a"])("map3D")),i.a.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},(function(t,e){e.eachComponent({mainType:"series",subType:"map3D",query:t},(function(e){e.setView(t)}))}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(44),o=n(28),s=n(29),l=n(31),c=n(95),u=n(32),A=n(40),h=n(97);function f(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.dataToPoint(e[r]));return n}var d=i.a.extendSeriesModel({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualColorAccessPath:"itemStyle.color",optionUpdated:function(t){t=t||{};var e=this.get("coordinateSystem");if(null!=e&&"geo3D"!==e){var n=["left","top","width","height","boxWidth","boxDepth","boxHeight","light","viewControl","postEffect","temporalSuperSampling","environment","groundPlane"],r=[];n.forEach((function(e){null!=t[e]&&r.push(e)})),r.length&&console.warn("Property %s in map3D series will be ignored if coordinate system is %s",r.join(", "),e),this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null}},getInitialData:function(t){t.data=this.getFilledRegions(t.data,t.map);var e=i.a.helper.completeDimensions(["value"],t.data),n=new i.a.List(e,this);n.initData(t.data);var r={};return n.each((function(t){var e=n.getName(t),i=n.getItemModel(t);r[e]=i})),this._regionModelMap=r,n},formatTooltip:function(t){return Object(A["a"])(this,t)},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new i.a.Model(null,this)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getName(t);if(e.transform){var r=e.getRegion(n);return r?r.geometries:[]}this._geo||(this._geo=h["a"].createGeo3D(this));r=this._geo.getRegion(n);for(var i=[],a=0;a<r.geometries.length;a++){var o=r.geometries[a],s=[],l=f(e,o.exterior);if(s&&s.length)for(var c=0;c<o.interiors.length;c++)s.push(f(e,s[c]));i.push({interiors:s,exterior:l})}return i},getFormattedLabel:function(t,e){var n=u["a"].getFormattedLabel(this,t,e);return null==n&&(n=this.getData().getName(t)),n},defaultOption:{coordinateSystem:"geo3D",data:null}});i.a.util.merge(d.prototype,c["a"]),i.a.util.merge(d.prototype,a["a"]),i.a.util.merge(d.prototype,o["a"]),i.a.util.merge(d.prototype,s["a"]),i.a.util.merge(d.prototype,l["a"])},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(45),s=n(30),l=n(63);i.a.extendChartView({type:"map3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new l["a"](e),this.groupGL=new a["a"].Node},render:function(t,e,n){var r=t.coordinateSystem;if(r&&r.viewGL){if(this.groupGL.add(this._geo3DBuilder.rootNode),r.viewGL.add(this.groupGL),"geo3D"===r.type){r,this._sceneHelper||(this._sceneHelper=new s["a"],this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(r.viewGL.scene),this._sceneHelper.updateLight(t),r.viewGL.setPostEffect(t.getModel("postEffect"),n),r.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var i=this._control;i||(i=this._control=new o["a"]({zr:n.getZr()}),this._control.init());var a=t.getModel("viewControl");i.setViewGL(r.viewGL),i.setFromViewControlModel(a,0),i.off("update"),i.on("update",(function(){n.dispatchAction({type:"map3DChangeCamera",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:t.id})})),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),t.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(t,e,n,0,t.getData().count());var l=r.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse((function(t){t.material&&t.material[l]("fragment","SRGB_DECODE")}))}},afterRender:function(t,e,n,r){var i=r.renderer,a=t.coordinateSystem;a&&"geo3D"===a.type&&(this._sceneHelper.updateAmbientCubemap(i,t,n),this._sceneHelper.updateSkybox(i,t,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(262),n(263),n(51)),o=n.n(a),s=n(17);i.a.registerVisual(o()("scatterGL","circle",null)),i.a.registerVisual(Object(s["a"])("scatterGL")),i.a.registerLayout({seriesType:"scatterGL",reset:function(t){var e,n=t.coordinateSystem;if(n){var r=n.dimensions,i=[];1===r.length?e=function(t,e){for(var i=new Float32Array(2*(t.end-t.start)),a=t.start;a<t.end;a++){var o=2*(a-t.start),s=e.get(r[0],a),l=n.dataToPoint(s);i[o]=l[0],i[o+1]=l[1]}e.setLayout("points",i)}:2===r.length&&(e=function(t,e){for(var a=new Float32Array(2*(t.end-t.start)),o=t.start;o<t.end;o++){var s=2*(o-t.start),l=e.get(r[0],o),c=e.get(r[1],o);i[0]=l,i[1]=c,i=n.dataToPoint(i),a[s]=i[0],a[s+1]=i[1]}e.setLayout("points",a)})}return{progress:e}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualColorAccessPath:"itemStyle.color",getInitialData:function(){return i.a.helper.createList(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(22),s=n(66),l=n(102);n(2);i.a.extendChartView({type:"scatterGL",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this.viewGL=new o["a"]("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new l["a"](this.viewGL)},render:function(t,e,n){if(this.groupGL.removeAll(),this._glViewHelper.reset(t,n),t.getData().count()){var r=this._pointsBuilderList[0];r||(r=this._pointsBuilderList[0]=new s["a"](!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),r.update(t,e,n),this.viewGL.setPostEffect(t.getModel("postEffect"),n)}},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalRender:function(t,e,n,r){if(!(t.end<=t.start)){var i=this._pointsBuilderList[this._currentStep];i||(i=new s["a"](!0,r),this._pointsBuilderList[this._currentStep]=i),this.groupGL.add(i.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),i.setSizeScale(this._sizeScale),i.update(e,n,r,t.start,t.end),r.getZr().refresh(),this._currentStep++}},updateTransform:function(t,e,n){if(t.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(t,n);var r=this._glViewHelper.getZoom(),i=Math.max((t.get("zoomScale")||0)*(r-1)+1,0);this._sizeScale=i,this._pointsBuilderList.forEach((function(t){t.setSizeScale(i)}))}},_removeTransformInPoints:function(t){if(t)for(var e=[],n=0;n<t.length;n+=2)e[0]=t[n],e[1]=t[n+1],this._glViewHelper.removeTransformInPoint(e),t[n]=e[0],t[n+1]=e[1]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function r(){var t=new n(6);return i(t),t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t}function s(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function l(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],s=e[3],l=e[5],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*c,t[1]=-r*c+o*u,t[2]=i*u+s*c,t[3]=-i*c+u*s,t[4]=u*a+c*l,t[5]=u*l-c*a,t}function c(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function u(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],l=n*o-a*r;return l?(l=1/l,t[0]=o*l,t[1]=-a*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-o*i)*l,t[5]=(a*i-n*s)*l,t):null}function A(t){var e=r();return a(e,t),e}e.create=r,e.identity=i,e.copy=a,e.mul=o,e.translate=s,e.rotate=l,e.scale=c,e.invert=u,e.clone=A},function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function r(t,e){var r=new n(2);return null==t&&(t=0),null==e&&(e=0),r[0]=t,r[1]=e,r}function i(t,e){return t[0]=e[0],t[1]=e[1],t}function a(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e,n){return t[0]=e,t[1]=n,t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function l(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function u(t){return Math.sqrt(h(t))}var A=u;function h(t){return t[0]*t[0]+t[1]*t[1]}var f=h;function d(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function p(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function m(t,e){return t[0]*e[0]+t[1]*e[1]}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function v(t,e){var n=u(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function _(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var y=_;function w(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var x=w;function b(t,e){return t[0]=-e[0],t[1]=-e[1],t}function C(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function B(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function E(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function T(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}e.create=r,e.copy=i,e.clone=a,e.set=o,e.add=s,e.scaleAndAdd=l,e.sub=c,e.len=u,e.length=A,e.lenSquare=h,e.lengthSquare=f,e.mul=d,e.div=p,e.dot=m,e.scale=g,e.normalize=v,e.distance=_,e.dist=y,e.distanceSquare=w,e.distSquare=x,e.negate=b,e.lerp=C,e.applyTransform=B,e.min=E,e.max=T},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(267),n(272),n(51)),o=n.n(a),s=n(17);function l(){}i.a.registerVisual(o()("graphGL","circle",null)),i.a.registerVisual(Object(s["a"])("graphGL")),i.a.registerVisual((function(t){var e={};t.eachSeriesByType("graphGL",(function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each((function(r){var a=n.getName(r);i[a]=r;var o=n.getItemModel(r),s=o.get("itemStyle.color")||t.getColorFromPalette(a,e);n.setItemVisual(r,"color",s)})),n.count()&&r.each((function(t){var e=r.getItemModel(t),a=e.getShallow("category");null!=a&&("string"===typeof a&&(a=i[a]),r.getItemVisual(t,"color",!0)||r.setItemVisual(t,"color",n.getItemVisual(a,"color")))}))}))})),i.a.registerVisual((function(t){t.eachSeriesByType("graphGL",(function(t){var e=t.getGraph(),n=t.getEdgeData(),r="lineStyle.color".split("."),i="lineStyle.opacity".split(".");n.setVisual("color",t.get(r)),n.setVisual("opacity",t.get(i)),n.each((function(t){var a=n.getItemModel(t),o=e.getEdgeByIndex(t),s=a.get(r),l=a.get(i);switch(s){case"source":s=o.node1.getVisual("color");break;case"target":s=o.node2.getVisual("color");break}o.setVisual("color",s),o.setVisual("opacity",l)}))}))})),i.a.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){e.setView(t)}))})),i.a.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},l),i.a.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},l),i.a.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},l),i.a.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},l)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(268),o=n(32),s=i.a.extendSeriesModel({type:"series.graphGL",visualColorAccessPath:"itemStyle.color",init:function(t){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(t,e,n,r){var i=o["a"].getFormattedLabel(this,t,e,n,r);if(null==i){var a=this.getData(),s=a.dimensions[a.dimensions.length-1];i=a.get(s,t)}return i},getInitialData:function(t,e){var n=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&n)return Object(a["a"])(r,n,this,!0,s).data;function s(t,n){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels,n=t.getShallow("category"),r=e[n];return r&&(r.parentModel=t.parentModel,t.parentModel=r),t}));var r=o.getModel("edgeLabel"),a=new i.a.Model({label:r.option},r.parentModel,e);function s(t){return t=this.parsePath(t),t&&"label"===t[0]?a:this.parentModel}n.wrapMethod("getItemModel",(function(t){return t.customizeGetParent(s),t}))}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var r=this.getData(),a=this.getDataParams(t,n),o=r.graph.getEdgeByIndex(t),l=r.getName(o.node1.dataIndex),c=r.getName(o.node2.dataIndex),u=[];return null!=l&&u.push(l),null!=c&&u.push(c),u=i.a.format.encodeHTML(u.join(" > ")),a.value&&(u+=" : "+i.a.format.encodeHTML(a.value)),u}return s.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=(this.option.categories||[]).map((function(t){return null!=t.value?t:i.a.util.extend({value:0},t)})),e=new i.a.List(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t,!0)}))},setView:function(t){null!=t.zoom&&(this.option.zoom=t.zoom),null!=t.offset&&(this.option.offset=t.offset)},setNodePosition:function(t){for(var e=0;e<t.length/2;e++){var n=t[2*e],r=t[2*e+1],i=this.getData().getRawDataItem(e);i.x=n,i.y=r}},isAnimationEnabled:function(){return s.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(269),o=n.n(a),s=n(271),l=n.n(s),c=n(2);e["a"]=function(t,e,n,r,a){for(var s=new o.a(r),u=0;u<t.length;u++)s.addNode(c["a"].firstNotNull(t[u].id,t[u].name,u),u);var A,h=[],f=[],d=0;for(u=0;u<e.length;u++){var p=e[u],m=p.source,g=p.target;s.addEdge(m,g,d)&&(f.push(p),h.push(c["a"].firstNotNull(p.id,m+" > "+g)),d++)}var v=i.a.helper.completeDimensions(["value"],t);A=new i.a.List(v,n),A.initData(t);var _=new i.a.List(["value"],n);return _.initData(f,h),a&&a(A,_),l()({mainData:A,struct:s,structAttr:"graph",datas:{node:A,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),s.update(),s}},function(t,e,n){var r=n(103),i=(r.__DEV__,n(16)),a=n(270),o=a.enableClassCheck;function s(t){return"_EC_"+t}var l=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},c=l.prototype;function u(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function A(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}c.type="graph",c.isDirected=function(){return this._directed},c.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[s(t)]){var r=new u(t,e);return r.hostGraph=this,this.nodes.push(r),n[s(t)]=r,r}},c.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},c.getNodeById=function(t){return this._nodesMap[s(t)]},c.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if("number"===typeof t&&(t=this.nodes[t]),"number"===typeof e&&(e=this.nodes[e]),u.isInstance(t)||(t=r[s(t)]),u.isInstance(e)||(e=r[s(e)]),t&&e){var a=t.id+"-"+e.id;if(!i[a]){var o=new A(t,e,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),i[a]=o,o}}},c.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},c.getEdge=function(t,e){u.isInstance(t)&&(t=t.id),u.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},c.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},c.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},c.breadthFirstTraverse=function(t,e,n,r){if(u.isInstance(e)||(e=this._nodesMap[s(e)]),e){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null)){var o=[e];while(o.length){var l=o.shift(),c=l[i];for(a=0;a<c.length;a++){var A=c[a],h=A.node1===l?A.node2:A.node1;if(!h.__visited){if(t.call(r,h,l))return;o.push(h),h.__visited=!0}}}}}},c.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,a=n.length;i<a;i++)n[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf((function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,a=r.length;i<a;i++)r[i].dataIndex=-1;for(i=0,a=e.count();i<a;i++)r[e.getRawIndex(i)].dataIndex=i},c.clone=function(){for(var t=new l(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<n.length;r++){var i=n[r];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},u.prototype={constructor:u,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}}},A.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}};var h=function(t,e){return{getValue:function(n){var r=this[t][e];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n,r){return this[t][e].getItemVisual(this.dataIndex,n,r)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};i.mixin(u,h("hostGraph","data")),i.mixin(A,h("hostGraph","edgeData")),l.Node=u,l.Edge=A,o(u),o(A);var f=l;t.exports=f},function(t,e,n){var r=n(103),i=(r.__DEV__,n(16)),a=".",o="___EC__COMPONENT__CONTAINER___";function s(t){var e={main:"",sub:""};return t&&(t=t.split(a),e.main=t[0]||"",e.sub=t[1]||""),e}function l(t){i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function c(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return i.extend(n.prototype,t),n.extend=this.extend,n.superCall=h,n.superApply=f,i.inherits(n,this),n.superClass=e,n}}var u=0;function A(t){var e=["__\0is_clz",u++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function h(t,e){var n=i.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function f(t,e,n){return this.superClass.prototype[e].apply(t,n)}function d(t,e){e=e||{};var n={};function r(t){var e=n[t.main];return e&&e[o]||(e=n[t.main]={},e[o]=!0),e}if(t.registerClass=function(t,e){if(e)if(l(e),e=s(e),e.sub){if(e.sub!==o){var i=r(e);i[e.sub]=t}}else n[e.main]=t;return t},t.getClass=function(t,e,r){var i=n[t];if(i&&i[o]&&(i=e?i[e]:null),r&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){t=s(t);var e=[],r=n[t.main];return r&&r[o]?i.each(r,(function(t,n){n!==o&&e.push(t)})):e.push(r),e},t.hasClass=function(t){return t=s(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return i.each(n,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){t=s(t);var e=n[t.main];return e&&e[o]},t.parseClassType=s,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(e){var n=a.call(this,e);return t.registerClass(n,e.type)})}return t}function p(t,e){}e.parseClassType=s,e.enableClassExtend=c,e.enableClassCheck=A,e.enableClassManagement=d,e.setReadOnly=p},function(t,e,n){var r=n(16),i=r.each,a="\0__link_datas",o="\0__link_mainData";function s(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,f(e,n,t),i(n,(function(n){i(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,r.curry(l,t))}))})),e.wrapMethod("cloneShallow",r.curry(u,t)),i(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,r.curry(c,t))})),r.assert(n[e.dataType]===e)}function l(t,e){if(h(this)){var n=r.extend({},this[a]);n[this.dataType]=e,f(e,n,t)}else d(e,this.dataType,this[o],t);return e}function c(t,e){return t.struct&&t.struct.update(this),e}function u(t,e){return i(e[a],(function(n,r){n!==e&&d(n.cloneShallow(),r,e,t)})),e}function A(t){var e=this[o];return null==t||null==e?e:e[a][t]}function h(t){return t[o]===t}function f(t,e,n){t[a]={},i(e,(function(e,r){d(e,r,t,n)}))}function d(t,e,n,r){n[a][e]=t,t[o]=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=A}var p=s;t.exports=p},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(47),o=n.n(a),s=n(1),l=n(22),c=n(104),u=n(2),A=n(273),h=n(275),f=n(81),d=n.n(f),p=n(6),m=n(277),g=n(66),v=n(278),_=p["a"].vec2;s["a"].Shader.import(v["a"]);var y=1;i.a.extendChartView({type:"graphGL",__ecgl__:!0,init:function(t,e){this.groupGL=new s["a"].Node,this.viewGL=new l["a"]("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new g["a"](!0,e),this._forceEdgesMesh=new s["a"].Mesh({material:new s["a"].Material({shader:s["a"].createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new s["a"].Geometry({attributes:{node:new s["a"].Geometry.Attribute("node","float",2),color:new s["a"].Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:s["a"].Mesh.LINES}),this._edgesMesh=new s["a"].Mesh({material:new s["a"].Material({shader:s["a"].createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new c["a"]({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new m["a"]({zr:e.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(t,e,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=t,this._api=n,this._initLayout(t,e,n),this._pointsBuilder.update(t,e,n),this._forceLayoutInstance instanceof A["a"]||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(t,n),this._control.off("update"),this._control.on("update",(function(){n.dispatchAction({type:"graphGLRoam",seriesId:t.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)}),this),this._control.setZoom(u["a"].firstNotNull(t.get("zoom"),1)),this._control.setOffset(t.get("offset")||[0,0]);var r=this._pointsBuilder.getPointsMesh();if(r.off("mousemove",this._mousemoveHandler),r.off("mouseout",this._mouseOutHandler,this),n.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,t.get("focusNodeAdjacency")){var i=t.get("focusNodeAdjacencyOn");"click"===i?n.getZr().on("click",this._clickHandler):"mouseover"===i?(r.on("mousemove",this._mousemoveHandler,this),r.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1):console.warn("Unkown focusNodeAdjacencyOn value s"+i)}this._lastMouseOverDataIndex=-1},_clickHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?e!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._mouseOutHandler(t),this._lastMouseOverDataIndex=e}},_mouseOutHandler:function(t){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(t,e){var n=this._forceEdgesMesh.geometry,r=e.getEdgeData(),i=0,a=this._forceLayoutInstance,o=2*r.count();n.attributes.node.init(o),n.attributes.color.init(o),r.each((function(e){var o=t[e];n.attributes.node.set(i,a.getNodeUV(o.node1)),n.attributes.node.set(i+1,a.getNodeUV(o.node2));var l=r.getItemVisual(o.dataIndex,"color"),c=s["a"].parseColor(l);c[3]*=u["a"].firstNotNull(r.getItemVisual(o.dataIndex,"opacity"),1),n.attributes.color.set(i,c),n.attributes.color.set(i+1,c),i+=2})),n.dirty()},_updateMeshLinesGeometry:function(){var t=this._model.getEdgeData(),e=this._edgesMesh.geometry,n=(t=this._model.getEdgeData(),this._model.getData().getLayout("points"));e.resetOffset(),e.setVertexCount(t.count()*e.getLineVertexCount()),e.setTriangleCount(t.count()*e.getLineTriangleCount());var r=[],i=[],a=["lineStyle","width"];this._originalEdgeColors=new Float32Array(4*t.count()),this._edgeIndicesMap=new Float32Array(t.count()),t.each((function(o){var l=t.graph.getEdgeByIndex(o),c=2*l.node1.dataIndex,A=2*l.node2.dataIndex;r[0]=n[c],r[1]=n[c+1],i[0]=n[A],i[1]=n[A+1];var h=t.getItemVisual(l.dataIndex,"color"),f=s["a"].parseColor(h);f[3]*=u["a"].firstNotNull(t.getItemVisual(l.dataIndex,"opacity"),1);var d=t.getItemModel(l.dataIndex),p=u["a"].firstNotNull(d.get(a),1)*this._api.getDevicePixelRatio();e.addLine(r,i,f,p);for(var m=0;m<4;m++)this._originalEdgeColors[4*l.dataIndex+m]=f[m];this._edgeIndicesMap[l.dataIndex]=o}),this),e.dirty()},_updateForceNodesGeometry:function(t){for(var e=this._pointsBuilder.getPointsMesh(),n=[],r=0;r<t.count();r++)this._forceLayoutInstance.getNodeUV(r,n),e.geometry.attributes.position.set(r,n);e.geometry.dirty("position")},_initLayout:function(t,e,n){var r=t.get("layout"),a=t.getGraph(),s=t.getBoxLayoutParams(),l=o.a.getLayoutRect(s,{width:n.getWidth(),height:n.getHeight()});"force"===r&&(console.warn("Currently only forceAtlas2 layout supported."),r="forceAtlas2"),this.stopLayout(t,e,n,{beforeLayout:!0});var c=t.getData(),f=t.getData();if("forceAtlas2"===r){var d=t.getModel("forceAtlas2"),p=this._forceLayoutInstance,m=[],g=[],v=c.getDataExtent("value"),_=f.getDataExtent("value"),y=u["a"].firstNotNull(d.get("edgeWeight"),1),w=u["a"].firstNotNull(d.get("nodeWeight"),1);"number"===typeof y&&(y=[y,y]),"number"===typeof w&&(w=[w,w]);var x=0,b={},C=new Float32Array(2*c.count());if(a.eachNode((function(t){var e,n,r=t.dataIndex,a=c.get("value",r);if(c.hasItemOption){var o=c.getItemModel(r);e=o.get("x"),n=o.get("y")}null==e&&(e=l.x+Math.random()*l.width,n=l.y+Math.random()*l.height),C[2*x]=e,C[2*x+1]=n,b[t.id]=x++;var s=i.a.number.linearMap(a,v,w);isNaN(s)&&(s=isNaN(w[0])?1:w[0]),m.push({x:e,y:n,mass:s,size:c.getItemVisual(r,"symbolSize")})})),c.setLayout("points",C),a.eachEdge((function(t){var e=t.dataIndex,n=c.get("value",e),r=i.a.number.linearMap(n,_,y);isNaN(r)&&(r=isNaN(y[0])?1:y[0]),g.push({node1:b[t.node1.id],node2:b[t.node2.id],weight:r,dataIndex:e})})),!p){var B=d.get("GPU");this._forceLayoutInstance&&((!B||this._forceLayoutInstance instanceof A["a"])&&(B||this._forceLayoutInstance instanceof h["a"])||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),p=this._forceLayoutInstance=B?new A["a"]:new h["a"]}p.initData(m,g),p.updateOption(d.option),this._updateForceEdgesGeometry(p.getEdges(),t),this._updatePositionTexture(),n.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{C=new Float32Array(2*c.count()),x=0;a.eachNode((function(t){var e,n,r=t.dataIndex;if(c.hasItemOption){var i=c.getItemModel(r);e=i.get("x"),n=i.get("y")}C[x++]=e,C[x++]=n})),c.setLayout("points",C),this._updateAfterLayout(t,e,n)}},_updatePositionTexture:function(){var t=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(t),this._forceEdgesMesh.material.set("positionTex",t)},startLayout:function(t,e,n,r){if(!r||null==r.from||r.from===this.uid){var i=this.viewGL,a=(n=this._api,this._forceLayoutInstance),o=this._model.getData(),s=this._model.getModel("forceAtlas2");if(a){if(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance){this._updateForceNodesGeometry(t.getData()),this._pointsBuilder.hideLabels();var l=this,c=this._layoutId=y++,u=s.getShallow("maxSteps"),A=s.getShallow("steps"),h=0,f=Math.max(2*A,20),p=function(e){if(e===l._layoutId)return a.isFinished(u)?(n.dispatchAction({type:"graphGLStopLayout",from:l.uid}),void n.dispatchAction({type:"graphGLFinishLayout",points:o.getLayout("points"),from:l.uid})):void a.update(i.layer.renderer,A,(function(){l._updatePositionTexture(),h+=A,h>=f&&(l._syncNodePosition(t),h=0),n.getZr().refresh(),d()((function(){p(e)}))}))};d()((function(){l._forceLayoutInstanceToDispose&&(l._forceLayoutInstanceToDispose.dispose(i.layer.renderer),l._forceLayoutInstanceToDispose=null),p(c)})),this._layouting=!0}}else console.error("None layout don't have startLayout action")}},stopLayout:function(t,e,n,r){r&&null!=r.from&&r.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(r&&r.beforeLayout||(this._syncNodePosition(t),this._updateAfterLayout(t,e,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(t){var e=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);t.getData().setLayout("points",e),t.setNodePosition(e)},_updateAfterLayout:function(t,e,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(t,e,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(t,e,n,r){var i=this._model.getData();this._downplayAll();var a=r.dataIndex,o=i.graph,s=[],l=o.getNodeByIndex(a);s.push(l),l.edges.forEach((function(t){t.dataIndex<0||(t.node1!==l&&s.push(t.node1),t.node2!==l&&s.push(t.node2))}),this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach((function(t){this._pointsBuilder.highlight(i,t.dataIndex)}),this),this._pointsBuilder.updateLabels(s.map((function(t){return t.dataIndex})));var c=[];l.edges.forEach((function(t){t.dataIndex>=0&&(this._highlightEdge(t.dataIndex),c.push(t))}),this),this._focusNodes=s,this._focusEdges=c},unfocusNodeAdjacency:function(t,e,n,r){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(t){var e=this._model.getEdgeData().getItemModel(t),n=s["a"].parseColor(e.get("emphasis.lineStyle.color")||e.get("lineStyle.color")),r=u["a"].firstNotNull(e.get("emphasis.lineStyle.opacity"),e.get("lineStyle.opacity"),1);n[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach((function(t){this._pointsBuilder.downplay(this._model.getData(),t.dataIndex)}),this),this._focusEdges&&this._focusEdges.forEach((function(t){this._downplayEdge(t.dataIndex)}),this)},_downplayEdge:function(t){var e=this._getColor(t,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)},_setEdgeFade:function(){var t=[];return function(e,n){this._getColor(e,t),t[3]*=n,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)}}(),_getColor:function(t,e){for(var n=0;n<4;n++)e[n]=this._originalEdgeColors[4*t+n];return e},_fadeOutEdgesAll:function(t){var e=this._model.getData().graph;e.eachEdge((function(e){this._setEdgeFade(e.dataIndex,t)}),this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(t,e){this.viewGL.setViewport(0,0,e.getWidth(),e.getHeight(),e.getDevicePixelRatio());for(var n=this.viewGL.camera,r=t.getData(),i=r.getLayout("points"),a=_.create(1/0,1/0),o=_.create(-1/0,-1/0),s=[],l=0;l<i.length;)s[0]=i[l++],s[1]=i[l++],_.min(a,a,s),_.max(o,o,s);var c=(o[1]+a[1])/2,u=(o[0]+a[0])/2;if(!(u>n.left&&u<n.right&&c<n.bottom&&c>n.top)){var A=Math.max(o[0]-a[0],10),h=A/e.getWidth()*e.getHeight();A*=1.4,h*=1.4,a[0]-=.2*A,n.left=a[0],n.top=c-h/2,n.bottom=c+h/2,n.right=A+a[0],n.near=0,n.far=100}},dispose:function(){var t=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(t),this.groupGL.removeAll(),this._layoutId=-1},remove:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(15),s=n(10),l=n(274);a["a"].Shader.import(l["a"]);var c={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function u(t){var e={type:a["a"].Texture.FLOAT,minFilter:a["a"].Texture.NEAREST,magFilter:a["a"].Texture.NEAREST};this._positionSourceTex=new a["a"].Texture2D(e),this._positionSourceTex.flipY=!1,this._positionTex=new a["a"].Texture2D(e),this._positionPrevTex=new a["a"].Texture2D(e),this._forceTex=new a["a"].Texture2D(e),this._forcePrevTex=new a["a"].Texture2D(e),this._weightedSumTex=new a["a"].Texture2D(e),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new a["a"].Texture2D(e),this._globalSpeedPrevTex=new a["a"].Texture2D(e),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new o["a"]({fragment:a["a"].Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new o["a"]({fragment:a["a"].Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new o["a"]({fragment:a["a"].Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new o["a"]({fragment:a["a"].Shader.source("clay.compositor.output")});var n=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE)};this._edgeForceMesh=new a["a"].Mesh({geometry:new a["a"].Geometry({attributes:{node1:new a["a"].Geometry.Attribute("node1","float",2),node2:new a["a"].Geometry.Attribute("node2","float",2),weight:new a["a"].Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new a["a"].Material({transparent:!0,shader:a["a"].createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:n,depthMask:!1,depthText:!1}),mode:a["a"].Mesh.POINTS}),this._weightedSumMesh=new a["a"].Mesh({geometry:new a["a"].Geometry({attributes:{node:new a["a"].Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new a["a"].Material({transparent:!0,shader:a["a"].createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:n,depthMask:!1,depthText:!1}),mode:a["a"].Mesh.POINTS}),this._framebuffer=new s["a"]({depthBuffer:!1}),this._dummyCamera=new a["a"].OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}u.prototype.updateOption=function(t){for(var e in c)this[e]=c[e];var n=this._nodes.length;if(this.jitterTolerence=n>5e4?10:n>5e3?1:.1,this.scaling=n>100?2:10,t)for(var e in c)null!=t[e]&&(this[e]=t[e]);if(this.repulsionByDegree)for(var r=this._positionSourceTex.pixels,i=0;i<this._nodes.length;i++)r[4*i+2]=(this._nodes[i].degree||0)+1},u.prototype._updateGravityCenter=function(t){var e=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var r=[1/0,1/0],i=[-1/0,-1/0],a=0;a<e.length;a++)r[0]=Math.min(e[a].x,r[0]),r[1]=Math.min(e[a].y,r[1]),i[0]=Math.max(e[a].x,i[0]),i[1]=Math.max(e[a].y,i[1]);this._gravityCenter=[.5*(r[0]+i[0]),.5*(r[1]+i[1])]}for(a=0;a<n.length;a++){var o=n[a].node1,s=n[a].node2;e[o].degree=(e[o].degree||0)+1,e[s].degree=(e[s].degree||0)+1}},u.prototype.initData=function(t,e){this._nodes=t,this._edges=e,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(t.length)),r=n,i=new Float32Array(n*r*4);this._resize(n,r);for(var a=0,o=0;o<t.length;o++){var s=t[o];i[a++]=s.x||0,i[a++]=s.y||0,i[a++]=s.mass||1,i[a++]=s.size||1}this._positionSourceTex.pixels=i;var l=this._edgeForceMesh.geometry,c=e.length;l.attributes.node1.init(2*c),l.attributes.node2.init(2*c),l.attributes.weight.init(2*c);var u=[];for(o=0;o<e.length;o++){var A=l.attributes,h=e[o].weight;null==h&&(h=1),A.node1.set(o,this.getNodeUV(e[o].node1,u)),A.node2.set(o,this.getNodeUV(e[o].node2,u)),A.weight.set(o,h),A.node1.set(o+c,this.getNodeUV(e[o].node2,u)),A.node2.set(o+c,this.getNodeUV(e[o].node1,u)),A.weight.set(o+c,h)}var f=this._weightedSumMesh.geometry;f.attributes.node.init(t.length);for(o=0;o<t.length;o++)f.attributes.node.set(o,this.getNodeUV(o,u));l.dirty(),f.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",t.length),this._nodeRepulsionPass.material.setUniform("textureSize",[n,r]),this._inited=!1,this._frame=0},u.prototype.getNodes=function(){return this._nodes},u.prototype.getEdges=function(){return this._edges},u.prototype.step=function(t){this._inited||(this._initFromSource(t),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(t);var e=this._nodeRepulsionPass;e.setUniform("strongGravityMode",this.strongGravityMode),e.setUniform("gravity",this.gravity),e.setUniform("gravityCenter",this._gravityCenter),e.setUniform("scaling",this.scaling),e.setUniform("preventOverlap",this.preventOverlap),e.setUniform("positionTex",this._positionPrevTex),e.render(t);var n=this._edgeForceMesh;n.material.set("linLogMode",this.linLogMode),n.material.set("edgeWeightInfluence",this.edgeWeightInfluence),n.material.set("preventOverlap",this.preventOverlap),n.material.set("positionTex",this._positionPrevTex),t.gl.enable(t.gl.BLEND),t.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT),t.gl.enable(t.gl.BLEND);var r=this._weightedSumMesh;r.material.set("positionTex",this._positionPrevTex),r.material.set("forceTex",this._forceTex),r.material.set("forcePrevTex",this._forcePrevTex),t.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var i=this._globalSpeedPass;i.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),i.setUniform("weightedSumTex",this._weightedSumTex),i.setUniform("jitterTolerence",this.jitterTolerence),t.gl.disable(t.gl.BLEND),i.render(t);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(t),this._framebuffer.unbind(t),this._swapTexture()},u.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1);for(var r=0;r<e;r++)this.step(t);n&&n()},u.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},u.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,r=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(r-1)||0,e},u.prototype.getNodePosition=function(t,e){var n=this._positionArr,r=this._positionTex.width,i=this._positionTex.height,a=r*i;n&&n.length===4*a||(n=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(t),this._framebuffer.attach(this._positionPrevTex),t.gl.readPixels(0,0,r,i,t.gl.RGBA,t.gl.FLOAT,n),this._framebuffer.unbind(t),e||(e=new Float32Array(2*this._nodes.length));for(var o=0;o<this._nodes.length;o++)e[2*o]=n[4*o],e[2*o+1]=n[4*o+1];return e},u.prototype.getTextureData=function(t,e){var n=this["_"+e+"Tex"],r=n.width,i=n.height;this._framebuffer.bind(t),this._framebuffer.attach(n);var a=new Float32Array(r*i*4);return t.gl.readPixels(0,0,r,i,t.gl.RGBA,t.gl.FLOAT,a),this._framebuffer.unbind(t),a},u.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},u.prototype.isFinished=function(t){return this._frame>t},u.prototype._swapTexture=function(){var t=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=t;t=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=t;t=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=t},u.prototype._initFromSource=function(t){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(t),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(t),t.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(t)},u.prototype._resize=function(t,e){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach((function(n){this[n].width=t,this[n].height=e,this[n].dirty()}),this)},u.prototype.dispose=function(t){this._framebuffer.dispose(t),this._copyPass.dispose(t),this._nodeRepulsionPass.dispose(t),this._positionPass.dispose(t),this._globalSpeedPass.dispose(t),this._edgeForceMesh.geometry.dispose(t),this._weightedSumMesh.geometry.dispose(t),this._positionSourceTex.dispose(t),this._positionTex.dispose(t),this._positionPrevTex.dispose(t),this._forceTex.dispose(t),this._forcePrevTex.dispose(t),this._weightedSumTex.dispose(t),this._globalSpeedTex.dispose(t),this._globalSpeedPrevTex.dispose(t)},i.a.ForceAtlas2GPU=u,e["a"]=u},function(t,e,n){"use strict";e["a"]="@export ecgl.forceAtlas2.updateNodeRepulsion\n\n#define NODE_COUNT 0\n\nuniform sampler2D positionTex;\n\nuniform vec2 textureSize;\nuniform float gravity;\nuniform float scaling;\nuniform vec2 gravityCenter;\n\nuniform bool strongGravityMode;\nuniform bool preventOverlap;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, v_Texcoord);\n\n vec2 force = vec2(0.0);\n for (int i = 0; i < NODE_COUNT; i++) {\n vec2 uv = vec2(\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\n );\n vec4 n1 = texture2D(positionTex, uv);\n\n vec2 dir = n0.xy - n1.xy;\n float d2 = dot(dir, dir);\n\n if (d2 > 0.0) {\n float factor = 0.0;\n if (preventOverlap) {\n float d = sqrt(d2);\n d = d - n0.w - n1.w;\n if (d > 0.0) {\n factor = scaling * n0.z * n1.z / (d * d);\n }\n else if (d < 0.0) {\n factor = scaling * 100.0 * n0.z * n1.z;\n }\n }\n else {\n factor = scaling * n0.z * n1.z / d2;\n }\n force += dir * factor;\n }\n }\n\n vec2 dir = gravityCenter - n0.xy;\n float d = 1.0;\n if (!strongGravityMode) {\n d = length(dir);\n }\n\n force += dir * n0.z * gravity / (d + 1.0);\n\n gl_FragColor = vec4(force, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\n\nattribute vec2 node1;\nattribute vec2 node2;\nattribute float weight;\n\nuniform sampler2D positionTex;\nuniform float edgeWeightInfluence;\nuniform bool preventOverlap;\nuniform bool linLogMode;\n\nuniform vec2 windowSize: WINDOW_SIZE;\n\nvarying vec2 v_Force;\n\nvoid main() {\n\n vec4 n0 = texture2D(positionTex, node1);\n vec4 n1 = texture2D(positionTex, node2);\n\n vec2 dir = n1.xy - n0.xy;\n float d = length(dir);\n float w;\n if (edgeWeightInfluence == 0.0) {\n w = 1.0;\n }\n else if (edgeWeightInfluence == 1.0) {\n w = weight;\n }\n else {\n w = pow(weight, edgeWeightInfluence);\n }\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\n vec2 pos = node1 * scale * 2.0 - 1.0;\n gl_Position = vec4(pos + offset, 0.0, 1.0);\n gl_PointSize = 1.0;\n\n float factor;\n if (preventOverlap) {\n d = d - n1.w - n0.w;\n }\n if (d <= 0.0) {\n v_Force = vec2(0.0);\n return;\n }\n\n if (linLogMode) {\n factor = w * log(d) / d;\n }\n else {\n factor = w;\n }\n v_Force = dir * factor;\n}\n@end\n\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\n\nvarying vec2 v_Force;\n\nvoid main() {\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\n\nattribute vec2 node;\n\nvarying vec2 v_NodeUv;\n\nvoid main() {\n\n v_NodeUv = node;\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n gl_PointSize = 1.0;\n}\n@end\n\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\n\nvarying vec2 v_NodeUv;\n\nuniform sampler2D positionTex;\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\n\n float mass = texture2D(positionTex, v_NodeUv).z;\n float swing = length(force - forcePrev) * mass;\n float traction = length(force + forcePrev) * 0.5 * mass;\n\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\n}\n@end\n\n@export ecgl.forceAtlas2.calcGlobalSpeed\n\nuniform sampler2D globalSpeedPrevTex;\nuniform sampler2D weightedSumTex;\nuniform float jitterTolerence;\n\nvoid main() {\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\n float globalSpeed = jitterTolerence * jitterTolerence\n * weightedSum.y / weightedSum.x;\n if (prevGlobalSpeed > 0.0) {\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\n }\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\n}\n@end\n\n@export ecgl.forceAtlas2.updatePosition\n\nuniform sampler2D forceTex;\nuniform sampler2D forcePrevTex;\nuniform sampler2D positionTex;\nuniform sampler2D globalSpeedTex;\n\nvarying vec2 v_Texcoord;\n\nvoid main() {\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\n vec4 node = texture2D(positionTex, v_Texcoord);\n\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\n float swing = length(force - forcePrev);\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\n\n float df = length(force);\n if (df > 0.0) {\n speed = min(df * speed, 10.0) / df;\n\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\n }\n else {\n gl_FragColor = node;\n }\n}\n@end\n\n@export ecgl.forceAtlas2.edges.vertex\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 node;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\nuniform sampler2D positionTex;\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(\n texture2D(positionTex, node).xy, -10.0, 1.0\n );\n v_Color = a_Color;\n}\n@end\n\n@export ecgl.forceAtlas2.edges.fragment\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nvarying vec4 v_Color;\nvoid main() {\n gl_FragColor = color * v_Color;\n}\n@end"},function(t,e,n){"use strict";var r=n(5),i=n(4),a=n(276),o=a["a"].toString();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}"));var s={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},l=function(t){for(var e in s)this[e]=s[e];if(t)for(var e in t)this[e]=t[e];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new r["a"]({type:i["a"].FLOAT,flipY:!1,minFilter:i["a"].NEAREST,magFilter:i["a"].NEAREST})};l.prototype.initData=function(t,e){var n=new Blob([o]),r=window.URL.createObjectURL(n);this._worker=new Worker(r),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=t,this._edges=e,this._frame=0;for(var i=t.length,a=e.length,s=new Float32Array(2*i),l=new Float32Array(i),c=new Float32Array(i),u=new Float32Array(2*a),A=new Float32Array(a),h=0;h<t.length;h++){var f=t[h];s[2*h]=f.x,s[2*h+1]=f.y,l[h]=null==f.mass?1:f.mass,c[h]=null==f.size?1:f.size}for(h=0;h<e.length;h++){var d=e[h],p=d.node1,m=d.node2;u[2*h]=p,u[2*h+1]=m,A[h]=null==d.weight?1:d.weight}var g=Math.ceil(Math.sqrt(t.length)),v=g,_=new Float32Array(g*v*4),y=this._positionTex;y.width=g,y.height=v,y.pixels=_,this._worker.postMessage({cmd:"init",nodesPosition:s,nodesMass:l,nodesSize:c,edges:u,edgesWeight:A}),this._globalSpeed=1/0},l.prototype.updateOption=function(t){var e={};for(var n in s)e[n]=s[n];var r=this._nodes,i=this._edges,a=r.length;if(e.jitterTolerence=a>5e4?10:a>5e3?1:.1,e.scaling=a>100?2:10,e.barnesHutOptimize=a>1e3,t)for(var n in s)null!=t[n]&&(e[n]=t[n]);if(!e.gravityCenter){for(var o=[1/0,1/0],l=[-1/0,-1/0],c=0;c<r.length;c++)o[0]=Math.min(r[c].x,o[0]),o[1]=Math.min(r[c].y,o[1]),l[0]=Math.max(r[c].x,l[0]),l[1]=Math.max(r[c].y,l[1]);e.gravityCenter=[.5*(o[0]+l[0]),.5*(o[1]+l[1])]}for(c=0;c<i.length;c++){var u=i[c].node1,A=i[c].node2;r[u].degree=(r[u].degree||0)+1,r[A].degree=(r[A].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:e})},l.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1),this._frame+=e,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(e)})},l.prototype._$onupdate=function(t){if(!this._disposed){var e=new Float32Array(t.data.buffer);this._globalSpeed=t.data.globalSpeed,this._positionArr=e,this._updateTexture(e),this._onupdate&&this._onupdate()}},l.prototype.getNodePositionTexture=function(){return this._positionTex},l.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,r=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(r-1),e},l.prototype.getNodes=function(){return this._nodes},l.prototype.getEdges=function(){return this._edges},l.prototype.isFinished=function(t){return this._frame>t},l.prototype.getNodePosition=function(t,e){if(e||(e=new Float32Array(2*this._nodes.length)),this._positionArr)for(var n=0;n<this._positionArr.length;n++)e[n]=this._positionArr[n];return e},l.prototype._updateTexture=function(t){for(var e=this._positionTex.pixels,n=0,r=0;r<t.length;)e[n++]=t[r++],e[n++]=t[r++],e[n++]=1,e[n++]=1;this._positionTex.dirty()},l.prototype.dispose=function(t){this._disposed=!0,this._worker=null},e["a"]=l},function(t,e,n){"use strict";function r(){var t={create:function(){return new Float32Array(2)},dist:function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},len:function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},normalize:function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t}};function e(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var n=e.prototype;function r(){this.position=new Float32Array(2),this.force=t.create(),this.forcePrev=t.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function i(t,e){this.source=t,this.target=e,this.weight=1}function a(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new e,this.rootRegion.centerOfMass=t.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}n.beforeUpdate=function(){for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},n.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].afterUpdate()},n.addNode=function(t){if(0===this.nSubRegions){if(null==this.node)return void(this.node=t);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(t),this._updateCenterOfMass(t)},n.findSubRegion=function(t,e){for(var n=0;n<this.nSubRegions;n++){var r=this.subRegions[n];if(r.contain(t,e))return r}},n.contain=function(t,e){return this.bbox[0]<=t&&this.bbox[2]>=t&&this.bbox[1]<=e&&this.bbox[3]>=e},n.setBBox=function(t,e,n,r){this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=r,this.size=(n-t+r-e)/2},n._newSubRegion=function(){var t=this.subRegions[this.nSubRegions];return t||(t=new e,this.subRegions[this.nSubRegions]=t),this.nSubRegions++,t},n._addNodeToSubRegion=function(t){var e=this.findSubRegion(t.position[0],t.position[1]),n=this.bbox;if(!e){var r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,a=(n[2]-n[0])/2,o=(n[3]-n[1])/2,s=t.position[0]>=r?1:0,l=t.position[1]>=i?1:0;e=this._newSubRegion();e.setBBox(s*a+n[0],l*o+n[1],(s+1)*a+n[0],(l+1)*o+n[1])}e.addNode(t)},n._updateCenterOfMass=function(t){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var e=this.centerOfMass[0]*this.mass,n=this.centerOfMass[1]*this.mass;e+=t.position[0]*t.mass,n+=t.position[1]*t.mass,this.mass+=t.mass,this.centerOfMass[0]=e/this.mass,this.centerOfMass[1]=n/this.mass};var o=a.prototype;o.initNodes=function(t,e,n){var i=e.length;this.nodes.length=0;for(var a="undefined"!=typeof n,o=0;o<i;o++){var s=new r;s.position[0]=t[2*o],s.position[1]=t[2*o+1],s.mass=e[o],a&&(s.size=n[o]),this.nodes.push(s)}this._massArr=e,this._swingingArr=new Float32Array(i),a&&(this._sizeArr=n)},o.initEdges=function(t,e){var n=t.length/2;this.edges.length=0;for(var r=0;r<n;r++){var a=t[2*r],o=t[2*r+1],s=this.nodes[a],l=this.nodes[o];if(!s||!l)return void console.error("Node not exists, try initNodes before initEdges");s.outDegree++,l.inDegree++;var c=new i(s,l);e&&(c.weight=e[r]),this.edges.push(c)}},o.updateSettings=function(){if(this.repulsionByDegree)for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.mass=e.inDegree+e.outDegree+1}else for(t=0;t<this.nodes.length;t++){e=this.nodes[t];e.mass=this._massArr[t]}},o.update=function(){var e=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var n=0;n<e;n++)this.rootRegion.addNode(this.nodes[n]);this.rootRegion.afterUpdate()}for(n=0;n<e;n++){var r=this.nodes[n];t.copy(r.forcePrev,r.force),t.set(r.force,0,0)}for(n=0;n<e;n++){var i=this.nodes[n];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,i);else for(var a=n+1;a<e;a++){var o=this.nodes[a];this.applyNodeToNodeRepulsion(i,o,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(i):this.applyNodeGravity(i))}for(n=0;n<this.edges.length;n++)this.applyEdgeAttraction(this.edges[n]);var s=0,l=0,c=t.create();for(n=0;n<e;n++){r=this.nodes[n];var u=t.dist(r.force,r.forcePrev);s+=u*r.mass,t.add(c,r.force,r.forcePrev);var A=.5*t.len(c);l+=A*r.mass,this._swingingArr[n]=u}var h=this.jitterTolerence*this.jitterTolerence*l/s;this._globalSpeed>0&&(h=Math.min(h/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=h;for(n=0;n<e;n++){r=this.nodes[n],u=this._swingingArr[n];var f=.1*h/(1+h*Math.sqrt(u)),d=t.len(r.force);d>0&&(f=Math.min(d*f,10)/d,t.scaleAndAdd(r.position,r.position,r.force,f))}},o.applyRegionToNodeRepulsion=function(){var e=t.create();return function(n,r){if(n.node)this.applyNodeToNodeRepulsion(n.node,r,!0);else{t.sub(e,r.position,n.centerOfMass);var i=e[0]*e[0]+e[1]*e[1];if(i>this.barnesHutTheta*n.size*n.size){var a=this.scaling*r.mass*n.mass/i;t.scaleAndAdd(r.force,r.force,e,a)}else for(var o=0;o<n.nSubRegions;o++)this.applyRegionToNodeRepulsion(n.subRegions[o],r)}}}(),o.applyNodeToNodeRepulsion=function(){var e=t.create();return function(n,r,i){if(n!=r){t.sub(e,n.position,r.position);var a=e[0]*e[0]+e[1]*e[1];if(0!==a){var o;if(this.preventOverlap){var s=Math.sqrt(a);if(s=s-n.size-r.size,s>0)o=this.scaling*n.mass*r.mass/(s*s);else{if(!(s<0))return;o=100*this.scaling*n.mass*r.mass}}else o=this.scaling*n.mass*r.mass/a;t.scaleAndAdd(n.force,n.force,e,o),t.scaleAndAdd(r.force,r.force,e,-o)}}}}(),o.applyEdgeAttraction=function(){var e=t.create();return function(n){var r=n.source,i=n.target;t.sub(e,r.position,i.position);var a,o,s=t.len(e);a=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?n.weight:Math.pow(n.weight,this.edgeWeightInfluence),this.preventOverlap&&(s=s-r.size-i.size,s<=0)||(o=this.linLogMode?-a*Math.log(s+1)/(s+1):-a,t.scaleAndAdd(r.force,r.force,e,o),t.scaleAndAdd(i.force,i.force,e,-o))}}(),o.applyNodeGravity=function(){var e=t.create();return function(n){t.sub(e,this.gravityCenter,n.position);var r=t.len(e);t.scaleAndAdd(n.force,n.force,e,this.gravity*n.mass/(r+1))}}(),o.applyNodeStrongGravity=function(){var e=t.create();return function(n){t.sub(e,this.gravityCenter,n.position),t.scaleAndAdd(n.force,n.force,e,this.gravity*n.mass)}}(),o.updateBBox=function(){for(var t=1/0,e=1/0,n=-1/0,r=-1/0,i=0;i<this.nodes.length;i++){var a=this.nodes[i].position;t=Math.min(t,a[0]),e=Math.min(e,a[1]),n=Math.max(n,a[0]),r=Math.max(r,a[1])}this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=r},o.getGlobalSpeed=function(){return this._globalSpeed};var s=null;self.onmessage=function(t){switch(t.data.cmd){case"init":s=new a,s.initNodes(t.data.nodesPosition,t.data.nodesMass,t.data.nodesSize),s.initEdges(t.data.edges,t.data.edgesWeight);break;case"updateConfig":if(s)for(var e in t.data.config)s[e]=t.data.config[e];break;case"update":var n=t.data.steps;if(s){for(var r=0;r<n;r++)s.update();var i=s.nodes.length,o=new Float32Array(2*i);for(r=0;r<i;r++){var l=s.nodes[r];o[2*r]=l.position[0],o[2*r+1]=l.position[1]}self.postMessage({buffer:o.buffer,globalSpeed:s.getGlobalSpeed()},[o.buffer])}else{var c=new Float32Array;self.postMessage({buffer:c.buffer,globalSpeed:s.getGlobalSpeed()},[c.buffer])}break}}}e["a"]=r},function(t,e,n){"use strict";var r=n(8),i=(n(2),r["a"].extend((function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}}),(function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)}),{init:function(){var t=this.zr;t.on("mousedown",this._mouseDownHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("globalout",this._mouseUpHandler),t.animation.on("frame",this._update)},setTarget:function(t){this._target=t},setZoom:function(t){this._zoom=Math.max(Math.min(t,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(t){this._dx=t[0],this._dy=t[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var t=this._target,e=this._zoom;t.position.x=this._dx,t.position.y=this._dy,t.scale.set(e,e,e),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(t){if(!t.target){var e=t.offsetX,n=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(e,n)){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var r=this._convertPos(e,n);this._x=r.x,this._y=r.y}}},_convertPos:function(t,e){var n=this.viewGL.camera,r=this.viewGL.viewport;return{x:(t-r.x)/r.width*(n.right-n.left)+n.left,y:(e-r.y)/r.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(t){var e=this._convertPos(t.offsetX,t.offsetY);this._dx+=e.x-this._x,this._dy+=e.y-this._y,this._x=e.x,this._y=e.y,this._needsUpdate=!0},_mouseUpHandler:function(t){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(t){t=t.event;var e=t.wheelDelta||-t.detail;if(0!==e){var n=t.offsetX,r=t.offsetY;if(!this.viewGL||this.viewGL.containPoint(n,r)){var i=e>0?1.1:.9,a=Math.max(Math.min(this._zoom*i,this.maxZoom),this.minZoom);i=a/this._zoom;var o=this._convertPos(n,r),s=(o.x-this._dx)*(i-1),l=(o.y-this._dy)*(i-1);this._dx-=s,this._dy-=l,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var t=this.zr;t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("globalout",this._mouseUpHandler),t.animation.off("frame",this._update)}}));e["a"]=i},function(t,e,n){"use strict";e["a"]="@export ecgl.lines2D.vertex\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nattribute vec2 position: POSITION;\nattribute vec4 a_Color : COLOR;\nvarying vec4 v_Color;\n\n#ifdef POSITIONTEXTURE_ENABLED\nuniform sampler2D positionTexture;\n#endif\n\nvoid main()\n{\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n v_Color = a_Color;\n}\n\n@end\n\n@export ecgl.lines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.vertex\n\nattribute vec2 position: POSITION;\nattribute vec2 normal;\nattribute float offset;\nattribute vec4 a_Color : COLOR;\n\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\nuniform vec4 viewport : VIEWPORT;\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\n\n p2.xy /= p2.w;\n gl_Position.xy /= gl_Position.w;\n\n vec2 N = normalize(p2.xy - gl_Position.xy);\n gl_Position.xy += N * offset / viewport.zw * 2.0;\n\n gl_Position.xy *= gl_Position.w;\n\n v_Color = a_Color;\n}\n@end\n\n\n@export ecgl.meshLines2D.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\n\nvarying vec4 v_Color;\nvarying float v_Miter;\n\nvoid main()\n{\n gl_FragColor = color * v_Color;\n}\n\n@end"},function(t,e,n){"use strict";var r=n(0);n.n(r),n(280),n(284)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(2),s=n(22),l=n(281);i.a.extendChartView({type:"flowGL",__ecgl__:!0,init:function(t,e){this.viewGL=new s["a"]("orthographic"),this.groupGL=new a["a"].Node,this.viewGL.add(this.groupGL),this._particleSurface=new l["a"];var n=new a["a"].Mesh({geometry:new a["a"].PlaneGeometry,material:new a["a"].Material({shader:new a["a"].Shader({vertex:a["a"].Shader.source("ecgl.color.vertex"),fragment:a["a"].Shader.source("ecgl.color.fragment")}),transparent:!0})});n.material.enableTexture("diffuseMap"),this.groupGL.add(n),this._planeMesh=n},render:function(t,e,n){var r=this._particleSurface;r.setParticleType(t.get("particleType")),r.setSupersampling(t.get("supersampling")),this._updateData(t,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var i=o["a"].firstNotNull(t.get("particleDensity"),128);r.setParticleDensity(i,i);var s=this._planeMesh,l=+new Date,c=this,u=!0;s.__percent=0,s.stopAnimation(),s.animate("",{loop:!0}).when(1e5,{__percent:1}).during((function(){var t=+new Date,e=Math.min(t-l,20);l+=e,c._renderer&&(r.update(c._renderer,n,e/1e3,u),s.material.set("diffuseMap",r.getSurfaceTexture())),u=!1})).start();var A=t.getModel("itemStyle"),h=a["a"].parseColor(A.get("color"));h[3]*=o["a"].firstNotNull(A.get("opacity"),1),s.material.set("color",h),r.setColorTextureImage(t.get("colorTexture"),n),r.setParticleSize(t.get("particleSize")),r.particleSpeedScaling=t.get("particleSpeed"),r.motionBlurFactor=1-Math.pow(.1,t.get("particleTrail"))},updateTransform:function(t,e,n){this._updateData(t,n)},afterRender:function(t,e,n,r){var i=r.renderer;this._renderer=i},_updateData:function(t,e){var n=t.coordinateSystem,r=n.dimensions.map((function(e){return t.coordDimToDataDim(e)[0]})),i=t.getData(),a=i.getDataExtent(r[0]),o=i.getDataExtent(r[1]),s=t.get("gridWidth"),l=t.get("gridHeight");if(null==s||"auto"===s){var c=(a[1]-a[0])/(o[1]-o[0]);s=Math.round(Math.sqrt(c*i.count()))}null!=l&&"auto"!==l||(l=Math.ceil(i.count()/s));var u=this._particleSurface.vectorFieldTexture,A=u.pixels;if(A&&A.length===l*s*4)for(var h=0;h<A.length;h++)A[h]=0;else A=u.pixels=new Float32Array(s*l*4);var f=0,d=1/0,p=new Float32Array(2*i.count()),m=0,g=[[1/0,1/0],[-1/0,-1/0]];i.each([r[0],r[1],"vx","vy"],(function(t,e,r,i){var a=n.dataToPoint([t,e]);p[m++]=a[0],p[m++]=a[1],g[0][0]=Math.min(a[0],g[0][0]),g[0][1]=Math.min(a[1],g[0][1]),g[1][0]=Math.max(a[0],g[1][0]),g[1][1]=Math.max(a[1],g[1][1]);var o=Math.sqrt(r*r+i*i);f=Math.max(f,o),d=Math.min(d,o)})),i.each(["vx","vy"],(function(t,e,n){var r=Math.round((p[2*n]-g[0][0])/(g[1][0]-g[0][0])*(s-1)),i=l-1-Math.round((p[2*n+1]-g[0][1])/(g[1][1]-g[0][1])*(l-1)),a=4*(i*s+r);A[a]=t/f*.5+.5,A[a+1]=e/f*.5+.5,A[a+3]=1})),u.width=s,u.height=l,"bmap"===t.get("coordinateSystem")&&this._fillEmptyPixels(u),u.dirty(),this._updatePlanePosition(g[0],g[1],t,e),this._updateGradientTexture(i.getVisual("visualMeta"),[d,f])},_fillEmptyPixels:function(t){var e=t.pixels,n=t.width,r=t.height;function i(t,i,a){t=Math.max(Math.min(t,n-1),0),i=Math.max(Math.min(i,r-1),0);var o=4*(i*(n-1)+t);return 0!==e[o+3]&&(a[0]=e[o],a[1]=e[o+1],!0)}function a(t,e,n){n[0]=t[0]+e[0],n[1]=t[1]+e[1]}for(var o=[],s=[],l=[],c=[],u=[],A=0,h=0;h<r;h++)for(var f=0;f<n;f++){var d=4*(h*(n-1)+f);0===e[d+3]&&(A=o[0]=o[1]=0,i(f-1,h,s)&&(A++,a(s,o,o)),i(f+1,h,l)&&(A++,a(l,o,o)),i(f,h-1,c)&&(A++,a(c,o,o)),i(f,h+1,u)&&(A++,a(u,o,o)),o[0]/=A,o[1]/=A,e[d]=o[0],e[d+1]=o[1]),e[d+3]=1}},_updateGradientTexture:function(t,e){if(t&&t.length){this._gradientTexture=this._gradientTexture||new a["a"].Texture2D({image:document.createElement("canvas")});var n=this._gradientTexture,r=n.image;r.width=200,r.height=1;var i=r.getContext("2d"),o=i.createLinearGradient(0,.5,r.width,.5);t[0].stops.forEach((function(t){var n;e[1]===e[0]?n=0:(n=t.value/e[1],n=Math.min(Math.max(n,0),1)),o.addColorStop(n,t.color)})),i.fillStyle=o,i.fillRect(0,0,r.width,r.height),n.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)}else this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(t,e,n,r){var i=this._limitInViewportAndFullFill(t,e,n,r);t=i.leftTop,e=i.rightBottom,this._particleSurface.setRegion(i.region),this._planeMesh.position.set((t[0]+e[0])/2,r.getHeight()-(t[1]+e[1])/2,0);var a=e[0]-t[0],o=e[1]-t[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(t,e,n,r){var i=[Math.max(t[0],0),Math.max(t[1],0)],a=[Math.min(e[0],r.getWidth()),Math.min(e[1],r.getHeight())];if("bmap"===n.get("coordinateSystem")){var o=n.getData().getDataExtent(n.coordDimToDataDim("lng")[0]),s=Math.floor(o[1]-o[0])>=359;s&&(i[0]>0&&(i[0]=0),a[0]<r.getWidth()&&(a[0]=r.getWidth()))}var l=e[0]-t[0],c=e[1]-t[1],u=a[0]-i[0],A=a[1]-i[1],h=[(i[0]-t[0])/l,1-A/c-(i[1]-t[1])/c,u/l,A/c];return{leftTop:i,rightBottom:a,region:h}},_updateCamera:function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var r=this.viewGL.camera;r.left=r.bottom=0,r.top=e,r.right=t,r.near=0,r.far=100,r.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}})},function(t,e,n){"use strict";var r=n(15),i=n(14),a=n(41),o=n(19),s=n(9),l=n(5),c=n(4),u=n(38),A=n(43),h=n(10),f=n(282),d=n(283);function p(t){var e=document.createElement("canvas");e.width=e.height=t;var n=e.getContext("2d");return n.fillStyle="#fff",n.arc(t/2,t/2,t/2,0,2*Math.PI),n.fill(),e}s["a"]["import"](d["a"]);var m=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new l["a"]({type:c["a"].FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};m.prototype={constructor:m,init:function(){var t={type:c["a"].FLOAT,minFilter:c["a"].NEAREST,magFilter:c["a"].NEAREST,useMipmap:!1};this._spawnTexture=new l["a"](t),this._particleTexture0=new l["a"](t),this._particleTexture1=new l["a"](t),this._frameBuffer=new h["a"]({depthBuffer:!1}),this._particlePass=new r["a"]({fragment:s["a"].source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new r["a"]({fragment:s["a"].source("clay.compositor.downsample")});var e=new a["a"]({renderOrder:10,material:new o["a"]({shader:new s["a"](s["a"].source("ecgl.vfParticle.renderPoints.vertex"),s["a"].source("ecgl.vfParticle.renderPoints.fragment"))}),mode:a["a"].POINTS,geometry:new i["a"]({dynamic:!0,mainAttribute:"texcoord0"})}),n=new a["a"]({renderOrder:10,material:new o["a"]({shader:new s["a"](s["a"].source("ecgl.vfParticle.renderLines.vertex"),s["a"].source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new f["a"],culling:!1}),d=new a["a"]({material:new o["a"]({shader:new s["a"](s["a"].source("ecgl.color.vertex"),s["a"].source("ecgl.color.fragment"))}),geometry:new A["a"]});d.material.enableTexture("diffuseMap"),this._particlePointsMesh=e,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=d,this._camera=new u["a"],this._thisFrameTexture=new l["a"],this._lastFrameTexture=new l["a"]},setParticleDensity:function(t,e){for(var n=t*e,r=new Float32Array(4*n),i=0,a=this.particleLife,o=0;o<t;o++)for(var s=0;s<e;s++,i++){r[4*i]=Math.random(),r[4*i+1]=Math.random(),r[4*i+2]=Math.random();var l=(a[1]-a[0])*Math.random()+a[0];r[4*i+3]=l}"line"===this._particleType?this._setLineGeometry(t,e):this._setPointsGeometry(t,e),this._spawnTexture.width=t,this._spawnTexture.height=e,this._spawnTexture.pixels=r,this._particleTexture0.width=this._particleTexture1.width=t,this._particleTexture0.height=this._particleTexture1.height=e,this._particlePass.setUniform("textureSize",[t,e])},_setPointsGeometry:function(t,e){var n=t*e,r=this._particlePointsMesh.geometry,i=r.attributes;i.texcoord0.init(n);for(var a=0,o=0;o<t;o++)for(var s=0;s<e;s++,a++)i.texcoord0.value[2*a]=o/t,i.texcoord0.value[2*a+1]=s/e;r.dirty()},_setLineGeometry:function(t,e){var n=t*e,r=this._getParticleMesh().geometry;r.setLineCount(n),r.resetOffset();for(var i=0;i<t;i++)for(var a=0;a<e;a++)r.addLine([i/t,a/e]);r.dirty()},_getParticleMesh:function(){return"line"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(t,e,n,r){var i=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;r&&this._updateDownsampleTextures(t,e),i.material.set("size",this._particleSize*this._supersampling),i.material.set("color",this.particleColor),o.setUniform("speedScaling",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform("firstFrameTime",r?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform("particleTexture",this._particleTexture0),o.setUniform("deltaTime",n),o.setUniform("elapsedTime",this._elapsedTime),o.render(t,a),i.material.set("particleTexture",this._particleTexture1),i.material.set("prevParticleTexture",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set("diffuseMap",this._lastFrameTexture),s.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),t.renderPass([s,i],this._camera),a.unbind(t),this._downsample(t),this._swapTexture(),this._elapsedTime+=n},_downsample:function(t){var e=this._downsampleTextures;if(0!==e.length){var n=0,r=this._thisFrameTexture,i=e[n];while(i)this._frameBuffer.attach(i),this._downsamplePass.setUniform("texture",r),this._downsamplePass.setUniform("textureSize",[r.width,r.height]),this._downsamplePass.render(t,this._frameBuffer),r=i,i=e[++n]}},getSurfaceTexture:function(){var t=this._downsampleTextures;return t.length>0?t[t.length-1]:this._lastFrameTexture},setRegion:function(t){this._particlePass.setUniform("region",t)},resize:function(t,e){this._lastFrameTexture.width=t*this._supersampling,this._lastFrameTexture.height=e*this._supersampling,this._thisFrameTexture.width=t*this._supersampling,this._thisFrameTexture.height=e*this._supersampling,this._width=t,this._height=e},setParticleSize:function(t){var e=this._getParticleMesh();if(t<=2)return e.material.disableTexture("spriteTexture"),void(e.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new l["a"]),this._spriteTexture.image&&this._spriteTexture.image.width===t||(this._spriteTexture.image=p(t),this._spriteTexture.dirty()),e.material.transparent=!0,e.material.enableTexture("spriteTexture"),e.material.set("spriteTexture",this._spriteTexture),this._particleSize=t},setGradientTexture:function(t){var e=this._getParticleMesh().material;e[t?"enableTexture":"disableTexture"]("gradientTexture"),e.setUniform("gradientTexture",t)},setColorTextureImage:function(t,e){var n=this._getParticleMesh().material;n.setTextureImage("colorTexture",t,e,{flipY:!0})},setParticleType:function(t){this._particleType=t},clearFrame:function(t){var e=this._frameBuffer;e.attach(this._lastFrameTexture),e.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),e.unbind(t)},setSupersampling:function(t){this._supersampling=t,this.resize(this._width,this._height)},_updateDownsampleTextures:function(t,e){for(var n=this._downsampleTextures,r=Math.max(Math.floor(Math.log(this._supersampling/e.getDevicePixelRatio())/Math.log(2)),0),i=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<r;s++)n[s]=n[s]||new l["a"],n[s].width=a/i,n[s].height=o/i,i*=2;for(;s<n.length;s++)n[s].dispose(t);n.length=r},_swapTexture:function(){var t=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=t;t=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=t},dispose:function(t){t.disposeFrameBuffer(this._frameBuffer),t.disposeTexture(this.vectorFieldTexture),t.disposeTexture(this._spawnTexture),t.disposeTexture(this._particleTexture0),t.disposeTexture(this._particleTexture1),t.disposeTexture(this._thisFrameTexture),t.disposeTexture(this._lastFrameTexture),t.disposeGeometry(this._particleLinesMesh.geometry),t.disposeGeometry(this._particlePointsMesh.geometry),t.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&t.disposeTexture(this._spriteTexture),this._particlePass.dispose(t),this._downsamplePass.dispose(t),this._downsampleTextures.forEach((function(e){e.dispose(t)}))}},e["a"]=m},function(t,e,n){"use strict";var r=n(14),i=n(0),a=(n.n(i),r["a"].extend((function(){return{dynamic:!0,attributes:{position:new r["a"].Attribute("position","float",3,"POSITION")}}}),{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(t){var e=this.attributes,n=4*t,r=2*t;this.vertexCount!==n&&e.position.init(n),this.triangleCount!==r&&(this.indices=0===r?null:this.vertexCount>65535?new Uint32Array(3*r):new Uint16Array(3*r))},addLine:function(t){var e=this._vertexOffset;this.attributes.position.set(e,[t[0],t[1],1]),this.attributes.position.set(e+1,[t[0],t[1],-1]),this.attributes.position.set(e+2,[t[0],t[1],2]),this.attributes.position.set(e+3,[t[0],t[1],-2]),this.setTriangleIndices(this._faceOffset++,[e,e+1,e+2]),this.setTriangleIndices(this._faceOffset++,[e+1,e+2,e+3]),this._vertexOffset+=4}}));e["a"]=a},function(t,e,n){"use strict";e["a"]="@export ecgl.vfParticle.particle.fragment\n\nuniform sampler2D particleTexture;\nuniform sampler2D spawnTexture;\nuniform sampler2D velocityTexture;\n\nuniform float deltaTime;\nuniform float elapsedTime;\n\nuniform float speedScaling : 1.0;\n\nuniform vec2 textureSize;\nuniform vec4 region : [0, 0, 1, 1];\nuniform float firstFrameTime;\n\nvarying vec2 v_Texcoord;\n\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, v_Texcoord);\n bool spawn = false;\n if (p.w <= 0.0) {\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\n p.w -= firstFrameTime;\n spawn = true;\n }\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\n v = (v - 0.5) * 2.0;\n p.z = length(v);\n p.xy += v * deltaTime / 10.0 * speedScaling;\n p.w -= deltaTime;\n\n if (spawn || p.xy != fract(p.xy)) {\n p.z = 0.0;\n }\n p.xy = fract(p.xy);\n\n gl_FragColor = p;\n}\n@end\n\n@export ecgl.vfParticle.renderPoints.vertex\n\n#define PI 3.1415926\n\nattribute vec2 texcoord : TEXCOORD_0;\n\nuniform sampler2D particleTexture;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nuniform float size : 1.0;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, texcoord);\n\n if (p.w > 0.0 && p.z > 1e-5) {\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n\n v_Mag = p.z;\n v_Uv = p.xy;\n\n gl_PointSize = size;\n}\n\n@end\n\n@export ecgl.vfParticle.renderPoints.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\nuniform sampler2D spriteTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n#ifdef SPRITETEXTURE_ENABLED\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\n if (color.a == 0.0) {\n discard;\n }\n#endif\n#ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.vertex\n\n#define PI 3.1415926\n\nattribute vec3 position : POSITION;\n\nuniform sampler2D particleTexture;\nuniform sampler2D prevParticleTexture;\n\nuniform float size : 1.0;\nuniform vec4 vp: VIEWPORT;\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\n@import clay.util.rand\n\nvoid main()\n{\n vec4 p = texture2D(particleTexture, position.xy);\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\n\n p.xy = p.xy * 2.0 - 1.0;\n p2.xy = p2.xy * 2.0 - 1.0;\n\n if (p.w > 0.0 && p.z > 1e-5) {\n vec2 dir = normalize(p.xy - p2.xy);\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\n if (abs(position.z) == 2.0) {\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\n v_Uv = p.xy;\n v_Mag = p.z;\n }\n else {\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\n v_Mag = p2.z;\n v_Uv = p2.xy;\n }\n gl_Position = worldViewProjection * gl_Position;\n }\n else {\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\n }\n}\n\n@end\n\n@export ecgl.vfParticle.renderLines.fragment\n\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\nuniform sampler2D gradientTexture;\nuniform sampler2D colorTexture;\n\nvarying float v_Mag;\nvarying vec2 v_Uv;\n\nvoid main()\n{\n gl_FragColor = color;\n #ifdef GRADIENTTEXTURE_ENABLED\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\n#endif\n#ifdef COLORTEXTURE_ENABLED\n gl_FragColor *= texture2D(colorTexture, v_Uv);\n#endif\n}\n\n@end\n"},function(t,e,n){"use strict";var r=n(0),i=n.n(r);i.a.extendSeriesModel({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualColorAccessPath:"itemStyle.color",getInitialData:function(t,e){var n=i.a.getCoordinateSystemDimensions(this.get("coordinateSystem"))||["x","y"];if(n.length>2)throw new Error("flowGL can only be used on 2d coordinate systems.");n.push("vx","vy");var r=i.a.helper.completeDimensions(n,this.getSource(),{encodeDef:this.get("encode"),dimsDef:this.get("dimensions")}),a=new i.a.List(r,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=(n(286),n(287),n(17));i.a.registerVisual(Object(a["a"])("linesGL"))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(80),o=(n.n(a),i.a.extendSeriesModel({type:"series.linesGL",dependencies:["grid","geo"],visualColorAccessPath:"lineStyle.color",streamEnabled:!0,init:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),o.superApply(this,"init",arguments)},mergeOption:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),o.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(a["concatArray"])(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(a["concatArray"])(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");if(!(n instanceof Array&&n.length>0&&n[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(n)+". Lines must have 2d coords array in data item.");return n},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var a=this._getCoordsFromItemModel(t);for(i=0;i<a.length;i++)e[i]=e[i]||[],e[i][0]=a[i][0],e[i][1]=a[i][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"===typeof t[0]){for(var n=t.length,r=new Uint32Array(n),i=new Float64Array(n),a=0,o=0,s=0,l=0;l<n;){s++;var c=t[l++];r[o++]=a+e,r[o++]=c;for(var u=0;u<c;u++){var A=t[l++],h=t[l++];if(i[a++]=A,i[a++]=h,l>n)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new i.a.List(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[i]:a:void 0})),n},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}))},function(t,e,n){"use strict";var r=n(0),i=n.n(r),a=n(1),o=n(22),s=n(104),l=n(102),c=n(2);i.a.extendChartView({type:"linesGL",__ecgl__:!0,init:function(t,e){this.groupGL=new a["a"].Node,this.viewGL=new o["a"]("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new l["a"](this.viewGL),this._nativeLinesShader=a["a"].createShader("ecgl.lines3D"),this._meshLinesShader=a["a"].createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n);var r=this._linesMeshes[0];r||(r=this._linesMeshes[0]=this._createLinesMesh(t)),this._linesMeshes.length=1,this.groupGL.add(r),this._updateLinesMesh(t,r,0,t.getData().count()),this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),n)},incrementalRender:function(t,e,n,r){var i=this._linesMeshes[this._currentStep];i||(i=this._createLinesMesh(e),this._linesMeshes[this._currentStep]=i),this._updateLinesMesh(e,i,t.start,t.end),this.groupGL.add(i),r.getZr().refresh(),this._currentStep++},updateTransform:function(t,e,n){t.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(t,n)},_createLinesMesh:function(t){var e=new a["a"].Mesh({$ignorePicking:!0,material:new a["a"].Material({shader:a["a"].createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new s["a"]({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:a["a"].Mesh.LINES,culling:!1});return e},_updateLinesMesh:function(t,e,n,r){var i=t.getData();e.material.blend="lighter"===t.get("blendMode")?a["a"].additiveBlend:null;var o=t.get("lineStyle.curveness")||0,s=t.get("polyline"),l=e.geometry,u=t.coordinateSystem,A=c["a"].firstNotNull(t.get("lineStyle.width"),1);A>1?(e.material.shader!==this._meshLinesShader&&e.material.attachShader(this._meshLinesShader),e.mode=a["a"].Mesh.TRIANGLES):(e.material.shader!==this._nativeLinesShader&&e.material.attachShader(this._nativeLinesShader),e.mode=a["a"].Mesh.LINES),n=n||0,r=r||i.count(),l.resetOffset();var h=0,f=0,d=[],p=[],m=[],g=[],v=[],_=.3,y=.7;function w(){p[0]=d[0]*y+g[0]*_-(d[1]-g[1])*o,p[1]=d[1]*y+g[1]*_-(g[0]-d[0])*o,m[0]=d[0]*_+g[0]*y-(d[1]-g[1])*o,m[1]=d[1]*_+g[1]*y-(g[0]-d[0])*o}if(s||0!==o)for(var x=n;x<r;x++)if(s){var b=t.getLineCoordsCount(x);h+=l.getPolylineVertexCount(b),f+=l.getPolylineTriangleCount(b)}else t.getLineCoords(x,v),this._glViewHelper.dataToPoint(u,v[0],d),this._glViewHelper.dataToPoint(u,v[1],g),w(),h+=l.getCubicCurveVertexCount(d,p,m,g),f+=l.getCubicCurveTriangleCount(d,p,m,g);else{var C=r-n;h+=C*l.getLineVertexCount(),f+=C*l.getLineVertexCount()}l.setVertexCount(h),l.setTriangleCount(f);var B=n,E=[];for(x=n;x<r;x++){a["a"].parseColor(i.getItemVisual(B,"color"),E);var T=c["a"].firstNotNull(i.getItemVisual(B,"opacity"),1);E[3]*=T;b=t.getLineCoords(x,v);for(var S=0;S<b;S++)this._glViewHelper.dataToPoint(u,v[S],v[S]);s?l.addPolyline(v,E,A,0,b):0!==o?(d=v[0],g=v[1],w(),l.addCubicCurve(d,p,m,g,E,A)):l.addPolyline(v,E,A,0,2),B++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})}])}))},"7cbb":function(t,e,n){},"7e36":function(t,e,n){},"7e79":function(t,e,n){!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){var r=n(2);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){"use strict";var r=n(0);n.n(r).a},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),a=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){var r={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),a=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),o=null,s=0,l=[],c=n(5);function u(t,e){for(var n=0;n<t.length;n++){var i=t[n],a=r[i.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](i.parts[o]);for(;o<i.parts.length;o++)a.parts.push(m(i.parts[o],e))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(m(i.parts[o],e));r[i.id]={id:i.id,refs:1,parts:s}}}}function A(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i],o=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function h(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,n);n.insertBefore(e,i)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function d(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){return n.nc}();r&&(t.attrs.nonce=r)}return p(e,t.attrs),h(t,e),e}function p(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function m(t,e){var n,r,i,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var l=s++;n=o||(o=d(e)),r=v.bind(null,n,l,!1),i=v.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",p(e,t.attrs),h(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||a)&&(r=c(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){f(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=A(t,e);return u(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var o=n[a];(s=r[o.id]).refs--,i.push(s)}for(t&&u(A(t,e),e),a=0;a<i.length;a++){var s;if(0===(s=i[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function v(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,a=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:t.scaleImg,mouseout:t.cancelScale}},[n("div",{staticClass:"cropper-box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"}},[n("img",{ref:"cropperImg",attrs:{src:t.imgs,alt:"cropper-img"}})])]),t._v(" "),n("div",{staticClass:"cropper-drag-box",class:{"cropper-move":t.move&&!t.crop,"cropper-crop":t.crop,"cropper-modal":t.cropping},on:{mousedown:t.startMove,touchstart:t.startMove}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"}},[n("span",{staticClass:"cropper-view-box"},[n("img",{style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"},attrs:{src:t.imgs,alt:"cropper-img"}})]),t._v(" "),n("span",{staticClass:"cropper-face cropper-move",on:{mousedown:t.cropMove,touchstart:t.cropMove}}),t._v(" "),t.info?n("span",{staticClass:"crop-info",style:{top:t.cropInfo.top}},[t._v(t._s(this.cropInfo.width)+" × "+t._s(this.cropInfo.height))]):t._e(),t._v(" "),t.fixedBox?t._e():n("span",[n("span",{staticClass:"crop-line line-w",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),n("span",{staticClass:"crop-line line-a",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),n("span",{staticClass:"crop-line line-s",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),n("span",{staticClass:"crop-line line-d",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),n("span",{staticClass:"crop-point point1",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,1)}}}),t._v(" "),n("span",{staticClass:"crop-point point2",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),n("span",{staticClass:"crop-point point3",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,1)}}}),t._v(" "),n("span",{staticClass:"crop-point point4",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),n("span",{staticClass:"crop-point point5",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),n("span",{staticClass:"crop-point point6",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,2)}}}),t._v(" "),n("span",{staticClass:"crop-point point7",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),n("span",{staticClass:"crop-point point8",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,2)}}})])])])};r._withStripped=!0;var i={getData:function(t){return new Promise((function(e,n){var r={};(function(t){var e=null;return new Promise((function(n,r){if(t.src)if(/^data\:/i.test(t.src))e=function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),n=e.length,r=new ArrayBuffer(n),i=new Uint8Array(r),a=0;a<n;a++)i[a]=e.charCodeAt(a);return r}(t.src),n(e);else if(/^blob\:/i.test(t.src)){var i=new FileReader;i.onload=function(t){e=t.target.result,n(e)},function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},n.send()}(t.src,(function(t){i.readAsArrayBuffer(t)}))}else{var a=new XMLHttpRequest;a.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";e=a.response,n(e),a=null},a.open("GET",t.src,!0),a.responseType="arraybuffer",a.send(null)}else r("img error")}))})(t).then((function(t){r.arrayBuffer=t,r.orientation=function(t){var e,n,r,i,a,o,s,l,c,u=new DataView(t),A=u.byteLength;if(255===u.getUint8(0)&&216===u.getUint8(1))for(l=2;l<A;){if(255===u.getUint8(l)&&225===u.getUint8(l+1)){o=l;break}l++}if(o&&(n=o+10,"Exif"===function(t,e,n){var r,i="";for(r=e,n+=e;r<n;r++)i+=String.fromCharCode(t.getUint8(r));return i}(u,o+4,4)&&(a=u.getUint16(n),((i=18761===a)||19789===a)&&42===u.getUint16(n+2,i)&&(r=u.getUint32(n+4,i))>=8&&(s=n+r))),s)for(A=u.getUint16(s,i),c=0;c<A;c++)if(l=s+12*c+2,274===u.getUint16(l,i)){l+=8,e=u.getUint16(l,i);break}return e}(t),e(r)})).catch((function(t){n(t)}))}))}},a=i,o={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:Number,default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"}},computed:{cropInfo:function(){var t={};if(t.top=this.cropOffsertY>21?"-21px":"0px",t.width=this.cropW>0?this.cropW:0,t.height=this.cropH>0?this.cropH:0,this.infoTrue){var e=1;this.high&&!this.full&&(e=window.devicePixelRatio),1!==this.enlarge&!this.full&&(e=Math.abs(Number(this.enlarge))),t.width=t.width*e,t.height=t.height*e,this.full&&(t.width=t.width/this.scale,t.height=t.height/this.scale)}return t.width=t.width.toFixed(0),t.height=t.height.toFixed(0),t},isIE:function(){var t=navigator.userAgent,e=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1;return e}},watch:{img:function(){this.checkedImg()},imgs:function(t){""!==t&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(t,e){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(t){t&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),(this.autoCrop||this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{checkOrientationImage:function(t,e,n,r){var i=this,a=document.createElement("canvas"),o=a.getContext("2d");switch(o.save(),e){case 2:a.width=n,a.height=r,o.translate(n,0),o.scale(-1,1);break;case 3:a.width=n,a.height=r,o.translate(n/2,r/2),o.rotate(180*Math.PI/180),o.translate(-n/2,-r/2);break;case 4:a.width=n,a.height=r,o.translate(0,r),o.scale(1,-1);break;case 5:a.height=n,a.width=r,o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:a.width=r,a.height=n,o.translate(r/2,n/2),o.rotate(90*Math.PI/180),o.translate(-n/2,-r/2);break;case 7:a.height=n,a.width=r,o.rotate(.5*Math.PI),o.translate(n,-r),o.scale(-1,1);break;case 8:a.height=n,a.width=r,o.translate(r/2,n/2),o.rotate(-90*Math.PI/180),o.translate(-n/2,-r/2);break;default:a.width=n,a.height=r}o.drawImage(t,0,0,n,r),o.restore(),a.toBlob((function(t){var e=URL.createObjectURL(t);i.imgs=e}),"image/"+this.outputType,1)},checkedImg:function(){var t=this;if(""!==this.img){this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var e=new Image;if(e.onload=function(){if(""===t.img)return t.$emit("imgLoad","error"),t.$emit("img-load","error"),!1;var n=e.width,r=e.height;a.getData(e).then((function(i){t.orientation=i.orientation||1;var a=t.maxImgSize;!t.orientation&&n<a&r<a?t.imgs=t.img:(n>a&&(r=r/n*a,n=a),r>a&&(n=n/r*a,r=a),t.checkOrientationImage(e,t.orientation,n,r))}))},e.onerror=function(){t.$emit("imgLoad","error"),t.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(e.crossOrigin=""),this.isIE){var n=new XMLHttpRequest;n.onload=function(){var t=URL.createObjectURL(this.response);e.src=t},n.open("GET",this.img,!0),n.responseType="blob",n.send()}else e.src=this.img}},startMove:function(t){if(t.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=(t.clientX?t.clientX:t.touches[0].clientX)-this.x,this.moveY=(t.clientY?t.clientY:t.touches[0].clientY)-this.y,t.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==t.touches.length&&(this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=t.offsetX?t.offsetX:t.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=t.offsetY?t.offsetY:t.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=t.clientX?t.clientX:t.touches[0].clientX,this.cropY=t.clientY?t.clientY:t.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(t){var e=this;t.preventDefault();var n=this.scale,r=this.touches[0].clientX,i=this.touches[0].clientY,a=t.touches[0].clientX,o=t.touches[0].clientY,s=this.touches[1].clientX,l=this.touches[1].clientY,c=t.touches[1].clientX,u=t.touches[1].clientY,A=Math.sqrt(Math.pow(r-s,2)+Math.pow(i-l,2)),h=Math.sqrt(Math.pow(a-c,2)+Math.pow(o-u,2))-A,f=1,d=(f=(f=f/this.trueWidth>f/this.trueHeight?f/this.trueHeight:f/this.trueWidth)>.1?.1:f)*h;if(!this.touchNow){if(this.touchNow=!0,h>0?n+=Math.abs(d):h<0&&n>Math.abs(d)&&(n-=Math.abs(d)),this.touches=t.touches,setTimeout((function(){e.touchNow=!1}),8),!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n}},cancelTouchScale:function(t){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(t){var e=this;if(t.preventDefault(),t.touches&&2===t.touches.length)return this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var n,r,i=t.clientX?t.clientX:t.touches[0].clientX,a=t.clientY?t.clientY:t.touches[0].clientY;n=i-this.moveX,r=a-this.moveY,this.$nextTick((function(){if(e.centerBox){var t,i,a,o,s=e.getImgAxis(n,r,e.scale),l=e.getCropAxis(),c=e.trueHeight*e.scale,u=e.trueWidth*e.scale;switch(e.rotate){case 1:case-1:case 3:case-3:t=e.cropOffsertX-e.trueWidth*(1-e.scale)/2+(c-u)/2,i=e.cropOffsertY-e.trueHeight*(1-e.scale)/2+(u-c)/2,a=t-c+e.cropW,o=i-u+e.cropH;break;default:t=e.cropOffsertX-e.trueWidth*(1-e.scale)/2,i=e.cropOffsertY-e.trueHeight*(1-e.scale)/2,a=t-u+e.cropW,o=i-c+e.cropH}s.x1>=l.x1&&(n=t),s.y1>=l.y1&&(r=i),s.x2<=l.x2&&(n=a),s.y2<=l.y2&&(r=o)}e.x=n,e.y=r,e.$emit("imgMoving",{moving:!0,axis:e.getImgAxis()}),e.$emit("img-moving",{moving:!0,axis:e.getImgAxis()})}))},leaveImg:function(t){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,{passive:!1})},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(t){var e=this;t.preventDefault();var n=this.scale,r=t.deltaY||t.wheelDelta;r=navigator.userAgent.indexOf("Firefox")>0?30*r:r,this.isIE&&(r=-r);var i=this.coe,a=(i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth)*r;a<0?n+=Math.abs(a):n>Math.abs(a)&&(n-=Math.abs(a));var o=a<0?"add":"reduce";if(o!==this.coeStatus&&(this.coeStatus=o,this.coe=.2),this.scaling||(this.scalingSet=setTimeout((function(){e.scaling=!1,e.coe=e.coe+=.01}),50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n},changeScale:function(t){var e=this.scale;t=t||1;var n=20;if((t*=n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth)>0?e+=Math.abs(t):e>Math.abs(t)&&(e-=Math.abs(t)),!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e},createCrop:function(t){var e=this;t.preventDefault();var n=t.clientX?t.clientX:t.touches?t.touches[0].clientX:0,r=t.clientY?t.clientY:t.touches?t.touches[0].clientY:0;this.$nextTick((function(){var t=n-e.cropX,i=r-e.cropY;if(t>0?(e.cropW=t+e.cropChangeX>e.w?e.w-e.cropChangeX:t,e.cropOffsertX=e.cropChangeX):(e.cropW=e.w-e.cropChangeX+Math.abs(t)>e.w?e.cropChangeX:Math.abs(t),e.cropOffsertX=e.cropChangeX+t>0?e.cropChangeX+t:0),e.fixed){var a=e.cropW/e.fixedNumber[0]*e.fixedNumber[1];a+e.cropOffsertY>e.h?(e.cropH=e.h-e.cropOffsertY,e.cropW=e.cropH/e.fixedNumber[1]*e.fixedNumber[0],e.cropOffsertX=t>0?e.cropChangeX:e.cropChangeX-e.cropW):e.cropH=a,e.cropOffsertY=e.cropOffsertY}else i>0?(e.cropH=i+e.cropChangeY>e.h?e.h-e.cropChangeY:i,e.cropOffsertY=e.cropChangeY):(e.cropH=e.h-e.cropChangeY+Math.abs(i)>e.h?e.cropChangeY:Math.abs(i),e.cropOffsertY=e.cropChangeY+i>0?e.cropChangeY+i:0)}))},changeCropSize:function(t,e,n,r,i){t.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=e,this.canChangeY=n,this.changeCropTypeX=r,this.changeCropTypeY=i,this.cropX=t.clientX?t.clientX:t.touches[0].clientX,this.cropY=t.clientY?t.clientY:t.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0)},changeCropNow:function(t){var e=this;t.preventDefault();var n=t.clientX?t.clientX:t.touches?t.touches[0].clientX:0,r=t.clientY?t.clientY:t.touches?t.touches[0].clientY:0,i=this.w,a=this.h,o=0,s=0;if(this.centerBox){var l=this.getImgAxis(),c=l.x2,u=l.y2;o=l.x1>0?l.x1:0,s=l.y1>0?l.y1:0,i>c&&(i=c),a>u&&(a=u)}this.$nextTick((function(){var t=n-e.cropX,l=r-e.cropY;if(e.canChangeX&&(1===e.changeCropTypeX?e.cropOldW-t>0?(e.cropW=i-e.cropChangeX-t<=i-o?e.cropOldW-t:e.cropOldW+e.cropChangeX-o,e.cropOffsertX=i-e.cropChangeX-t<=i-o?e.cropChangeX+t:o):(e.cropW=Math.abs(t)+e.cropChangeX<=i?Math.abs(t)-e.cropOldW:i-e.cropOldW-e.cropChangeX,e.cropOffsertX=e.cropChangeX+e.cropOldW):2===e.changeCropTypeX&&(e.cropOldW+t>0?(e.cropW=e.cropOldW+t+e.cropOffsertX<=i?e.cropOldW+t:i-e.cropOffsertX,e.cropOffsertX=e.cropChangeX):(e.cropW=i-e.cropChangeX+Math.abs(t+e.cropOldW)<=i-o?Math.abs(t+e.cropOldW):e.cropChangeX-o,e.cropOffsertX=i-e.cropChangeX+Math.abs(t+e.cropOldW)<=i-o?e.cropChangeX-Math.abs(t+e.cropOldW):o))),e.canChangeY&&(1===e.changeCropTypeY?e.cropOldH-l>0?(e.cropH=a-e.cropChangeY-l<=a-s?e.cropOldH-l:e.cropOldH+e.cropChangeY-s,e.cropOffsertY=a-e.cropChangeY-l<=a-s?e.cropChangeY+l:s):(e.cropH=Math.abs(l)+e.cropChangeY<=a?Math.abs(l)-e.cropOldH:a-e.cropOldH-e.cropChangeY,e.cropOffsertY=e.cropChangeY+e.cropOldH):2===e.changeCropTypeY&&(e.cropOldH+l>0?(e.cropH=e.cropOldH+l+e.cropOffsertY<=a?e.cropOldH+l:a-e.cropOffsertY,e.cropOffsertY=e.cropChangeY):(e.cropH=a-e.cropChangeY+Math.abs(l+e.cropOldH)<=a-s?Math.abs(l+e.cropOldH):e.cropChangeY-s,e.cropOffsertY=a-e.cropChangeY+Math.abs(l+e.cropOldH)<=a-s?e.cropChangeY-Math.abs(l+e.cropOldH):s))),e.canChangeX&&e.fixed){var c=e.cropW/e.fixedNumber[0]*e.fixedNumber[1];c+e.cropOffsertY>a?(e.cropH=a-e.cropOffsertY,e.cropW=e.cropH/e.fixedNumber[1]*e.fixedNumber[0]):e.cropH=c}if(e.canChangeY&&e.fixed){var u=e.cropH/e.fixedNumber[1]*e.fixedNumber[0];u+e.cropOffsertX>i?(e.cropW=i-e.cropOffsertX,e.cropH=e.cropW/e.fixedNumber[0]*e.fixedNumber[1]):e.cropW=u}}))},changeCropEnd:function(t){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(t){if(t.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(t),!1;if(t.touches&&2===t.touches.length)return this.crop=!1,this.startMove(t),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var e,n,r=t.clientX?t.clientX:t.touches[0].clientX,i=t.clientY?t.clientY:t.touches[0].clientY;e=r-this.cropOffsertX,n=i-this.cropOffsertY,this.cropX=e,this.cropY=n,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(t,e){var n=this,r=0,i=0;t&&(t.preventDefault(),r=t.clientX?t.clientX:t.touches[0].clientX,i=t.clientY?t.clientY:t.touches[0].clientY),this.$nextTick((function(){var t,a,o=r-n.cropX,s=i-n.cropY;if(e&&(o=n.cropOffsertX,s=n.cropOffsertY),t=o<=0?0:o+n.cropW>n.w?n.w-n.cropW:o,a=s<=0?0:s+n.cropH>n.h?n.h-n.cropH:s,n.centerBox){var l=n.getImgAxis();t<=l.x1&&(t=l.x1),t+n.cropW>l.x2&&(t=l.x2-n.cropW),a<=l.y1&&(a=l.y1),a+n.cropH>l.y2&&(a=l.y2-n.cropH)}n.cropOffsertX=t,n.cropOffsertY=a,n.$emit("cropMoving",{moving:!0,axis:n.getCropAxis()}),n.$emit("crop-moving",{moving:!0,axis:n.getCropAxis()})}))},getImgAxis:function(t,e,n){t=t||this.x,e=e||this.y,n=n||this.scale;var r={x1:0,x2:0,y1:0,y2:0},i=this.trueWidth*n,a=this.trueHeight*n;switch(this.rotate){case 0:r.x1=t+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=e+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break;case 1:case-1:case 3:case-3:r.x1=t+this.trueWidth*(1-n)/2+(i-a)/2,r.x2=r.x1+this.trueHeight*n,r.y1=e+this.trueHeight*(1-n)/2+(a-i)/2,r.y2=r.y1+this.trueWidth*n;break;default:r.x1=t+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=e+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n}return r},getCropAxis:function(){var t={x1:0,x2:0,y1:0,y2:0};return t.x1=this.cropOffsertX,t.x2=t.x1+this.cropW,t.y1=this.cropOffsertY,t.y2=t.y1+this.cropH,t},leaveCrop:function(t){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(t){var e=this,n=document.createElement("canvas"),r=new Image,i=this.rotate,a=this.trueWidth,o=this.trueHeight,s=this.cropOffsertX,l=this.cropOffsertY;function c(t,e){n.width=Math.round(t),n.height=Math.round(e)}r.onload=function(){if(0!==e.cropW){var u=n.getContext("2d"),A=1;e.high&!e.full&&(A=window.devicePixelRatio),1!==e.enlarge&!e.full&&(A=Math.abs(Number(e.enlarge)),console.log(A));var h=e.cropW*A,f=e.cropH*A,d=a*e.scale*A,p=o*e.scale*A,m=(e.x-s+e.trueWidth*(1-e.scale)/2)*A,g=(e.y-l+e.trueHeight*(1-e.scale)/2)*A;switch(c(h,f),u.save(),i){case 0:e.full?(c(h/e.scale,f/e.scale),u.drawImage(r,m/e.scale,g/e.scale,d/e.scale,p/e.scale)):u.drawImage(r,m,g,d,p);break;case 1:case-3:e.full?(c(h/e.scale,f/e.scale),m=m/e.scale+(d/e.scale-p/e.scale)/2,g=g/e.scale+(p/e.scale-d/e.scale)/2,u.rotate(90*i*Math.PI/180),u.drawImage(r,g,-m-p/e.scale,d/e.scale,p/e.scale)):(m+=(d-p)/2,g+=(p-d)/2,u.rotate(90*i*Math.PI/180),u.drawImage(r,g,-m-p,d,p));break;case 2:case-2:e.full?(c(h/e.scale,f/e.scale),u.rotate(90*i*Math.PI/180),m/=e.scale,g/=e.scale,u.drawImage(r,-m-d/e.scale,-g-p/e.scale,d/e.scale,p/e.scale)):(u.rotate(90*i*Math.PI/180),u.drawImage(r,-m-d,-g-p,d,p));break;case 3:case-1:e.full?(c(h/e.scale,f/e.scale),m=m/e.scale+(d/e.scale-p/e.scale)/2,g=g/e.scale+(p/e.scale-d/e.scale)/2,u.rotate(90*i*Math.PI/180),u.drawImage(r,-g-d/e.scale,m,d/e.scale,p/e.scale)):(m+=(d-p)/2,g+=(p-d)/2,u.rotate(90*i*Math.PI/180),u.drawImage(r,-g-d,m,d,p));break;default:e.full?(c(h/e.scale,f/e.scale),u.drawImage(r,m/e.scale,g/e.scale,d/e.scale,p/e.scale)):u.drawImage(r,m,g,d,p)}u.restore()}else{var v=a*e.scale,_=o*e.scale,y=n.getContext("2d");switch(y.save(),i){case 0:c(v,_),y.drawImage(r,0,0,v,_);break;case 1:case-3:c(_,v),y.rotate(90*i*Math.PI/180),y.drawImage(r,0,-_,v,_);break;case 2:case-2:c(v,_),y.rotate(90*i*Math.PI/180),y.drawImage(r,-v,-_,v,_);break;case 3:case-1:c(_,v),y.rotate(90*i*Math.PI/180),y.drawImage(r,-v,0,v,_);break;default:c(v,_),y.drawImage(r,0,0,v,_)}y.restore()}t(n)},"data"!==this.img.substr(0,4)&&(r.crossOrigin="Anonymous"),r.src=this.imgs},getCropData:function(t){var e=this;this.getCropChecked((function(n){t(n.toDataURL("image/"+e.outputType,e.outputSize))}))},getCropBlob:function(t){var e=this;this.getCropChecked((function(n){n.toBlob((function(e){return t(e)}),"image/"+e.outputType,e.outputSize)}))},showPreview:function(){var t=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout((function(){t.isCanShow=!0}),16);var e=this.cropW,n=this.cropH,r=this.scale,i={};i.div={width:"".concat(e,"px"),height:"".concat(n,"px")};var a=(this.x-this.cropOffsertX)/r,o=(this.y-this.cropOffsertY)/r;i.w=e,i.h=n,i.url=this.imgs,i.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(r,")translate3d(").concat(a,"px, ").concat(o,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},i.html='\n      <div class="show-preview" style="width: '.concat(i.w,"px; height: ").concat(i.h,'px,; overflow: hidden">\n        <div style="width: ').concat(e,"px; height: ").concat(n,'px">\n          <img src=').concat(i.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(r,")translate3d(").concat(a,"px, ").concat(o,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",i),this.$emit("real-time",i)},reload:function(){var t=this,e=new Image;e.onload=function(){t.w=parseFloat(window.getComputedStyle(t.$refs.cropper).width),t.h=parseFloat(window.getComputedStyle(t.$refs.cropper).height),t.trueWidth=e.width,t.trueHeight=e.height,t.original?t.scale=1:t.scale=t.checkedMode(),t.$nextTick((function(){t.x=-(t.trueWidth-t.trueWidth*t.scale)/2+(t.w-t.trueWidth*t.scale)/2,t.y=-(t.trueHeight-t.trueHeight*t.scale)/2+(t.h-t.trueHeight*t.scale)/2,t.loading=!1,t.autoCrop&&t.goAutoCrop(),t.$emit("img-load","success"),t.$emit("imgLoad","success"),setTimeout((function(){t.showPreview()}),20)}))},e.onerror=function(){t.$emit("imgLoad","error"),t.$emit("img-load","error")},e.src=this.imgs},checkedMode:function(){var t=1,e=(this.trueWidth,this.trueHeight),n=this.mode.split(" ");switch(n[0]){case"contain":this.trueWidth>this.w&&(t=this.w/this.trueWidth),this.trueHeight*t>this.h&&(t=this.h/this.trueHeight);break;case"cover":(e*=t=this.w/this.trueWidth)<this.h&&(t=(e=this.h)/this.trueHeight);break;default:try{var r=n[0];if(-1!==r.search("px")&&(r=r.replace("px",""),t=parseFloat(r)/this.trueWidth),-1!==r.search("%")&&(r=r.replace("%",""),t=parseFloat(r)/100*this.w/this.trueWidth),2===n.length&&"auto"===r){var i=n[1];-1!==i.search("px")&&(i=i.replace("px",""),t=(e=parseFloat(i))/this.trueHeight),-1!==i.search("%")&&(i=i.replace("%",""),t=(e=parseFloat(i)/100*this.h)/this.trueHeight)}}catch(e){t=1}}return t},goAutoCrop:function(t,e){this.clearCrop(),this.cropping=!0;var n=this.w,r=this.h;if(this.centerBox){var i=this.trueWidth*this.scale,a=this.trueHeight*this.scale;n=i<n?i:n,r=a<r?a:r}var o=t||parseFloat(this.autoCropWidth),s=e||parseFloat(this.autoCropHeight);0!==o&&0!==s||(o=.8*n,s=.8*r),o=o>n?n:o,s=s>r?r:s,this.fixed&&(s=o/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(o=(s=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(o,s)},changeCrop:function(t,e){var n=this;if(this.centerBox){var r=this.getImgAxis();t>r.x2-r.x1&&(e=(t=r.x2-r.x1)/this.fixedNumber[0]*this.fixedNumber[1]),e>r.y2-r.y1&&(t=(e=r.y2-r.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=t,this.cropH=e,this.cropOffsertX=(this.w-t)/2,this.cropOffsertY=(this.h-e)/2,this.centerBox&&this.$nextTick((function(){n.moveCrop(null,!0)}))},refresh:function(){var t=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick((function(){t.checkedImg()}))},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(t,e,n){t=t||this.x,e=e||this.y,n=n||this.scale;var r=!0;if(this.centerBox){var i=this.getImgAxis(t,e,n),a=this.getCropAxis();i.x1>=a.x1&&(r=!1),i.x2<=a.x2&&(r=!1),i.y1>=a.y1&&(r=!1),i.y2<=a.y2&&(r=!1)}return r}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var t=this,e=navigator.userAgent;this.isIOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,n,r){for(var i=atob(this.toDataURL(n,r).split(",")[1]),a=i.length,o=new Uint8Array(a),s=0;s<a;s++)o[s]=i.charCodeAt(s);e(new Blob([o],{type:t.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)}};n(1);var s=function(t,e,n,r,i,a,o,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var A=c.beforeCreate;c.beforeCreate=A?[].concat(A,l):[l]}return{exports:t,options:c}}(o,r,[],!1,null,"6dae58fd",null);s.options.__file="src/vue-cropper.vue";var l=s.exports;n.d(e,"VueCropper",(function(){return l}));var c=function(t){t.component("VueCropper",l)};"undefined"!=typeof window&&window.Vue&&c(window.Vue),e.default={version:"0.4.8",install:c,VueCropper:l,vueCropper:l}}])}))},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in i||n("9e1e")&&r(i,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},8080:function(t,e,n){},"80b0":function(t,e,n){"use strict";n("d842")},"82b3":function(t,e,n){},"85e7":function(t,e,n){"use strict";n("881b")},8615:function(t,e,n){var r=n("5ca1"),i=n("504c")(!1);r(r.S,"Object",{values:function(t){return i(t)}})},"87b5":function(t,e,n){},"881b":function(t,e,n){},"89c5":function(t,e,n){},"8a66":function(t,e,n){"use strict";n("6b3b")},"8ad8":function(t,e,n){},"8b96":function(t,e,n){},"8e03":function(t,e,n){},"8e44":function(t,e,n){},"8e9c":function(t,e,n){"use strict";n("736e")},"8fc9":function(t,e,n){},"902f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAPcklEQVR4Xu2dd6wvRRXHv2AgoBILxoKKRFSMgr2hKDYURCxRiaKBP1R8BCuxgGCnWSI2gtgiGNEoxPoAxUKzvVgRDWh8IVhQDCgiJRJLPteZ+/bunZmdnZ3dnf399iSb3Xt/s1PO+e6UM+ec2UqLSfeWdH9Ju1WuW0uy1/aVZzhwo7luqjzzv8sr12WSNi8au7ZagAbdRtITJR0g6XFG4Nv01K5bDCC+J+lrks6XdENPZQ2S7VQB8GBJe0t6khH8rQbh1vpC/m2A8F1JF0j6xUj1SC52SgB4tKT9JO0riecS6UeSzpV0jiSei6fSATAFofuEPAkwlAqAZ0o61HTvub4ixm/Gay4mePZO/kwOmUvYO8855xHMFz4m6eu5GpMrn9IAkEPwCPZSSb80d/t8dUum3VnSHpJ2N5d9BhypVBwQSgFAF8H/S9J3JH3b3H+aKp3I9x4m6cmSnmLu20a+V01WDBDGBsAuko4y3X0bPv5e0leM0FmK/b3NyxnT3t4sQQHDsyXds2XeDAsnSLqi5XvZko8JgMMlHSnpHpGtYdz+qhE8d/4uiZg/PMsAgTt/x9AfJJ0o6eSYxLnTjAGAvcxX/4zIxvxA0hlG8Hz5UyB6AnqEgyTtGVnhs01vcHFk+izJhgbA0ZKOjaw5X/npks6KTF9qsudJOtj0DjF1PEbScTEJc6QZCgBo7hA8k70m+qQR/IVNCSf2+xMMEF4aUW+WiwChd83iEADYYIS/Y0PD0a8fL4mucJGJoe/NZt8i1M5rDAg+2icz+gbAaQb1oTbcbASP8NGtLwOxdwEIuLZraDDD4CF9MaVPAHxT0j4NFWcph+A39dXAwvN9lAEBE8YQnSfpaX20pS8AoIx5aEOFmRAi/Jn+3xM0Tfx+JgklVFbqAwBXNihEaAjrf3qImbZwgC8cfUDow2EZvHNOpuUGAHr4kALk40b41+ZsxALldUcDgpcH2oQCrMt+xJqscwIAdeztAhWfu/x4pDYNCddJQg3dmXIB4BKzc+ar0OskfaBzbZcrg9dKOinQZHY7H9SVJTkAgNJi/0BF+G3R1/Zd5eB7H53BxkDm/BajXPNm0RUAX5D0gkAFd5J0VV/cWZJ87ybpT4G2flHSgam86AKAJiXPHUbcpk3lR6nvMd7/LVC5ZGVRKgBQ754SqBBLmZ+Xys2J1ushklhC++gwSa3VxikAYGMH6xufbv+5kr48USaXXu3nSPqSp5LsHWCY0moDKQUAmDP5Jh7zbL9/CIVWB0zIcZCJprYACO3no+TBknem/jmAKZlPWdTKnqANALDkucjTNsamp0qaNXz9C58S0Bh+K6A2frykKMuiNgBgzekz43r6rNsfRvKVUtg7+IanVPQuId3M6muxAMCA8yOewmYV7+CyXy0wpDJ+ZYyhaQwAMN2m63dZ77Kfz8x0pvE4wIrLZU+AtTFDQdDkPAYAp3omd1jy4KG7rMYc44l8bckYleCZ7LIsYrL4ilBFmwDAco9ln4veKuldpXBhyevxFknv9PCAZaHXJ7EJAJhmu9aVGHDy9S+LDV/p+MLGkF6AABl14gPGUcVJIQCEvv55hy8MCcLTYL7FJg6ua0NQaOfQ2wuEAOD7+rHbf9kQLZpQGQ80Akfo9rqtiWAyFABg1yckufwOvL2ADwChr5+uf9GcNtpiDVfxh9eETuCpOhHCZkgA4HzCUOAiZy/gA4Dv6+f/TSbMbZk5hfTsxPFlV4Ue4xY+NADgJUtz15jv7AVcACAsyw89Unn+AvjqxQCuKmj7nBKIagwA4It4pqeRj6nHLnIB4G2S3u7IAC/dx8Zwb2JpEGy9O+fvHDQGAKj39z1eycj1HdWGuQDA1++KwvWqgDo4B7OGyoOuu96d08X3QWMBADXwhx0NInAVvcAq1QHg6/6xRWdpMxX//GobmZzZmbn90pnEDUFjAYD4BEQ2dflorBkG6gCgi2AIqNPnJb1oCI5lKAOnCStoe39AhnxTshgLANT1c5Je6Kg0Q8DqEF8HgK/7R/iAoGQiXCxGEgidGMEl0JgAQPiAoE5rhoEqAGDcjx0v0O3T/ZcWk6deVQBAyNYxCc3fTyrq8zEBQPfPMOAKXPUIU09VAfBGSe92cA87ACaApdMYALACxxuajwfhs/tmh9ExAYC8mAgyIazTmyS9h39WAYB1icsHfSpr/yEA4BJ43fGlOo8aGwA+nQCe2VhxrQJgB+PEsXUNKoRXvetEbP36AECMwOtfV0kAwHbwz46wt/8xzqXX2x6ArxwXozqhxwbFU6AcAEgReMkAoG7Mi+BNnXDpO9MCwLeLtGbJUDgKUgCQQ+ClA8C3tF/Z1bUAwNWYoMh1Wqc7LhgEMQDoQ+ClA8Cn3COI9h4WAARcrodHJ9oHe9pTIRcAhhB46QCgfv90RBVhfrctAOCApd85pLxOb1w4EqoAYOiyy7Kh3dNLmgRakfkUfLsCAJ8pEfOCUKya0vBQB4BrR3OIOpcIANz2XFZc+wMAHDrf7+AMTogfHIJjmcqYAeBn5Gs8IXqOAAD4lLtsx/H1ww18KjQDwC8p3MbxJazTqQDAt068i6S2x6yMCZYZAH7uc/zNXxw/nw8AmOzhXVKllRnimNJMKHsGQJhprpXeJgDg0gEQ848YP1OiGQBhaRFjqB5b8FIAwBKQpWCV/tjiKJdSQDIDICwJnEXvXkuyGQCgLCEUWZV+K+l+pUg2sh4zAMKM+o2k+9aSXAUAXCFeifDVFO07Ui6DJZsBEGY1UVzqxq/XAQDX5ACzYpej4WDSTChoBkCYaTj01s36b5kBkIC0hldK1ARSZS8A5iEgLwhKBYB3CJgngcsBAO8kcF4GLgcAvMvAWRG0HADwKoJmVfByAMCrCp43gxYfAMHNoHk7ePEBENwOng1C0gCAXv1eZpuVrVbs7qASl4FBg5DZJCweAPAKe3oicO5ae+1XxrcC5VoprmG2ikGTsEU1Cs1pE4in7RGSHhmPlZWUY7uG2eoGjUJJtGhm4TkdWnyOFTFYQPdOaJ2xKWgWTuV8jiG4jOP5OgXqYzOI7p6T0VIJ12wUMGMS0VHwWq7TGscQ30rgDZLeN2btW5SdGwBsnbJE7nJCZ1Mo3hbNS076eknvdbxNEPANtoKEfnUFFD5X0n7JRQ/7Ym4AcDhTl1D45wQO2BiSM9RjX0eBBAPdaAFAXB3Oo63HwmNugHUwO4alU24AuPZI2vAg5zykTbnVtPReLFHrBr4E+eac5xuqXZQP8VM5Bi43AP6bynVJLAmZAP6jQx45XvUdM8chE8h1TYSQV3s8gUoKEUPAA9eBycQxyA0A7CLvkyiFl0j6bOK7OV/zhYhBMfShOgA4ENJ12mcJQaIYw2Dqiz3cuV7SpyuxjHJ0v02HYvsExTk+J+SUYmJeoSBRTHBXDpgsPUwcAR2ZxR7ckgk5ABATb6BarfPMbJt7CdQ6TByVLilQJAGrUGHunMDNXMtXom4TSeNOgTrQQxJxy3eqWkL1s7ySFCiylFCxvpiFsZyhx/hMbOKIdHwYzD24OD0N5Q6CJ64S118j8hgySXKoWCpZQrBo30llsUxc9oMsk4NFh4aBocLF84V1DUpNaDuXN2wsgKaezhcuft3cqMQDI7rq3y+RxIpmWanzgREwbswjYwhLu7JGTaRlP8K+85Ex8H3MQ6O6TADPkkTQy2WlbIdGhXqBIY6Noxtve6hD4zGpS4CKbMfGNfUCfR8c2XYewFl5n1oCAYeamP3gyFAvMMTRsWym8FVzKKOL2K3jEAsujBuWmXo5OrapFxji8GgilaKN48gXDq0gyvWvjR4bW4Wbllnqlbb3dng0ZczHx5eNsl6Pj6fpu0i6yBMziCVHF6uZslk7jdqxt+86zRV1NebrV4SaEWuzdnhgs+NoScdPg1cLV0u2no/ztAp18MlNLY4FAPlsDNi4LbvuvYnPffzObinH/LjobEms1BqpDQD2MkOBK1OiTxBa9trGEucEOTiAZRShX32BvOj6L44pqA0AyI/u/lhPxuzdHxpT6JymMwdYHvsiuR8TGBbWFdwWAGTAMeSoil00zwc6y7Yxg9C4jxnbAY05VBKkAICdNqKI7+gpaNk3Y9rwv21aQvif5HnpGkm4ga/Y+sVSCgDIe4OkUwKF9K0qjm3fIqULqXpp52Em9H+rNqcCgEJOazDW3EnS0Me1tGr8hBITypdobj46XdIhKe3pAgDK4wTKfQIFE3F8Cl5FKbwb6h28ewjw5COskF0nvkbVrysAKATv4VBcYX5z+RtEVXDJE2G/zxLbR/yG928y5QAAhV/pOaXaVmwq7mXJjOzhRZ9bly0Ku8kUk/k1Vc0FADLlnEG8UXw0rw7iURKa7ZPLjY5zAONzr6TMCQCydcUdrlYMZdGRs8bQKys0fCc2HNeHF3eXmAW99QA24yZzLsYtQMAEcqYtHGAih/BD8ykiubicY5P5mLsHsBWJcayctYZbxBbS7tlUbMb5NLDFAYAKEVsH274QYU/AVvKm5BZM+0WMORC+az+/2jLczw7so6l99QC2rk3KItLdbEAAEIhcsQyEDR+C59quocHJSp4YRvYNAOqA2pgdRN/ega0nhqaAgL3sRSZUugi+6UgedPvs7BHAqzcaAgBUng0kQBAzhuF3AOov7K3V42SM0wZey5iwNxFzKITfamOnKVPX70MBwJYdsieo1w/3NICAt8+UCV89BI91cwy12s+PyTCUZmgAUBcsi45qEUINr+QzJDFh7Oo13JVfse/jn8/E7iBJe0a+xNBHaJkoS57IPBuTjQEAWykMTdEH4A4eQ2i/6BUAAnf+LonQgvKVI3juIa1otd5Y77L+bzTg7KOxYwKA9mByTm/Q1pSMngAgEB2MaJ5j2SKiuSMgNPGEEDxffhvCtIuvPmi63SbDtmnHBoCtL5NDQNDKnMm8zEnnrCAukERUTI7A6ZMIo0P01L3NTH6bhMIwq0P4ruisCdmlv1IKAHIAwebBphS+gqhNudvnq1uyiWNW8FDe3Vz2maiqqVSM4G0DSgNATiDUhURPATi4mD/YO+kYrxGsvfOc8mX7gFGc4EsHgK0f3S1BIulyeZ4SMRQxJOHE2vewlMyXUnsAV4Ps2AsgSgUDgkbgQ8xFkoVefXFKAKjWmzAymEBz4ZG0dRZutM8Ed3U8dDCT53IdzNA+1wHfmCoAqizaQRK+ibZn2C3z+F0ti3nE5aZL50vHN484xZOlRQCAi/kchEVACcBgLyZ49tq+8sz7TAq5CDhhn7kjbHtdJmnzZCXtqfj/AEEQYKib8i9gAAAAAElFTkSuQmCC"},"95a1":function(t,e,n){},"98e2":function(t,e,n){},9940:function(t,e,n){},"999f":function(t,e,n){"use strict";n("573a")},"9a81":function(t,e,n){},"9c05":function(t,e,n){(function(e,r){if(t.exports){var i=n("5698");t.exports=r(i)}else e.viz=r(e.d3)})(this,(function(t){var e={version:"1.1.8"},n=2*Math.PI,r=Math.PI,i=Math.PI/2;function a(t){return t[0]}function o(t){return t[1]}function s(t){return t.height}function l(t){return t.width}function c(t){return t.height/2}function u(t){return t.width/2}function A(t){return t.key}function h(t){return t.value}function f(t){var e;return function(n){return arguments.length?(e=n,t):e}}function d(t,e){var n;return function(r){return arguments.length?(n=r,t):"undefined"!==typeof n?n:e}}function p(t){while(t>n)t-=n;while(t<0)t+=n;return t}function m(e,n,r,i,a,o){if(a<=0||i<=0)return 0;var s=e.concat().sort(t.ascending),l=i-s.length*n+(o?n:0),c=[],u=0,A=0;return t.range(s.length).forEach((function(t){A=(l-r*t)/(a-=s[t-1]||0),u+=s[t]*A<=r?1:0,c.push(A)})),c[u]}function g(e,n,r,i,a){var o=i,s=t.sum(e),l=m(e,n,r,a-i,s,!1),c=e.map((function(t){var e=l*t,i=(e<r?r:e)/2;return o+=2*i+n,{c:o-i,v:e,w:i,value:t,percent:t/(s||1)}}));return c}function v(t){function e(t,e){return[t*Math.cos(e),t*Math.sin(e)]}var n=e(t[0],t[2]),i=e(t[0],t[3]),a=e(t[1],t[2]),o=e(t[1],t[3]);return["M",n,"A",t[0],t[0],"0",t[3]-t[2]>r?1:0,"1",i,"L",o,"A",t[1],t[1],"0",t[3]-t[2]>r?1:0,"0",a,"z"].join(" ")}function _(t,e,i,a,o,s){var l=f(t,e),c=f(t,i),u=f(a,o),A=f(a,s);return"M"+l+h(t,c,i-e)+(e==o&&i==s?d(l,e,i,a):d(u,i,o,a)+h(a,A,s-o)+d(l,e,s,t))+"Z";function h(t,e,n){return"A"+t+","+t+" 0 "+ +(n>r)+",1 "+e}function f(t,e){return[t*Math.cos(e),t*Math.sin(e)]}function d(t,e,i,a){i+=i<e?n:0;var o=i-e,s=1-(o>r?n-o:o)/r;s=Math.pow(s,5);var l=(i+e)/2-(i-e>r?r:0);return"Q"+s*a*Math.cos(l)+","+s*a*Math.sin(l)+" "+t}}function y(t,e){for(var n=[],r=e;r>e-t;r--)n.push(r<0?r+t:r);return n}return e.bP=function(){var e,n,r,i,a,o,s,l,c,u,A,h,f,d,p,m,g;function v(e){h=e,e.each((function(){var e=t.select(this),n=v.bars(),r=e.selectAll(".subBars").data(n.subBars).enter().append("g").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).attr("class","subBars").append("rect").attr("x",_).attr("y",y).attr("width",w).attr("height",x);"undefined"!==typeof A&&r.style("fill",(function(t){return A(t)}));var i=e.selectAll(".edges").data(n.edges).enter().append("path").attr("class","edges").attr("d",(function(t){return t.path})).style("fill-opacity",v.edgeOpacity());"undefined"!==typeof A&&i.style("fill",(function(t){return A(t)})),e.selectAll(".mainBars").data(n.mainBars).enter().append("g").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).attr("class","mainBars").append("rect").attr("x",_).attr("y",y).attr("width",w).attr("height",x).style("fill-opacity",0).on("mouseover",v.mouseover).on("mouseout",v.mouseout)}))}function _(t){return-t.width}function y(t){return-t.height}function w(t){return 2*t.width}function x(t){return 2*t.height}return v.data=function(t){return arguments.length?(u=t,v):u},v.fill=function(t){return arguments.length?(A=t,v):A},v.keyPrimary=function(t){return arguments.length?(e=t,v):"undefined"!==typeof e?e:function(t){return t[0]}},v.sortPrimary=function(e){return arguments.length?(p=e,v):"undefined"!==typeof p?p:t.ascending},v.keySecondary=function(t){return arguments.length?(n=t,v):"undefined"!==typeof n?n:function(t){return t[1]}},v.sortSecondary=function(e){return arguments.length?(m=e,v):"undefined"!==typeof m?m:t.ascending},v.value=function(t){return arguments.length?(r=t,v):"undefined"!==typeof r?r:function(t){return t[2]}},v.width=function(t){return arguments.length?(i=t,v):"undefined"!==typeof i?i:400},v.height=function(t){return arguments.length?(a=t,v):"undefined"!==typeof a?a:600},v.barSize=function(t){return arguments.length?(s=t,v):"undefined"!==typeof s?s:35},v.min=function(t){return arguments.length?(l=t,v):"undefined"!==typeof l?l:0},v.orient=function(t){return arguments.length?(o=t,v):"undefined"!==typeof o?o:"vertical"},v.pad=function(t){return arguments.length?(c=t,v):"undefined"!==typeof c?c:0},v.duration=function(t){return arguments.length?(d=t,v):"undefined"!==typeof d?d:500},v.edgeOpacity=function(t){return arguments.length?(f=t,v):"undefined"!==typeof f?f:.4},v.edgeMode=function(t){return arguments.length?(g=t,v):"undefined"!==typeof g?g:"curved"},v.bars=function(e){var n={primary:[],secondary:[]},r={primary:[],secondary:[]},i={primary:v.keyPrimary(),secondary:v.keySecondary()},a=v.orient();return l("primary"),l("secondary"),c("primary"),c("secondary"),s(),{mainBars:n.primary.concat(n.secondary),subBars:r.primary.concat(r.secondary),edges:u()};function o(t,n){return"undefined"===typeof e||e.part===n||i[e.part](t)===e.key}function s(){var t=v.min()/2;n.primary.forEach((function(e){e.height<t&&(e.height=t)})),n.secondary.forEach((function(e){e.height<t&&(e.height=t)}))}function l(e){function r(t){return o(t,e)?v.value()(t):0}var i=t.nest().key("primary"==e?v.keyPrimary():v.keySecondary()).sortKeys("primary"==e?v.sortPrimary():v.sortSecondary()).rollup((function(e){return t.sum(e,r)})).entries(v.data()),s=A(i,v.pad(),v.min(),0,"vertical"==a?v.height():v.width()),l=v.barSize();i.forEach((function(t,r){n[e].push({x:"horizontal"==a?(s[r].s+s[r].e)/2:"primary"==e?l/2:v.width()-l/2,y:"vertical"==a?(s[r].s+s[r].e)/2:"primary"==e?l/2:v.height()-l/2,height:"vertical"==a?(s[r].e-s[r].s)/2:l/2,width:"horizontal"==a?(s[r].e-s[r].s)/2:l/2,part:e,key:t.key,value:t.value,percent:s[r].p})}))}function c(e){function i(t){return o(t,e)?v.value()(t):0}var s=t.map(n[e],(function(t){return t.key})),l=t.nest().key("primary"==e?v.keyPrimary():v.keySecondary()).sortKeys("primary"==e?v.sortPrimary():v.sortSecondary()).key("secondary"==e?v.keyPrimary():v.keySecondary()).sortKeys("secondary"==e?v.sortPrimary():v.sortSecondary()).rollup((function(e){return t.sum(e,i)})).entries(v.data());l.forEach((function(t){var n=s.get(t.key),i=A(t.values,0,0,"vertical"==a?n.y-n.height:n.x-n.width,"vertical"==a?n.y+n.height:n.x+n.width),o=v.barSize();t.values.forEach((function(s,l){r[e].push({x:"vertical"==a?"primary"==e?o/2:v.width()-o/2:(i[l].s+i[l].e)/2,y:"horizontal"==a?"primary"==e?o/2:v.height()-o/2:(i[l].s+i[l].e)/2,height:("vertical"==a?i[l].e-i[l].s:o)/2,width:("horizontal"==a?i[l].e-i[l].s:o)/2,part:e,primary:"primary"==e?t.key:s.key,secondary:"primary"==e?s.key:t.key,value:s.value,percent:i[l].p*n.percent,index:"primary"==e?t.key+"|"+s.key:s.key+"|"+t.key})}))}))}function u(){var e=t.map(r.secondary,(function(t){return t.index})),n=v.edgeMode();return r.primary.map((function(t){var n=e.get(t.index);return{path:"vertical"===a?i(t.x+t.width,t.y+t.height,n.x-n.width,n.y+n.height,n.x-n.width,n.y-n.height,t.x+t.width,t.y-t.height):o(t.x-t.width,t.y+t.height,n.x-n.width,n.y-n.height,n.x+n.width,n.y-n.height,t.x+t.width,t.y+t.height),primary:t.primary,secondary:t.secondary,value:t.value,percent:t.percent}}));function i(t,e,r,i,a,o,s,l){if("straight"==n)return["M",t,",",e,"L",r,",",i,"L",a,",",o,"L",s,",",l,"z"].join("");var c=(t+r)/2,u=(a+s)/2;return["M",t,",",e,"C",c,",",e," ",c,",",i,",",r,",",i,"L",a,",",o,"C",u,",",o," ",u,",",l,",",s,",",l,"z"].join("")}function o(t,e,r,i,a,o,s,l){if("straight"==n)return["M",t,",",e,"L",r,",",i,"L",a,",",o,"L",s,",",l,"z"].join("");var c=(e+i)/2,u=(o+l)/2;return["M",t,",",e,"C",t,",",c," ",r,",",c,",",r,",",i,"L",a,",",o,"C",a,",",u," ",s,",",u,",",s,",",l,"z"].join("")}}function A(e,n,r,i,a){var o=r/(a-i-2*e.length*n),s=0,l=0,c=t.sum(e,(function(t){return t.value}));e.forEach((function(t){t.value<o*c&&(s+=1,l+=t.value)}));var u=c<1e-5?0:(a-i-2*e.length*n-s*r)/(c-l),A=i,h=[];return e.forEach((function(t){var e=t.value*u;h.push({s:A+n+(e<r?.5*(r-e):0),e:A+n+(e<r?.5*(r+e):e),p:c<1e-5?0:t.value/c}),A+=2*n+(e<r?r:e)})),h}},v.update=function(t){u=t;var e=v.bars(),n=v.duration();h.selectAll(".subBars").data(e.subBars).transition().duration(n).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",_).attr("y",y).attr("width",w).attr("height",x),h.selectAll(".edges").data(e.edges).transition().duration(n).attr("d",(function(t){return t.path})).style("fill-opacity",v.edgeOpacity()),h.selectAll(".mainBars").data(e.mainBars).transition().duration(n).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",_).attr("y",y).attr("width",w).attr("height",x).style("fill-opacity",0)},v.mouseover=function(t){var e=v.bars(t);h.selectAll(".mainBars").filter((function(e){return e.part===t.part&&e.key===t.key})).select("rect").style("stroke-opacity",1),h.selectAll(".subBars").data(e.subBars).transition().duration(v.duration()).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",_).attr("y",y).attr("width",w).attr("height",x);var n=h.selectAll(".edges").data(e.edges);n.filter((function(e){return e[t.part]===t.key})).transition().duration(v.duration()).style("fill-opacity",v.edgeOpacity()).attr("d",(function(t){return t.path})),n.filter((function(e){return e[t.part]!==t.key})).transition().duration(v.duration()).style("fill-opacity",0).attr("d",(function(t){return t.path})),h.selectAll(".mainBars").data(e.mainBars).transition().duration(v.duration()).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",_).attr("y",y).attr("width",w).attr("height",x)},v.mouseout=function(t){var e=v.bars();h.selectAll(".mainBars").filter((function(e){return e.part===t.part&&e.key===t.key})).select("rect").style("stroke-opacity",0),h.selectAll(".subBars").data(e.subBars).transition().duration(v.duration()).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",_).attr("y",y).attr("width",w).attr("height",x),h.selectAll(".edges").data(e.edges).transition().duration(v.duration()).style("fill-opacity",v.edgeOpacity()).attr("d",(function(t){return t.path})),h.selectAll(".mainBars").data(e.mainBars).transition().duration(v.duration()).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",_).attr("y",y).attr("width",w).attr("height",x)},v},e.gg=function(){var n,i,a,o,s,l,c,u,A,h,f,d,p,m,g,v,_,y,w,x={innerRadius:20,outerRadius:150,angleOffset:.7,startAngle:-1.5*r,endAngle:.5*r,minorTickStart:.9,minorTickEnd:.95,majorTickStart:.82,majorTickEnd:.95,needleColor:"#de2c2c",innerFaceColor:"#999999",faceColor:"#666666",domain:[0,100],duration:500,ease:"cubicInOut",ticks:t.range(0,101,2),majorTicks:function(t){return t%10===0},labelLocation:.7};function b(e){f=e,e.each((function(){var e=t.select(this),n=b.scale(),i=b.minorTickStart(),a=b.minorTickEnd(),o=b.majorTickStart(),s=b.majorTickEnd(),l=b.ticks(),c=b.majorTicks(),u=b.labelLocation(),A=b.outerRadius();e.append("circle").attr("r",A).style("fill","url(#vizgg3"+d+")").attr("class","face"),e.append("circle").attr("r",b.innerRadius()).style("fill","url(#vizgg2"+d+")").style("filter","url(#vizgg5"+d+")").attr("class","innerFace");var h=e.append("g");h.selectAll("line").data(l).enter().append("line").attr("class",(function(t){return c(t)?"majorTicks":"minorTicks"})).attr("x1",(function(t){return A*(c(t)?o:i)*Math.cos(n(t))})).attr("y1",(function(t){return A*(c(t)?o:i)*Math.sin(n(t))})).attr("x2",(function(t){return A*(c(t)?s:a)*Math.cos(n(t))})).attr("y2",(function(t){return A*(c(t)?s:a)*Math.sin(n(t))})),e.selectAll("text").data(l.filter(c)).enter().append("text").attr("class","label").attr("x",(function(t){return A*u*Math.cos(n(t))})).attr("y",(function(t){return A*u*Math.sin(n(t))})).attr("dy",3).text((function(t){return t}));var f=b.outerRadius()/x.outerRadius,p=180*b.scale()(b.value())/r+90;e.append("g").attr("transform","translate(1,1)").selectAll(".needleshadow").data([0]).enter().append("g").attr("transform","rotate("+p+")").attr("class","needleshadow").append("path").attr("d",["m 0",-130*f,5*f,175*f,-10*f,"0,z"].join(",")).style("filter","url(#vizgg6"+d+")"),e.selectAll(".needle").data([0]).enter().append("g").attr("transform","rotate("+p+")").attr("class","needle").append("polygon").attr("points",[-.5*f,-130*f,.5*f,-130*f,5*f,45*f,-5*f,45*f].join(",")).style("fill","url(#vizgg4"+d+")")}))}return b.scale=function(){return t.scale.linear().domain(b.domain()).range([x.startAngle+b.angleOffset(),x.endAngle-b.angleOffset()])},b.innerRadius=function(t){return arguments.length?(n=t,b):"undefined"!==typeof n?n:x.innerRadius},b.outerRadius=function(t){return arguments.length?(i=t,b):"undefined"!==typeof i?i:x.outerRadius},b.angleOffset=function(t){return arguments.length?(u=t,b):"undefined"!==typeof u?u:x.angleOffset},b.labelLocation=function(t){return arguments.length?(w=t,b):"undefined"!==typeof w?w:x.labelLocation},b.ticks=function(t){return arguments.length?(p=t,b):"undefined"!==typeof p?p:x.ticks},b.majorTicks=function(t){return arguments.length?(m=t,b):"undefined"!==typeof m?m:x.majorTicks},b.minorTickStart=function(t){return arguments.length?(g=t,b):"undefined"!==typeof g?g:x.minorTickStart},b.minorTickEnd=function(t){return arguments.length?(v=t,b):"undefined"!==typeof v?v:x.minorTickEnd},b.majorTickStart=function(t){return arguments.length?(_=t,b):"undefined"!==typeof _?_:x.majorTickStart},b.majorTickEnd=function(t){return arguments.length?(y=t,b):"undefined"!==typeof y?y:x.majorTickEnd},b.needleColor=function(t){return arguments.length?(a=t,b):"undefined"!==typeof a?a:x.needleColor},b.innerFaceColor=function(t){return arguments.length?(o=t,b):"undefined"!==typeof o?o:x.innerFaceColor},b.faceColor=function(t){return arguments.length?(s=t,b):"undefined"!==typeof s?s:x.faceColor},b.domain=function(t){return arguments.length?(l=t,b):"undefined"!==typeof l?l:x.domain},b.duration=function(t){return arguments.length?(A=t,b):"undefined"!==typeof A?A:x.duration},b.ease=function(t){return arguments.length?(h=t,b):"undefined"!==typeof h?h:x.ease},b.value=function(t){return arguments.length?(c=t,b):"undefined"!==typeof c?c:.5*(x.domain[0]+x.domain[1])},b.defs=function(n,r){var i=n.append("defs");d=r;var a=b.needleColor(),o=b.innerFaceColor(),s=b.faceColor(),l=e.defs(i).lG().id("vizgg1"+r).sel();e.defs(l).stop().offset("0").stopColor(a),e.defs(l).stop().offset("1").stopColor(t.rgb(a).darker(1));var c=e.defs(i).rG().id("vizgg2"+r).fx("35%").fy("65%").r("65%").spreadMethod("pad").sel();e.defs(c).stop().offset("0").stopColor(o),e.defs(c).stop().offset("1").stopColor(t.rgb(o).darker(2));var u=e.defs(i).rG().id("vizgg3"+r).fx("35%").fy("65%").r("65%").spreadMethod("pad").sel();e.defs(u).stop().offset("0").stopColor(s),e.defs(u).stop().offset("1").stopColor(t.rgb(s).darker(2)),e.defs(i).lG().id("vizgg4"+r).gradientUnits("userSpaceOnUse").y1("80").x1("-10").y2("80").x2("10").xlink("#vizgg1"+r);var A=e.defs(i).filter().id("vizgg5"+r).sel();e.defs(A).feFlood().result("flood").floodColor("rgb(0,0,0)").floodOpacity("0.6"),e.defs(A).feComposite().result("composite1").operator("in").in2("SourceGraphic").in("flood"),e.defs(A).feGaussianBlur().result("blur").stdDeviation("2").in("composite1"),e.defs(A).feOffset().result("offset").dy("2").dx("2"),e.defs(A).feComposite().result("composite2").operator("over").in2("offset").in("SourceGraphic");var h=e.defs(i).filter().x("-0.3").y("-0.3").height("1.8").width("1.8").id("vizgg6"+r).sel();e.defs(h).feGaussianBlur().stdDeviation("2")},b.setNeedle=function(e){var n=180*b.scale()(e)/r+90,i=180*b.scale()(b.value())/r+90,a=b.ease();function o(e,n){return t.interpolateString("rotate("+e+")","rotate("+n+")")}f.selectAll(".needle").data([e]).transition().duration(b.duration()).attrTween("transform",(function(t){return o(i,n)})).ease(a),f.selectAll(".needleshadow").data([e]).transition().duration(b.duration()).attrTween("transform",(function(t){return o(i,n)})).ease(a).each("end",(function(){this.angle=e})),b.value(e)},b},e.ch=function(){var e,r,a,o,s,l,c,u,A,h,f=function(t){return t[0]},d=function(t){return t[1]},w=function(t){return t[2]},x=function(t){return t.source+" ("+t.value+")"},b=t.ascending,C=.03,B=0,E=180,T=200,S=.7,M=.02,N=0,D=500,O=!0;function U(r){function o(t){return v([E,T,t.startAngle,t.endAngle])}function s(t){return _(E,t.startAngle,t.endAngle,E,t.endStartAngle,t.endEndAngle)}e=r,u||F(),r.each((function(){var e=t.select(this),r=e.selectAll(".groups").data(c).enter().append("g").attr("class","groups").on("mouseover",U.mouseover).on("mouseout",U.mouseout),l=r.append("text").attr("class","label"),A=(1+U.labelPadding())*U.outerRadius(),h=U.label();l.filter((function(t){return"g"==t.type})).attr("x",(function(t){return A*Math.cos(L(t))})).attr("y",(function(t){return A*Math.sin(L(t))})).text(h).style("text-anchor",(function(t){var e=L(t);return e<i||e>n-i?"start":"end"})).each((function(t){this._current=t})),r.append("path").style("fill",(function(t){return a(t.source)})).style("stroke",(function(t){return a(t.source)})).attr("d",o).each((function(t){this._current=t})).filter((function(t){return"g"==t.type})),e.append("g").attr("class","chords").selectAll(".chord").data(u).enter().append("g").attr("class","chord").append("path").each((function(t){this._current=t})).attr("d",s).style("fill",(function(t){return a(t.target)})).style("opacity",U.chordOpacity()).style("stroke",(function(t){return a(t.target)})).style("display",(function(t){return t.display?"inline":"none"}))}))}function I(r){function a(t,e){return v([E,T,t.startAngle,t.endAngle])}function o(t){return _(E,t.startAngle,t.endAngle,E,t.endStartAngle,t.endEndAngle)}function s(e){var n=t.interpolate(this._current,e);return this._current=n(0),function(t){return o(n(t))}}function l(e){var n=t.interpolate(this._current,e);return this._current=n(0),function(t){return a(n(t),t)}}function c(e){var n=t.interpolate(this._current,e);return this._current=n(0),function(t){return d*Math.cos(L(n(t)))}}function u(e){var n=t.interpolate(this._current,e);return this._current=n(0),function(t){return d*Math.sin(L(n(t)))}}var f=e.selectAll(".groups").data(r?A:U.groups()),d=(1+U.labelPadding())*U.outerRadius(),p=U.label();f.select("path").transition().duration(D).attrTween("d",l),f.select(".label").filter((function(t){return"g"==t.type})).transition().duration(D).attrTween("x",c).attrTween("y",u).text(p).style("text-anchor",(function(t){var e=L(t);return e<i||e>n-i?"start":"end"}));var m=U.chordOpacity();e.select(".chords").selectAll(".chord").data(r?h:U.chords()).select("path").transition().duration(D).attrTween("d",s).style("opacity",(function(t){return t.display?m:0}))}function L(t){return p((t.startAngle+t.endAngle)/2)}function F(){o=[],r.forEach((function(t){-1==o.indexOf(f(t))&&o.push(f(t)),-1==o.indexOf(d(t))&&o.push(d(t))})),o=o.sort(b),s={},l={},o.forEach((function(t){s[t]={},l[t]={},o.forEach((function(e){s[t][e]=0,l[t][e]=!1}))})),r.forEach((function(t){var e=f(t),n=d(t);s[e][n]+=w(t),l[e][n]=!0})),c=[],o.forEach((function(e,n){c.push({source:e,type:"gs",value:0,skipPad:!0,index:n}),c.push({source:e,type:"g",value:t.sum(o,(function(t){return s[e][t]})),skipPad:!1,index:n})})),P(c,C,N,void 0,B),u=[],c.filter((function(t){return"g"==t.type})).forEach((function(t,e){var n=y(o.length,e),r=g(n.map((function(e){return s[t.source][o[e]]})),0,0,t.startAngle,t.endAngle);n.forEach((function(n,i){var a=r[i];u.push({startAngle:a.c-a.v/2,endAngle:a.c+a.v/2,value:a.value,source:t.source,target:o[n],type:"c",display:l[t.source][o[n]],index:e,subindex:n,indexsubindex:e+"-"+n})}))}));var e=t.map(u,(function(t){return t.indexsubindex}));u.forEach((function(t){if(t.subindex==t.index)return t.endStartAngle=t.startAngle,void(t.endEndAngle=t.startAngle);var n=e.get(t.subindex+"-"+t.index);t.endStartAngle=n.startAngle,t.endEndAngle=n.startAngle})),O=!1}function R(e){var r=c.filter((function(t){return t.source==e&&"g"==t.type}))[0];function i(t){return t.endAngle+t.startAngle}A=[],o.forEach((function(t,n){A.push({source:t,startAngle:r.startAngle,endAngle:r.endAngle,padAngle:r.padAngle,percent:r.percent,type:"gs",value:t==e?s[t][t]:0,skipPad:t!=e||!l[t][t],index:n}),t==e?A.push({source:t,startAngle:r.startAngle,endAngle:r.endAngle,padAngle:r.padAngle,percent:r.percent,type:"g",value:r.value,skipPad:!1,index:n}):A.push({source:t,type:"g",value:s[e][t],skipPad:!1,index:n})})),P(A,C,N,e,B);var a=i(r);c.forEach((function(t,e){var r=A[e],o=i(t)<a;r.startAngle-=o?n:0,r.endAngle-=o?n:0})),h=[],A.filter((function(t){return"g"==t.type})).forEach((function(t,n){var r=y(o.length,n),i=r.map((function(n){var r=o[n];return t.source==e?s[t.source][r]:r==e?s[r][t.source]:0})),a=g(i,0,0,t.startAngle,t.endAngle);r.forEach((function(r,i){var s=a[i];h.push({startAngle:s.c-s.v/2,endAngle:s.c+s.v/2,value:s.value,source:t.source,target:o[r],type:"c",display:t.source===e,index:n,subindex:r,indexsubindex:n+"-"+r})}))}));var u=t.map(h.map((function(t){return{startAngle:t.startAngle,endAngle:t.endAngle,indexsubindex:t.indexsubindex}})),(function(t){return t.indexsubindex})),f=t.map(A.filter((function(t){return"gs"==t.type})),(function(t){return t.source}));h.forEach((function(t){if(t.subindex==t.index){var n=f.get(t.source);return t.endStartAngle=n.startAngle,void(t.endEndAngle=n.endAngle)}var r=u.get(t.subindex+"-"+t.index);t.endStartAngle=r.startAngle,t.endEndAngle=r.endAngle,t.source!==e&&(t.startAngle=t.endAngle,t.endEndAngle=t.endStartAngle)}))}function P(e,n,r,i,a){var o=void 0!==i,s=0;if(o){for(var l=!1;s<e.length;s++)if(e[s].source==i&&"g"==e[s].type){l=!0;break}l||console.log("The fixed source '"+i+"' is not a valid key")}var c=t.range(e.length);o&&(c=c.slice(s).concat(c.slice(0,s)));var u=e.filter((function(t){return(!o||t.source!==i||"g"!=t.type)&&!t.skipPad})).map((function(t){return t.value})),A=2*Math.PI-(o?e[s].endAngle-e[s].startAngle+2*n:0),h=o?e[s].endAngle+n:a,f=t.sum(u),d=m(u,n,r,A<=0?0:A,f,!!o);c.slice(o?1:0).forEach((function(t){var i=d*e[t].value,a=(i<r?r-i:0)/2;e[t].startAngle=h,e[t].endAngle=h+i,e[t].padAngle=a,e[t].percent=e[t].value/(f||1),h+=i+a+(e[t].skipPad?0:n)}))}return U.data=function(t){return arguments.length?(r=t,O=!0,U):r},U.fill=function(t){return arguments.length?(a=t,U):a},U.duration=function(t){return arguments.length?(D=t,U):D},U.chordOpacity=function(t){return arguments.length?(S=t,U):S},U.innerRadius=function(t){return arguments.length?(E=t,O=!0,U):E},U.outerRadius=function(t){return arguments.length?(T=t,O=!0,U):T},U.source=function(t){return arguments.length?(f=t,O=!0,U):f},U.target=function(t){return arguments.length?(d=t,O=!0,U):d},U.value=function(t){return arguments.length?(w=t,O=!0,U):w},U.padding=function(t){return arguments.length?(C=t,O=!0,U):C},U.labelPadding=function(t){return arguments.length?(M=t,U):M},U.sort=function(t){return arguments.length?(b=t,O=!0,U):b},U.startAngle=function(t){return arguments.length?(B=t,O=!0,U):B},U.chords=function(){return O&&F(),u},U.groups=function(){return O&&F(),c},U.label=function(t){return arguments.length?(x=t,U):x},U.mouseover=function(t){R(t.source),I(1)},U.mouseout=function(t){I(0)},U},e.defs=function(t){var e={},n=t;return e.sel=function(){return n},e.lG=function(){return n=n.append("linearGradient"),e},e.rG=function(){return n=n.append("radialGradient"),e},e.stop=function(){return n=n.append("stop"),e},e.filter=function(){return n=n.append("filter"),e},e.feFlood=function(){return n=n.append("feFlood"),e},e.feComposite=function(){return n=n.append("feComposite"),e},e.feOffset=function(){return n=n.append("feOffset"),e},e.feGaussianBlur=function(){return n=n.append("feGaussianBlur"),e},e.result=function(t){return n=n.attr("result",t),e},e.floodColor=function(t){return n=n.attr("flood-color",t),e},e.floodOpacity=function(t){return n=n.attr("flood-opacity",t),e},e.stdDeviation=function(t){return n=n.attr("stdDeviation",t),e},e.operator=function(t){return n=n.attr("operator",t),e},e.height=function(t){return n=n.attr("height",t),e},e.width=function(t){return n=n.attr("width",t),e},e.in=function(t){return n=n.attr("in",t),e},e.in2=function(t){return n=n.attr("in2",t),e},e.id=function(t){return n=n.attr("id",t),e},e.fx=function(t){return n=n.attr("fx",t),e},e.fy=function(t){return n=n.attr("fy",t),e},e.dx=function(t){return n=n.attr("dx",t),e},e.dy=function(t){return n=n.attr("dy",t),e},e.x1=function(t){return n=n.attr("x1",t),e},e.y1=function(t){return n=n.attr("y1",t),e},e.x2=function(t){return n=n.attr("x2",t),e},e.y2=function(t){return n=n.attr("y2",t),e},e.x=function(t){return n=n.attr("x",t),e},e.y=function(t){return n=n.attr("y",t),e},e.r=function(t){return n=n.attr("r",t),e},e.spreadMethod=function(t){return n=n.attr("spreadMethod",t),e},e.gradientUnits=function(t){return n=n.attr("gradientUnits",t),e},e.xlink=function(t){return n=n.attr("xlink:href",t),e},e.offset=function(t){return n=n.attr("offset",t),e},e.stopColor=function(t){return n=n.attr("stop-color",t),e},e.path=function(){return n=n.append("path"),e},e.d=function(t){return n=n.attr("d",t),e},e},e.bar=function(){function e(n){this.g=n,n.each((function(){var n=t.select(this),r=e.bars(),i=e.dock(),a="t"==i||"b"==i,o=n.selectAll(".primarybars").data(r).enter().append("g").attr("class","primaryBars").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})),h=o.selectAll(".secondaryBars").data((function(t){return t.values})).enter().append("g").attr("class","secondaryBars").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})),f=e.fill(),d=h.append("rect").attr("width",l).attr("height",s),p=e.paddingLabel();void 0!==f&&d.style("fill",f),o.append("text").attr("class","primaryvalue").attr("x",(function(t){return t.wf*t.width})).attr("y",(function(t){return t.hf*t.height})).attr("dx",(function(t){return 2*p*(t.wf-.5)})).attr("dy",(function(t){return a?t.hf?3*p:-p:p})).style("text-anchor",(function(t){return a?"middle":t.wf?"start":"end"})).text(e.valuePrimary()),o.append("text").attr("class","primarykey").attr("x",(function(t){return(1-t.wf)*t.width})).attr("y",(function(t){return(1-t.hf)*t.height})).attr("dx",(function(t){return a?0:t.wf?-p:p})).attr("dy",(function(t){return a?t.hf?-p:3*p:p})).style("text-anchor",(function(t){return a?"middle":t.wf?"end":"start"})).text(A),h.append("text").attr("class","secondaryvalue").attr("x",u).attr("y",c).attr("dy",p).text(e.valueSecondary()).style("text-anchor","middle")}))}function n(){var n=void 0===e.keySecondary(),r=t.nest().key(e.keyPrimary()).sortKeys(e.sortPrimary());n||(r=r.key(e.keySecondary()).sortKeys(e.sortSecondary()));var i=e.value();return r=r.rollup((function(e){return t.sum(e,i)})).entries(e.data()),n&&r.forEach((function(t){t.values=[{value:t.value}],delete t.value})),r}return e.data=f(e),e.width=d(e,400),e.height=d(e,400),e.dock=d(e,"b"),e.fill=d(e,void 0),e.paddingInner=d(e,.1),e.paddingOuter=d(e,.1),e.paddingLabel=d(e,6),e.value=d(e,o),e.keyPrimary=d(e,a),e.keySecondary=d(e,void 0),e.sortPrimary=d(e,t.ascending),e.sortSecondary=d(e,t.ascending),e.valuePrimary=d(e,h),e.valueSecondary=d(e,h),e.valueDomain=d(e,void 0),e.primaryKeys=function(){return t.set(this.data,e.keyPrimary()).values().sort(e.sortPrimary())},e.keyScale=function(){var n=e.dock(),r={l:e.height(),r:e.height(),t:e.width(),b:e.width()};return t.scaleBand().domain(e.primaryKeys()).range([0,r[n]]).paddingInner(e.paddingInner()).paddingOuter(e.paddingOuter())},e.valueScale=function(){var r=e.dock(),i="b"==r,a="l"==r,o="r"==r,s=e.height(),l=e.width(),c=a?[0,l]:o?[l,0]:i?[s,0]:[0,s],u=e.valueDomain();if(void 0==u){var A=n(),f=t.min(A,(function(e){return t.sum(e.values,h)})),d=t.max(A,(function(e){return t.sum(e.values,h)}));u=[Math.min(0,f),d]}return t.scaleLinear().domain(u).range(c)},e.bars=function(){e.data();var r=e.height(),i=e.width(),a=e.dock(),o="b"==a,s="l"==a,l="r"==a,c="t"==a||"b"==a,u=n(),A=e.keyScale(),f=e.valueDomain(),d=s?[0,i]:l?[i,0]:o?[r,0]:[0,r];if(void 0==f){var p=t.min(u,(function(e){return t.sum(e.values,h)})),m=t.max(u,(function(e){return t.sum(e.values,h)}));f=[Math.min(0,p),m]}var g=t.scaleLinear().domain(f).range(d),v=A.bandwidth(),_=g(0);return u.forEach((function(e){e.value=t.sum(e.values,h);var n=g(e.value),r=Math.abs(n-_),i=Math.min(_,n);e.width=c?v:r,e.height=c?r:v,e.x=c?A(e.key):i,e.y=c?i:A(e.key),e.wf=c?.5:s?e.value<0?0:1:e.value<0?1:0,e.hf=c?o?e.value<0?1:0:e.value<0?0:1:.5;var a=0;e.values.forEach((function(t){t.primaryKey=e.key,t.secondaryKey=t.key,delete t.key;var n=g(a),r=g(a+=t.value),i=Math.abs(r-n),o=Math.min(n,r);t.width=c?v:i,t.height=c?i:v,t.x=c?0:o-e.x,t.y=c?o-e.y:0}))})),u},e},e.lg=function(){function e(n){this.g=n,n.each((function(){var n=t.select(this),r=e.rows(),i=e.data();r=void 0==r?i.length:Math.min(r,i.length);var a=Math.ceil(i.length/r),o=t.scaleBand().domain(t.range(r)).range([0,e.height()]).paddingInner(e.paddingInner()),s=t.scaleBand().domain(t.range(a)).range([0,e.width()]),l=e.size(),c=o.bandwidth(),u=(s.bandwidth(),e.paddingLabel()),A=t.range(i.length).map((function(t){var e=t%a,n=(t-e)/a;return{x:s(e),y:o(n),width:l,height:c,key:i[t]}})),h=n.selectAll(".legendg").data(A,(function(t){return t.key})).enter().append("g").attr("class","legendg").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}));h.append("text").attr("x",(function(t){return l+u})).attr("y",(function(t){return t.height/2})).attr("dy",6).text((function(t){return t.key})),h.each(e.draw());var f=e.fill();void 0!==f&&h.selectAll(".legend-icon").style("fill",f)}))}return e.data=f(e),e.rows=d(e,void 0),e.width=d(e,100),e.height=d(e,200),e.paddingInner=d(e,.1),e.paddingLabel=d(e,6),e.size=d(e,12),e.fill=d(e,void 0),e.rect=function(e){t.select(this).append("rect").attr("class","legend-icon").attr("height",s).attr("width",l)},e.circle=function(e){t.select(this).append("circle").attr("class","legend-icon").attr("r",Math.min(e.height,e.width)).attr("cx",u).attr("cy",c)},e.draw=d(e,e.rect),e},e}))},"9d10":function(t,e,n){"use strict";n("8b96")},"9e3c":function(t,e,n){"use strict";n("01d3")},"9e4b":function(t,e,n){},"9eb9":function(t,e,n){},a002:function(t,e,n){"use strict";n("75c0")},a1a8:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-preview"},[n("div",{staticClass:"setting-bg"}),n("div",{staticClass:"left-panel"},[n("div",{staticClass:"iframe-wrapper",style:{width:t.$config.canvasH5Width+"px",height:t.$config.canvasH5Height+"px"}},[n("iframe",{staticStyle:{"background-color":"transparent",width:"100%",height:"100%"},attrs:{src:t.$config.baseURL+"/c317/view/"+t.pageId,frameborder:"0"}})])]),n("div",{staticClass:"right-panel"},[t._t("default")],2),n("span",{staticClass:"cloase-btn",on:{click:t.closePreview}},[n("i",{staticClass:"el-icon-close"})])])},i=[],a={name:"preview-page",props:{pageId:String},data:function(){return{}},created:function(){},methods:{closePreview:function(){this.$emit("closePreview",!1)}}},o=a,s=(n("a4b8"),n("2877")),l=Object(s["a"])(o,r,i,!1,null,"28705c02",null);e["a"]=l.exports},a234:function(t,e,n){},a497:function(t,e,n){},a4b8:function(t,e,n){"use strict";n("6c47")},a4c5:function(t,e,n){"use strict";n("9e4b")},a4cb:function(t,e,n){},a560:function(t,e,n){},a7e1:function(t,e,n){"use strict";n("249e")},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),a=n("79e5"),o=n("fdef"),s="["+o+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),A=function(t,e,n){var i={},s=a((function(){return!!o[t]()||l[t]()!=l})),c=i[t]=s?e(h):o[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},h=A.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=A},ae65:function(t,e,n){"use strict";n("4dab")},af68:function(t,e,n){},afc2:function(t,e,n){"use strict";n("a234")},b078:function(t,e,n){"use strict";n("04d2")},b10c:function(t,e,n){},b1b6:function(t,e,n){"use strict";n("7c51")},b1f4:function(t,e,n){"use strict";n("bcc3")},b438:function(t,e,n){"use strict";n("62f1")},b4a6:function(t,e,n){"use strict";n("5cfc")},bb32:function(t,e,n){},bb57:function(t,e,n){"use strict";n("e154")},bb93:function(t,e,n){},bca5:function(t,e,n){"use strict";n("8e03")},bcc3:function(t,e,n){},bd0e:function(t,e,n){"use strict";n("1553")},bf25:function(t,e,n){"use strict";n("3056")},bf8b:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("previewWrapper",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{pageId:t.pageId},on:{closePreview:t.closePreview}},[n("p",{staticClass:"page-title paddingL30"},[t._v("页面预览")]),t.loading?t._e():n("div",{staticClass:"preview-info-wrapper"},[n("el-form",{attrs:{"label-width":"90px","label-position":"left"}},[n("el-form-item",{attrs:{label:"页面链接:"}},[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.doCopy}},[t._v("复制链接")])],1),n("div",{staticClass:"share-wx-config-wrapper"},[t._v(t._s(t.$config.baseURL+"/c317/view/"+t.pageId))])]),n("el-form-item",{attrs:{label:"页面信息:"}})],1),n("div",{staticClass:"page-info"},[n("div",{staticClass:"page-cover"},[n("img",{attrs:{src:t.shareData.coverImage||t.defaultCoverImage,alt:""}})]),n("div",{staticClass:"page-title-des paddingT10"},[n("div",{staticClass:"info-form-wrapper"},[t._v("\n          "+t._s(t.shareData.title)+"\n        ")]),n("div",{staticClass:"info-form-wrapper ellipsis"},[t._v("\n          "+t._s(t.shareData.description)+"\n        ")])])]),n("div",{staticClass:"clearfix paddingT30 text-center"},[n("a",{attrs:{href:t.pageLink,target:"_blank"}},[n("el-button",{attrs:{type:"primary"}},[t._v("新标签打开链接")])],1)])],1)])},i=[],a=n("a1a8"),o={components:{previewWrapper:a["a"]},props:{pageId:String},data:function(){return{loading:!0,defaultCoverImage:n("5c58"),pageData:{}}},created:function(){this.getData()},computed:{pageLink:function(){return this.$config.baseURL+"/c317/view/"+this.pageId},shareData:function(){return this.pageData.shareConfig?this.pageData.shareConfig.shareWx?{coverImage:this.pageData.shareConfig.coverImage,title:this.pageData.shareConfig.title,description:this.pageData.shareConfig.description}:{coverImage:this.pageData.coverImage,title:this.pageData.title,description:this.pageData.description}:{}}},methods:{closePreview:function(){this.$emit("closePreview",!1)},getData:function(){var t=this;this.loading=!0,this.$API.getPageDetail({pageId:this.pageId}).then((function(e){t.loading=!1,t.pageData=e.body})).catch((function(){t.loading=!1}))},doCopy:function(){var t=this;this.$copyText(this.pageLink).then((function(){t.$message.success("已复制")}))}}},s=o,l=(n("5f6c"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"4527bf8e",null);e["a"]=c.exports},c096:function(t,e,n){"use strict";n("f46f")},c0e9:function(t,e,n){
/*!
 * html2canvas 1.0.0-rc.7 <https://html2canvas.hertzen.com>
 * Copyright (c) 2020 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
(function(e,n){t.exports=n()})(0,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function r(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{l(r.next(t))}catch(Pe){a(Pe)}}function s(t){try{l(r["throw"](t))}catch(Pe){a(Pe)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(o,s)}l((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(Pe){a=[6,Pe],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}for(var a=function(){function t(t,e,n,r){this.left=t,this.top=e,this.width=n,this.height=r}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e){return new t(e.left,e.top,e.width,e.height)},t}(),o=function(t){return a.fromClientRect(t.getBoundingClientRect())},s=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new a(0,0,r,i)},l=function(t){var e=[],n=0,r=t.length;while(n<r){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);56320===(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),n--)}else e.push(i)}return e},c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";var r=[],i=-1,a="";while(++i<n){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)A[u.charCodeAt(h)]=h;var f,d=function(t){var e,n,r,i,a,o=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)n=A[t.charCodeAt(e)],r=A[t.charCodeAt(e+1)],i=A[t.charCodeAt(e+2)],a=A[t.charCodeAt(e+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&a;return c},p=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},m=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},g=5,v=11,_=2,y=v-g,w=65536>>g,x=1<<g,b=x-1,C=1024>>g,B=w+C,E=B,T=32,S=E+T,M=65536>>v,N=1<<y,D=N-1,O=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},U=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},I=function(t){var e=d(t),n=Array.isArray(e)?m(e):new Uint32Array(e),r=Array.isArray(e)?p(e):new Uint16Array(e),i=24,a=O(r,i/2,n[4]/2),o=2===n[5]?O(r,(i+n[4])/2):U(n,Math.ceil((i+n[4])/4));return new L(n[0],n[1],n[2],n[3],a,o)},L=function(){function t(t,e,n,r,i,a){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>g],e=(e<<_)+(t&b),this.data[e];if(t<=65535)return e=this.index[w+(t-55296>>g)],e=(e<<_)+(t&b),this.data[e];if(t<this.highStart)return e=S-M+(t>>v),e=this.index[e],e+=t>>g&D,e=this.index[e],e=(e<<_)+(t&b),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),F="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA",R=50,P=1,Q=2,H=3,k=4,z=5,V=7,G=8,K=9,j=10,X=11,W=12,Y=13,q=14,J=15,Z=16,$=17,tt=18,et=19,nt=20,rt=21,it=22,at=23,ot=24,st=25,lt=26,ct=27,ut=28,At=29,ht=30,ft=31,dt=32,pt=33,mt=34,gt=35,vt=36,_t=37,yt=38,wt=39,xt=40,bt=41,Ct=42,Bt=43,Et="!",Tt="×",St="÷",Mt=I(F),Nt=[ht,vt],Dt=[P,Q,H,z],Ot=[j,G],Ut=[ct,lt],It=Dt.concat(Ot),Lt=[yt,wt,xt,mt,gt],Ft=[J,Y],Rt=function(t,e){void 0===e&&(e="strict");var n=[],r=[],i=[];return t.forEach((function(t,a){var o=Mt.get(t);if(o>R?(i.push(!0),o-=R):i.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return r.push(a),n.push(Z);if(o===k||o===X){if(0===a)return r.push(a),n.push(ht);var s=n[a-1];return-1===It.indexOf(s)?(r.push(r[a-1]),n.push(s)):(r.push(a),n.push(ht))}return r.push(a),o===ft?n.push("strict"===e?rt:_t):o===Ct||o===At?n.push(ht):o===Bt?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(_t):n.push(ht):void n.push(o)})),[r,n,i]},Pt=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?-1!==t.indexOf(i):t===i){var a=n;while(a<=r.length){a++;var o=r[a];if(o===e)return!0;if(o!==j)break}}if(i===j){a=n;while(a>0){a--;var s=r[a];if(Array.isArray(t)?-1!==t.indexOf(s):t===s){var l=n;while(l<=r.length){l++;o=r[l];if(o===e)return!0;if(o!==j)break}}if(s!==j)break}}return!1},Qt=function(t,e){var n=t;while(n>=0){var r=e[n];if(r!==j)return r;n--}return 0},Ht=function(t,e,n,r,i){if(0===n[r])return Tt;var a=r-1;if(Array.isArray(i)&&!0===i[a])return Tt;var o=a-1,s=a+1,l=e[a],c=o>=0?e[o]:0,u=e[s];if(l===Q&&u===H)return Tt;if(-1!==Dt.indexOf(l))return Et;if(-1!==Dt.indexOf(u))return Tt;if(-1!==Ot.indexOf(u))return Tt;if(Qt(a,e)===G)return St;if(Mt.get(t[a])===X&&(u===_t||u===dt||u===pt))return Tt;if(l===V||u===V)return Tt;if(l===K)return Tt;if(-1===[j,Y,J].indexOf(l)&&u===K)return Tt;if(-1!==[$,tt,et,ot,ut].indexOf(u))return Tt;if(Qt(a,e)===it)return Tt;if(Pt(at,it,a,e))return Tt;if(Pt([$,tt],rt,a,e))return Tt;if(Pt(W,W,a,e))return Tt;if(l===j)return St;if(l===at||u===at)return Tt;if(u===Z||l===Z)return St;if(-1!==[Y,J,rt].indexOf(u)||l===q)return Tt;if(c===vt&&-1!==Ft.indexOf(l))return Tt;if(l===ut&&u===vt)return Tt;if(u===nt&&-1!==Nt.concat(nt,et,st,_t,dt,pt).indexOf(l))return Tt;if(-1!==Nt.indexOf(u)&&l===st||-1!==Nt.indexOf(l)&&u===st)return Tt;if(l===ct&&-1!==[_t,dt,pt].indexOf(u)||-1!==[_t,dt,pt].indexOf(l)&&u===lt)return Tt;if(-1!==Nt.indexOf(l)&&-1!==Ut.indexOf(u)||-1!==Ut.indexOf(l)&&-1!==Nt.indexOf(u))return Tt;if(-1!==[ct,lt].indexOf(l)&&(u===st||-1!==[it,J].indexOf(u)&&e[s+1]===st)||-1!==[it,J].indexOf(l)&&u===st||l===st&&-1!==[st,ut,ot].indexOf(u))return Tt;if(-1!==[st,ut,ot,$,tt].indexOf(u)){var A=a;while(A>=0){var h=e[A];if(h===st)return Tt;if(-1===[ut,ot].indexOf(h))break;A--}}if(-1!==[ct,lt].indexOf(u)){A=-1!==[$,tt].indexOf(l)?o:a;while(A>=0){h=e[A];if(h===st)return Tt;if(-1===[ut,ot].indexOf(h))break;A--}}if(yt===l&&-1!==[yt,wt,mt,gt].indexOf(u)||-1!==[wt,mt].indexOf(l)&&-1!==[wt,xt].indexOf(u)||-1!==[xt,gt].indexOf(l)&&u===xt)return Tt;if(-1!==Lt.indexOf(l)&&-1!==[nt,lt].indexOf(u)||-1!==Lt.indexOf(u)&&l===ct)return Tt;if(-1!==Nt.indexOf(l)&&-1!==Nt.indexOf(u))return Tt;if(l===ot&&-1!==Nt.indexOf(u))return Tt;if(-1!==Nt.concat(st).indexOf(l)&&u===it||-1!==Nt.concat(st).indexOf(u)&&l===tt)return Tt;if(l===bt&&u===bt){var f=n[a],d=1;while(f>0){if(f--,e[f]!==bt)break;d++}if(d%2!==0)return Tt}return l===dt&&u===pt?Tt:St},kt=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Rt(t,e.lineBreak),r=n[0],i=n[1],a=n[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(i=i.map((function(t){return-1!==[st,ht,Ct].indexOf(t)?_t:t})));var o="keep-all"===e.wordBreak?a.map((function(e,n){return e&&t[n]>=19968&&t[n]<=40959})):void 0;return[r,i,o]},zt=function(){function t(t,e,n,r){this.codePoints=t,this.required=e===Et,this.start=n,this.end=r}return t.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Vt=function(t,e){var n=l(t),r=kt(n,e),i=r[0],a=r[1],o=r[2],s=n.length,c=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};var t=Tt;while(u<s&&(t=Ht(n,a,i,++u,o))===Tt);if(t!==Tt||u===s){var e=new zt(n,t,c,u);return c=u,{value:e,done:!1}}return{done:!0,value:null}}}};(function(t){t[t["STRING_TOKEN"]=0]="STRING_TOKEN",t[t["BAD_STRING_TOKEN"]=1]="BAD_STRING_TOKEN",t[t["LEFT_PARENTHESIS_TOKEN"]=2]="LEFT_PARENTHESIS_TOKEN",t[t["RIGHT_PARENTHESIS_TOKEN"]=3]="RIGHT_PARENTHESIS_TOKEN",t[t["COMMA_TOKEN"]=4]="COMMA_TOKEN",t[t["HASH_TOKEN"]=5]="HASH_TOKEN",t[t["DELIM_TOKEN"]=6]="DELIM_TOKEN",t[t["AT_KEYWORD_TOKEN"]=7]="AT_KEYWORD_TOKEN",t[t["PREFIX_MATCH_TOKEN"]=8]="PREFIX_MATCH_TOKEN",t[t["DASH_MATCH_TOKEN"]=9]="DASH_MATCH_TOKEN",t[t["INCLUDE_MATCH_TOKEN"]=10]="INCLUDE_MATCH_TOKEN",t[t["LEFT_CURLY_BRACKET_TOKEN"]=11]="LEFT_CURLY_BRACKET_TOKEN",t[t["RIGHT_CURLY_BRACKET_TOKEN"]=12]="RIGHT_CURLY_BRACKET_TOKEN",t[t["SUFFIX_MATCH_TOKEN"]=13]="SUFFIX_MATCH_TOKEN",t[t["SUBSTRING_MATCH_TOKEN"]=14]="SUBSTRING_MATCH_TOKEN",t[t["DIMENSION_TOKEN"]=15]="DIMENSION_TOKEN",t[t["PERCENTAGE_TOKEN"]=16]="PERCENTAGE_TOKEN",t[t["NUMBER_TOKEN"]=17]="NUMBER_TOKEN",t[t["FUNCTION"]=18]="FUNCTION",t[t["FUNCTION_TOKEN"]=19]="FUNCTION_TOKEN",t[t["IDENT_TOKEN"]=20]="IDENT_TOKEN",t[t["COLUMN_TOKEN"]=21]="COLUMN_TOKEN",t[t["URL_TOKEN"]=22]="URL_TOKEN",t[t["BAD_URL_TOKEN"]=23]="BAD_URL_TOKEN",t[t["CDC_TOKEN"]=24]="CDC_TOKEN",t[t["CDO_TOKEN"]=25]="CDO_TOKEN",t[t["COLON_TOKEN"]=26]="COLON_TOKEN",t[t["SEMICOLON_TOKEN"]=27]="SEMICOLON_TOKEN",t[t["LEFT_SQUARE_BRACKET_TOKEN"]=28]="LEFT_SQUARE_BRACKET_TOKEN",t[t["RIGHT_SQUARE_BRACKET_TOKEN"]=29]="RIGHT_SQUARE_BRACKET_TOKEN",t[t["UNICODE_RANGE_TOKEN"]=30]="UNICODE_RANGE_TOKEN",t[t["WHITESPACE_TOKEN"]=31]="WHITESPACE_TOKEN",t[t["EOF_TOKEN"]=32]="EOF_TOKEN"})(f||(f={}));var Gt=1,Kt=2,jt=4,Xt=8,Wt=10,Yt=47,qt=92,Jt=9,Zt=32,$t=34,te=61,ee=35,ne=36,re=37,ie=39,ae=40,oe=41,se=95,le=45,ce=33,ue=60,Ae=62,he=64,fe=91,de=93,pe=61,me=123,ge=63,ve=125,_e=124,ye=126,we=128,xe=65533,be=42,Ce=43,Be=44,Ee=58,Te=59,Se=46,Me=0,Ne=8,De=11,Oe=14,Ue=31,Ie=127,Le=-1,Fe=48,Re=97,Pe=101,Qe=102,He=117,ke=122,ze=65,Ve=69,Ge=70,Ke=85,je=90,Xe=function(t){return t>=Fe&&t<=57},We=function(t){return t>=55296&&t<=57343},Ye=function(t){return Xe(t)||t>=ze&&t<=Ge||t>=Re&&t<=Qe},qe=function(t){return t>=Re&&t<=ke},Je=function(t){return t>=ze&&t<=je},Ze=function(t){return qe(t)||Je(t)},$e=function(t){return t>=we},tn=function(t){return t===Wt||t===Jt||t===Zt},en=function(t){return Ze(t)||$e(t)||t===se},nn=function(t){return en(t)||Xe(t)||t===le},rn=function(t){return t>=Me&&t<=Ne||t===De||t>=Oe&&t<=Ue||t===Ie},an=function(t,e){return t===qt&&e!==Wt},on=function(t,e,n){return t===le?en(e)||an(e,n):!!en(t)||!(t!==qt||!an(t,e))},sn=function(t,e,n){return t===Ce||t===le?!!Xe(e)||e===Se&&Xe(n):Xe(t===Se?e:t)},ln=function(t){var e=0,n=1;t[e]!==Ce&&t[e]!==le||(t[e]===le&&(n=-1),e++);var r=[];while(Xe(t[e]))r.push(t[e++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;t[e]===Se&&e++;var a=[];while(Xe(t[e]))a.push(t[e++]);var o=a.length,s=o?parseInt(c.apply(void 0,a),10):0;t[e]!==Ve&&t[e]!==Pe||e++;var l=1;t[e]!==Ce&&t[e]!==le||(t[e]===le&&(l=-1),e++);var u=[];while(Xe(t[e]))u.push(t[e++]);var A=u.length?parseInt(c.apply(void 0,u),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,l*A)},cn={type:f.LEFT_PARENTHESIS_TOKEN},un={type:f.RIGHT_PARENTHESIS_TOKEN},An={type:f.COMMA_TOKEN},hn={type:f.SUFFIX_MATCH_TOKEN},fn={type:f.PREFIX_MATCH_TOKEN},dn={type:f.COLUMN_TOKEN},pn={type:f.DASH_MATCH_TOKEN},mn={type:f.INCLUDE_MATCH_TOKEN},gn={type:f.LEFT_CURLY_BRACKET_TOKEN},vn={type:f.RIGHT_CURLY_BRACKET_TOKEN},_n={type:f.SUBSTRING_MATCH_TOKEN},yn={type:f.BAD_URL_TOKEN},wn={type:f.BAD_STRING_TOKEN},xn={type:f.CDO_TOKEN},bn={type:f.CDC_TOKEN},Cn={type:f.COLON_TOKEN},Bn={type:f.SEMICOLON_TOKEN},En={type:f.LEFT_SQUARE_BRACKET_TOKEN},Tn={type:f.RIGHT_SQUARE_BRACKET_TOKEN},Sn={type:f.WHITESPACE_TOKEN},Mn={type:f.EOF_TOKEN},Nn=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(l(t))},t.prototype.read=function(){var t=[],e=this.consumeToken();while(e!==Mn)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case $t:return this.consumeStringToken($t);case ee:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(nn(e)||an(n,r)){var i=on(e,n,r)?Kt:Gt,a=this.consumeName();return{type:f.HASH_TOKEN,value:a,flags:i}}break;case ne:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),hn;break;case ie:return this.consumeStringToken(ie);case ae:return cn;case oe:return un;case be:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),_n;break;case Ce:if(sn(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Be:return An;case le:var o=t,s=this.peekCodePoint(0),l=this.peekCodePoint(1);if(sn(o,s,l))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(on(o,s,l))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(s===le&&l===Ae)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case Se:if(sn(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Yt:if(this.peekCodePoint(0)===be){this.consumeCodePoint();while(1){var u=this.consumeCodePoint();if(u===be&&(u=this.consumeCodePoint(),u===Yt))return this.consumeToken();if(u===Le)return this.consumeToken()}}break;case Ee:return Cn;case Te:return Bn;case ue:if(this.peekCodePoint(0)===ce&&this.peekCodePoint(1)===le&&this.peekCodePoint(2)===le)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case he:var A=this.peekCodePoint(0),h=this.peekCodePoint(1),d=this.peekCodePoint(2);if(on(A,h,d)){a=this.consumeName();return{type:f.AT_KEYWORD_TOKEN,value:a}}break;case fe:return En;case qt:if(an(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case de:return Tn;case pe:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),fn;break;case me:return gn;case ve:return vn;case He:case Ke:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p!==Ce||!Ye(m)&&m!==ge||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case _e:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===_e)return this.consumeCodePoint(),dn;break;case ye:if(this.peekCodePoint(0)===te)return this.consumeCodePoint(),mn;break;case Le:return Mn}return tn(t)?(this.consumeWhiteSpace(),Sn):Xe(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):en(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:f.DELIM_TOKEN,value:c(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return"undefined"===typeof t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){var t=[],e=this.consumeCodePoint();while(Ye(e)&&t.length<6)t.push(e),e=this.consumeCodePoint();var n=!1;while(e===ge&&t.length<6)t.push(e),e=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(c.apply(void 0,t.map((function(t){return t===ge?Fe:t}))),16),i=parseInt(c.apply(void 0,t.map((function(t){return t===ge?Ge:t}))),16);return{type:f.UNICODE_RANGE_TOKEN,start:r,end:i}}var a=parseInt(c.apply(void 0,t),16);if(this.peekCodePoint(0)===le&&Ye(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();var o=[];while(Ye(e)&&o.length<6)o.push(e),e=this.consumeCodePoint();i=parseInt(c.apply(void 0,o),16);return{type:f.UNICODE_RANGE_TOKEN,start:a,end:i}}return{type:f.UNICODE_RANGE_TOKEN,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&this.peekCodePoint(0)===ae?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ae?(this.consumeCodePoint(),{type:f.FUNCTION_TOKEN,value:t}):{type:f.IDENT_TOKEN,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Le)return{type:f.URL_TOKEN,value:""};var e=this.peekCodePoint(0);if(e===ie||e===$t){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===f.STRING_TOKEN&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Le||this.peekCodePoint(0)===oe)?(this.consumeCodePoint(),{type:f.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),yn)}while(1){var r=this.consumeCodePoint();if(r===Le||r===oe)return{type:f.URL_TOKEN,value:c.apply(void 0,t)};if(tn(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Le||this.peekCodePoint(0)===oe?(this.consumeCodePoint(),{type:f.URL_TOKEN,value:c.apply(void 0,t)}):(this.consumeBadUrlRemnants(),yn);if(r===$t||r===ie||r===ae||rn(r))return this.consumeBadUrlRemnants(),yn;if(r===qt){if(!an(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;t.push(this.consumeEscapedCodePoint())}else t.push(r)}},t.prototype.consumeWhiteSpace=function(){while(tn(this.peekCodePoint(0)))this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){while(1){var t=this.consumeCodePoint();if(t===oe||t===Le)return;an(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){var e=6e4,n="";while(t>0){var r=Math.min(e,t);n+=c.apply(void 0,this._value.splice(0,r)),t-=r}return this._value.shift(),n},t.prototype.consumeStringToken=function(t){var e="",n=0;do{var r=this._value[n];if(r===Le||void 0===r||r===t)return e+=this.consumeStringSlice(n),{type:f.STRING_TOKEN,value:e};if(r===Wt)return this._value.splice(0,n),wn;if(r===qt){var i=this._value[n+1];i!==Le&&void 0!==i&&(i===Wt?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):an(r,i)&&(e+=this.consumeStringSlice(n),e+=c(this.consumeEscapedCodePoint()),n=-1))}n++}while(1)},t.prototype.consumeNumber=function(){var t=[],e=jt,n=this.peekCodePoint(0);n!==Ce&&n!==le||t.push(this.consumeCodePoint());while(Xe(this.peekCodePoint(0)))t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Se&&Xe(r)){t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Xt;while(Xe(this.peekCodePoint(0)))t.push(this.consumeCodePoint())}n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Ve||n===Pe)&&((r===Ce||r===le)&&Xe(i)||Xe(r))){t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Xt;while(Xe(this.peekCodePoint(0)))t.push(this.consumeCodePoint())}return[ln(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(on(r,i,a)){var o=this.consumeName();return{type:f.DIMENSION_TOKEN,number:e,flags:n,unit:o}}return r===re?(this.consumeCodePoint(),{type:f.PERCENTAGE_TOKEN,number:e,flags:n}):{type:f.NUMBER_TOKEN,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Ye(t)){var e=c(t);while(Ye(this.peekCodePoint(0))&&e.length<6)e+=c(this.consumeCodePoint());tn(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||We(n)||n>1114111?xe:n}return t===Le?xe:t},t.prototype.consumeName=function(){var t="";while(1){var e=this.consumeCodePoint();if(nn(e))t+=c(e);else{if(!an(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=c(this.consumeEscapedCodePoint())}}},t}(),Dn=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new Nn;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){var t=this.consumeToken();while(t.type===f.WHITESPACE_TOKEN)t=this.consumeToken();if(t.type===f.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(t.type===f.WHITESPACE_TOKEN);if(t.type===f.EOF_TOKEN)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){var t=[];while(1){var e=this.consumeComponentValue();if(e.type===f.EOF_TOKEN)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case f.LEFT_CURLY_BRACKET_TOKEN:case f.LEFT_SQUARE_BRACKET_TOKEN:case f.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(t.type);case f.FUNCTION_TOKEN:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){var e={type:t,values:[]},n=this.consumeToken();while(1){if(n.type===f.EOF_TOKEN||Hn(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){var e={name:t.value,values:[],type:f.FUNCTION};while(1){var n=this.consumeToken();if(n.type===f.EOF_TOKEN||n.type===f.RIGHT_PARENTHESIS_TOKEN)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return"undefined"===typeof t?Mn:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),On=function(t){return t.type===f.DIMENSION_TOKEN},Un=function(t){return t.type===f.NUMBER_TOKEN},In=function(t){return t.type===f.IDENT_TOKEN},Ln=function(t){return t.type===f.STRING_TOKEN},Fn=function(t,e){return In(t)&&t.value===e},Rn=function(t){return t.type!==f.WHITESPACE_TOKEN},Pn=function(t){return t.type!==f.WHITESPACE_TOKEN&&t.type!==f.COMMA_TOKEN},Qn=function(t){var e=[],n=[];return t.forEach((function(t){if(t.type===f.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}t.type!==f.WHITESPACE_TOKEN&&n.push(t)})),n.length&&e.push(n),e},Hn=function(t,e){return e===f.LEFT_CURLY_BRACKET_TOKEN&&t.type===f.RIGHT_CURLY_BRACKET_TOKEN||(e===f.LEFT_SQUARE_BRACKET_TOKEN&&t.type===f.RIGHT_SQUARE_BRACKET_TOKEN||e===f.LEFT_PARENTHESIS_TOKEN&&t.type===f.RIGHT_PARENTHESIS_TOKEN)},kn=function(t){return t.type===f.NUMBER_TOKEN||t.type===f.DIMENSION_TOKEN},zn=function(t){return t.type===f.PERCENTAGE_TOKEN||kn(t)},Vn=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Gn={type:f.NUMBER_TOKEN,number:0,flags:jt},Kn={type:f.PERCENTAGE_TOKEN,number:50,flags:jt},jn={type:f.PERCENTAGE_TOKEN,number:100,flags:jt},Xn=function(t,e,n){var r=t[0],i=t[1];return[Wn(r,e),Wn("undefined"!==typeof i?i:r,n)]},Wn=function(t,e){if(t.type===f.PERCENTAGE_TOKEN)return t.number/100*e;if(On(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Yn="deg",qn="grad",Jn="rad",Zn="turn",$n={name:"angle",parse:function(t){if(t.type===f.DIMENSION_TOKEN)switch(t.unit){case Yn:return Math.PI*t.number/180;case qn:return Math.PI/200*t.number;case Jn:return t.number;case Zn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},tr=function(t){return t.type===f.DIMENSION_TOKEN&&(t.unit===Yn||t.unit===qn||t.unit===Jn||t.unit===Zn)},er=function(t){var e=t.filter(In).map((function(t){return t.value})).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gn,Gn];case"to top":case"bottom":return nr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gn,jn];case"to right":case"left":return nr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[jn,jn];case"to bottom":case"top":return nr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[jn,Gn];case"to left":case"right":return nr(270)}return 0},nr=function(t){return Math.PI*t/180},rr={name:"color",parse:function(t){if(t.type===f.FUNCTION){var e=fr[t.name];if("undefined"===typeof e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(t.values)}if(t.type===f.HASH_TOKEN){if(3===t.value.length){var n=t.value.substring(0,1),r=t.value.substring(1,2),i=t.value.substring(2,3);return or(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(4===t.value.length){n=t.value.substring(0,1),r=t.value.substring(1,2),i=t.value.substring(2,3);var a=t.value.substring(3,4);return or(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(6===t.value.length){n=t.value.substring(0,2),r=t.value.substring(2,4),i=t.value.substring(4,6);return or(parseInt(n,16),parseInt(r,16),parseInt(i,16),1)}if(8===t.value.length){n=t.value.substring(0,2),r=t.value.substring(2,4),i=t.value.substring(4,6),a=t.value.substring(6,8);return or(parseInt(n,16),parseInt(r,16),parseInt(i,16),parseInt(a,16)/255)}}if(t.type===f.IDENT_TOKEN){var o=dr[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return dr.TRANSPARENT}},ir=function(t){return 0===(255&t)},ar=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},or=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(255*r)<<0)>>>0},sr=function(t,e){if(t.type===f.NUMBER_TOKEN)return t.number;if(t.type===f.PERCENTAGE_TOKEN){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},lr=function(t){var e=t.filter(Pn);if(3===e.length){var n=e.map(sr),r=n[0],i=n[1],a=n[2];return or(r,i,a,1)}if(4===e.length){var o=e.map(sr),s=(r=o[0],i=o[1],a=o[2],o[3]);return or(r,i,a,s)}return 0};function cr(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var ur,Ar,hr=function(t){var e=t.filter(Pn),n=e[0],r=e[1],i=e[2],a=e[3],o=(n.type===f.NUMBER_TOKEN?nr(n.number):$n.parse(n))/(2*Math.PI),s=zn(r)?r.number/100:0,l=zn(i)?i.number/100:0,c="undefined"!==typeof a&&zn(a)?Wn(a,1):1;if(0===s)return or(255*l,255*l,255*l,1);var u=l<=.5?l*(s+1):l+s-l*s,A=2*l-u,h=cr(A,u,o+1/3),d=cr(A,u,o),p=cr(A,u,o-1/3);return or(255*h,255*d,255*p,c)},fr={hsl:hr,hsla:hr,rgb:lr,rgba:lr},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(function(t){t[t["VALUE"]=0]="VALUE",t[t["LIST"]=1]="LIST",t[t["IDENT_VALUE"]=2]="IDENT_VALUE",t[t["TYPE_VALUE"]=3]="TYPE_VALUE",t[t["TOKEN_VALUE"]=4]="TOKEN_VALUE"})(ur||(ur={})),function(t){t[t["BORDER_BOX"]=0]="BORDER_BOX",t[t["PADDING_BOX"]=1]="PADDING_BOX",t[t["CONTENT_BOX"]=2]="CONTENT_BOX"}(Ar||(Ar={}));var pr,mr={name:"background-clip",initialValue:"border-box",prefix:!1,type:ur.LIST,parse:function(t){return t.map((function(t){if(In(t))switch(t.value){case"padding-box":return Ar.PADDING_BOX;case"content-box":return Ar.CONTENT_BOX}return Ar.BORDER_BOX}))}},gr={name:"background-color",initialValue:"transparent",prefix:!1,type:ur.TYPE_VALUE,format:"color"},vr=function(t){var e=rr.parse(t[0]),n=t[1];return n&&zn(n)?{color:e,stop:n}:{color:e,stop:null}},_r=function(t,e){var n=t[0],r=t[t.length-1];null===n.stop&&(n.stop=Gn),null===r.stop&&(r.stop=jn);for(var i=[],a=0,o=0;o<t.length;o++){var s=t[o].stop;if(null!==s){var l=Wn(s,e);l>a?i.push(l):i.push(a),a=l}else i.push(null)}var c=null;for(o=0;o<i.length;o++){var u=i[o];if(null===u)null===c&&(c=o);else if(null!==c){for(var A=o-c,h=i[c-1],f=(u-h)/(A+1),d=1;d<=A;d++)i[c+d-1]=f*d;c=null}}return t.map((function(t,n){var r=t.color;return{color:r,stop:Math.max(Math.min(1,i[n]/e),0)}}))},yr=function(t,e,n){var r=e/2,i=n/2,a=Wn(t[0],e)-r,o=i-Wn(t[1],n);return(Math.atan2(o,a)+2*Math.PI)%(2*Math.PI)},wr=function(t,e,n){var r="number"===typeof t?t:yr(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),a=e/2,o=n/2,s=i/2,l=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[i,a-c,a+c,o-l,o+l]},xr=function(t,e){return Math.sqrt(t*t+e*e)},br=function(t,e,n,r,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce((function(t,e){var a=e[0],o=e[1],s=xr(n-a,r-o);return(i?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Cr=function(t,e,n,r,i){var a=0,o=0;switch(t.size){case ai.CLOSEST_SIDE:t.shape===ii.CIRCLE?a=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===ii.ELLIPSE&&(a=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case ai.CLOSEST_CORNER:if(t.shape===ii.CIRCLE)a=o=Math.min(xr(e,n),xr(e,n-i),xr(e-r,n),xr(e-r,n-i));else if(t.shape===ii.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=br(r,i,e,n,!0),c=l[0],u=l[1];a=xr(c-e,(u-n)/s),o=s*a}break;case ai.FARTHEST_SIDE:t.shape===ii.CIRCLE?a=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===ii.ELLIPSE&&(a=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case ai.FARTHEST_CORNER:if(t.shape===ii.CIRCLE)a=o=Math.max(xr(e,n),xr(e,n-i),xr(e-r,n),xr(e-r,n-i));else if(t.shape===ii.ELLIPSE){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r));var A=br(r,i,e,n,!1);c=A[0],u=A[1];a=xr(c-e,(u-n)/s),o=s*a}break}return Array.isArray(t.size)&&(a=Wn(t.size[0],r),o=2===t.size.length?Wn(t.size[1],i):a),[a,o]},Br=function(t){var e=nr(180),n=[];return Qn(t).forEach((function(t,r){if(0===r){var i=t[0];if(i.type===f.IDENT_TOKEN&&"to"===i.value)return void(e=er(t));if(tr(i))return void(e=$n.parse(i))}var a=vr(t);n.push(a)})),{angle:e,stops:n,type:pr.LINEAR_GRADIENT}},Er=function(t){var e=nr(180),n=[];return Qn(t).forEach((function(t,r){if(0===r){var i=t[0];if(i.type===f.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(e=er(t));if(tr(i))return void(e=($n.parse(i)+nr(270))%nr(360))}var a=vr(t);n.push(a)})),{angle:e,stops:n,type:pr.LINEAR_GRADIENT}},Tr=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(r),a===e)return!0}}return!1},Sr=function(){return"undefined"!==typeof(new Image).crossOrigin},Mr=function(){return"string"===typeof(new XMLHttpRequest).responseType},Nr=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(Pe){return!1}return!0},Dr=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},Or=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=e.toDataURL();i.src=a;var o=Ur(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Ir(o).then((function(e){r.drawImage(e,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=t.createElement("div");return o.style.backgroundImage="url("+a+")",o.style.height=n+"px",Dr(i)?Ir(Ur(n,n,0,0,o)):Promise.reject(!1)})).then((function(t){return r.drawImage(t,0,0),Dr(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Ur=function(t,e,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},Ir=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Lr={get SUPPORT_RANGE_BOUNDS(){var t=Tr(document);return Object.defineProperty(Lr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Nr(document);return Object.defineProperty(Lr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"===typeof Array.from&&"function"===typeof window.fetch?Or(document):Promise.resolve(!1);return Object.defineProperty(Lr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Sr();return Object.defineProperty(Lr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Mr();return Object.defineProperty(Lr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Lr,"SUPPORT_CORS_XHR",{value:t}),t}},Fr=function(){function t(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.create=function(e){t.instances[e.id]=new t(e)},t.destroy=function(e){delete t.instances[e]},t.getInstance=function(e){var n=t.instances[e];if("undefined"===typeof n)throw new Error("No logger instance found with id "+e);return n},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t))},t.instances={},t}(),Rr=function(){function t(){}return t.create=function(e,n){return t._caches[e]=new Pr(e,n)},t.destroy=function(e){delete t._caches[e]},t.open=function(e){var n=t._caches[e];if("undefined"!==typeof n)return n;throw new Error('Cache with key "'+e+'" not found')},t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t.getInstance=function(){var e=t._current;if(null===e)throw new Error("No cache instance attached");return e},t.attachInstance=function(e){t._current=e},t.detachInstance=function(){t._current=null},t._caches={},t._origin="about:blank",t._current=null,t}(),Pr=function(){function t(t,e){this.id=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Kr(t)||zr(t)?(this._cache[t]=this.loadImage(t),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return r(this,void 0,void 0,(function(){var e,n,r,a,o=this;return i(this,(function(i){switch(i.label){case 0:return e=Rr.isSameOrigin(t),n=!Vr(t)&&!0===this._options.useCORS&&Lr.SUPPORT_CORS_IMAGES&&!e,r=!Vr(t)&&!e&&"string"===typeof this._options.proxy&&Lr.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||Vr(t)||r||n?(a=t,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=i.sent(),i.label=2;case 2:return Fr.getInstance(this.id).debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var r=new Image;r.onload=function(){return t(r)},r.onerror=e,(Gr(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout((function(){return t(r)}),500),o._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},t.prototype.has=function(t){return"undefined"!==typeof this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise((function(i,a){var o=Lr.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status)if("text"===o)i(s.response);else{var t=new FileReader;t.addEventListener("load",(function(){return i(t.result)}),!1),t.addEventListener("error",(function(t){return a(t)}),!1),t.readAsDataURL(s.response)}else a("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=a,s.open("GET",n+"?url="+encodeURIComponent(t)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),e._options.imageTimeout){var l=e._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return a("Timed out ("+l+"ms) proxying "+r)}}s.send()}))},t}(),Qr=/^data:image\/svg\+xml/i,Hr=/^data:image\/.*;base64,/i,kr=/^data:image\/.*/i,zr=function(t){return Lr.SUPPORT_SVG_DRAWING||!jr(t)},Vr=function(t){return kr.test(t)},Gr=function(t){return Hr.test(t)},Kr=function(t){return"blob"===t.substr(0,4)},jr=function(t){return"svg"===t.substr(-3).toLowerCase()||Qr.test(t)},Xr=function(t){var e=nr(180),n=[],r=pr.LINEAR_GRADIENT,i=ii.CIRCLE,a=ai.FARTHEST_CORNER,o=[];return Qn(t).forEach((function(t,e){var i=t[0];if(0===e){if(In(i)&&"linear"===i.value)return void(r=pr.LINEAR_GRADIENT);if(In(i)&&"radial"===i.value)return void(r=pr.RADIAL_GRADIENT)}if(i.type===f.FUNCTION)if("from"===i.name){var a=rr.parse(i.values[0]);n.push({stop:Gn,color:a})}else if("to"===i.name){a=rr.parse(i.values[0]);n.push({stop:jn,color:a})}else if("color-stop"===i.name){var o=i.values.filter(Pn);if(2===o.length){a=rr.parse(o[1]);var s=o[0];Un(s)&&n.push({stop:{type:f.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:a})}}})),r===pr.LINEAR_GRADIENT?{angle:(e+nr(180))%nr(360),stops:n,type:r}:{size:a,shape:i,stops:n,position:o,type:r}},Wr="closest-side",Yr="farthest-side",qr="closest-corner",Jr="farthest-corner",Zr="circle",$r="ellipse",ti="cover",ei="contain",ni=function(t){var e=ii.CIRCLE,n=ai.FARTHEST_CORNER,r=[],i=[];return Qn(t).forEach((function(t,a){var o=!0;if(0===a){var s=!1;o=t.reduce((function(t,r){if(s)if(In(r))switch(r.value){case"center":return i.push(Kn),t;case"top":case"left":return i.push(Gn),t;case"right":case"bottom":return i.push(jn),t}else(zn(r)||kn(r))&&i.push(r);else if(In(r))switch(r.value){case Zr:return e=ii.CIRCLE,!1;case $r:return e=ii.ELLIPSE,!1;case"at":return s=!0,!1;case Wr:return n=ai.CLOSEST_SIDE,!1;case ti:case Yr:return n=ai.FARTHEST_SIDE,!1;case ei:case qr:return n=ai.CLOSEST_CORNER,!1;case Jr:return n=ai.FARTHEST_CORNER,!1}else if(kn(r)||zn(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return t}),o)}if(o){var l=vr(t);r.push(l)}})),{size:n,shape:e,stops:r,position:i,type:pr.RADIAL_GRADIENT}},ri=function(t){var e=ii.CIRCLE,n=ai.FARTHEST_CORNER,r=[],i=[];return Qn(t).forEach((function(t,a){var o=!0;if(0===a?o=t.reduce((function(t,e){if(In(e))switch(e.value){case"center":return i.push(Kn),!1;case"top":case"left":return i.push(Gn),!1;case"right":case"bottom":return i.push(jn),!1}else if(zn(e)||kn(e))return i.push(e),!1;return t}),o):1===a&&(o=t.reduce((function(t,r){if(In(r))switch(r.value){case Zr:return e=ii.CIRCLE,!1;case $r:return e=ii.ELLIPSE,!1;case ei:case Wr:return n=ai.CLOSEST_SIDE,!1;case Yr:return n=ai.FARTHEST_SIDE,!1;case qr:return n=ai.CLOSEST_CORNER,!1;case ti:case Jr:return n=ai.FARTHEST_CORNER,!1}else if(kn(r)||zn(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return t}),o)),o){var s=vr(t);r.push(s)}})),{size:n,shape:e,stops:r,position:i,type:pr.RADIAL_GRADIENT}};(function(t){t[t["URL"]=0]="URL",t[t["LINEAR_GRADIENT"]=1]="LINEAR_GRADIENT",t[t["RADIAL_GRADIENT"]=2]="RADIAL_GRADIENT"})(pr||(pr={}));var ii,ai,oi=function(t){return t.type===pr.LINEAR_GRADIENT},si=function(t){return t.type===pr.RADIAL_GRADIENT};(function(t){t[t["CIRCLE"]=0]="CIRCLE",t[t["ELLIPSE"]=1]="ELLIPSE"})(ii||(ii={})),function(t){t[t["CLOSEST_SIDE"]=0]="CLOSEST_SIDE",t[t["FARTHEST_SIDE"]=1]="FARTHEST_SIDE",t[t["CLOSEST_CORNER"]=2]="CLOSEST_CORNER",t[t["FARTHEST_CORNER"]=3]="FARTHEST_CORNER"}(ai||(ai={}));var li={name:"image",parse:function(t){if(t.type===f.URL_TOKEN){var e={url:t.value,type:pr.URL};return Rr.getInstance().addImage(t.value),e}if(t.type===f.FUNCTION){var n=Ai[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(t.values)}throw new Error("Unsupported image type")}};function ci(t){return t.type!==f.FUNCTION||Ai[t.name]}var ui,Ai={"linear-gradient":Br,"-moz-linear-gradient":Er,"-ms-linear-gradient":Er,"-o-linear-gradient":Er,"-webkit-linear-gradient":Er,"radial-gradient":ni,"-moz-radial-gradient":ri,"-ms-radial-gradient":ri,"-o-radial-gradient":ri,"-webkit-radial-gradient":ri,"-webkit-gradient":Xr},hi={name:"background-image",initialValue:"none",type:ur.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===f.IDENT_TOKEN&&"none"===e.value?[]:t.filter((function(t){return Pn(t)&&ci(t)})).map(li.parse)}},fi={name:"background-origin",initialValue:"border-box",prefix:!1,type:ur.LIST,parse:function(t){return t.map((function(t){if(In(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},di={name:"background-position",initialValue:"0% 0%",type:ur.LIST,prefix:!1,parse:function(t){return Qn(t).map((function(t){return t.filter(zn)})).map(Vn)}};(function(t){t[t["REPEAT"]=0]="REPEAT",t[t["NO_REPEAT"]=1]="NO_REPEAT",t[t["REPEAT_X"]=2]="REPEAT_X",t[t["REPEAT_Y"]=3]="REPEAT_Y"})(ui||(ui={}));var pi,mi={name:"background-repeat",initialValue:"repeat",prefix:!1,type:ur.LIST,parse:function(t){return Qn(t).map((function(t){return t.filter(In).map((function(t){return t.value})).join(" ")})).map(gi)}},gi=function(t){switch(t){case"no-repeat":return ui.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return ui.REPEAT_X;case"repeat-y":case"no-repeat repeat":return ui.REPEAT_Y;case"repeat":default:return ui.REPEAT}};(function(t){t["AUTO"]="auto",t["CONTAIN"]="contain",t["COVER"]="cover"})(pi||(pi={}));var vi,_i={name:"background-size",initialValue:"0",prefix:!1,type:ur.LIST,parse:function(t){return Qn(t).map((function(t){return t.filter(yi)}))}},yi=function(t){return In(t)||zn(t)},wi=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:ur.TYPE_VALUE,format:"color"}},xi=wi("top"),bi=wi("right"),Ci=wi("bottom"),Bi=wi("left"),Ei=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:ur.LIST,parse:function(t){return Vn(t.filter(zn))}}},Ti=Ei("top-left"),Si=Ei("top-right"),Mi=Ei("bottom-right"),Ni=Ei("bottom-left");(function(t){t[t["NONE"]=0]="NONE",t[t["SOLID"]=1]="SOLID"})(vi||(vi={}));var Di,Oi=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"none":return vi.NONE}return vi.SOLID}}},Ui=Oi("top"),Ii=Oi("right"),Li=Oi("bottom"),Fi=Oi("left"),Ri=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:ur.VALUE,prefix:!1,parse:function(t){return On(t)?t.number:0}}},Pi=Ri("top"),Qi=Ri("right"),Hi=Ri("bottom"),ki=Ri("left"),zi={name:"color",initialValue:"transparent",prefix:!1,type:ur.TYPE_VALUE,format:"color"},Vi={name:"display",initialValue:"inline-block",prefix:!1,type:ur.LIST,parse:function(t){return t.filter(In).reduce((function(t,e){return t|Gi(e.value)}),0)}},Gi=function(t){switch(t){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};(function(t){t[t["NONE"]=0]="NONE",t[t["LEFT"]=1]="LEFT",t[t["RIGHT"]=2]="RIGHT",t[t["INLINE_START"]=3]="INLINE_START",t[t["INLINE_END"]=4]="INLINE_END"})(Di||(Di={}));var Ki,ji={name:"float",initialValue:"none",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"left":return Di.LEFT;case"right":return Di.RIGHT;case"inline-start":return Di.INLINE_START;case"inline-end":return Di.INLINE_END}return Di.NONE}},Xi={name:"letter-spacing",initialValue:"0",prefix:!1,type:ur.VALUE,parse:function(t){return t.type===f.IDENT_TOKEN&&"normal"===t.value?0:t.type===f.NUMBER_TOKEN||t.type===f.DIMENSION_TOKEN?t.number:0}};(function(t){t["NORMAL"]="normal",t["STRICT"]="strict"})(Ki||(Ki={}));var Wi,Yi={name:"line-break",initialValue:"normal",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"strict":return Ki.STRICT;case"normal":default:return Ki.NORMAL}}},qi={name:"line-height",initialValue:"normal",prefix:!1,type:ur.TOKEN_VALUE},Ji=function(t,e){return In(t)&&"normal"===t.value?1.2*e:t.type===f.NUMBER_TOKEN?e*t.number:zn(t)?Wn(t,e):e},Zi={name:"list-style-image",initialValue:"none",type:ur.VALUE,prefix:!1,parse:function(t){return t.type===f.IDENT_TOKEN&&"none"===t.value?null:li.parse(t)}};(function(t){t[t["INSIDE"]=0]="INSIDE",t[t["OUTSIDE"]=1]="OUTSIDE"})(Wi||(Wi={}));var $i,ta={name:"list-style-position",initialValue:"outside",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"inside":return Wi.INSIDE;case"outside":default:return Wi.OUTSIDE}}};(function(t){t[t["NONE"]=-1]="NONE",t[t["DISC"]=0]="DISC",t[t["CIRCLE"]=1]="CIRCLE",t[t["SQUARE"]=2]="SQUARE",t[t["DECIMAL"]=3]="DECIMAL",t[t["CJK_DECIMAL"]=4]="CJK_DECIMAL",t[t["DECIMAL_LEADING_ZERO"]=5]="DECIMAL_LEADING_ZERO",t[t["LOWER_ROMAN"]=6]="LOWER_ROMAN",t[t["UPPER_ROMAN"]=7]="UPPER_ROMAN",t[t["LOWER_GREEK"]=8]="LOWER_GREEK",t[t["LOWER_ALPHA"]=9]="LOWER_ALPHA",t[t["UPPER_ALPHA"]=10]="UPPER_ALPHA",t[t["ARABIC_INDIC"]=11]="ARABIC_INDIC",t[t["ARMENIAN"]=12]="ARMENIAN",t[t["BENGALI"]=13]="BENGALI",t[t["CAMBODIAN"]=14]="CAMBODIAN",t[t["CJK_EARTHLY_BRANCH"]=15]="CJK_EARTHLY_BRANCH",t[t["CJK_HEAVENLY_STEM"]=16]="CJK_HEAVENLY_STEM",t[t["CJK_IDEOGRAPHIC"]=17]="CJK_IDEOGRAPHIC",t[t["DEVANAGARI"]=18]="DEVANAGARI",t[t["ETHIOPIC_NUMERIC"]=19]="ETHIOPIC_NUMERIC",t[t["GEORGIAN"]=20]="GEORGIAN",t[t["GUJARATI"]=21]="GUJARATI",t[t["GURMUKHI"]=22]="GURMUKHI",t[t["HEBREW"]=22]="HEBREW",t[t["HIRAGANA"]=23]="HIRAGANA",t[t["HIRAGANA_IROHA"]=24]="HIRAGANA_IROHA",t[t["JAPANESE_FORMAL"]=25]="JAPANESE_FORMAL",t[t["JAPANESE_INFORMAL"]=26]="JAPANESE_INFORMAL",t[t["KANNADA"]=27]="KANNADA",t[t["KATAKANA"]=28]="KATAKANA",t[t["KATAKANA_IROHA"]=29]="KATAKANA_IROHA",t[t["KHMER"]=30]="KHMER",t[t["KOREAN_HANGUL_FORMAL"]=31]="KOREAN_HANGUL_FORMAL",t[t["KOREAN_HANJA_FORMAL"]=32]="KOREAN_HANJA_FORMAL",t[t["KOREAN_HANJA_INFORMAL"]=33]="KOREAN_HANJA_INFORMAL",t[t["LAO"]=34]="LAO",t[t["LOWER_ARMENIAN"]=35]="LOWER_ARMENIAN",t[t["MALAYALAM"]=36]="MALAYALAM",t[t["MONGOLIAN"]=37]="MONGOLIAN",t[t["MYANMAR"]=38]="MYANMAR",t[t["ORIYA"]=39]="ORIYA",t[t["PERSIAN"]=40]="PERSIAN",t[t["SIMP_CHINESE_FORMAL"]=41]="SIMP_CHINESE_FORMAL",t[t["SIMP_CHINESE_INFORMAL"]=42]="SIMP_CHINESE_INFORMAL",t[t["TAMIL"]=43]="TAMIL",t[t["TELUGU"]=44]="TELUGU",t[t["THAI"]=45]="THAI",t[t["TIBETAN"]=46]="TIBETAN",t[t["TRAD_CHINESE_FORMAL"]=47]="TRAD_CHINESE_FORMAL",t[t["TRAD_CHINESE_INFORMAL"]=48]="TRAD_CHINESE_INFORMAL",t[t["UPPER_ARMENIAN"]=49]="UPPER_ARMENIAN",t[t["DISCLOSURE_OPEN"]=50]="DISCLOSURE_OPEN",t[t["DISCLOSURE_CLOSED"]=51]="DISCLOSURE_CLOSED"})($i||($i={}));var ea,na={name:"list-style-type",initialValue:"none",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"disc":return $i.DISC;case"circle":return $i.CIRCLE;case"square":return $i.SQUARE;case"decimal":return $i.DECIMAL;case"cjk-decimal":return $i.CJK_DECIMAL;case"decimal-leading-zero":return $i.DECIMAL_LEADING_ZERO;case"lower-roman":return $i.LOWER_ROMAN;case"upper-roman":return $i.UPPER_ROMAN;case"lower-greek":return $i.LOWER_GREEK;case"lower-alpha":return $i.LOWER_ALPHA;case"upper-alpha":return $i.UPPER_ALPHA;case"arabic-indic":return $i.ARABIC_INDIC;case"armenian":return $i.ARMENIAN;case"bengali":return $i.BENGALI;case"cambodian":return $i.CAMBODIAN;case"cjk-earthly-branch":return $i.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return $i.CJK_HEAVENLY_STEM;case"cjk-ideographic":return $i.CJK_IDEOGRAPHIC;case"devanagari":return $i.DEVANAGARI;case"ethiopic-numeric":return $i.ETHIOPIC_NUMERIC;case"georgian":return $i.GEORGIAN;case"gujarati":return $i.GUJARATI;case"gurmukhi":return $i.GURMUKHI;case"hebrew":return $i.HEBREW;case"hiragana":return $i.HIRAGANA;case"hiragana-iroha":return $i.HIRAGANA_IROHA;case"japanese-formal":return $i.JAPANESE_FORMAL;case"japanese-informal":return $i.JAPANESE_INFORMAL;case"kannada":return $i.KANNADA;case"katakana":return $i.KATAKANA;case"katakana-iroha":return $i.KATAKANA_IROHA;case"khmer":return $i.KHMER;case"korean-hangul-formal":return $i.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return $i.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return $i.KOREAN_HANJA_INFORMAL;case"lao":return $i.LAO;case"lower-armenian":return $i.LOWER_ARMENIAN;case"malayalam":return $i.MALAYALAM;case"mongolian":return $i.MONGOLIAN;case"myanmar":return $i.MYANMAR;case"oriya":return $i.ORIYA;case"persian":return $i.PERSIAN;case"simp-chinese-formal":return $i.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return $i.SIMP_CHINESE_INFORMAL;case"tamil":return $i.TAMIL;case"telugu":return $i.TELUGU;case"thai":return $i.THAI;case"tibetan":return $i.TIBETAN;case"trad-chinese-formal":return $i.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return $i.TRAD_CHINESE_INFORMAL;case"upper-armenian":return $i.UPPER_ARMENIAN;case"disclosure-open":return $i.DISCLOSURE_OPEN;case"disclosure-closed":return $i.DISCLOSURE_CLOSED;case"none":default:return $i.NONE}}},ra=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:ur.TOKEN_VALUE}},ia=ra("top"),aa=ra("right"),oa=ra("bottom"),sa=ra("left");(function(t){t[t["VISIBLE"]=0]="VISIBLE",t[t["HIDDEN"]=1]="HIDDEN",t[t["SCROLL"]=2]="SCROLL",t[t["AUTO"]=3]="AUTO"})(ea||(ea={}));var la,ca={name:"overflow",initialValue:"visible",prefix:!1,type:ur.LIST,parse:function(t){return t.filter(In).map((function(t){switch(t.value){case"hidden":return ea.HIDDEN;case"scroll":return ea.SCROLL;case"auto":return ea.AUTO;case"visible":default:return ea.VISIBLE}}))}};(function(t){t["NORMAL"]="normal",t["BREAK_WORD"]="break-word"})(la||(la={}));var ua,Aa={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"break-word":return la.BREAK_WORD;case"normal":default:return la.NORMAL}}},ha=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:ur.TYPE_VALUE,format:"length-percentage"}},fa=ha("top"),da=ha("right"),pa=ha("bottom"),ma=ha("left");(function(t){t[t["LEFT"]=0]="LEFT",t[t["CENTER"]=1]="CENTER",t[t["RIGHT"]=2]="RIGHT"})(ua||(ua={}));var ga,va={name:"text-align",initialValue:"left",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"right":return ua.RIGHT;case"center":case"justify":return ua.CENTER;case"left":default:return ua.LEFT}}};(function(t){t[t["STATIC"]=0]="STATIC",t[t["RELATIVE"]=1]="RELATIVE",t[t["ABSOLUTE"]=2]="ABSOLUTE",t[t["FIXED"]=3]="FIXED",t[t["STICKY"]=4]="STICKY"})(ga||(ga={}));var _a,ya={name:"position",initialValue:"static",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"relative":return ga.RELATIVE;case"absolute":return ga.ABSOLUTE;case"fixed":return ga.FIXED;case"sticky":return ga.STICKY}return ga.STATIC}},wa={name:"text-shadow",initialValue:"none",type:ur.LIST,prefix:!1,parse:function(t){return 1===t.length&&Fn(t[0],"none")?[]:Qn(t).map((function(t){for(var e={color:dr.TRANSPARENT,offsetX:Gn,offsetY:Gn,blur:Gn},n=0,r=0;r<t.length;r++){var i=t[r];kn(i)?(0===n?e.offsetX=i:1===n?e.offsetY=i:e.blur=i,n++):e.color=rr.parse(i)}return e}))}};(function(t){t[t["NONE"]=0]="NONE",t[t["LOWERCASE"]=1]="LOWERCASE",t[t["UPPERCASE"]=2]="UPPERCASE",t[t["CAPITALIZE"]=3]="CAPITALIZE"})(_a||(_a={}));var xa,ba={name:"text-transform",initialValue:"none",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"uppercase":return _a.UPPERCASE;case"lowercase":return _a.LOWERCASE;case"capitalize":return _a.CAPITALIZE}return _a.NONE}},Ca={name:"transform",initialValue:"none",prefix:!0,type:ur.VALUE,parse:function(t){if(t.type===f.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===f.FUNCTION){var e=Ta[t.name];if("undefined"===typeof e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},Ba=function(t){var e=t.filter((function(t){return t.type===f.NUMBER_TOKEN})).map((function(t){return t.number}));return 6===e.length?e:null},Ea=function(t){var e=t.filter((function(t){return t.type===f.NUMBER_TOKEN})).map((function(t){return t.number})),n=e[0],r=e[1],i=(e[2],e[3],e[4]),a=e[5],o=(e[6],e[7],e[8],e[9],e[10],e[11],e[12]),s=e[13];e[14],e[15];return 16===e.length?[n,r,i,a,o,s]:null},Ta={matrix:Ba,matrix3d:Ea},Sa={type:f.PERCENTAGE_TOKEN,number:50,flags:jt},Ma=[Sa,Sa],Na={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:ur.LIST,parse:function(t){var e=t.filter(zn);return 2!==e.length?Ma:[e[0],e[1]]}};(function(t){t[t["VISIBLE"]=0]="VISIBLE",t[t["HIDDEN"]=1]="HIDDEN",t[t["COLLAPSE"]=2]="COLLAPSE"})(xa||(xa={}));var Da,Oa={name:"visible",initialValue:"none",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"hidden":return xa.HIDDEN;case"collapse":return xa.COLLAPSE;case"visible":default:return xa.VISIBLE}}};(function(t){t["NORMAL"]="normal",t["BREAK_ALL"]="break-all",t["KEEP_ALL"]="keep-all"})(Da||(Da={}));var Ua,Ia={name:"word-break",initialValue:"normal",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"break-all":return Da.BREAK_ALL;case"keep-all":return Da.KEEP_ALL;case"normal":default:return Da.NORMAL}}},La={name:"z-index",initialValue:"auto",prefix:!1,type:ur.VALUE,parse:function(t){if(t.type===f.IDENT_TOKEN)return{auto:!0,order:0};if(Un(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Fa={name:"opacity",initialValue:"1",type:ur.VALUE,prefix:!1,parse:function(t){return Un(t)?t.number:1}},Ra={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:ur.TYPE_VALUE,format:"color"},Pa={name:"text-decoration-line",initialValue:"none",prefix:!1,type:ur.LIST,parse:function(t){return t.filter(In).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},Qa={name:"font-family",initialValue:"",prefix:!1,type:ur.LIST,parse:function(t){var e=[],n=[];return t.forEach((function(t){switch(t.type){case f.IDENT_TOKEN:case f.STRING_TOKEN:e.push(t.value);break;case f.NUMBER_TOKEN:e.push(t.number.toString());break;case f.COMMA_TOKEN:n.push(e.join(" ")),e.length=0;break}})),e.length&&n.push(e.join(" ")),n.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},Ha={name:"font-size",initialValue:"0",prefix:!1,type:ur.TYPE_VALUE,format:"length"},ka={name:"font-weight",initialValue:"normal",type:ur.VALUE,prefix:!1,parse:function(t){if(Un(t))return t.number;if(In(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},za={name:"font-variant",initialValue:"none",type:ur.LIST,prefix:!1,parse:function(t){return t.filter(In).map((function(t){return t.value}))}};(function(t){t["NORMAL"]="normal",t["ITALIC"]="italic",t["OBLIQUE"]="oblique"})(Ua||(Ua={}));var Va,Ga={name:"font-style",initialValue:"normal",prefix:!1,type:ur.IDENT_VALUE,parse:function(t){switch(t){case"oblique":return Ua.OBLIQUE;case"italic":return Ua.ITALIC;case"normal":default:return Ua.NORMAL}}},Ka=function(t,e){return 0!==(t&e)},ja={name:"content",initialValue:"none",type:ur.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===f.IDENT_TOKEN&&"none"===e.value?[]:t}},Xa={name:"counter-increment",initialValue:"none",prefix:!0,type:ur.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===f.IDENT_TOKEN&&"none"===e.value)return null;for(var n=[],r=t.filter(Rn),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(a.type===f.IDENT_TOKEN){var s=o&&Un(o)?o.number:1;n.push({counter:a.value,increment:s})}}return n}},Wa={name:"counter-reset",initialValue:"none",prefix:!0,type:ur.LIST,parse:function(t){if(0===t.length)return[];for(var e=[],n=t.filter(Rn),r=0;r<n.length;r++){var i=n[r],a=n[r+1];if(In(i)&&"none"!==i.value){var o=a&&Un(a)?a.number:0;e.push({counter:i.value,reset:o})}}return e}},Ya={name:"quotes",initialValue:"none",prefix:!0,type:ur.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===f.IDENT_TOKEN&&"none"===e.value)return null;var n=[],r=t.filter(Ln);if(r.length%2!==0)return null;for(var i=0;i<r.length;i+=2){var a=r[i].value,o=r[i+1].value;n.push({open:a,close:o})}return n}},qa=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Ja={name:"box-shadow",initialValue:"none",type:ur.LIST,prefix:!1,parse:function(t){return 1===t.length&&Fn(t[0],"none")?[]:Qn(t).map((function(t){for(var e={color:255,offsetX:Gn,offsetY:Gn,blur:Gn,spread:Gn,inset:!1},n=0,r=0;r<t.length;r++){var i=t[r];Fn(i,"inset")?e.inset=!0:kn(i)?(0===n?e.offsetX=i:1===n?e.offsetY=i:2===n?e.blur=i:e.spread=i,n++):e.color=rr.parse(i)}return e}))}},Za=function(){function t(t){this.backgroundClip=eo(mr,t.backgroundClip),this.backgroundColor=eo(gr,t.backgroundColor),this.backgroundImage=eo(hi,t.backgroundImage),this.backgroundOrigin=eo(fi,t.backgroundOrigin),this.backgroundPosition=eo(di,t.backgroundPosition),this.backgroundRepeat=eo(mi,t.backgroundRepeat),this.backgroundSize=eo(_i,t.backgroundSize),this.borderTopColor=eo(xi,t.borderTopColor),this.borderRightColor=eo(bi,t.borderRightColor),this.borderBottomColor=eo(Ci,t.borderBottomColor),this.borderLeftColor=eo(Bi,t.borderLeftColor),this.borderTopLeftRadius=eo(Ti,t.borderTopLeftRadius),this.borderTopRightRadius=eo(Si,t.borderTopRightRadius),this.borderBottomRightRadius=eo(Mi,t.borderBottomRightRadius),this.borderBottomLeftRadius=eo(Ni,t.borderBottomLeftRadius),this.borderTopStyle=eo(Ui,t.borderTopStyle),this.borderRightStyle=eo(Ii,t.borderRightStyle),this.borderBottomStyle=eo(Li,t.borderBottomStyle),this.borderLeftStyle=eo(Fi,t.borderLeftStyle),this.borderTopWidth=eo(Pi,t.borderTopWidth),this.borderRightWidth=eo(Qi,t.borderRightWidth),this.borderBottomWidth=eo(Hi,t.borderBottomWidth),this.borderLeftWidth=eo(ki,t.borderLeftWidth),this.boxShadow=eo(Ja,t.boxShadow),this.color=eo(zi,t.color),this.display=eo(Vi,t.display),this.float=eo(ji,t.cssFloat),this.fontFamily=eo(Qa,t.fontFamily),this.fontSize=eo(Ha,t.fontSize),this.fontStyle=eo(Ga,t.fontStyle),this.fontVariant=eo(za,t.fontVariant),this.fontWeight=eo(ka,t.fontWeight),this.letterSpacing=eo(Xi,t.letterSpacing),this.lineBreak=eo(Yi,t.lineBreak),this.lineHeight=eo(qi,t.lineHeight),this.listStyleImage=eo(Zi,t.listStyleImage),this.listStylePosition=eo(ta,t.listStylePosition),this.listStyleType=eo(na,t.listStyleType),this.marginTop=eo(ia,t.marginTop),this.marginRight=eo(aa,t.marginRight),this.marginBottom=eo(oa,t.marginBottom),this.marginLeft=eo(sa,t.marginLeft),this.opacity=eo(Fa,t.opacity);var e=eo(ca,t.overflow);this.overflowX=e[0],this.overflowY=e[e.length>1?1:0],this.overflowWrap=eo(Aa,t.overflowWrap),this.paddingTop=eo(fa,t.paddingTop),this.paddingRight=eo(da,t.paddingRight),this.paddingBottom=eo(pa,t.paddingBottom),this.paddingLeft=eo(ma,t.paddingLeft),this.position=eo(ya,t.position),this.textAlign=eo(va,t.textAlign),this.textDecorationColor=eo(Ra,t.textDecorationColor||t.color),this.textDecorationLine=eo(Pa,t.textDecorationLine),this.textShadow=eo(wa,t.textShadow),this.textTransform=eo(ba,t.textTransform),this.transform=eo(Ca,t.transform),this.transformOrigin=eo(Na,t.transformOrigin),this.visibility=eo(Oa,t.visibility),this.wordBreak=eo(Ia,t.wordBreak),this.zIndex=eo(La,t.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===xa.VISIBLE},t.prototype.isTransparent=function(){return ir(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return this.position!==ga.STATIC},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==Di.NONE},t.prototype.isInlineLevel=function(){return Ka(this.display,4)||Ka(this.display,33554432)||Ka(this.display,268435456)||Ka(this.display,536870912)||Ka(this.display,67108864)||Ka(this.display,134217728)},t}(),$a=function(){function t(t){this.content=eo(ja,t.content),this.quotes=eo(Ya,t.quotes)}return t}(),to=function(){function t(t){this.counterIncrement=eo(Xa,t.counterIncrement),this.counterReset=eo(Wa,t.counterReset)}return t}(),eo=function(t,e){var n=new Nn,r=null!==e&&"undefined"!==typeof e?e.toString():t.initialValue;n.write(r);var i=new Dn(n.read());switch(t.type){case ur.IDENT_VALUE:var a=i.parseComponentValue();return t.parse(In(a)?a.value:t.initialValue);case ur.VALUE:return t.parse(i.parseComponentValue());case ur.LIST:return t.parse(i.parseComponentValues());case ur.TOKEN_VALUE:return i.parseComponentValue();case ur.TYPE_VALUE:switch(t.format){case"angle":return $n.parse(i.parseComponentValue());case"color":return rr.parse(i.parseComponentValue());case"image":return li.parse(i.parseComponentValue());case"length":var o=i.parseComponentValue();return kn(o)?o:Gn;case"length-percentage":var s=i.parseComponentValue();return zn(s)?s:Gn}}throw new Error("Attempting to parse unsupported css format type "+t.format)},no=function(){function t(t){this.styles=new Za(window.getComputedStyle(t,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&Ho(t)&&(t.style.transform="none"),this.bounds=o(t),this.flags=0}return t}(),ro=function(){function t(t,e){this.text=t,this.bounds=e}return t}(),io=function(t,e,n){var r=so(t,e),i=[],a=0;return r.forEach((function(t){if(e.textDecorationLine.length||t.trim().length>0)if(Lr.SUPPORT_RANGE_BOUNDS)i.push(new ro(t,oo(n,a,t.length)));else{var r=n.splitText(t.length);i.push(new ro(t,ao(n))),n=r}else Lr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));a+=t.length})),i},ao=function(t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(n,t);var i=o(n);return n.firstChild&&r.replaceChild(n.firstChild,n),i}}return new a(0,0,0,0)},oo=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),a.fromClientRect(i.getBoundingClientRect())},so=function(t,e){return 0!==e.letterSpacing?l(t).map((function(t){return c(t)})):lo(t,e)},lo=function(t,e){var n,r=Vt(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap===la.BREAK_WORD?"break-word":e.wordBreak}),i=[];while(!(n=r.next()).done)n.value&&i.push(n.value.slice());return i},co=function(){function t(t,e){this.text=uo(t.data,e.textTransform),this.textBounds=io(this.text,e,t)}return t}(),uo=function(t,e){switch(e){case _a.LOWERCASE:return t.toLowerCase();case _a.CAPITALIZE:return t.replace(Ao,ho);case _a.UPPERCASE:return t.toUpperCase();default:return t}},Ao=/(^|\s|:|-|\(|\))([a-z])/g,ho=function(t,e,n){return t.length>0?e+n.toUpperCase():t},fo=function(t){function n(e){var n=t.call(this,e)||this;return n.src=e.currentSrc||e.src,n.intrinsicWidth=e.naturalWidth,n.intrinsicHeight=e.naturalHeight,Rr.getInstance().addImage(n.src),n}return e(n,t),n}(no),po=function(t){function n(e){var n=t.call(this,e)||this;return n.canvas=e,n.intrinsicWidth=e.width,n.intrinsicHeight=e.height,n}return e(n,t),n}(no),mo=function(t){function n(e){var n=t.call(this,e)||this,r=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(e)),n.intrinsicWidth=e.width.baseVal.value,n.intrinsicHeight=e.height.baseVal.value,Rr.getInstance().addImage(n.svg),n}return e(n,t),n}(no),go=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(no),vo=function(t){function n(e){var n=t.call(this,e)||this;return n.start=e.start,n.reversed="boolean"===typeof e.reversed&&!0===e.reversed,n}return e(n,t),n}(no),_o=[{type:f.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],yo=[{type:f.PERCENTAGE_TOKEN,flags:0,number:50}],wo=function(t){return t.width>t.height?new a(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new a(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},xo=function(t){var e=t.type===Bo?new Array(t.value.length+1).join("•"):t.value;return 0===e.length?t.placeholder||"":e},bo="checkbox",Co="radio",Bo="password",Eo=707406591,To=function(t){function n(e){var n=t.call(this,e)||this;switch(n.type=e.type.toLowerCase(),n.checked=e.checked,n.value=xo(e),n.type!==bo&&n.type!==Co||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=vi.SOLID,n.styles.backgroundClip=[Ar.BORDER_BOX],n.styles.backgroundOrigin=[0],n.bounds=wo(n.bounds)),n.type){case bo:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=_o;break;case Co:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=yo;break}return n}return e(n,t),n}(no),So=function(t){function n(e){var n=t.call(this,e)||this,r=e.options[e.selectedIndex||0];return n.value=r&&r.text||"",n}return e(n,t),n}(no),Mo=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(no),No=function(t){return rr.parse(Dn.create(t).parseComponentValue())},Do=function(t){function n(e){var n=t.call(this,e)||this;n.src=e.src,n.width=parseInt(e.width,10)||0,n.height=parseInt(e.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){n.tree=Lo(e.contentWindow.document.documentElement);var r=e.contentWindow.document.documentElement?No(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,i=e.contentWindow.document.body?No(getComputedStyle(e.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;n.backgroundColor=ir(r)?ir(i)?n.styles.backgroundColor:i:r}}catch(Pe){}return n}return e(n,t),n}(no),Oo=["OL","UL","MENU"],Uo=function(t,e,n){for(var r=t.firstChild,i=void 0;r;r=i)if(i=r.nextSibling,Po(r)&&r.data.trim().length>0)e.textNodes.push(new co(r,e.styles));else if(Qo(r)){var a=Io(r);a.styles.isVisible()&&(Fo(r,a,n)?a.flags|=4:Ro(a.styles)&&(a.flags|=2),-1!==Oo.indexOf(r.tagName)&&(a.flags|=8),e.elements.push(a),$o(r)||jo(r)||ts(r)||Uo(r,a,n))}},Io=function(t){return Yo(t)?new fo(t):Wo(t)?new po(t):jo(t)?new mo(t):zo(t)?new go(t):Vo(t)?new vo(t):Go(t)?new To(t):ts(t)?new So(t):$o(t)?new Mo(t):qo(t)?new Do(t):new no(t)},Lo=function(t){var e=Io(t);return e.flags|=4,Uo(t,e,e),e},Fo=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Xo(t)&&n.styles.isTransparent()},Ro=function(t){return t.isPositioned()||t.isFloating()},Po=function(t){return t.nodeType===Node.TEXT_NODE},Qo=function(t){return t.nodeType===Node.ELEMENT_NODE},Ho=function(t){return Qo(t)&&"undefined"!==typeof t.style&&!ko(t)},ko=function(t){return"object"===typeof t.className},zo=function(t){return"LI"===t.tagName},Vo=function(t){return"OL"===t.tagName},Go=function(t){return"INPUT"===t.tagName},Ko=function(t){return"HTML"===t.tagName},jo=function(t){return"svg"===t.tagName},Xo=function(t){return"BODY"===t.tagName},Wo=function(t){return"CANVAS"===t.tagName},Yo=function(t){return"IMG"===t.tagName},qo=function(t){return"IFRAME"===t.tagName},Jo=function(t){return"STYLE"===t.tagName},Zo=function(t){return"SCRIPT"===t.tagName},$o=function(t){return"TEXTAREA"===t.tagName},ts=function(t){return"SELECT"===t.tagName},es=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,r=t.counterReset,i=!0;null!==n&&n.forEach((function(t){var n=e.counters[t.counter];n&&0!==t.increment&&(i=!1,n[Math.max(0,n.length-1)]+=t.increment)}));var a=[];return i&&r.forEach((function(t){var n=e.counters[t.counter];a.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)})),a},t}(),ns={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},rs={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},is={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},as={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},os=function(t,e,n,r,i,a){return t<e||t>n?_s(t,i,a.length>0):r.integers.reduce((function(e,n,i){while(t>=n)t-=n,e+=r.values[i];return e}),"")+a},ss=function(t,e,n,r){var i="";do{n||t--,i=r(t)+i,t/=e}while(t*e>=e);return i},ls=function(t,e,n,r,i){var a=n-e+1;return(t<0?"-":"")+(ss(Math.abs(t),a,r,(function(t){return c(Math.floor(t%a)+e)}))+i)},cs=function(t,e,n){void 0===n&&(n=". ");var r=e.length;return ss(Math.abs(t),r,!1,(function(t){return e[Math.floor(t%r)]}))+n},us=1,As=2,hs=4,fs=8,ds=function(t,e,n,r,i,a){if(t<-9999||t>9999)return _s(t,$i.CJK_DECIMAL,i.length>0);var o=Math.abs(t),s=i;if(0===o)return e[0]+s;for(var l=0;o>0&&l<=4;l++){var c=o%10;0===c&&Ka(a,us)&&""!==s?s=e[c]+s:c>1||1===c&&0===l||1===c&&1===l&&Ka(a,As)||1===c&&1===l&&Ka(a,hs)&&t>100||1===c&&l>1&&Ka(a,fs)?s=e[c]+(l>0?n[l-1]:"")+s:1===c&&l>0&&(s=n[l-1]+s),o=Math.floor(o/10)}return(t<0?r:"")+s},ps="十百千萬",ms="拾佰仟萬",gs="マイナス",vs="마이너스",_s=function(t,e,n){var r=n?". ":"",i=n?"、":"",a=n?", ":"",o=n?" ":"";switch(e){case $i.DISC:return"•"+o;case $i.CIRCLE:return"◦"+o;case $i.SQUARE:return"◾"+o;case $i.DECIMAL_LEADING_ZERO:var s=ls(t,48,57,!0,r);return s.length<4?"0"+s:s;case $i.CJK_DECIMAL:return cs(t,"〇一二三四五六七八九",i);case $i.LOWER_ROMAN:return os(t,1,3999,ns,$i.DECIMAL,r).toLowerCase();case $i.UPPER_ROMAN:return os(t,1,3999,ns,$i.DECIMAL,r);case $i.LOWER_GREEK:return ls(t,945,969,!1,r);case $i.LOWER_ALPHA:return ls(t,97,122,!1,r);case $i.UPPER_ALPHA:return ls(t,65,90,!1,r);case $i.ARABIC_INDIC:return ls(t,1632,1641,!0,r);case $i.ARMENIAN:case $i.UPPER_ARMENIAN:return os(t,1,9999,rs,$i.DECIMAL,r);case $i.LOWER_ARMENIAN:return os(t,1,9999,rs,$i.DECIMAL,r).toLowerCase();case $i.BENGALI:return ls(t,2534,2543,!0,r);case $i.CAMBODIAN:case $i.KHMER:return ls(t,6112,6121,!0,r);case $i.CJK_EARTHLY_BRANCH:return cs(t,"子丑寅卯辰巳午未申酉戌亥",i);case $i.CJK_HEAVENLY_STEM:return cs(t,"甲乙丙丁戊己庚辛壬癸",i);case $i.CJK_IDEOGRAPHIC:case $i.TRAD_CHINESE_INFORMAL:return ds(t,"零一二三四五六七八九",ps,"負",i,As|hs|fs);case $i.TRAD_CHINESE_FORMAL:return ds(t,"零壹貳參肆伍陸柒捌玖",ms,"負",i,us|As|hs|fs);case $i.SIMP_CHINESE_INFORMAL:return ds(t,"零一二三四五六七八九",ps,"负",i,As|hs|fs);case $i.SIMP_CHINESE_FORMAL:return ds(t,"零壹贰叁肆伍陆柒捌玖",ms,"负",i,us|As|hs|fs);case $i.JAPANESE_INFORMAL:return ds(t,"〇一二三四五六七八九","十百千万",gs,i,0);case $i.JAPANESE_FORMAL:return ds(t,"零壱弐参四伍六七八九","拾百千万",gs,i,us|As|hs);case $i.KOREAN_HANGUL_FORMAL:return ds(t,"영일이삼사오육칠팔구","십백천만",vs,a,us|As|hs);case $i.KOREAN_HANJA_INFORMAL:return ds(t,"零一二三四五六七八九","十百千萬",vs,a,0);case $i.KOREAN_HANJA_FORMAL:return ds(t,"零壹貳參四五六七八九","拾百千",vs,a,us|As|hs);case $i.DEVANAGARI:return ls(t,2406,2415,!0,r);case $i.GEORGIAN:return os(t,1,19999,as,$i.DECIMAL,r);case $i.GUJARATI:return ls(t,2790,2799,!0,r);case $i.GURMUKHI:return ls(t,2662,2671,!0,r);case $i.HEBREW:return os(t,1,10999,is,$i.DECIMAL,r);case $i.HIRAGANA:return cs(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case $i.HIRAGANA_IROHA:return cs(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case $i.KANNADA:return ls(t,3302,3311,!0,r);case $i.KATAKANA:return cs(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case $i.KATAKANA_IROHA:return cs(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case $i.LAO:return ls(t,3792,3801,!0,r);case $i.MONGOLIAN:return ls(t,6160,6169,!0,r);case $i.MYANMAR:return ls(t,4160,4169,!0,r);case $i.ORIYA:return ls(t,2918,2927,!0,r);case $i.PERSIAN:return ls(t,1776,1785,!0,r);case $i.TAMIL:return ls(t,3046,3055,!0,r);case $i.TELUGU:return ls(t,3174,3183,!0,r);case $i.THAI:return ls(t,3664,3673,!0,r);case $i.TIBETAN:return ls(t,3872,3881,!0,r);case $i.DECIMAL:default:return ls(t,48,57,!0,r)}},ys="data-html2canvas-ignore",ws=function(){function t(t,e){if(this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new es,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return t.prototype.toIFrame=function(t,e){var n=this,a=bs(t,e);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var o=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=Cs(a).then((function(){return r(n,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(Ss),l&&(l.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===e.top&&l.scrollX===e.left||(c.documentElement.style.top=-e.top+"px",c.documentElement.style.left=-e.left+"px",c.documentElement.style.position="absolute")),t=this.options.onclone,"undefined"===typeof this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return"function"===typeof t?[2,Promise.resolve().then((function(){return t(c)})).then((function(){return a}))]:[2,a]}}))}))}));return c.open(),c.write(Es(document.doctype)+"<html></html>"),Ts(this.referenceElement.ownerDocument,o,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(t){if(Wo(t))return this.createCanvasClone(t);if(Jo(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return Yo(e)&&"lazy"===e.loading&&(e.loading="eager"),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"===typeof e.cssText?t+e.cssText:t}),""),r=t.cloneNode(!1);return r.textContent=n,r}}catch(Pe){if(Fr.getInstance(this.options.id).error("Unable to access cssRules property",Pe),"SecurityError"!==Pe.name)throw Pe}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){if(this.options.inlineImages&&t.ownerDocument){var e=t.ownerDocument.createElement("img");try{return e.src=t.toDataURL(),e}catch(Pe){Fr.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var r=t.getContext("2d"),i=n.getContext("2d");return i&&(r?i.putImageData(r.getImageData(0,0,t.width,t.height),0,0):i.drawImage(t,0,0)),n}catch(Pe){}return n},t.prototype.cloneNode=function(t){if(Po(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var e=t.ownerDocument.defaultView;if(e&&Qo(t)&&(Ho(t)||ko(t))){var n=this.createElementClone(t),r=e.getComputedStyle(t),i=e.getComputedStyle(t,":before"),a=e.getComputedStyle(t,":after");this.referenceElement===t&&Ho(n)&&(this.clonedReferenceElement=n),Xo(n)&&Is(n);for(var o=this.counters.parse(new to(r)),s=this.resolvePseudoContent(t,n,i,Va.BEFORE),l=t.firstChild;l;l=l.nextSibling)Qo(l)&&(Zo(l)||l.hasAttribute(ys)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.options.copyStyles&&Qo(l)&&Jo(l)||n.appendChild(this.cloneNode(l));s&&n.insertBefore(s,n.firstChild);var c=this.resolvePseudoContent(t,n,a,Va.AFTER);return c&&n.appendChild(c),this.counters.pop(o),r&&(this.options.copyStyles||ko(t))&&!qo(t)&&Bs(r,n),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),($o(t)||ts(t))&&($o(n)||ts(n))&&(n.value=t.value),n}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,r){var i=this;if(n){var a=n.content,o=e.ownerDocument;if(o&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new to(n));var s=new $a(n),l=o.createElement("html2canvaspseudoelement");Bs(n,l),s.content.forEach((function(e){if(e.type===f.STRING_TOKEN)l.appendChild(o.createTextNode(e.value));else if(e.type===f.URL_TOKEN){var n=o.createElement("img");n.src=e.value,n.style.opacity="1",l.appendChild(n)}else if(e.type===f.FUNCTION){if("attr"===e.name){var r=e.values.filter(In);r.length&&l.appendChild(o.createTextNode(t.getAttribute(r[0].value)||""))}else if("counter"===e.name){var a=e.values.filter(Pn),c=a[0],u=a[1];if(c&&In(c)){var A=i.counters.getCounterValue(c.value),h=u&&In(u)?na.parse(u.value):$i.DECIMAL;l.appendChild(o.createTextNode(_s(A,h,!1)))}}else if("counters"===e.name){var d=e.values.filter(Pn),p=(c=d[0],d[1]);u=d[2];if(c&&In(c)){var m=i.counters.getCounterValues(c.value),g=u&&In(u)?na.parse(u.value):$i.DECIMAL,v=p&&p.type===f.STRING_TOKEN?p.value:"",_=m.map((function(t){return _s(t,g,!1)})).join(v);l.appendChild(o.createTextNode(_))}}}else if(e.type===f.IDENT_TOKEN)switch(e.value){case"open-quote":l.appendChild(o.createTextNode(qa(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(qa(s.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(e.value))}})),l.className=Ds+" "+Os;var c=r===Va.BEFORE?" "+Ds:" "+Os;return ko(e)?e.className.baseValue+=c:e.className+=c,l}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();(function(t){t[t["BEFORE"]=0]="BEFORE",t[t["AFTER"]=1]="AFTER"})(Va||(Va={}));var xs,bs=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(ys,"true"),t.body.appendChild(n),n},Cs=function(t){return new Promise((function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=i.onreadystatechange=function(){r.onload=t.onload=i.onreadystatechange=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),e(t))}),50)}}))},Bs=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);"content"!==r&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Es=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Ts=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Ss=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Ms=":before",Ns=":after",Ds="___html2canvas___pseudoelement_before",Os="___html2canvas___pseudoelement_after",Us='{\n    content: "" !important;\n    display: none !important;\n}',Is=function(t){Ls(t,"."+Ds+Ms+Us+"\n         ."+Os+Ns+Us)},Ls=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}};(function(t){t[t["VECTOR"]=0]="VECTOR",t[t["BEZIER_CURVE"]=1]="BEZIER_CURVE"})(xs||(xs={}));var Fs,Rs=function(t,e){return t.length===e.length&&t.some((function(t,n){return t===e[n]}))},Ps=function(t,e,n,r,i){return t.map((function(t,a){switch(a){case 0:return t.add(e,n);case 1:return t.add(e+r,n);case 2:return t.add(e+r,n+i);case 3:return t.add(e,n+i)}return t}))},Qs=function(){function t(t,e){this.type=xs.VECTOR,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Hs=function(t,e,n){return new Qs(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},ks=function(){function t(t,e,n,r){this.type=xs.BEZIER_CURVE,this.start=t,this.startControl=e,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,n){var r=Hs(this.start,this.startControl,e),i=Hs(this.startControl,this.endControl,e),a=Hs(this.endControl,this.end,e),o=Hs(r,i,e),s=Hs(i,a,e),l=Hs(o,s,e);return n?new t(this.start,r,o,l):new t(l,s,a,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),zs=function(t){return t.type===xs.BEZIER_CURVE},Vs=function(){function t(t){var e=t.styles,n=t.bounds,r=Xn(e.borderTopLeftRadius,n.width,n.height),i=r[0],a=r[1],o=Xn(e.borderTopRightRadius,n.width,n.height),s=o[0],l=o[1],c=Xn(e.borderBottomRightRadius,n.width,n.height),u=c[0],A=c[1],h=Xn(e.borderBottomLeftRadius,n.width,n.height),f=h[0],d=h[1],p=[];p.push((i+s)/n.width),p.push((f+u)/n.width),p.push((a+d)/n.height),p.push((l+A)/n.height);var m=Math.max.apply(Math,p);m>1&&(i/=m,a/=m,s/=m,l/=m,u/=m,A/=m,f/=m,d/=m);var g=n.width-s,v=n.height-A,_=n.width-u,y=n.height-d,w=e.borderTopWidth,x=e.borderRightWidth,b=e.borderBottomWidth,C=e.borderLeftWidth,B=Wn(e.paddingTop,t.bounds.width),E=Wn(e.paddingRight,t.bounds.width),T=Wn(e.paddingBottom,t.bounds.width),S=Wn(e.paddingLeft,t.bounds.width);this.topLeftBorderBox=i>0||a>0?Gs(n.left,n.top,i,a,Fs.TOP_LEFT):new Qs(n.left,n.top),this.topRightBorderBox=s>0||l>0?Gs(n.left+g,n.top,s,l,Fs.TOP_RIGHT):new Qs(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||A>0?Gs(n.left+_,n.top+v,u,A,Fs.BOTTOM_RIGHT):new Qs(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||d>0?Gs(n.left,n.top+y,f,d,Fs.BOTTOM_LEFT):new Qs(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?Gs(n.left+C,n.top+w,Math.max(0,i-C),Math.max(0,a-w),Fs.TOP_LEFT):new Qs(n.left+C,n.top+w),this.topRightPaddingBox=s>0||l>0?Gs(n.left+Math.min(g,n.width+C),n.top+w,g>n.width+C?0:s-C,l-w,Fs.TOP_RIGHT):new Qs(n.left+n.width-x,n.top+w),this.bottomRightPaddingBox=u>0||A>0?Gs(n.left+Math.min(_,n.width-C),n.top+Math.min(v,n.height+w),Math.max(0,u-x),A-b,Fs.BOTTOM_RIGHT):new Qs(n.left+n.width-x,n.top+n.height-b),this.bottomLeftPaddingBox=f>0||d>0?Gs(n.left+C,n.top+y,Math.max(0,f-C),d-b,Fs.BOTTOM_LEFT):new Qs(n.left+C,n.top+n.height-b),this.topLeftContentBox=i>0||a>0?Gs(n.left+C+S,n.top+w+B,Math.max(0,i-(C+S)),Math.max(0,a-(w+B)),Fs.TOP_LEFT):new Qs(n.left+C+S,n.top+w+B),this.topRightContentBox=s>0||l>0?Gs(n.left+Math.min(g,n.width+C+S),n.top+w+B,g>n.width+C+S?0:s-C+S,l-(w+B),Fs.TOP_RIGHT):new Qs(n.left+n.width-(x+E),n.top+w+B),this.bottomRightContentBox=u>0||A>0?Gs(n.left+Math.min(_,n.width-(C+S)),n.top+Math.min(v,n.height+w+B),Math.max(0,u-(x+E)),A-(b+T),Fs.BOTTOM_RIGHT):new Qs(n.left+n.width-(x+E),n.top+n.height-(b+T)),this.bottomLeftContentBox=f>0||d>0?Gs(n.left+C+S,n.top+y,Math.max(0,f-(C+S)),d-(b+T),Fs.BOTTOM_LEFT):new Qs(n.left+C+S,n.top+n.height-(b+T))}return t}();(function(t){t[t["TOP_LEFT"]=0]="TOP_LEFT",t[t["TOP_RIGHT"]=1]="TOP_RIGHT",t[t["BOTTOM_RIGHT"]=2]="BOTTOM_RIGHT",t[t["BOTTOM_LEFT"]=3]="BOTTOM_LEFT"})(Fs||(Fs={}));var Gs=function(t,e,n,r,i){var a=(Math.sqrt(2)-1)/3*4,o=n*a,s=r*a,l=t+n,c=e+r;switch(i){case Fs.TOP_LEFT:return new ks(new Qs(t,c),new Qs(t,c-s),new Qs(l-o,e),new Qs(l,e));case Fs.TOP_RIGHT:return new ks(new Qs(t,e),new Qs(t+o,e),new Qs(l,c-s),new Qs(l,c));case Fs.BOTTOM_RIGHT:return new ks(new Qs(l,e),new Qs(l,e+s),new Qs(t+o,c),new Qs(t,c));case Fs.BOTTOM_LEFT:default:return new ks(new Qs(l,c),new Qs(l-o,c),new Qs(t,e+s),new Qs(t,e))}},Ks=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},js=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Xs=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Ws=function(){function t(t,e,n){this.type=0,this.offsetX=t,this.offsetY=e,this.matrix=n,this.target=6}return t}(),Ys=function(){function t(t,e){this.type=1,this.target=e,this.path=t}return t}(),qs=function(t){return 0===t.type},Js=function(t){return 1===t.type},Zs=function(){function t(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),$s=function(){function t(t,e){if(this.container=t,this.effects=e.slice(0),this.curves=new Vs(t),null!==t.styles.transform){var n=t.bounds.left+t.styles.transformOrigin[0].number,r=t.bounds.top+t.styles.transformOrigin[1].number,i=t.styles.transform;this.effects.push(new Ws(n,r,i))}if(t.styles.overflowX!==ea.VISIBLE){var a=Ks(this.curves),o=Xs(this.curves);Rs(a,o)?this.effects.push(new Ys(a,6)):(this.effects.push(new Ys(a,2)),this.effects.push(new Ys(o,4)))}}return t.prototype.getParentEffects=function(){var t=this.effects.slice(0);if(this.container.styles.overflowX!==ea.VISIBLE){var e=Ks(this.curves),n=Xs(this.curves);Rs(e,n)||t.push(new Ys(n,6))}return t},t}(),tl=function(t,e,n,r){t.container.elements.forEach((function(i){var a=Ka(i.flags,4),o=Ka(i.flags,2),s=new $s(i,t.getParentEffects());Ka(i.styles.display,2048)&&r.push(s);var l=Ka(i.flags,8)?[]:r;if(a||o){var c=a||i.styles.isPositioned()?n:e,u=new Zs(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var h=0;c.negativeZIndex.some((function(t,e){return A>t.element.container.styles.zIndex.order?(h=e,!1):h>0})),c.negativeZIndex.splice(h,0,u)}else if(A>0){var f=0;c.positiveZIndex.some((function(t,e){return A>=t.element.container.styles.zIndex.order?(f=e+1,!1):f>0})),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);tl(s,u,a?u:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),tl(s,e,n,l);Ka(i.flags,8)&&el(i,l)}))},el=function(t,e){for(var n=t instanceof vo?t.start:1,r=t instanceof vo&&t.reversed,i=0;i<e.length;i++){var a=e[i];a.container instanceof go&&"number"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=_s(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},nl=function(t){var e=new $s(t,[]),n=new Zs(e),r=[];return tl(e,n,n,r),el(e.container,r),n},rl=function(t,e){switch(e){case 0:return il(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return il(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return il(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return il(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},il=function(t,e,n,r){var i=[];return zs(t)?i.push(t.subdivide(.5,!1)):i.push(t),zs(n)?i.push(n.subdivide(.5,!0)):i.push(n),zs(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),zs(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},al=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},ol=function(t){var e=t.styles,n=t.bounds,r=Wn(e.paddingLeft,n.width),i=Wn(e.paddingRight,n.width),a=Wn(e.paddingTop,n.width),o=Wn(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+a+o))},sl=function(t,e){return 0===t?e.bounds:2===t?ol(e):al(e)},ll=function(t,e){return t===Ar.BORDER_BOX?e.bounds:t===Ar.CONTENT_BOX?ol(e):al(e)},cl=function(t,e,n){var r=sl(fl(t.styles.backgroundOrigin,e),t),i=ll(fl(t.styles.backgroundClip,e),t),a=hl(fl(t.styles.backgroundSize,e),n,r),o=a[0],s=a[1],l=Xn(fl(t.styles.backgroundPosition,e),r.width-o,r.height-s),c=dl(fl(t.styles.backgroundRepeat,e),l,a,r,i),u=Math.round(r.left+l[0]),A=Math.round(r.top+l[1]);return[c,u,A,o,s]},ul=function(t){return In(t)&&t.value===pi.AUTO},Al=function(t){return"number"===typeof t},hl=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=t[0],s=t[1];if(zn(o)&&s&&zn(s))return[Wn(o,n.width),Wn(s,n.height)];var l=Al(a);if(In(o)&&(o.value===pi.CONTAIN||o.value===pi.COVER)){if(Al(a)){var c=n.width/n.height;return c<a!==(o.value===pi.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var u=Al(r),A=Al(i),h=u||A;if(ul(o)&&(!s||ul(s))){if(u&&A)return[r,i];if(!l&&!h)return[n.width,n.height];if(h&&l){var f=u?r:i*a,d=A?i:r/a;return[f,d]}var p=u?r:n.width,m=A?i:n.height;return[p,m]}if(l){var g=0,v=0;return zn(o)?g=Wn(o,n.width):zn(s)&&(v=Wn(s,n.height)),ul(o)?g=v*a:s&&!ul(s)||(v=g/a),[g,v]}var _=null,y=null;if(zn(o)?_=Wn(o,n.width):s&&zn(s)&&(y=Wn(s,n.height)),null===_||s&&!ul(s)||(y=u&&A?_/r*i:n.height),null!==y&&ul(o)&&(_=u&&A?y/i*r:n.width),null!==_&&null!==y)return[_,y];throw new Error("Unable to calculate background-size for element")},fl=function(t,e){var n=t[e];return"undefined"===typeof n?t[0]:n},dl=function(t,e,n,r,i){var a=e[0],o=e[1],s=n[0],l=n[1];switch(t){case ui.REPEAT_X:return[new Qs(Math.round(r.left),Math.round(r.top+o)),new Qs(Math.round(r.left+r.width),Math.round(r.top+o)),new Qs(Math.round(r.left+r.width),Math.round(l+r.top+o)),new Qs(Math.round(r.left),Math.round(l+r.top+o))];case ui.REPEAT_Y:return[new Qs(Math.round(r.left+a),Math.round(r.top)),new Qs(Math.round(r.left+a+s),Math.round(r.top)),new Qs(Math.round(r.left+a+s),Math.round(r.height+r.top)),new Qs(Math.round(r.left+a),Math.round(r.height+r.top))];case ui.NO_REPEAT:return[new Qs(Math.round(r.left+a),Math.round(r.top+o)),new Qs(Math.round(r.left+a+s),Math.round(r.top+o)),new Qs(Math.round(r.left+a+s),Math.round(r.top+o+l)),new Qs(Math.round(r.left+a),Math.round(r.top+o+l))];default:return[new Qs(Math.round(i.left),Math.round(i.top)),new Qs(Math.round(i.left+i.width),Math.round(i.top)),new Qs(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Qs(Math.round(i.left),Math.round(i.height+i.top))]}},pl="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ml="Hidden Text",gl=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",a.appendChild(n),r.src=pl,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ml)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(ml)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:s}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),vl=1e4,_l=function(){function t(t){this._activeEffects=[],this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,t.canvas||(this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px"),this.fontMetrics=new gl(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Fr.getInstance(t.id).debug("Canvas renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.applyEffects=function(t,e){var n=this;while(this._activeEffects.length)this.popEffect();t.filter((function(t){return Ka(t.target,e)})).forEach((function(t){return n.applyEffect(t)}))},t.prototype.applyEffect=function(t){this.ctx.save(),qs(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Js(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return e=t.element.container.styles,e.isVisible()?(this.ctx.globalAlpha=e.opacity,[4,this.renderStackContent(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.renderNode=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.renderTextWithLetterSpacing=function(t,e){var n=this;if(0===e)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height);else{var r=l(t.text).map((function(t){return c(t)}));r.reduce((function(e,r){return n.ctx.fillText(r,e,t.bounds.top+t.bounds.height),e+n.ctx.measureText(r).width}),t.bounds.left)}},t.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),n=t.fontFamily.join(", "),r=On(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,r,n].join(" "),n,r]},t.prototype.renderTextNode=function(t,e){return r(this,void 0,void 0,(function(){var n,r,a,o,s=this;return i(this,(function(i){return n=this.createFontStyle(e),r=n[0],a=n[1],o=n[2],this.ctx.font=r,t.textBounds.forEach((function(t){s.ctx.fillStyle=ar(e.color),s.renderTextWithLetterSpacing(t,e.letterSpacing);var n=e.textShadow;n.length&&t.text.trim().length&&(n.slice(0).reverse().forEach((function(e){s.ctx.shadowColor=ar(e.color),s.ctx.shadowOffsetX=e.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=e.offsetY.number*s.options.scale,s.ctx.shadowBlur=e.blur.number,s.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height)})),s.ctx.shadowColor="",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),e.textDecorationLine.length&&(s.ctx.fillStyle=ar(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:var n=s.fontMetrics.getMetrics(a,o).baseline;s.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+n),t.bounds.width,1);break;case 2:s.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:var r=s.fontMetrics.getMetrics(a,o).middle;s.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+r),t.bounds.width,1);break}})))})),[2]}))}))},t.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=ol(t),i=Xs(e);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var n,r,o,s,l,c,u,A,h,f,d,p,m,g,v;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.effects,4),n=e.container,r=e.curves,o=n.styles,s=0,l=n.textNodes,i.label=1;case 1:return s<l.length?(c=l[s],[4,this.renderTextNode(c,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof fo))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.options.cache.match(n.src)];case 6:return m=i.sent(),this.renderReplacedElement(n,r,m),[3,8];case 7:return i.sent(),Fr.getInstance(this.options.id).error("Error loading image "+n.src),[3,8];case 8:if(n instanceof po&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof mo))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.options.cache.match(n.svg)];case 10:return m=i.sent(),this.renderReplacedElement(n,r,m),[3,12];case 11:return i.sent(),Fr.getInstance(this.options.id).error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Do&&n.tree?(u=new t({id:this.options.id,scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:n.width,height:n.height,cache:this.options.cache,windowWidth:n.width,windowHeight:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=i.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),i.label=14;case 14:if(n instanceof To&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===bo?n.checked&&(this.ctx.save(),this.path([new Qs(n.bounds.left+.39363*h,n.bounds.top+.79*h),new Qs(n.bounds.left+.16*h,n.bounds.top+.5549*h),new Qs(n.bounds.left+.27347*h,n.bounds.top+.44071*h),new Qs(n.bounds.left+.39694*h,n.bounds.top+.5649*h),new Qs(n.bounds.left+.72983*h,n.bounds.top+.23*h),new Qs(n.bounds.left+.84*h,n.bounds.top+.34085*h),new Qs(n.bounds.left+.39363*h,n.bounds.top+.79*h)]),this.ctx.fillStyle=ar(Eo),this.ctx.fill(),this.ctx.restore()):n.type===Co&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,2*Math.PI,!0),this.ctx.fillStyle=ar(Eo),this.ctx.fill(),this.ctx.restore())),yl(n)&&n.value.length){switch(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=ar(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign=xl(n.styles.textAlign),v=ol(n),f=0,n.styles.textAlign){case ua.CENTER:f+=v.width/2;break;case ua.RIGHT:f+=v.width;break}d=v.add(f,0,0,-v.height/2+1),this.ctx.save(),this.path([new Qs(v.left,v.top),new Qs(v.left+v.width,v.top),new Qs(v.left+v.width,v.top+v.height),new Qs(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ro(n.value,d),o.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!Ka(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if(p=n.styles.listStyleImage,p.type!==pr.URL)return[3,18];m=void 0,g=p.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.options.cache.match(g)];case 16:return m=i.sent(),this.ctx.drawImage(m,n.bounds.left-(m.width+10),n.bounds.top),[3,18];case 17:return i.sent(),Fr.getInstance(this.options.id).error("Error loading list-style-image "+g),[3,18];case 18:return[3,20];case 19:e.listValue&&n.styles.listStyleType!==$i.NONE&&(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=ar(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new a(n.bounds.left,n.bounds.top+Wn(n.styles.paddingTop,n.bounds.width),n.bounds.width,Ji(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ro(e.listValue,v),o.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},t.prototype.renderStackContent=function(t){return r(this,void 0,void 0,(function(){var e,n,r,a,o,s,l,c,u,A,h,f,d,p,m;return i(this,(function(i){switch(i.label){case 0:return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:i.sent(),e=0,n=t.negativeZIndex,i.label=2;case 2:return e<n.length?(m=n[e],[4,this.renderStack(m)]):[3,5];case 3:i.sent(),i.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:i.sent(),r=0,a=t.nonInlineLevel,i.label=7;case 7:return r<a.length?(m=a[r],[4,this.renderNode(m)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:o=0,s=t.nonPositionedFloats,i.label=11;case 11:return o<s.length?(m=s[o],[4,this.renderStack(m)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,i.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:i.sent(),i.label=17;case 17:return l++,[3,15];case 18:u=0,A=t.inlineLevel,i.label=19;case 19:return u<A.length?(m=A[u],[4,this.renderNode(m)]):[3,22];case 20:i.sent(),i.label=21;case 21:return u++,[3,19];case 22:h=0,f=t.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<f.length?(m=f[h],[4,this.renderStack(m)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:d=0,p=t.positiveZIndex,i.label=27;case 27:return d<p.length?(m=p[d],[4,this.renderStack(m)]):[3,30];case 28:i.sent(),i.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},t.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},t.prototype.formatPath=function(t){var e=this;t.forEach((function(t,n){var r=zs(t)?t.start:t;0===n?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),zs(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},t.prototype.renderRepeat=function(t,e,n,r){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},t.prototype.resizeImage=function(t,e,n){if(t.width===e&&t.height===n)return t;var r=this.canvas.ownerDocument.createElement("canvas");r.width=e,r.height=n;var i=r.getContext("2d");return i.drawImage(t,0,0,t.width,t.height,0,0,e,n),r},t.prototype.renderBackgroundImage=function(t){return r(this,void 0,void 0,(function(){var e,n,r,a,o,s;return i(this,(function(l){switch(l.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var a,o,s,l,c,u,A,h,f,d,p,m,g,v,_,y,w,x,b,C,B,E,T,S,M,N,D,O,U,I,L;return i(this,(function(i){switch(i.label){case 0:if(n.type!==pr.URL)return[3,5];a=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.options.cache.match(o)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),Fr.getInstance(r.options.id).error("Error loading background-image "+o),[3,4];case 4:return a&&(s=cl(t,e,[a.width,a.height,a.width/a.height]),y=s[0],E=s[1],T=s[2],b=s[3],C=s[4],v=r.ctx.createPattern(r.resizeImage(a,b,C),"repeat"),r.renderRepeat(y,v,E,T)),[3,6];case 5:oi(n)?(l=cl(t,e,[null,null,null]),y=l[0],E=l[1],T=l[2],b=l[3],C=l[4],c=wr(n.angle,b,C),u=c[0],A=c[1],h=c[2],f=c[3],d=c[4],p=document.createElement("canvas"),p.width=b,p.height=C,m=p.getContext("2d"),g=m.createLinearGradient(A,f,h,d),_r(n.stops,u).forEach((function(t){return g.addColorStop(t.stop,ar(t.color))})),m.fillStyle=g,m.fillRect(0,0,b,C),b>0&&C>0&&(v=r.ctx.createPattern(p,"repeat"),r.renderRepeat(y,v,E,T))):si(n)&&(_=cl(t,e,[null,null,null]),y=_[0],w=_[1],x=_[2],b=_[3],C=_[4],B=0===n.position.length?[Kn]:n.position,E=Wn(B[0],b),T=Wn(B[B.length-1],C),S=Cr(n,E,T,b,C),M=S[0],N=S[1],M>0&&M>0&&(D=r.ctx.createRadialGradient(w+E,x+T,0,w+E,x+T,M),_r(n.stops,2*M).forEach((function(t){return D.addColorStop(t.stop,ar(t.color))})),r.path(y),r.ctx.fillStyle=D,M!==N?(O=t.bounds.left+.5*t.bounds.width,U=t.bounds.top+.5*t.bounds.height,I=N/M,L=1/I,r.ctx.save(),r.ctx.translate(O,U),r.ctx.transform(1,0,0,I,0,0),r.ctx.translate(-O,-U),r.ctx.fillRect(w,L*(x-U)+U,b,C*L),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return e--,[2]}}))},r=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(s=o[a],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}}))}))},t.prototype.renderBorder=function(t,e,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(rl(n,e)),this.ctx.fillStyle=ar(t),this.ctx.fill(),[2]}))}))},t.prototype.renderNodeBackgroundAndBorders=function(t){return r(this,void 0,void 0,(function(){var e,n,r,a,o,s,l,c,u=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(t.effects,2),e=t.container.styles,n=!ir(e.backgroundColor)||e.backgroundImage.length,r=[{style:e.borderTopStyle,color:e.borderTopColor},{style:e.borderRightStyle,color:e.borderRightColor},{style:e.borderBottomStyle,color:e.borderBottomColor},{style:e.borderLeftStyle,color:e.borderLeftColor}],a=wl(fl(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),ir(e.backgroundColor)||(this.ctx.fillStyle=ar(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){u.ctx.save();var n=Ks(t.curves),r=e.inset?0:vl,i=Ps(n,-r+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(u.path(n),u.ctx.clip(),u.mask(i)):(u.mask(n),u.ctx.clip(),u.path(i)),u.ctx.shadowOffsetX=e.offsetX.number+r,u.ctx.shadowOffsetY=e.offsetY.number,u.ctx.shadowColor=ar(e.color),u.ctx.shadowBlur=e.blur.number,u.ctx.fillStyle=e.inset?ar(e.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),i.label=2;case 2:o=0,s=0,l=r,i.label=3;case 3:return s<l.length?(c=l[s],c.style===vi.NONE||ir(c.color)?[3,5]:[4,this.renderBorder(c.color,o,t.curves)]):[3,7];case 4:i.sent(),i.label=5;case 5:o++,i.label=6;case 6:return s++,[3,3];case 7:return[2]}}))}))},t.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),e=nl(t),[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}}))}))},t}(),yl=function(t){return t instanceof Mo||(t instanceof So||t instanceof To&&t.type!==Co&&t.type!==bo)},wl=function(t,e){switch(t){case Ar.BORDER_BOX:return Ks(e);case Ar.CONTENT_BOX:return js(e);case Ar.PADDING_BOX:default:return Xs(e)}},xl=function(t){switch(t){case ua.CENTER:return"center";case ua.RIGHT:return"right";case ua.LEFT:default:return"left"}},bl=function(){function t(t){this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),Fr.getInstance(t.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return e=Ur(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,t),[4,Cl(e)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},t}(),Cl=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Bl=void 0,El=function(t){return rr.parse(Dn.create(t).parseComponentValue())},Tl=function(t,e){return void 0===e&&(e={}),Sl(t,e)};"undefined"!==typeof window&&Rr.setContext(window);var Sl=function(t,e){return r(Bl,void 0,void 0,(function(){var r,l,c,u,A,h,f,d,p,m,g,v,_,y,w,x,b,C,B,E,T,S,M,N,D;return i(this,(function(i){switch(i.label){case 0:if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(l=r.defaultView,!l)throw new Error("Document is not attached to a Window");return c=(Math.round(1e3*Math.random())+Date.now()).toString(16),u=Xo(t)||Ko(t)?s(r):o(t),A=u.width,h=u.height,f=u.left,d=u.top,p={allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},m=n({},p,e),g={backgroundColor:"#ffffff",cache:e.cache?e.cache:Rr.create(c,m),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:l.devicePixelRatio||1,windowWidth:l.innerWidth,windowHeight:l.innerHeight,scrollX:l.pageXOffset,scrollY:l.pageYOffset,x:f,y:d,width:Math.ceil(A),height:Math.ceil(h),id:c},v=n({},g,m,e),_=new a(v.scrollX,v.scrollY,v.windowWidth,v.windowHeight),Fr.create({id:c,enabled:v.logging}),Fr.getInstance(c).debug("Starting document clone"),y=new ws(t,{id:c,onclone:v.onclone,ignoreElements:v.ignoreElements,inlineImages:v.foreignObjectRendering,copyStyles:v.foreignObjectRendering}),w=y.clonedReferenceElement,w?[4,y.toIFrame(r,_)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=i.sent(),b=r.documentElement?El(getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,C=r.body?El(getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,B=e.backgroundColor,E="string"===typeof B?El(B):null===B?dr.TRANSPARENT:4294967295,T=t===r.documentElement?ir(b)?ir(C)?E:C:b:E,S={id:c,cache:v.cache,canvas:v.canvas,backgroundColor:T,scale:v.scale,x:v.x,y:v.y,scrollX:v.scrollX,scrollY:v.scrollY,width:v.width,height:v.height,windowWidth:v.windowWidth,windowHeight:v.windowHeight},v.foreignObjectRendering?(Fr.getInstance(c).debug("Document cloned, using foreign object rendering"),D=new bl(S),[4,D.render(w)]):[3,3];case 2:return M=i.sent(),[3,5];case 3:return Fr.getInstance(c).debug("Document cloned, using computed rendering"),Rr.attachInstance(v.cache),Fr.getInstance(c).debug("Starting DOM parsing"),N=Lo(w),Rr.detachInstance(),T===N.styles.backgroundColor&&(N.styles.backgroundColor=dr.TRANSPARENT),Fr.getInstance(c).debug("Starting renderer"),D=new _l(S),[4,D.render(N)];case 4:M=i.sent(),i.label=5;case 5:return!0===v.removeContainer&&(ws.destroy(x)||Fr.getInstance(c).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Fr.getInstance(c).debug("Finished rendering"),Fr.destroy(c),Rr.destroy(c),[2,M]}}))}))};return Tl}))},c386:function(t,e,n){},c437:function(t,e,n){var r,i,a=n("e1f4"),o=n("2366"),s=0,l=0;function c(t,e,n){var c=e&&n||0,u=e||[];t=t||{};var A=t.node||r,h=void 0!==t.clockseq?t.clockseq:i;if(null==A||null==h){var f=a();null==A&&(A=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=i=16383&(f[6]<<8|f[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),p=void 0!==t.nsecs?t.nsecs:l+1,m=d-s+(p-l)/1e4;if(m<0&&void 0===t.clockseq&&(h=h+1&16383),(m<0||d>s)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,l=p,i=h,d+=122192928e5;var g=(1e4*(268435455&d)+p)%4294967296;u[c++]=g>>>24&255,u[c++]=g>>>16&255,u[c++]=g>>>8&255,u[c++]=255&g;var v=d/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=h>>>8|128,u[c++]=255&h;for(var _=0;_<6;++_)u[c+_]=A[_];return e||o(u)}t.exports=c},c47a:function(t,e,n){},c5c7:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"components-default-style"},[r("div",[r("img",{staticClass:"default-style-img",style:{width:t.width,height:t.height},attrs:{src:n("c5f4"),alt:""}}),r("p",{staticClass:"gray"},[t._v("暂无数据")])])])},i=[],a={name:"notFundData",props:{width:{type:String,default:"128px"},height:{type:String,default:"86px"}}},o=a,s=(n("9d10"),n("2877")),l=Object(s["a"])(o,r,i,!1,null,"341973f6",null);e["a"]=l.exports},c5f4:function(t,e,n){t.exports=n.p+"static/img/nodata.8468dc19.png"},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),a=n("2d95"),o=n("5dbc"),s=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,A=n("86cc").f,h=n("aa77").trim,f="Number",d=r[f],p=d,m=d.prototype,g=a(n("2aeb")(m))==f,v="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():h(e,3);var n,r,i,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var o,l=e.slice(2),c=0,u=l.length;c<u;c++)if(o=l.charCodeAt(c),o<48||o>i)return NaN;return parseInt(l,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(g?l((function(){m.valueOf.call(n)})):a(n)!=f)?o(new p(_(e)),n,d):_(e)};for(var y,w=n("9e1e")?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(p,y=w[x])&&!i(d,y)&&A(d,y,u(p,y));d.prototype=m,m.constructor=d,n("2aba")(r,f,d)}},c78d:function(t,e,n){"use strict";n("1b94")},cb45:function(t,e,n){},d010b:function(t,e,n){},d02f:function(t,e,n){"use strict";n("1ef1")},d228:function(t,e,n){"use strict";n("fe36")},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d584:function(t,e,n){"use strict";n("5b4e7")},d840:function(t,e,n){},d842:function(t,e,n){},d8a6:function(t,e,n){"use strict";n("82b3")},dafd:function(t,e,n){},db72:function(t,e,n){"use strict";n("fa66")},de7d:function(t,e,n){"use strict";n("07be")},df01:function(t,e,n){"use strict";n("af68")},e154:function(t,e,n){},e1f4:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},e309:function(t,e,n){"use strict";n("3c24")},e5d9:function(t,e,n){"use strict";n("d840")},eaed:function(t,e,n){"use strict";n("95a1")},ebbc:function(t,e,n){},ec81:function(t,e,n){"use strict";n("ee89")},ee89:function(t,e,n){},ef20:function(t,e,n){"use strict";n("1643")},f1a5:function(t,e,n){"use strict";n("a4cb")},f2b4:function(t,e,n){},f35e:function(t,e,n){},f365:function(t,e,n){"use strict";n("89c5")},f46f:function(t,e,n){},f497:function(t,e,n){"use strict";n("7e36")},f5c3:function(t,e,n){"use strict";n("4d2c")},fa66:function(t,e,n){},fbd7:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"page-editor editor-wrapper"},[n("div",{staticClass:"editor-side-bar border-R"},[n("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"},model:{value:t.activeSideBar,callback:function(e){t.activeSideBar=e},expression:"activeSideBar"}},t._l(t.sidebarMenus,(function(t,e){return n("el-tab-pane",{key:e,attrs:{name:t.value}},[n("el-tooltip",{staticClass:"item",attrs:{slot:"label",effect:"dark",content:t.label,placement:"right"},slot:"label"},[n("i",{class:t.elementUiIcon,staticStyle:{color:"#fff"}})])],1)})),1)],1),n("div",{staticClass:"editor-page-edit-wrapper"},["componentLibs"===t.activeSideBar?n("componentLibs"):t._e(),"pageManage"===t.activeSideBar?n("pageManage"):t._e(),"templateLibs"===t.activeSideBar?n("templateLibs"):t._e()],1),n("div",{staticClass:"editor-main"},[n("div",{staticClass:"control-bar-wrapper"},[n("controlBar",{attrs:{scale:t.canvasConfig.scale},on:{"update:scale":function(e){return t.$set(t.canvasConfig,"scale",e)},"import-psd-data":t.importPsdData,showPreview:t.showPreviewFn,cancel:t.cancelFn,publish:t.publishFn,save:t.saveSn}})],1),n("editorPan",{attrs:{scale:t.canvasConfig.scale},on:{"update:scale":function(e){return t.$set(t.canvasConfig,"scale",e)}}})],1),n("div",{staticClass:"el-attr-edit-wrapper scrollbar-wrapper",staticStyle:{color:"white"}},[n("el-tabs",{attrs:{stretch:""},model:{value:t.activeAttr,callback:function(e){t.activeAttr=e},expression:"activeAttr"}},[n("el-tab-pane",{attrs:{label:"属性",name:"属性"}},[n("attrEdit")],1),n("el-tab-pane",{attrs:{label:"事件",name:"事件"}},[n("eventEdit")],1),n("el-tab-pane",{attrs:{label:"动画",name:"动画"}},[n("animationEdit")],1),n("el-tab-pane",{attrs:{label:"页面设置",name:"页面属性"}},[n("pageAttrEdit")],1)],1)],1),t.showPreview?n("previewPage",{attrs:{pageData:t.projectData,pageId:t.id},on:{closePreview:function(e){t.showPreview=!1},publishFn:t.publishFn,saveFn:t.saveFn}}):t._e(),n("imageLibs")],1)},i=[],a=(n("8e6e"),n("456d"),n("ac6a"),n("96cf"),n("1da1")),o=n("ade3"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-libs-wrapper scrollbar-wrapper"},[n("p",{staticClass:"page-title text-center"},[t._v("组件库")]),n("el-scrollbar",{staticStyle:{height:"100%"}},[n("el-collapse",{staticClass:"scrollbar-wrapper",staticStyle:{"background-color":"#142d4d"}},t._l(t.componentsList,(function(e,r){return n("el-collapse-item",{key:r,staticClass:"clearfix components-libs-title el-collapse-item",attrs:{title:e.title}},[e.components&&e.components.length?n("div",t._l(e.components,(function(e,r){return n("div",{key:r,staticClass:"components-lib-item",on:{click:function(n){return t.handleClick(e)}}},[n("div",{staticClass:"lib-item-img"},[n("i",{class:[e.icon]})]),n("p",{staticClass:"lib-item-title",staticStyle:{color:"white"}},[t._v(t._s(e.title))])])})),0):n("div",[n("p",{staticClass:"gray text-center paddingT20"},[t._v("待完善...")])])])})),1)],1)],1)},l=[],c=(n("6762"),n("2fdb"),n("2ef0")),u=[{title:"基础组件",components:[{elName:"qk-text",title:"文字",icon:"iconfont iconwenben",valueType:"",defaultStyle:{height:40,width:100}},{elName:"qk-image",title:"图片",icon:"iconfont icontupian",valueType:"",defaultStyle:{height:200,width:200}},{elName:"qk-button",title:"按钮",icon:"iconfont iconanniuzu",valueType:"",defaultStyle:{width:140,height:40,paddingTop:10,paddingBottom:10,borderColor:"#999999",borderStyle:"solid",borderWidth:1,borderRadius:4}},{elName:"qk-rectangle-border",title:"矩形边框",icon:"iconfont iconjuxing",valueType:"",defaultStyle:{width:120,height:100,borderColor:"#999999",borderStyle:"solid",borderWidth:2}},{elName:"qk-rectangle-border",title:"分割线",icon:"iconfont icon758bianjiqi_fengexian",valueType:"",defaultStyle:{height:1,width:300,backgroundColor:"#999999"}},{elName:"qk-image-carousel",title:"图片轮播",icon:"iconfont iconshouyelunbotu",valueType:"",defaultStyle:{height:210,width:200}},{elName:"qk-iframe",title:"内嵌iframe",icon:"iconfont iconiframetianjia",valueType:"",defaultStyle:{width:800,height:200,paddingTop:10,paddingBottom:10}},{elName:"el-input",title:"文本框",icon:"iconfont iconwenbenkuang",defaultStyle:{width:300}},{elName:"el-radio",title:"单选框",icon:"iconfont iconplus-radio",defaultStyle:{width:300}},{elName:"el-checkbox",title:"复选框",icon:"iconfont iconduoxuan",defaultStyle:{width:300}},{elName:"el-date-picker",title:"日期选择器",icon:"iconfont iconriqi",defaultStyle:{width:300}},{elName:"el-time-select",title:"时间选择器",icon:"iconfont iconshijian",defaultStyle:{width:300}},{elName:"el-date-picker",title:"日期时间",icon:"iconfont iconriqishijian",defaultStyle:{width:300}},{elName:"qk-bg-music",title:"音乐",icon:"iconfont iconyinlemusic217",valueType:"",defaultStyle:{height:52,width:52}}]},{title:"加载容器",components:[{elName:"dv-loading",title:"加载",icon:"iconfont icon-jiazai",defaultStyle:{height:90,width:90}},{elName:"dv-full-screen-container",title:"全屏容器",icon:"iconfont icon-rongqi",defaultStyle:{height:450,width:450}}]},{title:"边框",components:[{elName:"c317-border1-d",title:"边框1",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border2-d",title:"边框2",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border3-d",title:"边框3",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border4-d",title:"边框4",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border5-d",title:"边框5",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border6-d",title:"边框6",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border7-d",title:"边框7",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border8-d",title:"边框8",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border9-d",title:"边框9",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border10-d",title:"边框10",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border11-d",title:"边框11",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border12-d",title:"边框12",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}},{elName:"c317-border13-d",title:"边框13",icon:"iconfont icon--quanbubiankuang",valueType:"",defaultStyle:{height:370,width:930}}]},{title:"装饰",components:[{elName:"c317-decoration1-d",title:"装饰1",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration2-d",title:"装饰2",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration3-d",title:"装饰3",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration4-d",title:"装饰4",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration5-d",title:"装饰5",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration6-d",title:"装饰6",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration7-d",title:"装饰7",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration8-d",title:"装饰8",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration9-d",title:"装饰9",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:155,width:155}},{elName:"c317-decoration10-d",title:"装饰10",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration11-d",title:"装饰11",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:50,width:200}},{elName:"c317-decoration12-d",title:"装饰12",icon:"iconfont icon-zhuangshi",valueType:"",defaultStyle:{height:155,width:155}}]},{title:"可视化图表",components:[{elName:"c317-line-v",title:"折线图",icon:"iconfont icon-zhexiantu",valueType:"",defaultStyle:{height:350,width:480}},{elName:"c317-histogram-v",title:"柱状图",icon:"iconfont icon-zhuzhuangtu",valueType:"",defaultStyle:{height:350,width:480}},{elName:"c317-bar-v",title:"条形图",icon:"iconfont icon-zhengfutiaoxingtu",valueType:"",defaultStyle:{height:350,width:480}},{elName:"c317-pie-v",title:"饼状图",icon:"iconfont icon-bingzhuangtu",valueType:"",defaultStyle:{height:340,width:380}},{elName:"c317-ring-v",title:"环图",icon:"iconfont icon-fsux_tubiao_bingtu",valueType:"",defaultStyle:{height:340,width:380}},{elName:"c317-waterfall-v",title:"瀑布图",icon:"iconfont icon-pubutu",valueType:"",defaultStyle:{height:360,width:380}},{elName:"c317-funnel-v",title:"漏斗图",icon:"iconfont icon-loudoutu",valueType:"",defaultStyle:{height:360,width:430}},{elName:"c317-radar-v",title:"雷达图",icon:"iconfont icon-leidatu",valueType:"",defaultStyle:{height:360,width:400}},{elName:"c317-map-v",title:"地图",icon:"iconfont icon-ditu",valueType:"",defaultStyle:{height:380,width:500}},{elName:"c317-sankey-v",title:"桑基图",icon:"iconfont icon-sangjitu",valueType:"",defaultStyle:{height:400,width:430}},{elName:"c317-heatmap-v",title:"热力图",icon:"iconfont icon-relitu",valueType:"",defaultStyle:{height:400,width:480}},{elName:"c317-heatmap1-v",title:"热力图1",icon:"iconfont icon-relitu1",valueType:"",defaultStyle:{height:400,width:480}},{elName:"c317-scatter-v",title:"散点图",icon:"iconfont icon-sandiantu",valueType:"",defaultStyle:{height:350,width:480}},{elName:"c317-candle-v",title:"K线图",icon:"iconfont icon-Kxiantu",valueType:"",defaultStyle:{height:350,width:480}},{elName:"c317-gauge-v",title:"仪表盘",icon:"iconfont icon-yibiaopan",valueType:"",defaultStyle:{height:340,width:380}},{elName:"c317-wordcloud-v",title:"词云图",icon:"iconfont icon-ciyuntu",valueType:"",defaultStyle:{height:380,width:380}},{elName:"c317-scroll-d",title:"轮播表",icon:"iconfont icon-duozhangxiaotulunbo",valueType:"",defaultStyle:{height:250,width:400}},{elName:"c317-sankey-d3",title:"流向图",icon:"iconfont icon-sangjitu",defaultStyle:{height:250,width:500}},{elName:"C317Map3dbar",title:"3D柱状图",icon:"iconfont icon-zhuzhuangtu",defaultStyle:{height:250,width:400}},{elName:"C317MapFlyer",title:"飞线图",icon:"iconfont icon-xianxingtubiao-",defaultStyle:{height:250,width:400}}]}],A=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-text"},[t._v("\n  "+t._s(t.text)+"\n")])}),h=[],f={name:"QkText",props:{text:{type:String,default:"这是一段文字"}},data:function(){return{defaultStyle:{height:40}}}},d=f,p=n("2877"),m=Object(p["a"])(d,A,h,!1,null,"37121270",null),g=m.exports;g.install=function(t){t.component(g.name,g)};var v=g,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-image"},[n("img",{attrs:{src:t.imageSrc,alt:""}})])},y=[],w={name:"QkImage",props:{imageSrc:{type:String,default:"http://seopic.699pic.com/photo/50051/4111.jpg_wh1200.jpg"}}},x=w,b=(n("4fdd"),Object(p["a"])(x,_,y,!1,null,"6dfb93d2",null)),C=b.exports;C.install=function(t){t.component(C.name,C)};var B=C,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-image-carsousel"},[t.imageSrcList.length>0?n("Swiper",{staticClass:"image-carsousel-swiper",attrs:{autoPlay:!0,showIndicator:!0,interval:t.interval,duration:"500"}},t._l(t.imageSrcList,(function(t,e){return n("Slide",{key:e,staticClass:"image-carsousel-slide"},[n("img",{staticClass:"image-carsousel-image",attrs:{src:t,alt:""}})])})),1):t._e()],1)},T=[],S=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"wh_content",on:{touchmove:t.fn}},[n("div",{staticClass:"wh_swiper",class:t.className,on:{touchstart:t.s,touchmove:t.m,touchend:t.e}},[t._t("default")],2),t.showIndicator?n("div",{staticClass:"wh_indicator"},t._l(t.slidesLength,(function(e,r){return n("div",{staticClass:"wh_indicator_item",class:{wh_show_bgcolor:t.index-1==r}})})),0):t._e()])}),M=[],N={data(){return{slidesLength:1,_width:0,auto:!0,slideing:!0,timer1:"",className:"",dom:{},t:{sx:0,s:0,m:0,e:0},index:1}},props:{autoPlay:{default:!0},duration:{default:500},interval:{default:2500},showIndicator:{default:!0}},mounted(){this.className="wh_swiper_"+1e3*Math.random().toFixed(3),setTimeout(()=>{this.starDom(),this.dom.transform=`translate3d(${-1*this._width}px, 0px, 0px)`,this.dom["-webkit-transform"]=`translate3d(${-1*this._width}px, 0px, 0px)`,this.dom["-ms-transform"]=`translate3d(${-1*this._width}px, 0px, 0px)`,this.autoPlay&&this.setTime()},50)},methods:{s(t){this.slideing&&(this.clearTimeOut(),this.t.sx=this.getTransform(),this.t.s=t.touches[t.touches.length-1].clientX)},m(t){this.slideing&&-1!=this.t.s&&(this.clearTimeOut(),this.t.m=t.touches[t.touches.length-1].clientX-this.t.s,this.setTransform(this.t.m+this.t.sx))},e(t){if(this.slideing&&-1!=this.t.s){this.clearTimeOut(),this.setTransform(this.t.m+this.t.sx);t=this.getTransform();t+=this.t.m>0?.3*this._width:-.3*this._width,this.index=-1*Math.round(t/this._width),this.wh("touch")}},setTransform(t){this.dom.transform=`translate3d(${t}px, 0px, 0px)`,this.dom["-webkit-transform"]=`translate3d(${t}px, 0px, 0px)`,this.dom["-ms-transform"]=`translate3d(${t}px, 0px, 0px)`},getTransform(){var t=this.dom.transform||this.dom["-webkit-transform"]||this.dom["-ms-transform"];return t=t.substring(12),t=t.match(/(\S*)px/)[1],Number(t)},fn(t){t.preventDefault()},prevSlide(){this.clearTimeOut(),this.index--,this.wh()},nextSlide(){this.clearTimeOut(),this.index++,this.wh()},slideTo(t){this.clearTimeOut(),this.index=t+1,this.wh()},wh(t){this.slideing=!1,this.dom.transition="touch"==t?"250ms":this.duration+"ms",this.setTransform(-1*this.index*this._width),this.t.m=0,this.t.s=-1,this.autoPlay&&this.setTime();var e="touch"==t?"250":this.duration;setTimeout(()=>{this.dom.transition="0s",this.index>=this.slidesLength+1&&(this.index=1,this.setTransform(-1*this.index*this._width)),this.index<=0&&(this.index=this.slidesLength,this.setTransform(-1*this.index*this._width)),this.$emit("transtionend",this.index-1),this.auto=!0,this.slideing=!0},e)},setTime(){this.timer1=window.setTimeout(()=>{this.auto?(this.index++,this.wh()):window.clearTimeout(this.timer1)},this.interval)},starDom(){var t=document.querySelector("."+this.className).getElementsByClassName("wh_slide");if(this.slidesLength=t.length,this.slidesLength>1){var e=t[0].cloneNode(!0),n=t[this.slidesLength-1].cloneNode(!0);document.querySelector("."+this.className).insertBefore(n,t[0]),document.querySelector("."+this.className).appendChild(e),this._width=document.querySelector("."+this.className).offsetWidth,this.dom=document.querySelector("."+this.className).style}},clearTimeOut(){this.auto=!1,window.clearTimeout(this.timer1)}}},D=N,O=(n("22e3"),Object(p["a"])(D,S,M,!1,null,null,null)),U=O.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wh_slide",on:{click:t.clickSlide}},[t._t("default")],2)},L=[],F={methods:{clickSlide(){this.$emit("click")}}},R=F,P=(n("afc2"),Object(p["a"])(R,I,L,!1,null,null,null)),Q=P.exports,H={name:"QkImageCarousel",components:{Swiper:U,Slide:Q},props:{imageSrcList:{type:Array,default:function(){return["http://seopic.699pic.com/photo/50051/4111.jpg_wh1200.jpg","http://seopic.699pic.com/photo/50051/4111.jpg_wh1200.jpg","http://seopic.699pic.com/photo/50051/4111.jpg_wh1200.jpg"]}},interval:{type:Number,default:2500}}},k=H,z=(n("5109"),n("31a4"),Object(p["a"])(k,E,T,!1,null,"72b30e63",null)),V=z.exports;V.install=function(t){t.component(V.name,V)};var G=V,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-rectangle-border"})},j=[],X={name:"QkRectangleBorder"},W=X,Y=Object(p["a"])(W,K,j,!1,null,"0d114770",null),q=Y.exports;q.install=function(t){t.component(q.name,q)};var J=q,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-iframe"},[n("iframe",{staticStyle:{"background-color":"transparent",width:"100%","min-height":"100%"},attrs:{src:t.url,frameborder:"0"}})])},$=[],tt={name:"QkIframe",props:{url:{type:String,default:"http://m.baidu.com/"}},data:function(){return{}},methods:{}},et=tt,nt=Object(p["a"])(et,Z,$,!1,null,"3a677c17",null),rt=nt.exports;rt.install=function(t){t.component(rt.name,rt)};var it=rt,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-button"},[t._v("\n  "+t._s(t.text)+"\n")])},ot=[],st={name:"QkButton",props:{text:{type:String,default:"按 钮"}}},lt=st,ct=Object(p["a"])(lt,at,ot,!1,null,"7139a75a",null),ut=ct.exports;ut.install=function(t){t.component(ut.name,ut)};var At=ut,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-bg-music",class:{playing:t.playing},on:{click:t.handleMusicPlay}},[t.musicSrc?n("div",{staticClass:"video-play-audio"},[n("audio",{ref:"audioPlayer",staticStyle:{opacity:"0"},attrs:{id:"video-play-audio",src:t.musicSrc,controls:"",autoplay:"",loop:"",preload:""}})]):t._e(),n("img",{staticClass:"yinyue-img",attrs:{src:t.imageSrc,alt:"bg"}})])},ft=[],dt={name:"qkBgMusic",props:{musicSrc:{type:String,default:"http://gaokao.newhope.cn/static/fly_new_hope.mp3"},imageSrc:{type:String,default:n("902f")}},data:function(){return{audioEl:void 0,playing:!0}},created:function(){},mounted:function(){var t=this;this.audioEl=document.getElementById("video-play-audio"),this.audioEl.load();var e=this.$refs.audioPlayer;e.play().catch((function(){t.playError=!0;var n=["click","WeixinJSBridgeReady"],r=function r(){t.playError&&(t.playError=!1,e.load(),e.play().catch((function(){t.playError=!0})),n.forEach((function(t){document.removeEventListener(t,r)})))};n.forEach((function(t){document.addEventListener(t,r)}))}))},methods:{handleMusicPlay:function(){this.musicSrc&&(this.playing?this.pause():this.play())},play:function(){this.playing=!0,this.audioEl.play()},pause:function(){this.playing=!1,this.audioEl.pause()}}},pt=dt,mt=(n("f1a5"),Object(p["a"])(pt,ht,ft,!1,null,"a4d01368",null)),gt=mt.exports;gt.install=function(t){t.component(gt.name,gt)};var vt=gt,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-bar",{attrs:{data:t.chartDataV,colors:t.colorD,extend:{title:t.titleV},width:t.resize.width+"px",height:t.resize.height+"px",settings:Object.assign({},t.commonV,t.xyConfigV,t.line_column_barV)}})},yt=[],wt={name:"C317BarV",props:{resize:{type:Object,default:function(){return{height:350,width:480}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户","下单用户"],digit:2,dataType:"normal"}}},xyConfigV:{type:Object,default:function(){return{xAxisType:"value",xAxisName:["下单用户","访问用户"],yAxisType:["KMB","percent"],yAxisName:["数值"],min:[0,0],max:[0,0]}}},line_column_barV:{type:Object,default:function(){return{axisSite:{bottom:["下单用户"],top:[""]},area:!1,scale:[!1,!1],opacity:1}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},xt=wt,bt=Object(p["a"])(xt,_t,yt,!1,null,null,null),Ct=bt.exports;Ct.install=function(t){t.component(Ct.name,Ct)};var Bt=Ct,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-candle",{attrs:{data:t.chartDataV,colors:t.colorD,extend:{title:t.titleV},width:t.resize.width+"px",height:t.resize.height+"px",settings:Object.assign({},t.commonV,t.candleV)}})},Tt=[],St={name:"C317CandleV",props:{resize:{type:Object,default:function(){return{height:350,width:480}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["日期","open","close","lowest","highest","vol"],rows:[{"日期":"2004-01-05",open:10411.85,close:10544.07,lowest:10411.85,highest:10575.92,vol:22129e4},{"日期":"2004-01-06",open:10543.85,close:10538.66,lowest:10454.37,highest:10584.07,vol:19146e4},{"日期":"2004-01-07",open:10535.46,close:10529.03,lowest:10432.12,highest:10587.55,vol:22549e4},{"日期":"2004-01-08",open:10530.07,close:10592.44,lowest:10480.59,highest:10651.99,vol:23777e4},{"日期":"2004-01-09",open:10589.25,close:10458.89,lowest:10420.52,highest:10603.48,vol:22325e4},{"日期":"2004-01-12",open:10461.55,close:10485.18,lowest:10389.85,highest:10543.03,vol:19796e4},{"日期":"2004-01-13",open:10485.18,close:10427.18,lowest:10341.19,highest:10539.25,vol:19731e4},{"日期":"2004-01-14",open:10428.67,close:10538.37,lowest:10426.89,highest:10573.85,vol:18628e4},{"日期":"2004-01-15",open:10534.52,close:10553.85,lowest:10454.52,highest:10639.03,vol:26009e4},{"日期":"2004-01-16",open:10556.37,close:10600.51,lowest:10503.71,highest:10666.88,vol:25417e4},{"日期":"2004-01-20",open:10601.42,close:10528.66,lowest:10447.92,highest:10676.96,vol:2243e5},{"日期":"2004-01-21",open:10522.77,close:10623.62,lowest:10453.11,highest:10665.72,vol:21492e4},{"日期":"2004-01-22",open:10624.22,close:10623.18,lowest:10545.03,highest:10717.41,vol:21972e4},{"日期":"2004-01-23",open:10625.25,close:10568.29,lowest:10490.14,highest:10691.77,vol:23426e4},{"日期":"2004-01-26",open:10568.12,close:10702.51,lowest:10510.44,highest:10725.18,vol:18617e4},{"日期":"2004-01-27",open:10701.11,close:10609.92,lowest:10579.33,highest:10748.81,vol:20656e4},{"日期":"2004-01-28",open:10610.07,close:10468.37,lowest:10412.44,highest:10703.25,vol:24766e4},{"日期":"2004-01-29",open:10467.41,close:10510.29,lowest:10369.92,highest:10611.56,vol:27397e4},{"日期":"2004-01-30",open:10510.22,close:10488.07,lowest:10385.56,highest:10551.03,vol:20899e4},{"日期":"2004-02-02",open:10487.78,close:10499.18,lowest:10395.55,highest:10614.44,vol:2248e5},{"日期":"2004-02-03",open:10499.48,close:10505.18,lowest:10414.15,highest:10571.48,vol:18381e4},{"日期":"2004-02-04",open:10503.11,close:10470.74,lowest:10394.81,highest:10567.85,vol:22776e4},{"日期":"2004-02-05",open:10469.33,close:10495.55,lowest:10399.92,highest:10566.37,vol:18781e4},{"日期":"2004-02-06",open:10494.89,close:10593.03,lowest:10433.74,highest:10634.81,vol:18288e4},{"日期":"2004-02-09",open:10592.41,close:10579.03,lowest:10433.72,highest:10634.81,vol:16072e4},{"日期":"2004-02-10",open:10578.74,close:10613.85,lowest:10511.18,highest:10667.03,vol:16059e4},{"日期":"2004-02-11",open:10605.48,close:10737.72,lowest:10561.55,highest:10779.41,vol:27785e4},{"日期":"2004-02-12",open:10735.18,close:10694.07,lowest:10636.44,highest:10775.03,vol:19756e4},{"日期":"2004-02-13",open:10696.22,close:10627.85,lowest:10578.66,highest:10755.47,vol:20834e4},{"日期":"2004-02-17",open:10628.88,close:10714.88,lowest:10628.88,highest:10762.07,vol:16973e4},{"日期":"2004-02-18",open:10706.68,close:10671.99,lowest:10623.62,highest:10764.36,vol:16437e4},{"日期":"2004-02-19",open:10674.59,close:10664.73,lowest:10626.44,highest:10794.95,vol:21989e4},{"日期":"2004-02-20",open:10666.29,close:10619.03,lowest:10559.11,highest:10722.77,vol:22056e4},{"日期":"2004-02-23",open:10619.55,close:10609.62,lowest:10508.89,highest:10711.84,vol:22995e4},{"日期":"2004-02-24",open:10609.55,close:10566.37,lowest:10479.33,highest:10681.41,vol:22567e4},{"日期":"2004-02-25",open:10566.59,close:10601.62,lowest:10509.42,highest:10660.73,vol:19242e4},{"日期":"2004-02-26",open:10598.14,close:10580.14,lowest:10493.71,highest:10652.96,vol:22323e4},{"日期":"2004-02-27",open:10581.55,close:10583.92,lowest:10519.03,highest:10689.55,vol:20005e4}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["open","close","lowest","highest","vol"],digit:2,dataType:"KMB"}}},candleV:{type:Object,default:function(){return{showMA:!1,MA:[5,10,20,30],showVol:!1,downColor:"#ec0000",upColor:"#00da3c"}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},Mt=St,Nt=Object(p["a"])(Mt,Et,Tt,!1,null,null,null),Dt=Nt.exports;Dt.install=function(t){t.component(Dt.name,Dt)};var Ot=Dt,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-funnel",{attrs:{data:t.chartDataV,width:t.resize.width+"px",colors:t.colorD,extend:{title:t.titleV},height:t.resize.height+"px",settings:Object.assign({},t.funnelV,t.commonV,t.labelLineV,t.labelV)}})},It=[],Lt={name:"C317FunnelV",props:{resize:{type:Object,default:function(){return{height:360,width:430}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["状态","数值"],rows:[{"状态":"展示","数值":900},{"状态":"访问","数值":600},{"状态":"点击","数值":300},{"状态":"订单","数值":100}]}}},commonV:{type:Object,default:function(){return{dimension:["状态"],metrics:["数值"],digit:2,dataType:"normal"}}},funnelV:{type:Object,default:function(){return{sequence:["订单","点击","访问","展示"],ascending:!1,useDefaultOrder:!1,filterZero:!1}}},labelV:{type:Object,default:function(){return{label:{show:!0,position:"outside",color:"#000000",fontSize:12,fontStyle:"normal",fontWeight:"normal"}}}},labelLineV:{type:Object,default:function(){return{labelLine:{show:!0,length:10,length2:10,lineStyle:{color:"#000",width:1,type:"solid"}}}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},Ft=Lt,Rt=Object(p["a"])(Ft,Ut,It,!1,null,null,null),Pt=Rt.exports;Pt.install=function(t){t.component(Pt.name,Pt)};var Qt=Pt,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-gauge",{attrs:{data:t.chartDataV,width:t.resize.width+"px",height:t.resize.height+"px"}})},kt=[],zt={name:"C317GaugeV",props:{resize:{type:Object,default:function(){return{height:340,width:380}}},chartDataV:{type:Object,default:function(){return{columns:["type","a","b","value"],rows:[{type:"速度",a:1,b:2,value:80}]}}}}},Vt=zt,Gt=Object(p["a"])(Vt,Ht,kt,!1,null,null,null),Kt=Gt.exports;Kt.install=function(t){t.component(Kt.name,Kt)};var jt=Kt,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-heatmap",{attrs:{data:t.chartDataV,settings:Object.assign({},t.heatmapV),width:t.resize.width+"px",height:t.resize.height+"px"}})},Wt=[],Yt={name:"C317HeatmapV",props:{resize:{type:Object,default:function(){return{height:400,width:480}}},chartDataV:{type:Object,default:function(){return{columns:["lat","lng"],rows:[{lat:120.14322240845,lng:30.236064370321},{lat:120.14301682797,lng:30.236035316745},{lat:120.14138577045,lng:30.236113748704},{lat:120.1400398833,lng:30.235973050702},{lat:120.13893453465,lng:30.23517220446},{lat:120.1382899739,lng:30.234062922977},{lat:120.13265960629,lng:30.231641351722},{lat:120.13170681763,lng:30.229925745619},{lat:120.13119614803,lng:30.228996846637},{lat:120.13023980134,lng:30.228226570416}]}}},heatmapV:{type:Object,default:function(){return{type:"bmap",key:"oBvDtR6nzWtVchkY4cLHtnah1VVZQKRK",v:"3.0",bmap:{center:[120.14322240845,30.236064370321],zoom:14,roam:!0,mapStyleV2:{styleId:"38e07b3839299a908926696ebfe153c3"}},pointSize:10,blurSize:5,heatColor:["#ff4500","#ff8c00","#ffd700","#90ee90"]}}}}},qt=Yt,Jt=Object(p["a"])(qt,Xt,Wt,!1,null,null,null),Zt=Jt.exports;Zt.install=function(t){t.component(Zt.name,Zt)};var $t=Zt,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-heatmap",{attrs:{data:t.chartDataV,settings:Object.assign({},t.commonV,t.heatmapV),width:t.resize.width+"px",height:t.resize.height+"px"}})},ee=[],ne={name:"C317Heatmap1V",props:{resize:{type:Object,default:function(){return{height:400,width:480}}},chartDataV:{type:Object,default:function(){return{columns:["时间","地点","人数"],rows:[{"时间":"星期一","地点":"北京","人数":1e3},{"时间":"星期二","地点":"上海","人数":400},{"时间":"星期三","地点":"杭州","人数":800},{"时间":"星期二","地点":"深圳","人数":200},{"时间":"星期三","地点":"长春","人数":100},{"时间":"星期五","地点":"南京","人数":300},{"时间":"星期四","地点":"江苏","人数":800},{"时间":"星期一","地点":"北京","人数":700},{"时间":"星期三","地点":"上海","人数":300},{"时间":"星期二","地点":"杭州","人数":500}]}}},commonV:{type:Object,default:function(){return{dimension:["时间"],metrics:["地点","人数"],digit:2,dataType:"normal"}}},heatmapV:{type:Object,default:function(){return{type:"cartesian",pointSize:10,blurSize:5,heatColor:["#ff4500","#ff8c00","#ffd700","#90ee90"]}}}}},re=ne,ie=Object(p["a"])(re,te,ee,!1,null,null,null),ae=ie.exports;ae.install=function(t){t.component(ae.name,ae)};var oe=ae,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-histogram",{attrs:{data:t.chartDataV,width:t.resize.width+"px",colors:t.colorD,extend:{title:t.titleV},height:t.resize.height+"px",settings:Object.assign({},t.commonV,t.xyConfigV,t.line_column_barV)}})},le=[],ce={name:"C317HistogramV",props:{resize:{type:Object,default:function(){return{height:350,width:480}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户","下单用户"],digit:2,dataType:"normal"}}},xyConfigV:{type:Object,default:function(){return{xAxisType:"category",xAxisName:["x标题"],yAxisType:["KMB","percent"],yAxisName:["y标题1","y标题2"],min:[0,0],max:[0,0]}}},line_column_barV:{type:Object,default:function(){return{axisSite:{left:["访问用户","下单用户"],right:["下单率"]},area:!1,scale:[!1,!1],opacity:1}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},ue=ce,Ae=Object(p["a"])(ue,se,le,!1,null,null,null),he=Ae.exports;he.install=function(t){t.component(he.name,he)};var fe=he,de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-line",{attrs:{data:t.chartDataV,extend:{title:t.titleV},colors:t.colorD,settings:Object.assign({},t.commonV,t.xyConfigV,t.line_column_barV),width:t.resize.width+"px",height:t.resize.height+"px"}})},pe=[],me={name:"C317LineV",props:{resize:{type:Object,default:function(){return{height:350,width:480}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户","下单用户"],digit:2,dataType:"normal"}}},xyConfigV:{type:Object,default:function(){return{xAxisType:"category",xAxisName:["x标题"],yAxisType:[],yAxisName:["y标题1","y标题2"],min:[0,0],max:[0,0]}}},line_column_barV:{type:Object,default:function(){return{axisSite:{left:["访问用户","下单用户"],right:["下单率"]},area:!1,scale:[!1,!1],opacity:1}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}},data:function(){return{chartExtend:{title:this.titleV}}},watch:{titleV:function(t){this.chartExtend.title=t}}},ge=me,ve=Object(p["a"])(ge,de,pe,!1,null,null,null),_e=ve.exports;_e.install=function(t){t.component(_e.name,_e)};var ye=_e,we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-liquidfill",{attrs:{data:t.chartDataV,width:t.resize.width+"px",height:t.resize.height+"px"}})},xe=[],be={name:"C317LiquidfillV",props:{resize:{type:Object,default:function(){return{height:340,width:380}}},chartDataV:{type:Object,default:function(){return{columns:["city","percent"],rows:[{city:"上海",percent:.6}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户","下单用户"],digit:2,dataType:"normal"}}}}},Ce=be,Be=Object(p["a"])(Ce,we,xe,!1,null,null,null),Ee=Be.exports;Ee.install=function(t){t.component(Ee.name,Ee)};var Te=Ee,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-map",{attrs:{data:t.chartDataV,width:t.resize.width+"px",height:t.resize.height+"px",extend:{title:t.titleV},settings:Object.assign({},t.commonV,t.mapV),colors:t.colorD}})},Me=[],Ne={name:"C317MapV",props:{resize:{type:Object,default:function(){return{height:380,width:500}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["位置","税收","人口","面积"],rows:[{"位置":"吉林","税收":123,"人口":123,"面积":92134},{"位置":"北京","税收":1223,"人口":2123,"面积":29234},{"位置":"上海","税收":2123,"人口":1243,"面积":94234},{"位置":"浙江","税收":4123,"人口":5123,"面积":29234}]}}},commonV:{type:Object,default:function(){return{dimension:"位置",metrics:["人口","面积"],digit:2,dataType:{"面积":"KMB"}}}},mapV:{type:Object,default:function(){return{selectData:!1,zoom:1,center:[104.97,37.71],roam:!1,scaleLimit:{min:1,max:1},label:{show:!1,position:"top",distance:5,color:"#111010",fontSize:12,align:"left"}}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},De=Ne,Oe=Object(p["a"])(De,Se,Me,!1,null,null,null),Ue=Oe.exports;Ue.install=function(t){t.component(Ue.name,Ue)};var Ie=Ue,Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-pie",{attrs:{data:t.chartDataV,width:t.resize.width+"px",height:t.resize.height+"px",extend:{title:t.titleV},colors:t.colorD,settings:Object.assign({},t.commonV,t.pie_ringV,t.labelLineV,t.labelV)}})},Fe=[],Re={name:"C317PieV",props:{resize:{type:Object,default:function(){return{height:340,width:380}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["日期","访问用户"],rows:[{"日期":"1/1","访问用户":1393},{"日期":"1/2","访问用户":3530},{"日期":"1/3","访问用户":2923},{"日期":"1/4","访问用户":1723},{"日期":"1/5","访问用户":3792},{"日期":"1/6","访问用户":4593}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户"],digit:2,dataType:"percent"}}},pie_ringV:{type:Object,default:function(){return{legendLimit:500,selectedMode:!1,hoverAnimation:!0,radius:100,offsetY:154,roseType:"",limitShowNum:6}}},labelV:{type:Object,default:function(){return{label:{show:!1,position:"outside",color:"#000000",fontSize:12,fontStyle:"normal",fontWeight:"normal"}}}},labelLineV:{type:Object,default:function(){return{labelLine:{show:!0,length:10,length2:10,lineStyle:{color:"#000",width:1,type:"solid"}}}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},Pe=Re,Qe=Object(p["a"])(Pe,Le,Fe,!1,null,null,null),He=Qe.exports;He.install=function(t){t.component(He.name,He)};var ke=He,ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-radar",{attrs:{data:t.chartDataV,width:t.resize.width+"px",height:t.resize.height+"px",extend:{title:t.titleV},colors:t.colorD,settings:Object.assign({},t.commonV,t.radarV,t.labelV)}})},Ve=[],Ge={name:"C317RadarV",props:{resize:{type:Object,default:function(){return{height:360,width:400}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户","下单用户","下单率"],digit:2,dataType:"normal"}}},radarV:{type:Object,default:function(){return{areaStyle:{color:"rgba(0, 0, 0, 0.01)",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10,shadowOffsetX:1,shadowOffsetY:1,opacity:1}}}},labelV:{type:Object,default:function(){return{label:{show:!1,position:"outside",color:"#000000",fontSize:12,fontStyle:"normal",fontWeight:"normal"}}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},Ke=Ge,je=Object(p["a"])(Ke,ze,Ve,!1,null,null,null),Xe=je.exports;Xe.install=function(t){t.component(Xe.name,Xe)};var We=Xe,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-ring",{attrs:{data:t.chartDataV,extend:{title:t.titleV},colors:t.colorD,width:t.resize.width+"px",height:t.resize.height+"px",settings:Object.assign({},t.commonV,t.labelV,t.labelLineV)}})},qe=[],Je={name:"C317RingV",props:{resize:{type:Object,default:function(){return{height:340,width:380}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["日期","访问用户"],rows:[{"日期":"1/1","访问用户":1393},{"日期":"1/2","访问用户":3530},{"日期":"1/3","访问用户":2923},{"日期":"1/4","访问用户":1723},{"日期":"1/5","访问用户":3792},{"日期":"1/6","访问用户":4593}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户"],digit:2,dataType:"normal"}}},labelV:{type:Object,default:function(){return{label:{show:!0,position:"outside",color:"#000000",fontStyle:"normal",fontWeight:"normal",fontSize:12}}}},labelLineV:{type:Object,default:function(){return{labelLine:{show:!0,length:10,length2:10,lineStyle:{color:"#000000",width:1,type:"solid"}}}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},Ze=Je,$e=Object(p["a"])(Ze,Ye,qe,!1,null,null,null),tn=$e.exports;tn.install=function(t){t.component(tn.name,tn)};var en=tn,nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-sankey",{attrs:{data:t.chartDataV,extend:{title:t.titleV},colors:t.colorD,settings:Object.assign({},t.commonV,t.sankeyV,t.lineStyleV,t.labelV),width:t.resize.width+"px",height:t.resize.height+"px"}})},rn=[],an={name:"C317SankeyV",props:{resize:{type:Object,default:function(){return{height:400,width:430}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["页面","访问量"],rows:[{"页面":"首页","访问量":1e5},{"页面":"列表页a","访问量":2e4},{"页面":"列表页b","访问量":8e4},{"页面":"内容页a-1","访问量":1e4},{"页面":"内容页a-2","访问量":1e4},{"页面":"内容页b-1","访问量":6e4},{"页面":"内容页b-2","访问量":2e4}]}}},commonV:{type:Object,default:function(){return{dimension:["页面"],metrics:["页面","访问量"],digit:2,dataType:"normal"}}},sankeyV:{type:Object,default:function(){return{links:[{source:"首页",target:"列表页a",value:.5},{source:"首页",target:"列表页b",value:.5},{source:"列表页a",target:"内容页a-1",value:.1},{source:"列表页a",target:"内容页a-2",value:.4},{source:"列表页b",target:"内容页b-1",value:.2},{source:"列表页b",target:"内容页b-2",value:.3}]}}},lineStyleV:{type:Object,default:function(){return{lineStyle:{color:"rgba(165,165,165,0.4)",width:1,type:"solid",shadowColor:"rgba(0, 0, 0, 0.2)",shadowBlur:10,shadowOffsetX:1,shadowOffsetY:1,opacity:1}}}},labelV:{type:Object,default:function(){return{label:{show:!0,position:"outside",color:"#000000",fontSize:12,fontStyle:"normal",fontWeight:"normal"}}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},on=an,sn=Object(p["a"])(on,nn,rn,!1,null,null,null),ln=sn.exports;ln.install=function(t){t.component(ln.name,ln)};var cn=ln,un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-scatter",{attrs:{data:t.chartDataV,extend:{title:t.titleV},colors:t.colorD,width:t.resize.width+"px",height:t.resize.height+"px",settings:Object.assign({},t.commonV,t.scatterV)}})},An=[],hn={name:"C317ScatterV",props:{resize:{type:Object,default:function(){return{height:350,width:480}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["日期","访问用户","下单用户","年龄"],rows:[{"日期":"1/1","访问用户":123,"年龄":3,"下单用户":1244},{"日期":"1/2","访问用户":1223,"年龄":6,"下单用户":2344},{"日期":"1/3","访问用户":7123,"年龄":9,"下单用户":3245},{"日期":"1/4","访问用户":4123,"年龄":12,"下单用户":4355},{"日期":"1/5","访问用户":3123,"年龄":15,"下单用户":4564},{"日期":"1/6","访问用户":2323,"年龄":20,"下单用户":6537}]}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户","下单用户","年龄"],digit:2,dataType:"normal"}}},scatterV:{type:Object,default:function(){return{tooltipTrigger:"axis",axisVisible:!0,symbolSizeMax:50,symbol:"circle",symbolSize:0,symbolRotate:0,symbolOffset:[0,0],scale:!1}}},colorD:{type:Array,default:function(){return["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}}},fn=hn,dn=Object(p["a"])(fn,un,An,!1,null,null,null),pn=dn.exports;pn.install=function(t){t.component(pn.name,pn)};var mn=pn,gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-tree",{attrs:{data:t.chartData,width:t.resize.width+"px",height:t.resize.height+"px",settings:Object.assign({},t.tree_gaugeV)}})},vn=[],_n={name:"C317TreeV",props:{resize:{type:Object,default:function(){return{height:390,width:530}}},tree_gaugeV:{type:Object,default:function(){return{seriesMap:{layout:"orthogonal",symbol:"emptyCircle",symbolSize:7}}}},commonV:{type:Object,default:function(){return{dimension:["日期"],metrics:["访问用户","下单用户"],digit:2,dataType:"normal"}}}},data:function(){return{chartData:{columns:["name","value"],rows:[{name:"tree1",value:[{name:"f",value:1,link:"https://ele.me",children:[{name:"a",value:1,link:"https://ele.me",children:[{name:"a-a",link:"https://ele.me",value:2},{name:"a-b",link:"https://ele.me",value:2}]},{name:"b",value:1,link:"https://ele.me",children:[{name:"b-a",link:"https://ele.me",value:2},{name:"b-b",link:"https://ele.me",value:2}]},{name:"c",value:3,link:"https://ele.me",children:[{name:"c-a",link:"https://ele.me",value:4},{name:"c-b",link:"https://ele.me",value:2}]},{name:"d",value:3,link:"https://ele.me",children:[{name:"d-a",link:"https://ele.me",value:4},{name:"d-b",link:"https://ele.me",value:2}]}]}]}]}}}},yn=_n,wn=Object(p["a"])(yn,gn,vn,!1,null,null,null),xn=wn.exports;xn.install=function(t){t.component(xn.name,xn)};var bn=xn,Cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-waterfall",{attrs:{data:t.chartDataV,colors:t.colorD,width:t.resize.width+"px",height:t.resize.height+"px",settings:Object.assign({},t.waterfallV)}})},Bn=[],En={name:"C317WaterfallV",props:{resize:{type:Object,default:function(){return{height:360,width:380}}},chartDataV:{type:Object,default:function(){return{columns:["活动","时间"],rows:[{"活动":"吃饭","时间":4},{"活动":"睡觉","时间":10},{"活动":"打豆豆","时间":5}]}}},commonV:{type:Object,default:function(){return{dimension:["活动"],metrics:["时间"],digit:2,dataType:"normal"}}},waterfallV:{type:Object,default:function(){return{totalNum:24,totalName:"总时间",remainName:"剩余时间"}}},colorD:{type:Array,default:function(){return["#c23531"]}}}},Tn=En,Sn=Object(p["a"])(Tn,Cn,Bn,!1,null,null,null),Mn=Sn.exports;Mn.install=function(t){t.component(Mn.name,Mn)};var Nn=Mn,Dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-wordcloud",{attrs:{data:t.chartDataV,extend:{title:t.titleV},width:t.resize.width+"px",height:t.resize.height+"px",settings:Object.assign({},t.wordcloudV)}})},On=[],Un={name:"C317WordcloudV",props:{resize:{type:Object,default:function(){return{height:380,width:380}}},titleV:{type:Object,default:function(){return{text:"标题",x:"middle",y:"bottom",textAlign:"center",textStyle:{color:"#333",fontSize:12,fontWeight:"normal"}}}},chartDataV:{type:Object,default:function(){return{columns:["word","count"],rows:In()}}},wordcloudV:{type:Object,default:function(){return{sizeMin:12,sizeMax:60,shape:"circle",color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#a2ffc4","#ca8622","#bda29a","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","hsla(209, 100%, 56%, 0.73)","#c7158577"]}}}}};function In(){return[{word:"visualMap",count:22199},{word:"continuous",count:10288},{word:"contoller",count:620},{word:"series",count:274470},{word:"gauge",count:12311},{word:"detail",count:1206},{word:"piecewise",count:4885},{word:"textStyle",count:32294},{word:"markPoint",count:18574},{word:"pie",count:38929},{word:"roseType",count:969},{word:"label",count:37517},{word:"emphasis",count:12053},{word:"yAxis",count:57299},{word:"name",count:15418},{word:"type",count:22905},{word:"gridIndex",count:5146},{word:"normal",count:49487},{word:"itemStyle",count:33837},{word:"min",count:4500},{word:"silent",count:5744},{word:"animation",count:4840},{word:"offsetCenter",count:232},{word:"inverse",count:3706},{word:"borderColor",count:4812},{word:"markLine",count:16578},{word:"line",count:76970},{word:"radiusAxis",count:6704},{word:"radar",count:15964},{word:"data",count:60679},{word:"dataZoom",count:24347},{word:"tooltip",count:43420},{word:"toolbox",count:25222},{word:"geo",count:16904},{word:"parallelAxis",count:4029}]}var Ln=Un,Fn=Object(p["a"])(Ln,Dn,On,!1,null,null,null),Rn=Fn.exports;Rn.install=function(t){t.component(Rn.name,Rn)};var Pn=Rn,Qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-1",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},Hn=[],kn={name:"C317Border1D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},zn=kn,Vn=Object(p["a"])(zn,Qn,Hn,!1,null,null,null),Gn=Vn.exports;Gn.install=function(t){t.component(Gn.name,Gn)};var Kn=Gn,jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-2",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},Xn=[],Wn={name:"C317Border2D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Yn=Wn,qn=Object(p["a"])(Yn,jn,Xn,!1,null,null,null),Jn=qn.exports;Jn.install=function(t){t.component(Jn.name,Jn)};var Zn=Jn,$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-border3D"},[n("dv-border-box-3",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})],1)},tr=[],er={name:"C317Border3D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},nr=er,rr=Object(p["a"])(nr,$n,tr,!1,null,null,null),ir=rr.exports;ir.install=function(t){t.component(ir.name,ir)};var ar=ir,or=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-4",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{reverse:t.reverseD,color:t.colorD}})},sr=[],lr={name:"C317Border4D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},reverseD:{type:Boolean,default:!1},colorD:{type:Array,default:function(){return["rgb(255,0,0)","rgb(0,108,245)"]}}}},cr=lr,ur=Object(p["a"])(cr,or,sr,!1,null,null,null),Ar=ur.exports;Ar.install=function(t){t.component(Ar.name,Ar)};var hr=Ar,fr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-5",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{reverse:t.reverseD,color:t.colorD}})},dr=[],pr={name:"C317Border5D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},reverseD:{type:Boolean,default:!1},colorD:{type:Array,default:function(){return["rgb(118,118,118)","rgb(118,118,118)"]}}}},mr=pr,gr=Object(p["a"])(mr,fr,dr,!1,null,null,null),vr=gr.exports;vr.install=function(t){t.component(vr.name,vr)};var _r=vr,yr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-6",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},wr=[],xr={name:"C317Border6D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},br=xr,Cr=Object(p["a"])(br,yr,wr,!1,null,null,null),Br=Cr.exports;Br.install=function(t){t.component(Br.name,Br)};var Er=Br,Tr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-7",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},Sr=[],Mr={name:"C317Border7D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Nr=Mr,Dr=Object(p["a"])(Nr,Tr,Sr,!1,null,null,null),Or=Dr.exports;Or.install=function(t){t.component(Or.name,Or)};var Ur=Or,Ir=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-8",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{reverse:t.reverseD,dur:t.durD,color:t.colorD}})},Lr=[],Fr={name:"C317Border8D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},reverseD:{type:Boolean,default:!1},durD:{type:Number,default:1.2},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Rr=Fr,Pr=Object(p["a"])(Rr,Ir,Lr,!1,null,null,null),Qr=Pr.exports;Qr.install=function(t){t.component(Qr.name,Qr)};var Hr=Qr,kr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-9",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},zr=[],Vr={name:"C317Border9D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(217,0,255)"]}}}},Gr=Vr,Kr=Object(p["a"])(Gr,kr,zr,!1,null,null,null),jr=Kr.exports;jr.install=function(t){t.component(jr.name,jr)};var Xr=jr,Wr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-10",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},Yr=[],qr={name:"C317Border10D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Jr=qr,Zr=Object(p["a"])(Jr,Wr,Yr,!1,null,null,null),$r=Zr.exports;$r.install=function(t){t.component($r.name,$r)};var ti=$r,ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-11",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{title:t.text,titleColor:"#7ec699",titleWidth:t.titleD.titleWidth,color:t.colorD}})},ni=[],ri={name:"C317Border11D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},text:{type:String,default:"内容"},titleD:{type:Object,default:function(){return{titleWidth:250,titleSize:28,titleColor:"#7ec699",fontWeight:700,type:!1}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},ii=ri,ai=Object(p["a"])(ii,ei,ni,!1,null,null,null),oi=ai.exports;oi.install=function(t){t.component(oi.name,oi)};var si=oi,li=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-border-box-12",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},ci=[],ui={name:"C317Border12D",props:{resize:{type:Object,default:function(){return{height:370,width:930}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Ai=ui,hi=Object(p["a"])(Ai,li,ci,!1,null,null,null),fi=hi.exports;fi.install=function(t){t.component(fi.name,fi)};var di=fi,pi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-border13D"},[n("dv-border-box-13",{key:t.key,staticStyle:{width:"100%",height:"100%"},attrs:{color:t.colorD}})],1)},mi=[],gi={name:"C317Border13D",props:{colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}},data:function(){return{key:1}},mounted:function(){var t=this,e=new ResizeObserver((function(){t.key++}));e.observe(document.querySelector(".qk-border13D"))}},vi=gi,_i=(n("2755"),Object(p["a"])(vi,pi,mi,!1,null,"d72aa01c",null)),yi=_i.exports;yi.install=function(t){t.component(yi.name,yi)};var wi=yi,xi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-capsule-chart",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{config:t.config}})},bi=[],Ci={name:"C317CapsuleD",props:{resize:{type:Object,default:function(){return{height:180,width:280}}}},data:function(){return{config:{data:[{name:"南阳",value:167},{name:"周口",value:67},{name:"漯河",value:123},{name:"郑州",value:55},{name:"西峡",value:98}]}}}},Bi=Ci,Ei=Object(p["a"])(Bi,xi,bi,!1,null,null,null),Ti=Ei.exports;Ti.install=function(t){t.component(Ti.name,Ti)};var Si=Ti,Mi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-conical-column-chart",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{config:t.config}})},Ni=[],Di={name:"C317ConicalD",props:{resize:{type:Object,default:function(){return{height:250,width:400}}}},data:function(){return{config:{data:[{name:"周口",value:55},{name:"南阳",value:120},{name:"西峡",value:71},{name:"驻马店",value:66},{name:"新乡",value:80},{name:"信阳",value:35},{name:"漯河",value:15}]}}}},Oi=Di,Ui=Object(p["a"])(Oi,Mi,Ni,!1,null,null,null),Ii=Ui.exports;Ii.install=function(t){t.component(Ii.name,Ii)};var Li=Ii,Fi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-1",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},Ri=[],Pi={name:"C317Decoration1D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Qi=Pi,Hi=Object(p["a"])(Qi,Fi,Ri,!1,null,null,null),ki=Hi.exports;ki.install=function(t){t.component(ki.name,ki)};var zi=ki,Vi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-2",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{reverse:t.reverseD,dur:t.durD,color:t.colorD}})},Gi=[],Ki={name:"C317Decoration2D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},reverseD:{type:Boolean,default:!1},durD:{type:Number,default:2},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},ji=Ki,Xi=Object(p["a"])(ji,Vi,Gi,!1,null,null,null),Wi=Xi.exports;Wi.install=function(t){t.component(Wi.name,Wi)};var Yi=Wi,qi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-3",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},Ji=[],Zi={name:"C317Decoration3D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},$i=Zi,ta=Object(p["a"])($i,qi,Ji,!1,null,null,null),ea=ta.exports;ea.install=function(t){t.component(ea.name,ea)};var na=ea,ra=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-4",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{reverse:t.reverseD,dur:t.durD,color:t.colorD}})},ia=[],aa={name:"C317Decoration4D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},reverseD:{type:Boolean,default:!1},durD:{type:Number,default:2},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},oa=aa,sa=Object(p["a"])(oa,ra,ia,!1,null,null,null),la=sa.exports;la.install=function(t){t.component(la.name,la)};var ca=la,ua=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-5",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{dur:t.durD,color:t.colorD}})},Aa=[],ha={name:"C317Decoration5D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},durD:{type:Number,default:2},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},fa=ha,da=Object(p["a"])(fa,ua,Aa,!1,null,null,null),pa=da.exports;pa.install=function(t){t.component(pa.name,pa)};var ma=pa,ga=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-6",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},va=[],_a={name:"C317Decoration6D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},ya=_a,wa=Object(p["a"])(ya,ga,va,!1,null,null,null),xa=wa.exports;xa.install=function(t){t.component(xa.name,xa)};var ba=xa,Ca=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-7",{key:t.key,staticStyle:{width:"100%",height:"100%"},attrs:{color:t.colorD}},[t._v("\n    "+t._s(t.text)+"\n")])},Ba=[],Ea={name:"C317Decoration7D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},text:{type:String,default:"内容"},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Ta=Ea,Sa=Object(p["a"])(Ta,Ca,Ba,!1,null,null,null),Ma=Sa.exports;Ma.install=function(t){t.component(Ma.name,Ma)};var Na=Ma,Da=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-8",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{reverse:t.reverseD,color:t.colorD}})},Oa=[],Ua={name:"C317Decoration8D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},reverseD:{type:Boolean,default:!1},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Ia=Ua,La=Object(p["a"])(Ia,Da,Oa,!1,null,null,null),Fa=La.exports;Fa.install=function(t){t.component(Fa.name,Fa)};var Ra=Fa,Pa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-9",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{dur:t.durD,color:t.colorD}},[t._v("\n  "+t._s(t.text)+"\n")])},Qa=[],Ha={name:"C317Decoration9D",props:{resize:{type:Object,default:function(){return{height:155,width:155}}},text:{type:String,default:"66%"},durD:{type:Number,default:2},colorD:{type:Array,default:function(){return["rgb(40,105,253)","rgb(35, 95, 167)"]}}}},ka=Ha,za=Object(p["a"])(ka,Pa,Qa,!1,null,null,null),Va=za.exports;Va.install=function(t){t.component(Va.name,Va)};var Ga=Va,Ka=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-10",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}})},ja=[],Xa={name:"C317Decoration10D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},Wa=Xa,Ya=Object(p["a"])(Wa,Ka,ja,!1,null,null,null),qa=Ya.exports;qa.install=function(t){t.component(qa.name,qa)};var Ja=qa,Za=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-11",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD}},[t._v("\n  "+t._s(t.text)+"\n")])},$a=[],to={name:"C317Decoration11D",props:{resize:{type:Object,default:function(){return{height:50,width:200}}},text:{type:String,default:"内容"},colorD:{type:Array,default:function(){return["rgb(79, 210, 221)","rgb(35, 95, 167)"]}}}},eo=to,no=Object(p["a"])(eo,Za,$a,!1,null,null,null),ro=no.exports;ro.install=function(t){t.component(ro.name,ro)};var io=ro,ao=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-decoration-12",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{color:t.colorD,scanDur:t.scanHaloDurD.scanDur,haloDur:t.scanHaloDurD.haloDur}})},oo=[],so={name:"C317Decoration12D",props:{resize:{type:Object,default:function(){return{height:155,width:155}}},scanHaloDurD:{type:Object,default:function(){return{scanDur:3,haloDur:2}}},colorD:{type:Array,default:function(){return["rgb(40,105,253)","rgb(35, 95, 167)"]}}}},lo=so,co=Object(p["a"])(lo,ao,oo,!1,null,null,null),uo=co.exports;uo.install=function(t){t.component(uo.name,uo)};var Ao=uo,ho=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-digitalD"},[n("dv-digital-flop",{key:t.key,staticStyle:{width:"100%",height:"100%"},attrs:{config:t.config}})],1)},fo=[],po={name:"C317DigitalD",props:{},data:function(){return{config:{number:[100],content:"{nt}个"},key:1}},mounted:function(){var t=this,e=new ResizeObserver((function(){t.key++}));e.observe(document.querySelector(".qk-digitalD"))},watch:{}},mo=po,go=(n("80b0"),Object(p["a"])(mo,ho,fo,!1,null,"26ea1d30",null)),vo=go.exports;vo.install=function(t){t.component(vo.name,vo)};var _o=vo,yo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-flyline-chart",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{config:t.config,dev:!0}})},wo=[],xo={name:"C317FlylineD",props:{resize:{type:Object,default:function(){return{height:250,width:400}}}},data:function(){return{config:{centerPoint:[.48,.35],points:[{position:[.52,.235],text:"新乡"},{position:[.43,.29],text:"焦作"},{position:[.59,.35],text:"开封"},{position:[.53,.47],text:"许昌"},{position:[.45,.54],text:"平顶山"},{position:[.36,.38],text:"洛阳"},{position:[.62,.55],text:"周口"},{position:[.56,.56],text:"漯河"},{position:[.37,.66],text:"南阳"},{position:[.55,.81],text:"信阳"},{position:[.55,.67],text:"驻马店"},{position:[.37,.29],text:"济源"},{position:[.2,.36],text:"三门峡"},{position:[.76,.41],text:"商丘"},{position:[.59,.18],text:"鹤壁"},{position:[.68,.17],text:"濮阳"},{position:[.59,.1],text:"安阳"}],bgImgUrl:"http://datav.jiaminghi.com/img/flylineChart/map.jpg"}}}},bo=xo,Co=Object(p["a"])(bo,yo,wo,!1,null,null,null),Bo=Co.exports;Bo.install=function(t){t.component(Bo.name,Bo)};var Eo=Bo,To=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-flyline-chart-enhanced",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{config:t.config,dev:!0}})},So=[],Mo={name:"C317FlylineEnhancedD",props:{resize:{type:Object,default:function(){return{height:250,width:400}}}},data:function(){return{config:{points:[{name:"郑州",coordinate:[.48,.35]},{name:"新乡",coordinate:[.52,.23]},{name:"焦作",coordinate:[.43,.29]},{name:"开封",coordinate:[.59,.35]},{name:"许昌",coordinate:[.53,.47]},{name:"平顶山",coordinate:[.45,.54]},{name:"洛阳",coordinate:[.36,.38]},{name:"周口",coordinate:[.62,.55]},{name:"漯河",coordinate:[.56,.56]},{name:"南阳",coordinate:[.37,.66]},{name:"信阳",coordinate:[.55,.81]},{name:"驻马店",coordinate:[.55,.67]},{name:"济源",coordinate:[.37,.29]},{name:"三门峡",coordinate:[.2,.36]},{name:"商丘",coordinate:[.76,.41]},{name:"鹤壁",coordinate:[.59,.18]},{name:"濮阳",coordinate:[.68,.17]},{name:"安阳",coordinate:[.59,.1]}],lines:[{source:"新乡",target:"郑州"},{source:"焦作",target:"郑州"},{source:"开封",target:"郑州"},{source:"许昌",target:"郑州"},{source:"平顶山",target:"郑州"},{source:"洛阳",target:"郑州"},{source:"周口",target:"郑州"},{source:"漯河",target:"郑州"},{source:"南阳",target:"郑州"},{source:"信阳",target:"郑州"},{source:"驻马店",target:"郑州"},{source:"济源",target:"郑州"},{source:"三门峡",target:"郑州"},{source:"商丘",target:"郑州"},{source:"鹤壁",target:"郑州"},{source:"濮阳",target:"郑州"},{source:"安阳",target:"郑州"}],bgImgSrc:"http://datav.jiaminghi.com/img/flylineChart/map.jpg"}}}},No=Mo,Do=Object(p["a"])(No,To,So,!1,null,null,null),Oo=Do.exports;Oo.install=function(t){t.component(Oo.name,Oo)};var Uo=Oo,Io=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-percentD"},[n("dv-percent-pond",{key:t.key,staticStyle:{width:"100%",height:"100%"},attrs:{config:t.config}})],1)},Lo=[],Fo={name:"C317PercentD",props:{},data:function(){return{config:{value:66},key:1}},mounted:function(){var t=this,e=new ResizeObserver((function(){t.key++}));e.observe(document.querySelector(".qk-percentD"))},watch:{}},Ro=Fo,Po=(n("de7d"),Object(p["a"])(Ro,Io,Lo,!1,null,"53548d7e",null)),Qo=Po.exports;Qo.install=function(t){t.component(Qo.name,Qo)};var Ho=Qo,ko=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-active-ring-chart",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{config:t.config}})},zo=[],Vo={name:"C317RingD",props:{resize:{type:Object,default:function(){return{height:260,width:260}}}},data:function(){return{config:{data:[{name:"周口",value:55},{name:"南阳",value:120},{name:"西峡",value:78},{name:"驻马店",value:66},{name:"新乡",value:80}]}}}},Go=Vo,Ko=Object(p["a"])(Go,ko,zo,!1,null,null,null),jo=Ko.exports;jo.install=function(t){t.component(jo.name,jo)};var Xo=jo,Wo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dv-scroll-board",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{config:Object.assign({},t.config,t.scroll_boardD)}})},Yo=[];n("f751"),n("cadf"),n("8615");function qo(t){if(Array.isArray(t))return t}function Jo(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){i=!0,a=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}var Zo=n("06c5");function $o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ts(t,e){return qo(t)||Jo(t,e)||Object(Zo["a"])(t,e)||$o()}var es=n("53ca");function ns(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function is(t,e,n){return e&&rs(t.prototype,e),n&&rs(t,n),t}var as=function(){function t(){ns(this,t)}return is(t,null,[{key:"dataset2excel",value:function(t){return t.map((function(t){return{cells:{0:{text:t.x},1:{text:t.y},2:{text:t.s}}}}))}},{key:"binaryMatrix2excel",value:function(t){var e=t.map((function(t,e){var n={};return t.forEach((function(t,e){n[e]={text:t}})),{cells:n}}));return e}},{key:"excel2chartDataSet",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Object(es["a"])(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text})),n=ts(e,3),r=n[0],i=n[1],a=n[2];return{x:r,y:i,s:a}}));return n}},{key:"excel2BinaryMatrix",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Object(es["a"])(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text}));return e}));return console.log("dataset",n),n}},{key:"csv2VChartJson",value:function(t){var e=t[0],n=t.slice(1),r={columns:e,rows:n.map((function(t,n){var r={};return e.forEach((function(e,n){r[e.trim()]=t[n]})),r}))};return r}},{key:"csv2List",value:function(t){var e=t,n=[];for(var r in e)"len"!=r&&n.push(e[r]["cells"]);var i=[];for(var a in n){var o=[];for(var s in n[a])o.push(n[a][s]["text"]);i.push(o)}return i}},{key:"vChartJson2Csv",value:function(t,e){var n=t.map((function(t){var e={},n=0;for(var r in t)e[n]={text:t[r]},n++;return e})),r={};for(var i in e)r[i]={text:e[i]};for(var a={},o=1;o<=n.length;o++)a[o]={cells:n[o-1]};var s={0:{cells:r}},l=Object.assign(a,s),c={rows:l,cols:{len:e.length}};return c}}]),t}(),os={name:"C317ScrollD",props:{resize:{type:Object,default:function(){return{height:250,width:400}}},chartDataV:{type:Object,default:function(){return{columns:["列1","列2","列3"],rows:[{"列1":"行1列1","列2":"行1列2","列3":"行1列3"},{"列1":"行2列1","列2":"行2列2","列3":"行2列3"},{"列1":"行3列1","列2":"行3列2","列3":"行3列3"},{"列1":"行4列1","列2":"行4列2","列3":"行4列3"},{"列1":"行5列1","列2":"行5列2","列3":"行5列3"},{"列1":"行6列1","列2":"行6列2","列3":"行6列3"}]}}},scroll_boardD:{type:Object,default:function(){return{rowNum:5,headerBGC:"#00BAFF",oddRowBGC:"#003B51",evenRowBGC:"#0A2732",waitTime:2e3,headerHeight:35,columnWidth:[50],align:"left",index:!1,indexHeader:"#",carousel:"single",hoverPause:!0}}}},data:function(){return{config:{header:[],data:[]}}},mounted:function(){this.config.header=this.chartDataV.columns,this.config.data=this.converdata(this.chartDataV.rows,this.chartDataV.columns)},methods:{converdata:function(t,e){var n=as.vChartJson2Csv(t,e),r=as.csv2List(n.rows);return r.splice(0,1),r}},watch:{chartDataV:function(t){this.config.header=t.columns,this.config.data=this.converdata(t.rows,t.columns)}}},ss=os,ls=Object(p["a"])(ss,Wo,Yo,!1,null,null,null),cs=ls.exports;cs.install=function(t){t.component(cs.name,cs)};var us=cs,As=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-scrollRankingD"},[n("dv-scroll-ranking-board",{key:t.key,staticStyle:{width:"100%",height:"100%"},attrs:{config:t.config}})],1)},hs=[],fs={name:"C317ScrollRankingD",props:{},data:function(){return{config:{data:[{name:"周口",value:55},{name:"南阳",value:120},{name:"西峡",value:78},{name:"驻马店",value:66},{name:"新乡",value:80},{name:"信阳",value:45},{name:"漯河",value:29}]},key:1}},mounted:function(){var t=this,e=new ResizeObserver((function(){t.key++}));e.observe(document.querySelector(".qk-scrollRankingD"))},watch:{}},ds=fs,ps=(n("b438"),Object(p["a"])(ds,As,hs,!1,null,"2edc5f2c",null)),ms=ps.exports;ms.install=function(t){t.component(ms.name,ms)};var gs=ms,vs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-waterD"},[n("dv-water-level-pond",{key:t.key,staticStyle:{width:"100%",height:"100%"},attrs:{config:t.config}})],1)},_s=[],ys={name:"C317WaterD",props:{},data:function(){return{config:{data:[66]},key:1}},mounted:function(){var t=this,e=new ResizeObserver((function(){t.key++}));e.observe(document.querySelector(".qk-waterD"))},watch:{}},ws=ys,xs=(n("6de1"),Object(p["a"])(ws,vs,_s,!1,null,"07796c5e",null)),bs=xs.exports;bs.install=function(t){t.component(bs.name,bs)};var Cs=bs,Bs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{id:t.elId,viewBox:this.viewBox.x+" "+this.viewBox.y+" "+this.viewBox.width+" "+this.viewBox.height}})},Es=[],Ts=(n("6c7b"),n("5698")),Ss=n("9c05"),Ms=n("c437"),Ns=n.n(Ms),Ds=function(){function t(){ns(this,t)}return is(t,null,[{key:"dataset2excel",value:function(t){return t.map((function(t){return{cells:{0:{text:t.x},1:{text:t.y},2:{text:t.s}}}}))}},{key:"binaryMatrix2excel",value:function(t){var e=t.map((function(t,e){var n={};return t.forEach((function(t,e){n[e]={text:t}})),{cells:n}}));return e}},{key:"excel2chartDataSet",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Object(es["a"])(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text})),n=ts(e,3),r=n[0],i=n[1],a=n[2];return{x:r,y:i,s:a}}));return n}},{key:"excel2BinaryMatrix",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Object(es["a"])(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text}));return e}));return console.log("dataset",n),n}},{key:"csv2VChartJson",value:function(t){var e=t[0],n=t.slice(1),r={columns:e,rows:n.map((function(t,n){var r={};return e.forEach((function(e,n){r[e.trim()]=t[n]})),r}))};return r}},{key:"csv2List",value:function(t){var e=t,n=[];for(var r in e)"len"!=r&&n.push(e[r]["cells"]);var i=[];for(var a in n){var o=[];for(var s in n[a])o.push(n[a][s]["text"]);i.push(o)}return i}},{key:"vChartJson2Csv",value:function(t,e){var n=t.map((function(t){var e={},n=0;for(var r in t)e[n]={text:t[r]},n++;return e})),r={};for(var i in e)r[i]={text:e[i]};for(var a={},o=1;o<=n.length;o++)a[o]={cells:n[o-1]};var s={0:{cells:r}},l=Object.assign(a,s),c={rows:l,cols:{len:e.length}};return c}}]),t}(),Os={name:"C317SankeyD3",props:{chartDataV:{type:Object,default:function(){return{columns:["左边","右边","左边数据","右边数据"],rows:[{"左边":"线下代理商","右边":"深圳","左边数据":2473,"右边数据":2973},{"左边":"京东","右边":"深圳","左边数据":16541,"右边数据":11541},{"左边":"苏宁易购","右边":"杭州","左边数据":3541,"右边数据":3599},{"左边":"线下代理商","右边":"杭州","左边数据":3541,"右边数据":8741},{"左边":"京东","右边":"杭州","左边数据":3654,"右边数据":9874},{"左边":"天猫","右边":"武汉","左边数据":1738,"右边数据":110},{"左边":"线下自营店","右边":"武汉","左边数据":12925,"右边数据":13},{"左边":"苏宁易购","右边":"武汉","左边数据":15413,"右边数据":0},{"左边":"线下自营店","右边":"重庆","左边数据":2166,"右边数据":654},{"左边":"苏宁易购","右边":"重庆","左边数据":2286,"右边数据":3654},{"左边":"网上自营店","右边":"重庆","左边数据":348,"右边数据":3654},{"左边":"线下代理商","右边":"重庆","左边数据":4244,"右边数据":3654},{"左边":"京东","右边":"重庆","左边数据":1536,"右边数据":1654},{"左边":"线下自营店","右边":"长沙","左边数据":351,"右边数据":654},{"左边":"线下代理商","右边":"长沙","左边数据":405,"右边数据":541},{"左边":"线下自营店","右边":"成都","左边数据":914,"右边数据":654},{"左边":"苏宁易购","右边":"成都","左边数据":127,"右边数据":354},{"左边":"线下代理商","右边":"成都","左边数据":1470,"右边数据":654},{"左边":"京东","右边":"成都","左边数据":516,"右边数据":354},{"左边":"天猫","右边":"东莞","左边数据":43,"右边数据":0},{"左边":"线下自营店","右边":"东莞","左边数据":667,"右边数据":654},{"左边":"苏宁易购","右边":"东莞","左边数据":172,"右边数据":354},{"左边":"网上自营店","右边":"东莞","左边数据":149,"右边数据":541},{"左边":"线下代理商","右边":"东莞","左边数据":1380,"右边数据":3254},{"左边":"京东","右边":"东莞","左边数据":791,"右边数据":754},{"左边":"线下自营店","右边":"苏州","左边数据":541,"右边数据":687},{"左边":"线下代理商","右边":"苏州","左边数据":654,"右边数据":541},{"左边":"线下自营店","右边":"南京","左边数据":1070,"右边数据":654},{"左边":"线下代理商","右边":"南京","左边数据":1171,"右边数据":1541},{"左边":"京东","右边":"南京","左边数据":33,"右边数据":45},{"左边":"线下自营店","右边":"佛山","左边数据":407,"右边数据":654},{"左边":"苏宁易购","右边":"佛山","左边数据":541,"右边数据":874},{"左边":"线下代理商","右边":"佛山","左边数据":457,"右边数据":674},{"左边":"京东","右边":"佛山","左边数据":541,"右边数据":365},{"左边":"线下自营店","右边":"天津","左边数据":557,"右边数据":654},{"左边":"苏宁易购","右边":"天津","左边数据":167,"右边数据":541},{"左边":"网上自营店","右边":"天津","左边数据":95,"右边数据":100},{"左边":"线下代理商","右边":"天津","左边数据":1090,"右边数据":1321},{"左边":"京东","右边":"天津","左边数据":676,"右边数据":541},{"左边":"天猫","右边":"合肥","左边数据":1195,"右边数据":1654},{"左边":"线下自营店","右边":"合肥","左边数据":5412,"右边数据":6541},{"左边":"苏宁易购","右边":"合肥","左边数据":212,"右边数据":241},{"左边":"线下代理商","右边":"合肥","左边数据":1509,"右边数据":1654},{"左边":"天猫","右边":"温州","左边数据":3899,"右边数据":389},{"左边":"线下自营店","右边":"温州","左边数据":147,"右边数据":321},{"左边":"苏宁易购","右边":"温州","左边数据":455,"右边数据":541},{"左边":"网上自营店","右边":"温州","左边数据":321,"右边数据":254},{"左边":"线下代理商","右边":"温州","左边数据":4100,"右边数据":4512},{"左边":"天猫","右边":"南宁","左边数据":123,"右边数据":133},{"左边":"线下自营店","右边":"南宁","左边数据":634,"右边数据":654},{"左边":"苏宁易购","右边":"南宁","左边数据":749,"右边数据":541},{"左边":"网上自营店","右边":"南宁","左边数据":119,"右边数据":654},{"左边":"线下代理商","右边":"南宁","左边数据":3705,"右边数据":4574},{"左边":"京东","右边":"南宁","左边数据":3456,"右边数据":4e3},{"左边":"线下自营店","右边":"厦门","左边数据":828,"右边数据":1201},{"左边":"苏宁易购","右边":"厦门","左边数据":2808,"右边数据":3541},{"左边":"网上自营店","右边":"厦门","左边数据":1452,"右边数据":2e3},{"左边":"线下代理商","右边":"厦门","左边数据":2625,"右边数据":1541},{"左边":"京东","右边":"厦门","左边数据":1920,"右边数据":1234},{"左边":"线下自营店","右边":"西安","左边数据":1146,"右边数据":1541},{"左边":"苏宁易购","右边":"西安","左边数据":212,"右边数据":321},{"左边":"网上自营店","右边":"西安","左边数据":223,"右边数据":241},{"左边":"线下代理商","右边":"西安","左边数据":1803,"右边数据":2e3},{"左边":"京东","右边":"西安","左边数据":761,"右边数据":465}]}}},viewBox:{type:Object,default:function(){return{x:0,y:0,width:500,height:500}}},d3Sankey:{type:Object,default:function(){return{translateX:50,translateY:50,bpHeight:400,bpWidth:400,barSize:35,title:{text:"中间标题",x:200,y:25,color:"#000000",size:14,weight:700},textColor1:"#000000",textColor2:"#000000",textSize1:16,textSize2:14,leftTitle:"标题1",leftX:-70,leftY:-13,rightTitle:"标题2",rightX:530,rightY:-13}}}},data:function(){return{elId:"",data:[]}},created:function(){var t=this;this.elId=Ns()(),this.$nextTick((function(){t.svgUpdate(),t.drawSg()}))},mounted:function(){var t=this.converdata(this.chartDataV.rows,this.chartDataV.columns);this.data=t},methods:{converdata:function(t,e){var n=Ds.vChartJson2Csv(t,e),r=Ds.csv2List(n.rows);return r.splice(0,1),r},svgUpdate:function(){var t=Ts["select"](document.getElementById(this.elId));t.selectAll("svg > *").remove()},drawSg:function(){var t=Ts["select"](document.getElementById(this.elId)).attr("preserveAspectRatio","xMidYMid meet"),e=this.data,n=Ts["scaleOrdinal"]().range(Ts["schemeCategory20"]),r=t.append("g").attr("transform","translate(".concat(this.d3Sankey.translateX,",").concat(this.d3Sankey.translateY,")"));t.append("text").attr("x",this.d3Sankey.title.x).attr("y",this.d3Sankey.title.y).attr("class","vbp-header").style("fill",this.d3Sankey.title.color).attr("font-size",this.d3Sankey.title.size).attr("font-weight",this.d3Sankey.title.weight).text(this.d3Sankey.title.text);var i=Ss["bP"]().data(e).min(12).pad(1).height(this.d3Sankey.bpHeight).width(this.d3Sankey.bpWidth).barSize(this.d3Sankey.barSize).fill((function(t){return n(t.primary)}));function a(t){i.mouseover(t),r.selectAll(".mainBars").select(".perc").text((function(t){return Ts["format"]("0.0%")(t.percent)})),r.selectAll(".mainBars").select("title").text((function(t){return t.key+"\n"+t.value}))}function o(t){i.mouseout(t),r.selectAll(".mainBars").select(".perc").text((function(t){return Ts["format"]("0.0%")(t.percent)})),r.selectAll(".mainBars").select("title").text((function(t){return t.key+"\n"+t.value}))}r.call(i),r.append("text").attr("x",this.d3Sankey.leftX).attr("y",this.d3Sankey.leftY).style("text-anchor","middle").style("fill",this.d3Sankey.textColor1).attr("font-size",this.d3Sankey.textSize1).text(this.d3Sankey.leftTitle),r.append("text").attr("x",this.d3Sankey.rightX).attr("y",this.d3Sankey.rightY).style("text-anchor","middle").style("fill",this.d3Sankey.textColor1).attr("font-size",this.d3Sankey.textSize1).text(this.d3Sankey.rightTitle),r.selectAll(".mainBars").on("mouseover",a).on("mouseout",o),r.selectAll(".mainBars").append("text").attr("class","label").style("fill",this.d3Sankey.textColor2).attr("font-size",this.d3Sankey.textSize2).attr("x",(function(t){return"primary"===t.part?-70:70})).attr("y",(function(t){return 6})).text((function(t){return t.key})).attr("text-anchor",(function(t){return"primary"===t.part?"end":"start"})),r.selectAll(".mainBars").append("text").attr("class","perc").style("fill",this.d3Sankey.textColor2).attr("font-size",this.d3Sankey.textSize2).attr("x",(function(t){return"primary"===t.part?-180:200})).attr("y",(function(t){return 6})).text((function(t){return Ts["format"]("0.0%")(t.percent)})).attr("text-anchor",(function(t){return"primary"===t.part?"end":"start"})),r.selectAll(".mainBars").append("title").text((function(t){return t.key+"\n"+t.value}))}},watch:{data:function(){this.svgUpdate(),this.drawSg()},chartDataV:function(t){this.data=this.converdata(t.rows,t.columns)},d3Sankey:{handler:function(){this.svgUpdate(),this.drawSg()},deep:!0}}},Us=Os,Is=(n("b4a6"),Object(p["a"])(Us,Bs,Es,!1,null,"b8df305a",null)),Ls=Is.exports;Ls.install=function(t){t.component(Ls.name,Ls)};var Fs=Ls,Rs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{id:t.elId}})},Ps=[],Qs=n("313e"),Hs=n.n(Qs);n("7cb2");function ks(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ks(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ks(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n("a00a"),n("3139");var Vs={name:"C317Map3dbar",props:{resize:{type:Object,default:function(){return{height:350,width:480}}},chartDataV:{type:Object,default:function(){return{columns:["名字","经度","纬度","值"],rows:[{"名字":"数据1","经度":104.400438,"纬度":29.47325,"值":2399},{"名字":"数据2","经度":105.1,"纬度":36.581425,"值":1e3}]}}},map3D:{type:Object,default:function(){return{roam:!0,itemStyle:{color:"#475368",borderWidth:.4,borderColor:"#212429"},label:{show:!0,textStyle:{color:"#fff",fontSize:10,fontWeight:200,backgroundColor:"rgba(255,255,255,0)"}},light:{main:{color:"#ffffff",intensity:1.2,shadow:!0,alpha:55,beta:10}}}}},bar3D:{type:Object,default:function(){return{barSize:.4,bevelSize:.3,minHeight:1,label:{show:!1,text1:"内容：",text2:"单位",textStyle:{color:"#ffffff",fontSize:12,fontWeight:200,backgroundColor:"rgba(255,255,255,0)"}}}}},colorD:{type:Array,default:function(){return["#3678fc","#fea523","#f42e59","#36fca2","#930093","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]}}},data:function(){return{elId:"",myChart:null,data:[]}},mounted:function(){for(var t in this.chartDataV.rows){var e=Object.values(this.chartDataV.rows[t]),n=e.splice(1,3);this.data.push([{name:e[0],value:n.map(Number)}])}},created:function(){var t=this;this.elId=Ns()(),this.$nextTick((function(){t.draw(t.bar3D,t.map3D)}))},methods:{draw:function(t,e){var n=this;this.myChart=Hs.a.init(document.getElementById(this.elId));var r=[];this.data.forEach((function(e,i){r.push({data:e,type:"bar3D",coordinateSystem:"geo3D",barSize:t.barSize,shading:"lambert",bevelSize:t.bevelSize,minHeight:t.minHeight,itemStyle:{color:n.colorD[i],opacity:1},label:{show:t.label.show,formatter:function(e){return"".concat(e.name,"\n").concat(t.label.text1).concat(e.value[2].toFixed(2)).concat(t.label.text2)},textStyle:t.label.textStyle}})}));var i={geo3D:zs({map:"china",shading:"lambert"},e),series:r};this.myChart.setOption(i)}},watch:{resize:function(){this.myChart.resize()},chartDataV:function(t){for(var e in this.data=[],t.rows){var n=Object.values(t.rows[e]),r=n.splice(1,3);this.data.push([{name:n[0],value:r.map(Number)}]),this.draw(this.bar3D,this.map3D)}},colorD:function(){this.draw(this.bar3D,this.map3D)},map3D:{handler:function(){this.draw(this.bar3D,this.map3D)},deep:!0},bar3D:{handler:function(){this.draw(this.bar3D,this.map3D)},deep:!0}}},Gs=Vs,Ks=Object(p["a"])(Gs,Rs,Ps,!1,null,"2d29dd35",null),js=Ks.exports;js.install=function(t){t.component(js.name,js)};var Xs=js,Ws=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{width:t.resize.width+"px",height:t.resize.height+"px"},attrs:{id:t.elId}})},Ys=[];function qs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qs(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Zs={name:"C317MapFlyer",props:{resize:{type:Object,default:function(){return{height:350,width:480}}},chartDataV:{type:Object,default:function(){return{columns:["起点名称","起点经度","起点纬度","起点值","终点名称","终点经度","终点纬度","终点值"],rows:[{"起点名称":"起点","起点经度":108.848876,"起点纬度":40.472078,"起点值":100,"终点名称":"终点","终点经度":110.889071,"终点纬度":37.429832,"终点值":200}]}}},bmapConfig:{type:Object,default:function(){return{roam:!0,x:104.83531246,y:36.0267395887,zoom:5,styleId:"1c9508432f1bd060b4485d79045d5bdd"}}},pointConfig:{type:Object,default:function(){return{text1:"起点文本",text2:"终点文本",rippleEffect:{color:"#fea523",period:4,scale:2.5,brushType:"fill"},hoverAnimation:!0,label:{color:"#fff",fontWeight:100,fontSize:12,position:"right",show:!0},symbol:"circle",itemStyle:{color:"#fe2368",shadowBlur:10,shadowColor:"#31a5e3"}}}},linesConfig:{type:Object,default:function(){return{effect1:{show:!0,period:6,trailLength:0,symbol:"path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",symbolSize:15},lineStyle1:{normal:{color:"#fe2368",width:1,opacity:.1,curveness:.2}},effect2:{show:!0,period:6,trailLength:.7,color:"#fff",symbolSize:3},lineStyle2:{normal:{color:"#2347fe",width:1,opacity:.5,curveness:.2}}}}}},data:function(){return{elId:"",myChart:null,lineData:{lines:[],start:[],end:[]}}},created:function(){var t=this;this.elId=Ns()(),this.changeData(this.chartDataV),this.$nextTick((function(){t.drawLine()}))},methods:{drawLine:function(){var t=Hs.a.init(document.getElementById(this.elId)),e=[{type:"lines",coordinateSystem:"bmap",zlevel:2,effect:this.linesConfig.effect1,lineStyle:this.linesConfig.lineStyle1,data:this.lineData.lines},{type:"lines",coordinateSystem:"bmap",effect:this.linesConfig.effect2,lines:{polyline:!0},zlevel:2,lineStyle:this.linesConfig.lineStyle2,data:this.lineData.lines},{name:this.pointConfig.text1,type:"effectScatter",coordinateSystem:"bmap",symbolSize:function(t){return t[2]/10},zlevel:10,encode:{value:2},showEffectOn:"render",rippleEffect:this.pointConfig.rippleEffect,hoverAnimation:this.pointConfig.hoverAnimation,label:Js({formatter:"{b}"},this.pointConfig.label),symbol:this.pointConfig.symbol,itemStyle:this.pointConfig.itemStyle,data:this.lineData.start},{name:this.pointConfig.text2,type:"effectScatter",coordinateSystem:"bmap",symbolSize:function(t){return t[2]/10},zlevel:10,encode:{value:2},showEffectOn:"render",rippleEffect:this.pointConfig.rippleEffect,hoverAnimation:this.pointConfig.hoverAnimation,label:Js({formatter:"{b}"},this.pointConfig.label),symbol:this.pointConfig.symbol,itemStyle:this.pointConfig.itemStyle,data:this.lineData.end}],n={bmap:{roam:this.bmapConfig.roam,center:[this.bmapConfig.x,this.bmapConfig.y],zoom:this.bmapConfig.zoom,mapStyleV2:{styleId:this.bmapConfig.styleId}},tooltip:{trigger:"item"},series:e};t.setOption(n),this.myChart=t},changeData:function(t){for(var e in this.lineData.lines=[],this.lineData.start=[],this.lineData.end=[],t.rows){var n=Object.values(t.rows[e]),r=n[0],i=n[4],a=n.slice(1,4),o=n.slice(5,8);this.lineData.lines.push({coords:[a,o]}),this.lineData.start.push({name:r,value:a}),this.lineData.end.push({name:i,value:o})}}},watch:{resize:function(){this.myChart.resize()},bmapConfig:{handler:function(){this.drawLine()},deep:!0},pointConfig:{handler:function(){this.drawLine()},deep:!0},linesConfig:{handler:function(){this.drawLine()},deep:!0},chartDataV:function(t){var e=this;this.changeData(t),this.$nextTick((function(){e.drawLine()}))}}},$s=Zs,tl=Object(p["a"])($s,Ws,Ys,!1,null,"c1f46216",null),el=tl.exports;el.install=function(t){t.component(el.name,el)};var nl=el,rl=[v,B,G,J,it,At,vt,Bt,Ot,Qt,jt,$t,oe,fe,ye,Te,Ie,ke,We,en,cn,mn,bn,Nn,Pn,Kn,Zn,ar,hr,_r,Er,Ur,Hr,Xr,ti,si,di,wi,Si,Li,zi,Yi,na,ca,ma,ba,Na,Ra,Ga,Ja,io,Ao,_o,Eo,Uo,Ho,Xo,us,gs,Cs,Fs,Xs,nl],il=function t(e){t.installed||(t.installed=!0,rl.map((function(t){return e.component(t.name,t)})))};"undefined"!==typeof window&&window.Vue&&il(window.Vue);var al={};rl.forEach((function(t){al[t.name]=t}));function ol(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ol(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}window._qk_register_components_object=al;var ll={name:"component-libs",data:function(){return{componentsList:u}},methods:{handleClick:function(t){var e=this.getComponentProps(t.elName);this.$store.dispatch("addElement",sl(sl({},t),{},{needProps:e}))},getComponentProps:function(t){var e;for(var n in al)if(n.toLowerCase()===Object(c["camelCase"])(t).toLowerCase()){e=al[n];break}if(!e)return{};var r={};for(var i in e.props)r[i]=[Object,Array].includes(e.props[i].type)?e.props[i].default():e.props[i].default;return r}}},cl=ll,ul=(n("2c23"),Object(p["a"])(cl,s,l,!1,null,"1dec2a39",null)),Al=ul.exports,hl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-page-manage scrollbar-wrapper"},[n("p",{staticClass:"page-title text-center"},[t._v("页面管理")]),n("el-scrollbar",{staticClass:"components-main-conten",staticStyle:{height:"100%"}},t._l(t.projectData.pages,(function(e,r){return n("div",{key:e.uuid,staticClass:"page-item clearfix",class:{active:t.activePageUUID===e.uuid},on:{click:function(n){return t.changeActivePage(e)}}},[n("div",{staticClass:"inline-block white"},[n("span",{staticClass:"page-item-index"},[t._v(t._s(r+1))]),t._v("\n          第"+t._s(r+1)+"页\n        ")]),n("div",{staticClass:"page-item-btn-wrapper pull-right width20"},[n("el-dropdown",[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-more-outline"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("div",{staticClass:"btn-item",on:{click:function(n){return t.copyPage(e)}}},[n("i",{staticClass:"el-icon-document-copy"}),t._v(" 复制页面")])]),n("el-dropdown-item",[n("div",{staticClass:"btn-item",on:{click:function(n){return t.addPage(e)}}},[n("i",{staticClass:"el-icon-document-add"}),t._v(" 新增页面")])]),n("el-dropdown-item",[n("div",{staticClass:"btn-item",on:{click:function(n){return t.deletePage(e)}}},[n("i",{staticClass:"el-icon-delete"}),t._v(" 删除页面")])])],1)],1)],1)])})),0),n("div",{staticClass:"bottom-btn-wrapper"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addPage()}}},[t._v("新增空页面")])],1)],1)},fl=[],dl=n("2f62");function pl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pl(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var gl,vl={computed:ml({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),methods:{changeActivePage:function(t){this.$store.dispatch("setActivePageUUID",t.uuid)},copyPage:function(t){this.$store.dispatch("copyPage",t.uuid)},addPage:function(t){this.$store.dispatch("addPage",t?t.uuid:"")},deletePage:function(t){this.$store.dispatch("deletePage",t.uuid)}}},_l=vl,yl=(n("791a"),Object(p["a"])(_l,hl,fl,!1,null,"12940680",null)),wl=yl.exports,xl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-libs-wrapper scrollbar-wrapper"},[n("p",{staticClass:"page-title text-center"},[t._v("模板库")]),n("el-divider"),n("div",{staticClass:"scroll-wrapper page-list-wrapper"},[t.pageList.length?n("el-scrollbar",{staticStyle:{height:"100%"}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"page-content"},[n("div",{staticClass:"page-item-wrapper"},t._l(t.pageList,(function(e,r){return n("div",{key:r,staticClass:"page-item"},[n("edit-template-libs",{attrs:{pageData:e},on:{refresh:t.getPageList,showPreview:t.showPreviewFn}})],1)})),0)])]):n("notFundData")],1),t.showPreview?n("previewPage",{attrs:{pageId:t.previewId},on:{closePreview:function(e){t.showPreview=!1}}}):t._e()],1)},bl=[],Cl=n("c5c7"),Bl=n("bf8b"),El=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pageData?n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"page-thumbnail-panel"},[n("div",{staticClass:"thumbnail-panel-cover"},[n("div",{staticClass:"header-mask"},[n("div",{staticClass:"details-btn",on:{click:function(e){return t.preview(t.pageData._id)}}},[t._v("预览")])]),n("div",{staticClass:"image-wrapper"},[n("img",{attrs:{src:t.pageData.coverImage||t.defaultCoverImage,alt:"",onerror:t.defaultImg}})])]),n("div",{staticClass:"page-item-title border-T ellipsis"},[n("span",{staticClass:"item-title-i",attrs:{title:t.pageData.title}},[t._v(t._s(t.pageData.title||"未命名作品"))])]),n("div",{staticClass:"border-T thumbnail-panel-btn"},[n("div",{staticClass:"btn-wrapper"},[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.copyPage}},[t._v("使用模板")])],1)])]):t._e()},Tl=[],Sl=n("5c96"),Ml={name:"edit-template-libs",props:{pageData:Object},components:(gl={},Object(o["a"])(gl,Sl["Dropdown"].name,Sl["Dropdown"]),Object(o["a"])(gl,Sl["DropdownMenu"].name,Sl["DropdownMenu"]),Object(o["a"])(gl,Sl["DropdownItem"].name,Sl["DropdownItem"]),gl),data:function(){return{loading:!1,defaultCoverImage:n("5c58"),defaultImg:'this.src="'+n("5c58")+'"',operationDataList:[]}},methods:{copyPage:function(){var t=this;this.loading=!0,this.$alert("确认使用该模板？使用后，当前编辑页面未保存部分将无法显示?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$API.copyPage({id:t.pageData._id}).then((function(e){t.loading=!1,t.$router.push({name:"Editor",query:{id:e.body._id}})})).catch((function(){t.loading=!1}))})).catch((function(){t.loading=!1}))},preview:function(t){this.$emit("showPreview",t)}}},Nl=Ml,Dl=(n("fc10"),Object(p["a"])(Nl,El,Tl,!1,null,"428d320a",null)),Ol=Dl.exports,Ul={name:"template-libs",components:{EditTemplateLibs:Ol,PreviewPage:Bl["a"],notFundData:Cl["a"]},data:function(){return{loading:!1,pageList:[],pageModeList:[],searchParams:{pageMode:"h5"},previewId:"",showPreview:!1}},created:function(){this.pageModeList=this.$config.pageModeList,this.getPageList()},methods:{handlePageModeClick:function(t){this.searchParams.pageMode=t.name,this.getPageList()},getPageList:function(){var t=this;this.$API.getPublishTemplates(this.searchParams).then((function(e){t.pageList=e.body||[]}))},showPreviewFn:function(t){this.previewId=t,this.showPreview=!0}}},Il=Ul,Ll=(n("151b"),n("48c5"),Object(p["a"])(Il,xl,bl,!1,null,"3919008d",null)),Fl=Ll.exports,Rl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"editorPane",staticClass:"editor-pane",on:{click:t.handleClickCanvas,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.handleKeyup(e)}}},[n("div",{staticClass:"editor-pane-inner"},[n("div",{staticClass:"editor-main",style:{transform:"scale("+t.scale+")",width:t.projectData.width+"px",height:t.projectData.height+"px"}},[n("div",{ref:"canvas-panel",staticClass:"page-preview-wrapper",style:t.getCommonStyle(t.activePage.commonStyle),attrs:{id:"canvas-panel"}},t._l(t.activePage.elements,(function(e){return n("edit-shape",{key:e.uuid,style:t.getCommonStyle({width:e.commonStyle.width,height:e.commonStyle.height,left:e.commonStyle.left,top:e.commonStyle.top,position:e.commonStyle.position}),attrs:{uuid:e.uuid,defaultStyle:e.commonStyle,active:e.uuid===t.activeElementUUID},on:{handleElementClick:function(n){return t.handleElementClick(e.uuid)},resize:t.handleElementResize}},[n(e.elName,t._b({tag:"component",staticClass:"element-on-edit-pane",style:t.getCommonStyle(Object.assign({},e.commonStyle,{top:0,left:0}))},"component",e.propsValue,!1))],1)})),1),n("div",{staticClass:"page-wrapper-mask"})]),n("div",{staticClass:"page-wrapper-menu-operation menu-item-on-edit-panel",class:{active:t.activeElementUUID}},t._l(t.menuOptions,(function(e,r){return n("el-tooltip",{key:r,attrs:{effect:"dark",content:e.title,placement:"top"}},[n("div",{staticClass:"menu-item menu-item-on-edit-panel",on:{click:function(n){return t.handleElementCommand(e.value)}}},[n("i",{staticClass:"menu-item-on-edit-panel white",class:[e.icon]})])])})),1)])])},Pl=[],Ql=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-edit-shape",class:{active:this.active},on:{click:t.handleTopWrapperClick,mousedown:t.handleMouseDownOnElement}},[t._l(t.active?t.pointList:[],(function(e){return n("div",{key:e,staticClass:"edit-shape-point",style:t.getPointStyle(e),on:{mousedown:function(n){return t.handleMouseDownOnPoint(e)}}})})),t._t("default")],2)},Hl=[];n("28a5"),n("551c");function kl(t){return zl.apply(this,arguments)}function zl(){return zl=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,a,o,s,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:[],r=l.length>2?l[2]:void 0,i=l.length>3?l[3]:void 0,a=function(t){return new Promise((function(n){e.style.animationName=t.type,e.style.animationDuration="".concat(t.duration,"s"),e.style.animationIterationCount=t.infinite?r?1:"infinite":t.interationCount,e.style.animationDelay="".concat(t.delay,"s"),e.style.animationFillMode="both";var i=function t(){e.removeEventListener("animationend",t,!1),e.removeEventListener("animationcancel",t,!1),n()};e.addEventListener("animationend",i,!1),e.addEventListener("animationcancel",i,!1)}))},o=0,s=n.length;case 5:if(!(o<s)){t.next=11;break}return t.next=8,a(n[o]);case 8:o++,t.next=5;break;case 11:i&&i();case 12:case"end":return t.stop()}}),t)}))),zl.apply(this,arguments)}var Vl=n("2b0e"),Gl=new Vl["default"];function Kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kl(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Xl={name:"EditShape",props:{active:{type:Boolean,default:!1},defaultStyle:{require:!0,type:Object},uuid:String},data:function(){return{pointList:["lt","rt","lb","rb","l","r","t","b"],directionKey:{t:"n",b:"s",l:"w",r:"e"}}},mounted:function(){var t=this;this.animatePlaying=!1,Gl.$on("RUN_ANIMATIONS",(function(e,n){if(e===t.uuid&&!t.animatePlaying){var r=t.$el.style.cssText;t.animatePlaying=!0,kl(t.$el,n,!0,(function(){t.$el.style.cssText=r,t.animatePlaying=!1}))}}))},methods:{getPointStyle:function(t){var e=this,n=this.defaultStyle,r=n.height,i=n.width,a=/t/.test(t),o=/b/.test(t),s=/l/.test(t),l=/r/.test(t),c=0,u=0;2===t.length?(c=s?0:i,u=a?0:r):((a||o)&&(c=i/2,u=a?0:r),(s||l)&&(c=s?0:i,u=r/2));var A={marginLeft:s||l?"-5px":0,marginTop:a||o?"-5px":0,left:"".concat(c,"px"),top:"".concat(u,"px"),cursor:t.split("").reverse().map((function(t){return e.directionKey[t]})).join("")+"-resize"};return A},handleTopWrapperClick:function(t){t.stopPropagation(),t.preventDefault()},handleMouseDownOnElement:function(t){var e=this;this.$emit("handleElementClick");var n=jl({},this.defaultStyle),r=t.clientY,i=t.clientX,a=n.top,o=n.left,s="",l="";s=(new Date).getTime();var c=function(t){t.stopPropagation(),t.preventDefault();var s=t.clientX,l=t.clientY;n.top=l-r+a,n.left=s-i+o,e.$emit("resize",n)},u=function t(){l=(new Date).getTime(),l-s>200&&e.$emit("resize"),document.removeEventListener("mousemove",c,!0),document.removeEventListener("mouseup",t,!0)};return document.addEventListener("mousemove",c,!0),document.addEventListener("mouseup",u,!0),!0},handleMouseDownOnPoint:function(t){var e=this,n=event;this.$emit("handleElementClick"),n.stopPropagation(),n.preventDefault();var r=jl({},this.defaultStyle),i=r.height,a=r.width,o=r.top,s=r.left,l=n.clientX,c=n.clientY,u=function(n){var u=n.clientX,A=n.clientY,h=A-c,f=u-l,d=/t/.test(t),p=/b/.test(t),m=/l/.test(t),g=/r/.test(t),v=+i+(d?-h:p?h:0),_=+a+(m?-f:g?f:0);r.height=v>0?v:0,r.width=_>0?_:0,r.left=+s+(m?f:0),r.top=+o+(d?h:0),e.$emit("resize",r)},A=function t(){e.$emit("resize"),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",A)}}},Wl=Xl,Yl=(n("b1f4"),Object(p["a"])(Wl,Ql,Hl,!1,null,"0d798d6b",null)),ql=Yl.exports,Jl=n("1336"),Zl=n("c0e9"),$l=n.n(Zl);function tc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tc(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}window._qk_register_components_object=al;var nc={props:{scale:{type:Number,default:1}},components:ec(ec({},al),{},Object(o["a"])({},ql.name,ql)),data:function(){return{getCommonStyle:Jl["a"].getCommonStyle,menuOptions:[{title:"复制",icon:"iconfont icon-fuzhi",value:"copy"},{title:"删除",icon:"iconfont iconshanchu",value:"delete"},{title:"字体放大",icon:"iconfont iconzitifangda",value:"fontA+"},{title:"字体缩小",icon:"iconfont iconzitisuoxiao",value:"fontA-"},{title:"字体加粗",icon:"iconfont iconzitijiacu",value:"fontB"},{title:"图层上移",icon:"iconfont iconziyuan1",value:"layerUp"},{title:"图层下移",icon:"iconfont iconxiayiyiceng",value:"layerDown"},{title:"图层置顶",icon:"iconfont iconcontrol-top",value:"layerTop"},{title:"图层置底",icon:"iconfont iconcontrol-bottom",value:"layerBottom"}],editorPaneWidth:0}},computed:ec(ec(ec({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(dl["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),{},{getMenuOptionsPositionStyle:function(){var t=(this.editorPaneWidth-this.projectData.width*this.scale)/2,e=t<60?16:t;return{right:e+"px"}}}),mounted:function(){this.editorPaneWidth=this.$refs.editorPane.offsetHeight},methods:{handleElementClick:function(t){this.$store.dispatch("setActiveElementUUID",t)},handleElementResize:function(t){t?(this.projectData.pages[this.currentPageIndex].elements[this.activeElementIndex].commonStyle.left=t.left,this.projectData.pages[this.currentPageIndex].elements[this.activeElementIndex].commonStyle=ec({},t)):this.$store.dispatch("addHistoryCache")},handleClickCanvas:function(t){t.target.classList.contains("element-on-edit-pane")||t.target.classList.contains("menu-item-on-edit-panel")||this.$store.dispatch("setActiveElementUUID","")},handleElementCommand:function(t){this.$store.dispatch("elementCommand",t)},handleKeyup:function(t){console.log("键盘被点了",t)},screenshots:function(){var t=this,e=document.querySelector("#canvas-panel");$l()(e,{width:375,height:667,proxy:"/htmltocanvas/corsproxy"}).then((function(e){var n=e.toDataURL("image/jpeg");t.$store.commit("updateCoverImage",n)}))}}},rc=nc,ic=(n("ec81"),Object(p["a"])(rc,Rl,Pl,!1,null,"71f2418f",null)),ac=ic.exports,oc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?n("div",{staticClass:"attr-edit-inner"},[n("div",{staticClass:"props-attr-style"},[n("propsAttr")],1),n("div",{staticClass:"common-attr-style"},[n("baseAttr")],1)]):n("div",[n("p",{staticClass:"gray paddingT30 text-center white"},[t._v("请在画板上选择需要编辑得元素")])])])},sc=[],lc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"page-title fontBold"},[t._v("基础样式")]),n("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("el-collapse-item",{staticStyle:{color:"#ffffff","background-color":"#142d4d"},attrs:{title:"尺寸与位置：",name:"1"}},[n("div",{staticClass:"attr-item-edit-wrapper marginB15"},[n("p",{staticClass:"attr-item-title"},[t._v("快捷定位：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},t._l(t.alignTypeList,(function(e){return n("div",{key:e.type,staticClass:"align-type-item",on:{click:function(n){return t.changeAlignType(e.type)}}},[n("el-tooltip",{attrs:{effect:"dark",content:e.title,placement:"bottom"}},[n("i",{class:[e.icon]})])],1)})),0)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("尺寸：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.activeElement.commonStyle.width,callback:function(e){t.$set(t.activeElement.commonStyle,"width",e)},expression:"activeElement.commonStyle.width"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("宽度")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.activeElement.commonStyle.height,callback:function(e){t.$set(t.activeElement.commonStyle,"height",e)},expression:"activeElement.commonStyle.height"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("高度")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("快捷resize：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleResizeClick("wh")}}},[n("el-tooltip",{attrs:{effect:"dark",content:"满屏",placement:"bottom"}},[n("i",{staticClass:"iconfont iconquanping"})])],1),n("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleResizeClick("w")}}},[n("el-tooltip",{attrs:{effect:"dark",content:"宽100%",placement:"bottom"}},[n("i",{staticClass:"iconfont iconcolumn-width"})])],1),n("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleResizeClick("h")}}},[n("el-tooltip",{attrs:{effect:"dark",content:"高100%",placement:"bottom"}},[n("i",{staticClass:"iconfont iconcolum-height"})])],1)])]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("位置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.activeElement.commonStyle.top,callback:function(e){t.$set(t.activeElement.commonStyle,"top",e)},expression:"activeElement.commonStyle.top"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("X")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.activeElement.commonStyle.left,callback:function(e){t.$set(t.activeElement.commonStyle,"left",e)},expression:"activeElement.commonStyle.left"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("Y")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("旋转：")]),n("div",{staticClass:"col-1 attr-item-edit-input"},[n("el-slider",{attrs:{"show-input":"",min:-180,max:180,marks:{0:"",90:"","-90":""},"input-size":"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.rotate,callback:function(e){t.$set(t.activeElement.commonStyle,"rotate",e)},expression:"activeElement.commonStyle.rotate"}})],1)])]),n("el-collapse-item",{attrs:{title:"边框边距：",name:"2"}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("边框：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderWidth,callback:function(e){t.$set(t.activeElement.commonStyle,"borderWidth",e)},expression:"activeElement.commonStyle.borderWidth"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("尺寸")])],1),n("div",{staticClass:"col-3 attr-item-edit-input"},[n("el-color-picker",{attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderColor,callback:function(e){t.$set(t.activeElement.commonStyle,"borderColor",e)},expression:"activeElement.commonStyle.borderColor"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("颜色")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-select",{attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderStyle,callback:function(e){t.$set(t.activeElement.commonStyle,"borderStyle",e)},expression:"activeElement.commonStyle.borderStyle"}},t._l(t.borderStyleList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("样式")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("边框圆弧：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderRadius,callback:function(e){t.$set(t.activeElement.commonStyle,"borderRadius",e)},expression:"activeElement.commonStyle.borderRadius"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("上下边距：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingTop,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingTop",e)},expression:"activeElement.commonStyle.paddingTop"}})],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingBottom,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingBottom",e)},expression:"activeElement.commonStyle.paddingBottom"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("左右边距：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingLeft,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingLeft",e)},expression:"activeElement.commonStyle.paddingLeft"}})],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingRight,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingRight",e)},expression:"activeElement.commonStyle.paddingRight"}})],1)])]),n("el-collapse-item",{attrs:{title:"阴影样式：",name:"3"}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("阴影位置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.h,callback:function(e){t.$set(t.boxShadow,"h",e)},expression:"boxShadow.h"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("水平阴影位置")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.v,callback:function(e){t.$set(t.boxShadow,"v",e)},expression:"boxShadow.v"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("垂直阴影位置")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("阴影位置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.blur,callback:function(e){t.$set(t.boxShadow,"blur",e)},expression:"boxShadow.blur"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("水平阴影位置")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.spread,callback:function(e){t.$set(t.boxShadow,"spread",e)},expression:"boxShadow.spread"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("垂直阴影位置")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("阴影颜色：")]),n("div",{staticClass:"attr-item-edit-input"},[n("el-color-picker",{attrs:{size:"mini"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.color,callback:function(e){t.$set(t.boxShadow,"color",e)},expression:"boxShadow.color"}})],1)])]),n("el-collapse-item",{attrs:{title:"字体：",name:"4"}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("字体大小：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.fontSize,callback:function(e){t.$set(t.activeElement.commonStyle,"fontSize",e)},expression:"activeElement.commonStyle.fontSize"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("字体粗细：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:300,step:100,max:900},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.fontWeight,callback:function(e){t.$set(t.activeElement.commonStyle,"fontWeight",e)},expression:"activeElement.commonStyle.fontWeight"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("行间距：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,step:.1},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.lineHeight,callback:function(e){t.$set(t.activeElement.commonStyle,"lineHeight",e)},expression:"activeElement.commonStyle.lineHeight"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("字间距：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.letterSpacing,callback:function(e){t.$set(t.activeElement.commonStyle,"letterSpacing",e)},expression:"activeElement.commonStyle.letterSpacing"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("对齐方式：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("left")}}},[n("el-tooltip",{attrs:{effect:"dark",content:"左对齐",placement:"bottom"}},[n("i",{staticClass:"iconfont iconzuoduiqi1"})])],1),n("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("center")}}},[n("el-tooltip",{attrs:{effect:"dark",content:"居中对齐",placement:"bottom"}},[n("i",{staticClass:"iconfont iconjuzhongduiqi"})])],1),n("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("right")}}},[n("el-tooltip",{attrs:{effect:"dark",content:"右对齐",placement:"bottom"}},[n("i",{staticClass:"iconfont iconyouduiqi2"})])],1)])]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("字体颜色：")]),n("div",{staticClass:"attr-item-edit-input"},[n("el-color-picker",{attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.color,callback:function(e){t.$set(t.activeElement.commonStyle,"color",e)},expression:"activeElement.commonStyle.color"}})],1)])]),n("el-collapse-item",{attrs:{title:"背景&&透明度：",name:"5"}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("背景颜色：")]),n("div",{staticClass:"attr-item-edit-input no-top"},[n("el-color-picker",{attrs:{size:"mini","show-alpha":!0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.backgroundColor,callback:function(e){t.$set(t.activeElement.commonStyle,"backgroundColor",e)},expression:"activeElement.commonStyle.backgroundColor"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("背景图片：")]),n("div",{staticClass:"attr-item-edit-input"},[n("imageSelect",{attrs:{url:t.activeElement.commonStyle.backgroundImage},on:{"update:url":function(e){return t.$set(t.activeElement.commonStyle,"backgroundImage",e)},change:t.throttleAddHistory}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("透明度：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,max:1,step:.1},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.opacity,callback:function(e){t.$set(t.activeElement.commonStyle,"opacity",e)},expression:"activeElement.commonStyle.opacity"}})],1)])])],1)],1)},cc=[],uc=(n("a481"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image-select-wrapper"},[n("div",{staticClass:"image-select-l"},[n("div",{staticClass:"component-image-select",on:{click:t.handleClick}},[t.url?n("img",{attrs:{src:t.url,alt:""}}):n("div",{staticClass:"image-preview-null"},[t._m(0),n("p",[t._v("选择图片")])])])]),n("div",{staticClass:"image-select-r white"},[n("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入图片地址"},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)])}),Ac=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("i",{staticClass:"el-icon-plus"})])}],hc={props:{url:String},data:function(){return{selectId:+new Date,tempValue:""}},created:function(){Gl.$on("select-image",this.changeIamge),this.tempValue=this.url},watch:{url:function(t){this.tempValue=t},tempValue:function(t){this.changeIamge(this.selectId,t)}},methods:{changeIamge:function(t,e){t===this.selectId&&(this.$emit("update:url",e),this.$emit("change",e))},handleClick:function(){Gl.$emit("show-select-image",this.selectId)}}},fc=hc,dc=(n("fee9"),Object(p["a"])(fc,uc,Ac,!1,null,"1564ef14",null)),pc=dc.exports;function mc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mc(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var vc={components:{imageSelect:pc},data:function(){return{alignTypeList:[{title:"左对齐",icon:"iconfont iconzuoduiqi",type:"l"},{title:"上对齐",icon:"iconfont iconshangduiqi",type:"t"},{title:"右对齐",icon:"iconfont iconyouduiqi",type:"r"},{title:"下对齐",icon:"iconfont iconxiaduiqi",type:"b"},{title:"垂直居中对齐",icon:"iconfont iconchuizhijuzhongduiqi",type:"tb"},{title:"水平居中对齐",icon:"iconfont iconshuipingjuzhongduiqi",type:"lr"}],borderStyleList:[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点状",value:"dotted"},{label:"双线",value:"double"}],boxShadow:{h:0,v:0,blur:0,spread:0,color:"#000000"}}},computed:gc(gc({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID},activeAttrEditCollapse:function(t){return t.editor.activeAttrEditCollapse}})),Object(dl["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),watch:{activeElementUUID:function(){var t=this;this.$nextTick((function(){t.initBoxShadowEdit()}))},activeNames:function(){this.$store.commit("updateActiveAttrEditCollapse",this.activeNames)}},created:function(){this.throttleAddHistory=Object(c["throttle"])(this.addHistory,3e3)},mounted:function(){this.initBoxShadowEdit(),this.activeNames=this.activeAttrEditCollapse},methods:{addHistory:function(){this.$store.dispatch("addHistoryCache")},changeAlignType:function(t){var e=this.$config.canvasH5Width,n=this.$config.canvasH5Height,r=this.activeElement.commonStyle.width,i=this.activeElement.commonStyle.height;switch(t){case"t":this.activeElement.commonStyle.top=0;break;case"b":this.activeElement.commonStyle.top=Object(c["subtract"])(n-i);break;case"l":this.activeElement.commonStyle.left=0;break;case"r":this.activeElement.commonStyle.left=Object(c["subtract"])(e-r);break;case"tb":this.activeElement.commonStyle.top=Object(c["ceil"])(Object(c["divide"])(Object(c["subtract"])(n-i),2),2);break;case"lr":this.activeElement.commonStyle.left=Object(c["ceil"])(Object(c["divide"])(Object(c["subtract"])(e-r),2),2);break}},initBoxShadowEdit:function(){var t=this.activeElement.commonStyle.boxShadow,e={h:0,v:0,blur:0,spread:0,color:"#000000"};if(t&&"none"!==t){var n=t.split(" ");e={h:parseInt(n[0].replace("px","")),v:parseInt(n[1].replace("px","")),blur:parseInt(n[2].replace("px","")),spread:parseInt(n[3].replace("px","")),color:n[4]},this.boxShadow=e}else this.boxShadow=e},boxShadowChange:function(){var t="".concat(this.boxShadow.h,"px ").concat(this.boxShadow.v,"px  ").concat(this.boxShadow.blur,"px  ").concat(this.boxShadow.spread,"px  ").concat(this.boxShadow.color);this.activeElement.commonStyle.boxShadow=t},handleTextAlignClick:function(t){this.activeElement.commonStyle.textAlign=t},handleResizeClick:function(t){t.includes("w")&&(this.activeElement.commonStyle.left=0,this.activeElement.commonStyle.width=this.$config.canvasH5Width),t.includes("h")&&(this.activeElement.commonStyle.top=0,this.activeElement.commonStyle.height=this.$config.canvasH5Height)}}},_c=vc,yc=(n("3419"),n("51dc"),Object(p["a"])(_c,lc,cc,!1,null,"a6c2709c",null)),wc=yc.exports,xc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentElementProps.length?n("div",[n("div",{staticClass:"attr-title marginB10 fontBold"},[t._v("组件属性")]),n("el-form",t._l(t.currentElementProps,(function(e){return n("attr-qk-"+e,t._b({key:e,tag:"component"},"component",t.activeElement.propsValue,!1,!0))})),1)],1):t._e()},bc=[],Cc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{attrs:{label:"文本内容："}},[n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入文本内容"},model:{value:t.tempText,callback:function(e){t.tempText=e},expression:"tempText"}})],1)},Bc=[],Ec={name:"attr-qk-text",props:{text:String},data:function(){return{tempText:""}},mounted:function(){this.tempText=this.text},watch:{text:function(){this.tempText=this.text},tempText:function(){this.$emit("update:text",this.tempText)}}},Tc=Ec,Sc=Object(p["a"])(Tc,Cc,Bc,!1,null,"09000490",null),Mc=Sc.exports,Nc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{attrs:{label:"图片："}},[n("imageSelect",{attrs:{url:t.tempValue},on:{"update:url":function(e){t.tempValue=e}}})],1)},Dc=[],Oc={name:"attr-qk-imageSrc",props:{imageSrc:String},components:{imageSelect:pc},data:function(){return{tempValue:""}},mounted:function(){this.tempValue=this.imageSrc},watch:{imageSrc:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:imageSrc",this.tempValue)}}},Uc=Oc,Ic=Object(p["a"])(Uc,Nc,Dc,!1,null,"4af4049c",null),Lc=Ic.exports,Fc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{attrs:{label:"图片列表："}},t._l(t.tempValue,(function(e,r){return n("div",{key:r},[n("imageSelect",{attrs:{url:e.url},on:{"update:url":function(n){return t.$set(e,"url",n)},change:t.change}}),n("span",{staticClass:"imageSelect-btn",on:{click:function(n){return t.add(e.url,r)}}},[n("i",{staticClass:"el-icon-circle-plus-outline selectIco"})]),n("span",{staticClass:"imageSelect-btn",on:{click:function(n){return t.dele(e.url,r)}}},[n("i",{staticClass:"el-icon-remove-outline selectIco"})])],1)})),0)},Rc=[],Pc={name:"attr-qk-imageSrcList",props:{imageSrcList:{type:Array,default:function(){return[]}}},components:{imageSelect:pc},data:function(){return{tempValue:[]}},created:function(){this.initData()},watch:{imageSrc:function(){this.initData()}},methods:{initData:function(){var t=[];this.imageSrcList.forEach((function(e){t.push({url:e})})),this.tempValue=t},getResultImageSrcList:function(){for(var t=[],e=0,n=this.tempValue.length;e<n;e++)t.push(this.tempValue[e].url);return t},change:function(){this.$emit("update:imageSrcList",this.getResultImageSrcList())},add:function(t,e){this.imageSrcList.splice(e,0,t),this.initData()},dele:function(t,e){this.imageSrcList.splice(e,1),this.initData()}}},Qc=Pc,Hc=(n("e309"),Object(p["a"])(Qc,Fc,Rc,!1,null,"0503bf95",null)),kc=Hc.exports,zc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{attrs:{label:"url地址："}},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url地址"},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)},Vc=[],Gc={name:"attr-qk-url",props:{url:String},data:function(){return{tempValue:""}},mounted:function(){this.tempValue=this.url},watch:{url:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:url",this.tempValue)}}},Kc=Gc,jc=Object(p["a"])(Kc,zc,Vc,!1,null,"8f9e7e74",null),Xc=jc.exports,Wc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{attrs:{label:"资源地址："}},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url地址"},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)},Yc=[],qc={name:"attr-qk-musicSrc",props:{musicSrc:String},data:function(){return{tempValue:""}},mounted:function(){this.tempValue=this.musicSrc},watch:{musicSrc:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:musicSrc",this.tempValue)}}},Jc=qc,Zc=Object(p["a"])(Jc,Wc,Yc,!1,null,"2c31295e",null),$c=Zc.exports,tu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},eu=[];function nu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ru(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nu(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var iu={name:"attr-qk-resize",props:{resize:Object},computed:ru({},Object(dl["c"])(["activeElement"])),watch:{"activeElement.commonStyle":function(t){var e={width:t.width,height:t.height};this.$emit("update:resize",e)}}},au=iu,ou=Object(p["a"])(au,tu,eu,!1,null,null,null),su=ou.exports,lu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"图表标题："}},[n("el-input",{staticStyle:{"margin-bottom":"15px"},attrs:{placeholder:"在这里修改标题内容"},model:{value:t.title.text,callback:function(e){t.$set(t.title,"text",e)},expression:"title.text"}}),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("x轴位置：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-select",{staticClass:"select",attrs:{placeholder:"请选择",size:"mini"},model:{value:t.title.x,callback:function(e){t.$set(t.title,"x",e)},expression:"title.x"}},t._l(t.options1,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("p",{staticClass:"attr-item-title"},[t._v("y轴位置：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-select",{staticClass:"select",attrs:{placeholder:"请选择",size:"mini"},model:{value:t.title.y,callback:function(e){t.$set(t.title,"y",e)},expression:"title.y"}},t._l(t.options2,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("对齐方式：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.title.textAlign,callback:function(e){t.$set(t.title,"textAlign",e)},expression:"title.textAlign"}},t._l(t.options3,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("字体颜色：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-color-picker",{staticStyle:{float:"left","margin-right":"4px"},attrs:{"show-alpha":"",size:"mini"},model:{value:t.title.textStyle.color,callback:function(e){t.$set(t.title.textStyle,"color",e)},expression:"title.textStyle.color"}})],1),n("p",{staticClass:"attr-item-title"},[t._v("字体大小：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-input-number",{staticStyle:{width:"80px"},attrs:{min:1,max:100,step:2,"controls-position":"right",size:"mini"},model:{value:t.title.textStyle.fontSize,callback:function(e){t.$set(t.title.textStyle,"fontSize",e)},expression:"title.textStyle.fontSize"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("字体粗细：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.title.textStyle.fontWeight,callback:function(e){t.$set(t.title.textStyle,"fontWeight",e)},expression:"title.textStyle.fontWeight"}},t._l(t.options4,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)])],1)],1)},cu=[],uu={name:"attr-qk-titleV",props:{titleV:Object},data:function(){return{options1:[{value:"left",label:"左"},{value:"middle",label:"中"},{value:"right",label:"右"}],options2:[{value:"top",label:"上"},{value:"bottom",label:"下"}],options3:[{value:"auto",label:"自动对齐"},{value:"left",label:"左对齐"},{value:"right",label:"右对齐"},{value:"center",label:"居中对齐"}],options4:["normal","bold","bolder","lighter"],title:this.titleV}},watch:{titleV:function(){this.tempText=this.titleV.text},title:function(){this.$emit("update:titleV",this.title)}}},Au=uu,hu=(n("bd0e"),n("599a"),Object(p["a"])(Au,lu,cu,!1,null,"3c1829a7",null)),fu=hu.exports,du=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"数据配置："}},[n("div",{ref:"shape",staticClass:"qk-table",attrs:{id:"x-spreadsheet-demo"}}),n("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"primary",size:"mini"},on:{click:t.showDialogVisible}},[t._v("选择数据源")]),n("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"primary",size:"mini"},on:{click:t.upData}},[t._v("数据同步")]),n("el-dialog",{attrs:{title:"本地数据",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.fileList,"show-header":!1,"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[n("el-table-column",{attrs:{type:"index",width:"30"}}),n("el-table-column",{attrs:{property:"name",label:"文件名"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.getNewDataById}},[t._v("确 定")])],1)],1)],1)],1)},pu=[],mu=n("8d4a"),gu=n("015c"),vu=function(){function t(){ns(this,t)}return is(t,null,[{key:"dataset2excel",value:function(t){return t.map((function(t){return{cells:{0:{text:t.x},1:{text:t.y},2:{text:t.s}}}}))}},{key:"binaryMatrix2excel",value:function(t){var e=t.map((function(t,e){var n={};return t.forEach((function(t,e){n[e]={text:t}})),{cells:n}}));return e}},{key:"excel2chartDataSet",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Object(es["a"])(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text})),n=ts(e,3),r=n[0],i=n[1],a=n[2];return{x:r,y:i,s:a}}));return n}},{key:"excel2BinaryMatrix",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Object(es["a"])(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text}));return e}));return console.log("dataset",n),n}},{key:"csv2VChartJson",value:function(t){var e=t[0],n=t.slice(1),r={columns:e,rows:n.map((function(t,n){var r={};return e.forEach((function(e,n){r[e.trim()]=t[n]})),r}))};return r}},{key:"csv2List",value:function(t){var e=t,n=[];for(var r in e)"len"!=r&&n.push(e[r]["cells"]);var i=[];for(var a in n){var o=[];for(var s in n[a])o.push(n[a][s]["text"]);i.push(o)}return i}},{key:"vChartJson2Csv",value:function(t,e){var n=t.map((function(t){var e={},n=0;for(var r in t)e[n]={text:t[r]},n++;return e})),r={};for(var i in e)r[i]={text:e[i]};for(var a={},o=1;o<=n.length;o++)a[o]={cells:n[o-1]};var s={0:{cells:r}},l=Object.assign(a,s),c={rows:l,cols:{len:e.length}};return c}}]),t}();mu["a"].locale("zh-cn",gu["a"]);var _u,yu={name:"attr-qk-chartDataV",props:{chartDataV:Object},data:function(){return{dialogVisible:!1,tabPosition:"left",fileList:[],temprows:[],tempclos:[],currentRow:null,selectId:"",selectName:"",changeData:null}},mounted:function(){this.tempclos=this.chartDataV.columns,this.temprows=this.chartDataV.rows,this.init()},watch:{chartDataV:function(){this.tempclos=this.chartDataV.columns,this.temprows=this.chartDataV.rows},temprows:function(){var t={columns:this.tempclos,rows:this.temprows};this.$emit("update:chartDataV",t)}},methods:{upData:function(){var t=this,e={_id:this.selectId,name:this.selectName,data:this.changeData};""===this.selectId?this.$message.error("请选择数据源中的数据进行同步！"):this.$API.upData(e).then((function(){t.$message.success("数据同步至数据库成功！")})).catch((function(){t.$message.error("数据同步至数据库失败！")}))},getDataList:function(){var t=this;this.fileList=[],this.$API.getMyData().then((function(e){for(var n in e.body)t.fileList.push(e.body[n])}))},getNewDataById:function(){var t=this;this.dialogVisible=!1,this.$API.getDataById({_id:this.selectId}).then((function(e){var n=e.body["data"][0]["rows"],r=vu.csv2List(n),i=vu.csv2VChartJson(r);t.chartDataV.columns=i.columns,t.chartDataV.rows=i.rows,t.tempclos=t.chartDataV.columns,t.temprows=t.chartDataV.rows;var a=document.getElementsByClassName("x-spreadsheet");a[0].remove(),t.init()}))},showDialogVisible:function(){this.dialogVisible=!0,this.getDataList()},handleCurrentChange:function(t){null!=t&&(this.currentRow=t,this.selectId=t._id,this.selectName=t.name)},init:function(){var t=this,e=vu.vChartJson2Csv(this.temprows,this.tempclos),n=new mu["a"]("#x-spreadsheet-demo",{showToolbar:!1,showGrid:!0,row:{len:this.temprows.length+9,height:25},view:{height:function(){return 317},width:function(){return 317}},col:{len:this.tempclos.length,width:80,indexWidth:60,minWidth:60}}).loadData(e).change((function(e){t.changeData=[{name:e.name,rows:e.rows}];var n=vu.csv2List(e.rows),r=vu.csv2VChartJson(n);t.tempclos=r["columns"],t.temprows=r["rows"]}));n.bottombar.el.hide()}}},wu=yu,xu=(n("8a66"),Object(p["a"])(wu,du,pu,!1,null,"3d05bb73",null)),bu=xu.exports,Cu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"数据类型配置："}},[n("div",{staticClass:"box1"},[t._v("\n      维度：       "),n("el-select",{attrs:{placeholder:"请选择",size:"mini",multiple:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),n("p"),n("div",{staticClass:"box1"},[t._v("\n      指标：       "),n("el-select",{attrs:{placeholder:"请选择",size:"mini",multiple:""},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),n("p"),n("div",{staticClass:"box1"},[t._v("\n    数据类型："),n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.common.dataType,callback:function(e){t.$set(t.common,"dataType",e)},expression:"common.dataType"}},t._l(t.options3,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),"percent"===t.common.dataType?n("div",{staticClass:"box1"},[t._v("\n      小数点保留位数："),n("el-input-number",{attrs:{"controls-position":"right",min:1,max:10,size:"mini"},on:{change:t.change},model:{value:t.common.digit,callback:function(e){t.$set(t.common,"digit",e)},expression:"common.digit"}})],1):t._e()])],1)},Bu=[],Eu={name:"attr-qk-commonV",props:{commonV:Object,chartDataV:Object},data:function(){return{options:[],options3:[{value:"KMB",label:"kmb 格式"},{value:"normal",label:"千分位"},{value:"percent",label:"百分比格式"}],value1:[],value2:[],common:this.commonV}},methods:{change:function(t){this.common.digit=t}},watch:{chartDataV:function(t){var e=this;this.value1=[],this.value2=[],t.columns.forEach((function(n,r){0===r?e.value1=[t.columns[0]]:e.value2.push(n)})),this.options=t.columns},commonV:function(t){this.common=t},value1:function(){this.common.dimension=this.value1},value2:function(){this.common.metrics=this.value2},common:function(){this.$emit("update:commonV",this.common)}}},Tu=Eu,Su=(n("2965"),Object(p["a"])(Tu,Cu,Bu,!1,null,"225fa1c4",null)),Mu=Su.exports,Nu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"XY轴配置："}},[n("div",{staticClass:"box1"},[t._v("\n    横轴数据类型：           "),n("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.xyConfig.xAxisType,callback:function(e){t.$set(t.xyConfig,"xAxisType",e)},expression:"xyConfig.xAxisType"}},t._l(t.options1,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n    上下坐标轴标题：       \n      "),t._l(t.xyConfig.xAxisName,(function(e,r){return n("div",{key:r},[n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.xyConfig.xAxisName[r],callback:function(e){t.$set(t.xyConfig.xAxisName,r,e)},expression:"xyConfig.xAxisName[index]"}})],1)}))],2),n("div",{staticClass:"box1"},[t._v("\n    左右坐标轴数据类型："),n("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",size:"mini",multiple:""},model:{value:t.xyConfig.yAxisType,callback:function(e){t.$set(t.xyConfig,"yAxisType",e)},expression:"xyConfig.yAxisType"}},t._l(t.options3,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n    左右坐标轴标题：       \n      "),t._l(t.xyConfig.yAxisName,(function(e,r){return n("div",{key:r},[n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.xyConfig.yAxisName[r],callback:function(e){t.$set(t.xyConfig.yAxisName,r,e)},expression:"xyConfig.yAxisName[index]"}})],1)}))],2),n("div",{staticClass:"box1"},[t._v("\n    左右坐标轴最小值:\n      "),n("p"),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.xyConfig.min[0],callback:function(e){t.$set(t.xyConfig.min,0,e)},expression:"xyConfig.min[0]"}}),t._v("\n\n            "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.xyConfig.min[1],callback:function(e){t.$set(t.xyConfig.min,1,e)},expression:"xyConfig.min[1]"}})],1),n("div",{staticClass:"box1"},[t._v("\n    左右坐标轴最大值:\n      "),n("p"),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.xyConfig.max[0],callback:function(e){t.$set(t.xyConfig.max,0,e)},expression:"xyConfig.max[0]"}}),t._v("\n\n             "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.xyConfig.max[1],callback:function(e){t.$set(t.xyConfig.max,1,e)},expression:"xyConfig.max[1]"}})],1)])],1)},Du=[],Ou={name:"attr-qk-xyConfigV",props:{xyConfigV:Object},data:function(){return{input:"",options1:[{value:"value",label:"value"},{value:"category",label:"category"},{value:"time",label:"time"},{value:"log",label:"log"}],options3:[{value:"KMB",label:"kmb 格式"},{value:"normal",label:"千分位"},{value:"percent",label:"百分比格式"}],xyConfig:this.xyConfigV}},watch:{xyConfigV:function(t){this.xyConfig=t},xyConfig:function(){this.$emit("update:xyConfigV",this.xyConfig)}}},Uu=Ou,Iu=(n("ae65"),Object(p["a"])(Uu,Nu,Du,!1,null,"6c8929ba",null)),Lu=Iu.exports,Fu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"指标设置："}},[n("div",{staticStyle:{"font-size":"13px"}},[t._v("\n    指标名称："),n("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v("\n         "),n("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入名称",size:"mini"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)])],1)},Ru=[],Pu={name:"attr-qk-labelMapV",props:{labelMapV:Object},data:function(){return{value4:[],input:"",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}},created:function(){},methods:{}},Qu=Pu,Hu=(n("114d"),Object(p["a"])(Qu,Fu,Ru,!1,null,"4d08b9f3",null)),ku=Hu.exports,zu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"显示设置："}},[t.line_column_bar.axisSite.left?n("div",{staticClass:"box1"},[t._v("\n      左轴的指标："),n("el-select",{attrs:{placeholder:"请选择",size:"mini",multiple:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1):t._e(),t.line_column_bar.axisSite.right?n("div",{staticClass:"box1"},[t._v("\n      右轴的指标："),n("el-select",{attrs:{placeholder:"请选择",size:"mini",multiple:""},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1):t._e(),t.line_column_bar.axisSite.top?n("div",{staticClass:"box1"},[t._v("\n      上轴的指标："),n("el-select",{attrs:{placeholder:"请选择",size:"mini",multiple:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1):t._e(),t.line_column_bar.axisSite.bottom?n("div",{staticClass:"box1"},[t._v("\n      下轴的指标："),n("el-select",{attrs:{placeholder:"请选择",size:"mini",multiple:""},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1):t._e(),n("p"),n("p"),n("div",{staticClass:"box1"},[t._v("\n      展示面积图：    "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.line_column_bar.area,callback:function(e){t.$set(t.line_column_bar,"area",e)},expression:"line_column_bar.area"}})],1),n("p"),n("div",{staticClass:"box1"},[t._v("\n      0 值比例：        "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.line_column_bar.scale[0],callback:function(e){t.$set(t.line_column_bar.scale,0,e)},expression:"line_column_bar.scale[0]"}}),t._v("\n           "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.line_column_bar.scale[1],callback:function(e){t.$set(t.line_column_bar.scale,1,e)},expression:"line_column_bar.scale[1]"}})],1),n("p"),n("div",{staticClass:"box1"},[t._v("\n      透明度:             \n      "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.line_column_bar.opacity,callback:function(e){t.$set(t.line_column_bar,"opacity",e)},expression:"line_column_bar.opacity"}})],1)])],1)},Vu=[],Gu={name:"attr-qk-line_column_barV",props:{line_column_barV:Object,chartDataV:Object},data:function(){return{options:[],value1:[],value2:[],line_column_bar:this.line_column_barV}},watch:{chartDataV:function(t){this.value1=[t.columns[1]],this.options=t.columns},value1:function(){this.line_column_bar.axisSite.left?this.line_column_bar.axisSite.left=this.value1:this.line_column_bar.axisSite.top&&(this.line_column_bar.axisSite.top=this.value1)},value2:function(){this.line_column_bar.axisSite.right?this.line_column_bar.axisSite.right=this.value2:this.line_column_bar.axisSite.bottom&&(this.line_column_bar.axisSite.bottom=this.value2)}}},Ku=Gu,ju=(n("49dd"),Object(p["a"])(Ku,zu,Vu,!1,null,"2883e2c8",null)),Xu=ju.exports,Wu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"散点图设置："}},[n("div",{staticClass:"box1"},[t._v("\n      坐标轴显示：   "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.scatterV.axisVisible,callback:function(e){t.$set(t.scatterV,"axisVisible",e)},expression:"scatterV.axisVisible"}})],1),n("div",{staticClass:"box1"},[t._v("\n      脱离0值比例：  "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.scatterV.scale,callback:function(e){t.$set(t.scatterV,"scale",e)},expression:"scatterV.scale"}})],1),n("div",{staticClass:"box1"},[t._v("\n      提示框触发方式："),n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.scatterV.tooltipTrigger,callback:function(e){t.$set(t.scatterV,"tooltipTrigger",e)},expression:"scatterV.tooltipTrigger"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      气泡最大值：       "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scatterV.symbolSizeMax,callback:function(e){t.$set(t.scatterV,"symbolSizeMax",e)},expression:"scatterV.symbolSizeMax"}})],1),n("div",{staticClass:"box1"},[t._v("\n      标记图形：           "),n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.scatterV.symbol,callback:function(e){t.$set(t.scatterV,"symbol",e)},expression:"scatterV.symbol"}},t._l(t.options2,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      标记的大小：        "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scatterV.symbolSize,callback:function(e){t.$set(t.scatterV,"symbolSize",e)},expression:"scatterV.symbolSize"}})],1),n("div",{staticClass:"box1"},[t._v("\n      标记的旋转角度： "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scatterV.symbolRotate,callback:function(e){t.$set(t.scatterV,"symbolRotate",e)},expression:"scatterV.symbolRotate"}}),n("div",{staticClass:"x",staticStyle:{"text-align":"right",width:"150px"}},[t._v("X")])],1),n("div",{staticClass:"box1"},[t._v("\n      标记位置偏移：    "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scatterV.symbolOffset[0],callback:function(e){t.$set(t.scatterV.symbolOffset,0,e)},expression:"scatterV.symbolOffset[0]"}}),t._v("\n\n       "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scatterV.symbolOffset[1],callback:function(e){t.$set(t.scatterV.symbolOffset,1,e)},expression:"scatterV.symbolOffset[1]"}}),n("div",{staticClass:"x",staticStyle:{"text-align":"right",width:"150px"}},[t._v("X")])],1)])],1)},Yu=[],qu={name:"attr-qk-scatterV",props:{scatterV:Object},data:function(){return{options:[{value:"item",label:"单数"},{value:"axis",label:"复数"}],options2:[{value:"circle",label:"圆形"},{value:"roundRect",label:"圆方形"},{value:"triangle",label:"三角形"},{value:"diamond",label:"菱形"},{value:"pin",label:"气球形"},{value:"arrow",label:"纸飞机形"},{value:"rect",label:"正方形"},{value:"none",label:"无"}]}}},Ju=qu,Zu=(n("f5c3"),Object(p["a"])(Ju,Wu,Yu,!1,null,"42d48364",null)),$u=Zu.exports,tA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"图形样式："}},[n("div",{staticClass:"box1"},[t._v("\n      阳线颜色：       "),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),t._v("\n              阴线颜色：  "),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),n("div",{staticClass:"box1"},[t._v("\n      阳线边框颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),t._v("\n         阴线边框颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),n("div",{staticClass:"box1"},[t._v("\n      边框宽度："),n("el-input-number",{staticStyle:{width:"80px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}}),t._v("\n         图形阴影："),n("el-input-number",{staticStyle:{width:"80px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),n("div",{staticClass:"box1"},[t._v("\n      阴影颜色：        "),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),n("div",{staticClass:"box1"},[t._v("\n      水平阴影偏移："),n("el-input-number",{staticStyle:{width:"150px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),n("div",{staticClass:"box1"},[t._v("\n      垂直阴影偏移："),n("el-input-number",{staticStyle:{width:"150px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),n("div",{staticClass:"box1"},[t._v("\n      透明度：           "),n("el-input-number",{staticStyle:{width:"150px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)])],1)},eA=[],nA={name:"attr-qk-itemStyleV",props:{itemStyleV:Object},data:function(){return{color:"rgba(255, 69, 0, 0.68)",predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"],num:1}},created:function(){},methods:{}},rA=nA,iA=(n("5655"),Object(p["a"])(rA,tA,eA,!1,null,"5c7c42fe",null)),aA=iA.exports,oA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"K线图设置："}},[n("div",{staticClass:"box1"},[t._v("\n      展示移动平均线指标：    "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.candleV.showMA,callback:function(e){t.$set(t.candleV,"showMA",e)},expression:"candleV.showMA"}})],1),n("div",{staticClass:"box1"},[t._v("\n      移动平均线指标周期："),n("p"),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.candleV.MA[0],callback:function(e){t.$set(t.candleV.MA,0,e)},expression:"candleV.MA[0]"}}),t._v("\n        "),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.candleV.MA[1],callback:function(e){t.$set(t.candleV.MA,1,e)},expression:"candleV.MA[1]"}}),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.candleV.MA[2],callback:function(e){t.$set(t.candleV.MA,2,e)},expression:"candleV.MA[2]"}}),t._v("\n        "),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.candleV.MA[3],callback:function(e){t.$set(t.candleV.MA,3,e)},expression:"candleV.MA[3]"}})],1),n("div",{staticClass:"box1"},[t._v("\n      展示成交量："),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.candleV.showVol,callback:function(e){t.$set(t.candleV,"showVol",e)},expression:"candleV.showVol"}})],1),n("div",{staticClass:"box1"},[t._v("\n      下降颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.candleV.downColor,callback:function(e){t.$set(t.candleV,"downColor",e)},expression:"candleV.downColor"}}),t._v("\n         上升颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.candleV.upColor,callback:function(e){t.$set(t.candleV,"upColor",e)},expression:"candleV.upColor"}})],1)])],1)},sA=[],lA={name:"attr-qk-candleV",props:{candleV:Object,chartDataV:Object},data:function(){return{color:"#00da3c",predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]}}},cA=lA,uA=(n("999f"),Object(p["a"])(cA,oA,sA,!1,null,"38b0f326",null)),AA=uA.exports,hA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"标签样式："}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("标签显示：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.labelV.label.show,callback:function(e){t.$set(t.labelV.label,"show",e)},expression:"labelV.label.show"}})],1),n("p",{staticClass:"attr-item-title"},[t._v("位置：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.labelV.label.position,callback:function(e){t.$set(t.labelV.label,"position",e)},expression:"labelV.label.position"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("字体颜色：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-color-picker",{staticStyle:{float:"left","margin-right":"4px"},attrs:{"show-alpha":"",size:"mini"},model:{value:t.labelV.label.color,callback:function(e){t.$set(t.labelV.label,"color",e)},expression:"labelV.label.color"}})],1),n("p",{staticClass:"attr-item-title"},[t._v("字体大小：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-input-number",{staticStyle:{width:"80px"},attrs:{min:1,max:100,step:2,"controls-position":"right",size:"mini"},model:{value:t.labelV.label.fontSize,callback:function(e){t.$set(t.labelV.label,"fontSize",e)},expression:"labelV.label.fontSize"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("字体风格：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.labelV.label.fontStyle,callback:function(e){t.$set(t.labelV.label,"fontStyle",e)},expression:"labelV.label.fontStyle"}},t._l(t.options2,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),n("p",{staticClass:"attr-item-title"},[t._v("字体粗细：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.labelV.label.fontWeight,callback:function(e){t.$set(t.labelV.label,"fontWeight",e)},expression:"labelV.label.fontWeight"}},t._l(t.options3,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)])])],1)},fA=[],dA={name:"attr-qk-labelV",props:{labelV:Object},data:function(){return{options:[{value:"outside",label:"外侧"},{value:"inside",label:"内部"},{value:"center",label:"中间"}],options2:["normal","italic","oblique"],options3:["normal","bold","bolder","lighter"]}}},pA=dA,mA=(n("c096"),n("6fa4"),Object(p["a"])(pA,hA,fA,!1,null,"2ece1aa2",null)),gA=mA.exports,vA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"图形显示设置："}},[n("div",{staticClass:"box1"},[t._v("\n      图例显示数量设置："),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.pie_ringV.legendLimit,callback:function(e){t.$set(t.pie_ringV,"legendLimit",e)},expression:"pie_ringV.legendLimit"}})],1),n("div",{staticClass:"box1"},[t._v("\n      选中模式：              \n      "),n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.pie_ringV.selectedMode,callback:function(e){t.$set(t.pie_ringV,"selectedMode",e)},expression:"pie_ringV.selectedMode"}},t._l(t.options1,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      hover：                   "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.pie_ringV.hoverAnimation,callback:function(e){t.$set(t.pie_ringV,"hoverAnimation",e)},expression:"pie_ringV.hoverAnimation"}})],1),n("div",{staticClass:"box1"},[t._v("\n      半径：                 "),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.pie_ringV.radius,callback:function(e){t.$set(t.pie_ringV,"radius",e)},expression:"pie_ringV.radius"}})],1),n("div",{staticClass:"box1"},[t._v("\n      偏移量：              "),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.pie_ringV.offsetY,callback:function(e){t.$set(t.pie_ringV,"offsetY",e)},expression:"pie_ringV.offsetY"}})],1),n("div",{staticClass:"box1"},[t._v("\n      南丁格尔玫瑰图：\n      "),n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.pie_ringV.roseType,callback:function(e){t.$set(t.pie_ringV,"roseType",e)},expression:"pie_ringV.roseType"}},t._l(t.options2,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      最大显示数量：    "),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini",min:0},model:{value:t.pie_ringV.limitShowNum,callback:function(e){t.$set(t.pie_ringV,"limitShowNum",e)},expression:"pie_ringV.limitShowNum"}})],1)])],1)},_A=[],yA={name:"attr-qk-pie_ringV",props:{pie_ringV:Object},data:function(){return{options1:[{value:"single",label:"single"},{value:"multiple",label:"multiple"},{value:!1,label:"无选中模式"}],options2:[{value:"",label:"不显示"},{value:"radius",label:"radius"},{value:"area",label:"area"}]}}},wA=yA,xA=(n("2b04"),Object(p["a"])(wA,vA,_A,!1,null,"26c3d85c",null)),bA=xA.exports,CA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"引导线样式："}},[n("div",{staticClass:"box1"},[t._v("\n    引导线显示：    "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.labelLineV.labelLine.show,callback:function(e){t.$set(t.labelLineV.labelLine,"show",e)},expression:"labelLineV.labelLine.show"}}),n("el-link",{attrs:{type:"warning"}},[t._v("提示：标签样式显示了才可用")])],1),n("div",{staticClass:"box1"},[t._v("\n    视觉引导线第一段的长度："),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.labelLineV.labelLine.length,callback:function(e){t.$set(t.labelLineV.labelLine,"length",e)},expression:"labelLineV.labelLine.length"}})],1),n("div",{staticClass:"box1"},[t._v("\n    视觉引导线第二段的长度："),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.labelLineV.labelLine.length2,callback:function(e){t.$set(t.labelLineV.labelLine,"length2",e)},expression:"labelLineV.labelLine.length2"}})],1),n("div",{staticClass:"box1"},[t._v("\n    颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:t.labelLineV.labelLine.lineStyle.color,callback:function(e){t.$set(t.labelLineV.labelLine.lineStyle,"color",e)},expression:"labelLineV.labelLine.lineStyle.color"}})],1),n("div",{staticClass:"box1"},[t._v("\n    线宽："),n("el-input-number",{staticStyle:{width:"130px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.labelLineV.labelLine.lineStyle.width,callback:function(e){t.$set(t.labelLineV.labelLine.lineStyle,"width",e)},expression:"labelLineV.labelLine.lineStyle.width"}})],1),n("div",{staticClass:"box1"},[t._v("\n    线的类型：\n    "),n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.labelLineV.labelLine.lineStyle.type,callback:function(e){t.$set(t.labelLineV.labelLine.lineStyle,"type",e)},expression:"labelLineV.labelLine.lineStyle.type"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])],1)},BA=[],EA={name:"attr-qk-labelLineV",props:{labelLineV:Object},data:function(){return{options:[{value:"solid",label:"solid"},{value:"dashed",label:"dashed"},{value:"dotted",label:"dotted"}],color:"rgba(255, 69, 0, 0.68)"}},created:function(){},methods:{}},TA=EA,SA=(n("342a"),Object(p["a"])(TA,CA,BA,!1,null,"ba2f59cc",null)),MA=SA.exports,NA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"瀑布图设置："}},[n("div",{staticClass:"box1"},[t._v("\n      总量： "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.waterfallV.totalNum,callback:function(e){t.$set(t.waterfallV,"totalNum",e)},expression:"waterfallV.totalNum"}})],1),n("div",{staticClass:"box1"},[t._v("\n      总量的显示文案："),n("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.waterfallV.totalName,callback:function(e){t.$set(t.waterfallV,"totalName",e)},expression:"waterfallV.totalName"}})],1),n("div",{staticClass:"box1"},[t._v("\n      剩余的显示文案："),n("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.waterfallV.remainName,callback:function(e){t.$set(t.waterfallV,"remainName",e)},expression:"waterfallV.remainName"}})],1)])],1)},DA=[],OA={name:"attr-qk-waterfallV",props:{waterfallV:Object},data:function(){return{}},created:function(){},methods:{}},UA=OA,IA=(n("ef20"),Object(p["a"])(UA,NA,DA,!1,null,"653dc4e4",null)),LA=IA.exports,FA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"漏斗图设置："}},[n("div",{staticClass:"box1"},[t._v("\n        金字塔显示：          "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.funnelV.ascending,callback:function(e){t.$set(t.funnelV,"ascending",e)},expression:"funnelV.ascending"}})],1),n("div",{staticClass:"box1"},[t._v("\n        按大小顺序排序：："),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.funnelV.useDefaultOrder,callback:function(e){t.$set(t.funnelV,"useDefaultOrder",e)},expression:"funnelV.useDefaultOrder"}})],1),n("div",{staticClass:"box1"},[t._v("\n        过滤为0的数据：     "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.funnelV.filterZero,callback:function(e){t.$set(t.funnelV,"filterZero",e)},expression:"funnelV.filterZero"}})],1)])],1)},RA=[],PA={name:"attr-qk-funnelV",props:{funnelV:Object,chartDataV:Object},data:function(){return{}}},QA=PA,HA=(n("25bd"),Object(p["a"])(QA,FA,RA,!1,null,"4f697c3c",null)),kA=HA.exports,zA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"线条样式："}},[n("div",{staticClass:"box1"},[t._v("\n      线的颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.lineStyleV.lineStyle.color,callback:function(e){t.$set(t.lineStyleV.lineStyle,"color",e)},expression:"lineStyleV.lineStyle.color"}}),t._v("\n         阴影颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":"",predefine:t.predefineColors},model:{value:t.lineStyleV.lineStyle.shadowColor,callback:function(e){t.$set(t.lineStyleV.lineStyle,"shadowColor",e)},expression:"lineStyleV.lineStyle.shadowColor"}})],1),n("div",{staticClass:"box1"},[t._v("\n         线宽：    "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.lineStyleV.lineStyle.width,callback:function(e){t.$set(t.lineStyleV.lineStyle,"width",e)},expression:"lineStyleV.lineStyle.width"}})],1),n("div",{staticClass:"box1"},[t._v("\n      线的类型："),n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.lineStyleV.lineStyle.type,callback:function(e){t.$set(t.lineStyleV.lineStyle,"type",e)},expression:"lineStyleV.lineStyle.type"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      图形阴影模糊大小："),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.lineStyleV.lineStyle.shadowBlur,callback:function(e){t.$set(t.lineStyleV.lineStyle,"shadowBlur",e)},expression:"lineStyleV.lineStyle.shadowBlur"}})],1),n("div",{staticClass:"box1"},[t._v("\n      阴影水平偏移距离："),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.lineStyleV.lineStyle.shadowOffsetX,callback:function(e){t.$set(t.lineStyleV.lineStyle,"shadowOffsetX",e)},expression:"lineStyleV.lineStyle.shadowOffsetX"}})],1),n("div",{staticClass:"box1"},[t._v("\n      阴影垂直偏移距离："),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.lineStyleV.lineStyle.shadowOffsetY,callback:function(e){t.$set(t.lineStyleV.lineStyle,"shadowOffsetY",e)},expression:"lineStyleV.lineStyle.shadowOffsetY"}})],1),n("div",{staticClass:"box1"},[t._v("\n      透明度：                  "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.lineStyleV.lineStyle.opacity,callback:function(e){t.$set(t.lineStyleV.lineStyle,"opacity",e)},expression:"lineStyleV.lineStyle.opacity"}})],1)])],1)},VA=[],GA={name:"attr-qk-lineStyleV",props:{lineStyleV:Object},data:function(){return{color:"rgba(255, 69, 0, 0.68)",predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"],num:1,value4:[],options:[{value:"solid",label:"实线"},{value:"dashed",label:"虚线"},{value:"dotted",label:"点线"}]}},created:function(){},methods:{}},KA=GA,jA=(n("8e9c"),Object(p["a"])(KA,zA,VA,!1,null,"7319b8ac",null)),XA=jA.exports,WA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"区域填充样式："}},[n("div",{staticClass:"box1"},[t._v("\n      区域填充颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:t.radarV.areaStyle.color,callback:function(e){t.$set(t.radarV.areaStyle,"color",e)},expression:"radarV.areaStyle.color"}}),t._v("\n          阴影颜色："),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:t.radarV.areaStyle.shadowColor,callback:function(e){t.$set(t.radarV.areaStyle,"shadowColor",e)},expression:"radarV.areaStyle.shadowColor"}})],1),n("div",{staticClass:"box1"},[t._v("\n      阴影模糊大小："),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.radarV.areaStyle.shadowBlur,callback:function(e){t.$set(t.radarV.areaStyle,"shadowBlur",e)},expression:"radarV.areaStyle.shadowBlur"}})],1),n("div",{staticClass:"box1"},[t._v("\n      水平阴影偏移："),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.radarV.areaStyle.shadowOffsetX,callback:function(e){t.$set(t.radarV.areaStyle,"shadowOffsetX",e)},expression:"radarV.areaStyle.shadowOffsetX"}})],1),n("div",{staticClass:"box1"},[t._v("\n      垂直阴影偏移："),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.radarV.areaStyle.shadowOffsetY,callback:function(e){t.$set(t.radarV.areaStyle,"shadowOffsetY",e)},expression:"radarV.areaStyle.shadowOffsetY"}})],1),n("div",{staticClass:"box1"},[t._v("\n      透明度：           "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.radarV.areaStyle.opacity,callback:function(e){t.$set(t.radarV.areaStyle,"opacity",e)},expression:"radarV.areaStyle.opacity"}})],1)])],1)},YA=[],qA={name:"attr-qk-radarV",props:{radarV:Object},data:function(){return{color:"rgba(255, 69, 0, 0.68)"}},created:function(){},methods:{}},JA=qA,ZA=(n("4df3"),Object(p["a"])(JA,WA,YA,!1,null,"7ea3e1e0",null)),$A=ZA.exports,th=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"地图位置设置："}},[n("div",{staticClass:"box1"},[t._v("\n      地图数据源： "),n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.map_heatmapV.positionJsonLink,callback:function(e){t.$set(t.map_heatmapV,"positionJsonLink",e)},expression:"map_heatmapV.positionJsonLink"}})],1),n("div",{staticClass:"box1"},[t._v("\n      位置请求： "),n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.map_heatmapV.mapURLProfix,callback:function(e){t.$set(t.map_heatmapV,"mapURLProfix",e)},expression:"map_heatmapV.mapURLProfix"}})],1)])],1)},eh=[],nh={name:"attr-qk-map_heatmapV",props:{map_heatmapV:Object},data:function(){return{input1:"",num:[1]}},created:function(){},methods:{}},rh=nh,ih=(n("439b"),Object(p["a"])(rh,th,eh,!1,null,"3436f0c9",null)),ah=ih.exports,oh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"地图设置："}},[n("div",{staticClass:"box1"},[t._v("\n      高亮显示数据对应位置：\n      "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.mapV.selectData,callback:function(e){t.$set(t.mapV,"selectData",e)},expression:"mapV.selectData"}})],1),n("div",{staticClass:"box1"},[t._v("\n      视角的缩放比例： "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.mapV.zoom,callback:function(e){t.$set(t.mapV,"zoom",e)},expression:"mapV.zoom"}})],1),n("div",{staticClass:"box1"},[t._v("\n      当前视角的中心点："),n("p"),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.mapV.center[0],callback:function(e){t.$set(t.mapV.center,0,e)},expression:"mapV.center[0]"}}),t._v("\n         "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.mapV.center[1],callback:function(e){t.$set(t.mapV.center,1,e)},expression:"mapV.center[1]"}})],1),n("div",{staticClass:"box1"},[t._v("\n      鼠标缩放和平移漫游：\n      "),n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.mapV.roam,callback:function(e){t.$set(t.mapV,"roam",e)},expression:"mapV.roam"}},t._l(t.options2,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      滚轮缩放的极限控制："),n("p"),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.mapV.scaleLimit.min,callback:function(e){t.$set(t.mapV.scaleLimit,"min",e)},expression:"mapV.scaleLimit.min"}}),t._v("\n         "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.mapV.scaleLimit.max,callback:function(e){t.$set(t.mapV.scaleLimit,"max",e)},expression:"mapV.scaleLimit.max"}})],1),n("div",{staticClass:"box1"},[t._v("\n    标签显示： "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.mapV.label.show,callback:function(e){t.$set(t.mapV.label,"show",e)},expression:"mapV.label.show"}})],1),n("div",{staticClass:"box1"},[t._v("\n     标签位置： "),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.mapV.label.position,callback:function(e){t.$set(t.mapV.label,"position",e)},expression:"mapV.label.position"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      距离图形的距离： "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.mapV.label.distance,callback:function(e){t.$set(t.mapV.label,"distance",e)},expression:"mapV.label.distance"}})],1),n("div",{staticClass:"box1"},[t._v("\n      文字颜色： "),n("span",{staticClass:"demonstration"},[t._v("有默认值")]),n("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.mapV.label.color,callback:function(e){t.$set(t.mapV.label,"color",e)},expression:"mapV.label.color"}})],1),n("div",{staticClass:"box1"},[t._v("\n      文字大小： "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.mapV.label.fontSize,callback:function(e){t.$set(t.mapV.label,"fontSize",e)},expression:"mapV.label.fontSize"}})],1),n("div",{staticClass:"box1"},[t._v("\n      文字水平对齐方式： "),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.mapV.label.align,callback:function(e){t.$set(t.mapV.label,"align",e)},expression:"mapV.label.align"}},t._l(t.options1,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      文字垂直对齐方式： "),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.mapV.label.verticalAlign,callback:function(e){t.$set(t.mapV.label,"verticalAlign",e)},expression:"mapV.label.verticalAlign"}},t._l(t.options3,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])],1)},sh=[],lh={name:"attr-qk-mapV",props:{mapV:Object},data:function(){return{options:[{value:"top",label:"上"},{value:"bottom",label:"下"},{value:"left",label:"左"},{value:"right",label:"右"},{value:"inside",label:"inside"}],options1:[{value:"left",label:"左"},{value:"center",label:"中"},{value:"right",label:"右"}],options2:[{value:"scale",label:"缩放"},{value:"move",label:"平移"},{value:!0,label:"是"},{value:!1,label:"否"}],options3:[{value:"top",label:"上"},{value:"bottom",label:"下"},{value:"middle",label:"中"}]}},created:function(){},methods:{}},ch=lh,uh=(n("9e3c"),Object(p["a"])(ch,oh,sh,!1,null,"3b1b44e5",null)),Ah=uh.exports,hh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"桑基图数据配置："}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sankeyV.links,height:"300"}},[n("el-table-column",{attrs:{prop:"source",label:"起结点"}}),n("el-table-column",{attrs:{prop:"target",label:"终结点"}}),n("el-table-column",{attrs:{prop:"value",label:"值",width:"50"}}),n("el-table-column",{attrs:{label:"操作",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.deleteRow(e)}}},[t._v("删除")])]}}])})],1),n("el-form",{ref:"formName",attrs:{rules:t.rules,model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"源节点：",prop:"source"}},[n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.form.source,callback:function(e){t.$set(t.form,"source",e)},expression:"form.source"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),n("el-form-item",{attrs:{label:"终节点：",prop:"target"}},[n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.form.target,callback:function(e){t.$set(t.form,"target",e)},expression:"form.target"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),n("el-form-item",{attrs:{label:"输入值：",prop:"value"}},[n("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入值",clearable:""},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("添加")]),n("el-button",{on:{click:t.resetForm}},[t._v("重置")])],1)],1)],1)],1)},fh=[],dh={name:"attr-qk-sankeyV",props:{sankeyV:Object,chartDataV:Object},data:function(){return{form:{source:"",target:"",value:0},rules:{source:[{required:!0,message:"请至少选择一个结点",trigger:"change"}],target:[{required:!0,message:"请至少选择一个结点",trigger:"change"}],value:[{required:!0,message:"请填写数值",trigger:"change"}]},options:[],sankey:this.sankeyV}},methods:{onSubmit:function(){var t=this;this.$refs["formName"].validate((function(e){if(!e)return!1;t.sankeyV.links.push(JSON.parse(JSON.stringify(t.form)))}))},resetForm:function(){this.$refs["formName"].resetFields()},deleteRow:function(t){this.sankeyV.links.splice(t.$index,1),this.$message.success("删除成功！")}},watch:{chartDataV:function(t){var e=[];t.rows.forEach((function(n){e.push(n[t.columns[0]])})),this.options=e}}},ph=dh,mh=(n("bca5"),Object(p["a"])(ph,hh,fh,!1,null,"07c37584",null)),gh=mh.exports,vh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"热力图设置："}},["bmap"===t.heatmapV.type?n("div",[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("地图key：")]),n("div",{staticClass:"attr-item-edit-input"},[n("el-input",{attrs:{placeholder:"请输入名称",size:"mini"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePasteKey(e)}},model:{value:t.heatmapV.key,callback:function(e){t.$set(t.heatmapV,"key",e)},expression:"heatmapV.key"}}),n("div",{staticClass:"attr-item-edit-input-des"},[n("el-link",{attrs:{type:"success",href:"http://lbsyun.baidu.com/apiconsole/key?application=key",target:"_blank"}},[t._v("百度地图key申请地址")])],1)],1)]),n("div",{staticClass:"attr-item-edit-wrapper marginB10"},[n("p",{staticClass:"attr-item-title"},[t._v("中心点：")]),n("div",{staticClass:"attr-item-edit-input"},[n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入名称",size:"mini"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePasteX(e)}},model:{value:t.heatmapV.bmap.center[0],callback:function(e){t.$set(t.heatmapV.bmap.center,0,e)},expression:"heatmapV.bmap.center[0]"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("经度")])],1),t._v("\n        --"),n("div",{staticClass:"attr-item-edit-input"},[n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入名称",size:"mini"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePasteY(e)}},model:{value:t.heatmapV.bmap.center[1],callback:function(e){t.$set(t.heatmapV.bmap.center,1,e)},expression:"heatmapV.bmap.center[1]"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("纬度")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("地图等级：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-input-number",{attrs:{"controls-position":"right",size:"mini",min:1},model:{value:t.heatmapV.bmap.zoom,callback:function(e){t.$set(t.heatmapV.bmap,"zoom",e)},expression:"heatmapV.bmap.zoom"}})],1),n("p",{staticClass:"attr-item-title"},[t._v("是否缩放：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.heatmapV.bmap.roam,callback:function(e){t.$set(t.heatmapV.bmap,"roam",e)},expression:"heatmapV.bmap.roam"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("地图样式：")]),n("div",{staticClass:"attr-item-edit-input"},[n("el-input",{attrs:{placeholder:"请输入名称",size:"mini"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePasteStyle(e)}},model:{value:t.heatmapV.bmap.mapStyleV2.styleId,callback:function(e){t.$set(t.heatmapV.bmap.mapStyleV2,"styleId",e)},expression:"heatmapV.bmap.mapStyleV2.styleId"}}),n("div",{staticClass:"attr-item-edit-input-des"},[n("el-link",{attrs:{type:"success",href:"http://lbsyun.baidu.com/customv2/index.html",target:"_blank"}},[t._v("个性化地图样式编辑器")])],1)],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("点大小：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-input-number",{attrs:{"controls-position":"right",size:"mini",min:1},model:{value:t.heatmapV.pointSize,callback:function(e){t.$set(t.heatmapV,"pointSize",e)},expression:"heatmapV.pointSize"}})],1),n("p",{staticClass:"attr-item-title"},[t._v("模糊大小：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-input-number",{attrs:{"controls-position":"right",size:"mini",min:1},model:{value:t.heatmapV.blurSize,callback:function(e){t.$set(t.heatmapV,"blurSize",e)},expression:"heatmapV.blurSize"}})],1)])]):t._e(),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("颜色区间：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},t._l(t.heatmapV.heatColor,(function(e,r){return n("div",{key:r},[n("el-color-picker",{staticStyle:{float:"left","margin-right":"4px"},attrs:{"show-alpha":"",size:"mini"},model:{value:t.heatmapV.heatColor[r],callback:function(e){t.$set(t.heatmapV.heatColor,r,e)},expression:"heatmapV.heatColor[index]"}})],1)})),0)])])],1)},_h=[],yh={name:"attr-qk-heatmapV",props:{heatmapV:Object},data:function(){return{options:[{value:"cartesian",label:"直角坐标系"},{value:"bmap",label:"百度地图"}]}},methods:{handlePasteKey:function(t){this.heatmapV.key=t.clipboardData.getData("Text")},handlePasteX:function(t){this.heatmapV.bmap.center[0]=t.clipboardData.getData("Text")},handlePasteY:function(t){this.heatmapV.bmap.center[1]=t.clipboardData.getData("Text")},handlePasteStyle:function(t){this.heatmapV.bmap.mapStyleV2.styleId=t.clipboardData.getData("Text")}}},wh=yh,xh=(n("85e7"),n("a4c5"),n("c78d"),Object(p["a"])(wh,vh,_h,!1,null,"22dc5520",null)),bh=xh.exports,Ch=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"表盘设置："}},[n("div",{staticStyle:{"font-size":"13px"}},[t._v("\n    表盘单位："),n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入名称",size:"mini"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)])],1)},Bh=[],Eh={name:"attr-qk-gaugeV",props:{gaugeV:Object},data:function(){return{value4:[],input:"",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}},created:function(){},methods:{}},Th=Eh,Sh=(n("d584"),Object(p["a"])(Th,Ch,Bh,!1,null,"1d268765",null)),Mh=Sh.exports,Nh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"树图设置："}},[n("div",{staticClass:"box1"},[t._v("\n      树图的布局："),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.tree_gaugeV.seriesMap.layout,callback:function(e){t.$set(t.tree_gaugeV.seriesMap,"layout",e)},expression:"tree_gaugeV.seriesMap.layout"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      标记的图形："),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.tree_gaugeV.seriesMap.symbol,callback:function(e){t.$set(t.tree_gaugeV.seriesMap,"symbol",e)},expression:"tree_gaugeV.seriesMap.symbol"}},t._l(t.options1,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      标记的大小："),n("el-input-number",{staticStyle:{width:"150px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.tree_gaugeV.seriesMap.symbolSize,callback:function(e){t.$set(t.tree_gaugeV.seriesMap,"symbolSize",e)},expression:"tree_gaugeV.seriesMap.symbolSize"}})],1)])],1)},Dh=[],Oh={name:"attr-qk-tree_gaugeV",props:{tree_gaugeV:Object},data:function(){return{options:[{value:"orthogonal",label:"正交布局"},{value:"radial",label:"径向布局"}],options1:[{value:"circle",label:"圆形"},{value:"rect",label:"矩形"},{value:"roundRect",label:"圆矩形"},{value:"triangle",label:"三角形"},{value:"diamond",label:"菱形"},{value:"none",label:"无"}]}}},Uh=Oh,Ih=Object(p["a"])(Uh,Nh,Dh,!1,null,"05bdaa59",null),Lh=Ih.exports,Fh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"词云图设置："}},[n("div",{staticClass:"box1"},[t._v("\n      最小字体大小： "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.wordcloudV.sizeMin,callback:function(e){t.$set(t.wordcloudV,"sizeMin",e)},expression:"wordcloudV.sizeMin"}})],1),n("div",{staticClass:"box1"},[t._v("\n      最大字体大小： "),n("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.wordcloudV.sizeMax,callback:function(e){t.$set(t.wordcloudV,"sizeMax",e)},expression:"wordcloudV.sizeMax"}})],1),n("div",{staticClass:"box1"},[t._v("\n      标记图形："),n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.wordcloudV.shape,callback:function(e){t.$set(t.wordcloudV,"shape",e)},expression:"wordcloudV.shape"}},t._l(t.options2,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      词云图字体颜色 ：\n      "),t._l(t.wordcloudV.color,(function(e,r){return n("div",{key:r},[n("el-color-picker",{staticStyle:{float:"left","margin-right":"4px",top:"6px","margin-bottom":"10px"},attrs:{"show-alpha":"",size:"mini"},model:{value:t.wordcloudV.color[r],callback:function(e){t.$set(t.wordcloudV.color,r,e)},expression:"wordcloudV.color[index]"}})],1)}))],2)])],1)},Rh=[],Ph={name:"attr-qk-wordcloudV",props:{wordcloudV:Object},data:function(){return{options2:[{value:"circle",label:"圆形"},{value:"cardioid",label:"心形"},{value:"triangle",label:"三角形"},{value:"diamond",label:"正方形"},{value:"triangle-forward",label:"向前三角形"},{value:"pentagon",label:"五角形"},{value:"star",label:"星形"}]}}},Qh=Ph,Hh=(n("b1b6"),Object(p["a"])(Qh,Fh,Rh,!1,null,"76bfb7e5",null)),kh=Hh.exports,zh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{attrs:{label:"修改颜色："}},t._l(t.color,(function(e,r){return n("div",{key:r},[n("el-color-picker",{staticStyle:{float:"left","margin-right":"4px",top:"6px"},attrs:{"show-alpha":"",size:"mini"},model:{value:t.color[r],callback:function(e){t.$set(t.color,r,e)},expression:"color[index]"}})],1)})),0)},Vh=[],Gh={name:"attr-qk-colorD",props:{colorD:Array},data:function(){return{color:this.colorD}},watch:{colorD:function(){this.color=this.colorD},color:function(){this.$emit("update:colorD",this.color)}}},Kh=Gh,jh=Object(p["a"])(Kh,zh,Vh,!1,null,"6674a814",null),Xh=jh.exports,Wh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"单次动画时长(秒)："}},[n("el-input-number",{staticStyle:{width:"90px"},attrs:{precision:1,step:.1,min:.1,"controls-position":"right",size:"mini"},on:{change:t.change},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)},Yh=[],qh={name:"attr-qk-durD",props:{durD:Number},data:function(){return{input:this.durD}},methods:{change:function(t){this.input=t}},watch:{durD:function(){this.input=this.durD},input:function(){this.$emit("update:durD",this.input)}}},Jh=qh,Zh=Object(p["a"])(Jh,Wh,Yh,!1,null,"b9221cdc",null),$h=Zh.exports,tf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"是否翻转"}},[n("el-switch",{attrs:{"active-color":"#13ce66"},on:{change:t.change},model:{value:t.tempR,callback:function(e){t.tempR=e},expression:"tempR"}})],1)},ef=[],nf={name:"attr-qk-reverseD",props:{reverseD:Boolean},data:function(){return{tempR:this.reverseD}},methods:{change:function(t){this.tempR=t}},watch:{reverseD:function(){this.tempR=this.reverseD},tempR:function(){this.$emit("update:reverseD",this.tempR)}}},rf=nf,af=Object(p["a"])(rf,tf,ef,!1,null,"606a6a22",null),of=af.exports,sf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{staticStyle:{margin:"0"}},[t._v("\n  扫描动画时长(秒)：\n  "),n("el-input-number",{staticStyle:{width:"90px"},attrs:{precision:1,step:.1,min:.1,"controls-position":"right",size:"mini"},on:{change:t.change1},model:{value:t.scanHaloDur.scanDur,callback:function(e){t.$set(t.scanHaloDur,"scanDur",e)},expression:"scanHaloDur.scanDur"}}),n("br"),t._v("\n  光晕动画时长(秒)：\n  "),n("el-input-number",{staticStyle:{width:"90px"},attrs:{precision:1,step:.1,min:.1,"controls-position":"right",size:"mini"},on:{change:t.change2},model:{value:t.scanHaloDur.haloDur,callback:function(e){t.$set(t.scanHaloDur,"haloDur",e)},expression:"scanHaloDur.haloDur"}})],1)},lf=[],cf={name:"attr-qk-scanHaloDurD",props:{scanHaloDurD:Object},data:function(){return{scanHaloDur:this.scanHaloDurD}},methods:{change1:function(t){this.scanHaloDur.scanDur=t},change2:function(t){this.scanHaloDur.haloDur=t}},watch:{scanHaloDurD:function(){this.scanHaloDur=this.scanHaloDurD},scanHaloDur:function(){this.$emit("update:scanHaloDurD",this.scanHaloDur)}}},uf=cf,Af=Object(p["a"])(uf,sf,lf,!1,null,"4037bbe1",null),hf=Af.exports,ff=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{staticStyle:{margin:"0"}},[t.title.type?n("div",[t._v("\n    字体颜色：\n    "),n("el-color-picker",{staticStyle:{"margin-right":"4px",top:"8px"},attrs:{"show-alpha":"",size:"mini"},model:{value:t.title.titleColor,callback:function(e){t.$set(t.title,"titleColor",e)},expression:"title.titleColor"}}),n("br"),t._v("字体大小："),n("el-input-number",{staticStyle:{width:"80px"},attrs:{min:1,max:100,step:2,"controls-position":"right",size:"mini"},model:{value:t.title.titleSize,callback:function(e){t.$set(t.title,"titleSize",e)},expression:"title.titleSize"}}),t._v("\n      粗细大小："),n("el-input-number",{staticStyle:{width:"80px"},attrs:{min:1,max:1e3,step:100,"controls-position":"right",size:"mini"},model:{value:t.title.fontWeight,callback:function(e){t.$set(t.title,"fontWeight",e)},expression:"title.fontWeight"}})],1):t._e(),n("div",[t._v("\n    标题宽度："),n("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:1e3,step:10,"controls-position":"right",size:"mini"},model:{value:t.title.titleWidth,callback:function(e){t.$set(t.title,"titleWidth",e)},expression:"title.titleWidth"}})],1)])},df=[],pf={name:"attr-qk-titleD",props:{titleD:Object},data:function(){return{title:{}}},mounted:function(){this.title=this.titleD},watch:{titleD:function(){this.title=this.titleD},title:function(){this.$emit("update:titleD",this.title)}}},mf=pf,gf=Object(p["a"])(mf,ff,df,!1,null,"b88e2910",null),vf=gf.exports,_f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"轮播表设置："}},[n("div",{staticClass:"box1"},[t._v("\n      表行数：\n      "),n("el-input-number",{staticStyle:{width:"150px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scroll_boardD.rowNum,callback:function(e){t.$set(t.scroll_boardD,"rowNum",e)},expression:"scroll_boardD.rowNum"}})],1),n("div",{staticClass:"box1"},[t._v("\n      表头背景色：       "),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:t.scroll_boardD.headerBGC,callback:function(e){t.$set(t.scroll_boardD,"headerBGC",e)},expression:"scroll_boardD.headerBGC"}})],1),n("div",{staticClass:"box1"},[t._v("\n      奇数行景色：       "),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:t.scroll_boardD.oddRowBGC,callback:function(e){t.$set(t.scroll_boardD,"oddRowBGC",e)},expression:"scroll_boardD.oddRowBGC"}})],1),n("div",{staticClass:"box1"},[t._v("\n      偶数行景色：       "),n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:t.scroll_boardD.evenRowBGC,callback:function(e){t.$set(t.scroll_boardD,"evenRowBGC",e)},expression:"scroll_boardD.evenRowBGC"}})],1),n("div",{staticClass:"box1"},[t._v("\n      轮播时间间隔(ms)：\n      "),n("el-input-number",{staticStyle:{width:"150px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scroll_boardD.waitTime,callback:function(e){t.$set(t.scroll_boardD,"waitTime",e)},expression:"scroll_boardD.waitTime"}})],1),n("div",{staticClass:"box1"},[t._v("\n      表头高度：\n      "),n("el-input-number",{staticStyle:{width:"150px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scroll_boardD.headerHeight,callback:function(e){t.$set(t.scroll_boardD,"headerHeight",e)},expression:"scroll_boardD.headerHeight"}})],1),n("div",{staticClass:"box1"},[t._v("\n      列宽度：\n      "),n("el-input-number",{staticStyle:{width:"150px"},attrs:{"controls-position":"right",size:"mini"},model:{value:t.scroll_boardD.columnWidth,callback:function(e){t.$set(t.scroll_boardD,"columnWidth",e)},expression:"scroll_boardD.columnWidth"}})],1),n("div",{staticClass:"box1"},[t._v("\n      列对齐方式：\n      "),n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.scroll_boardD.align,callback:function(e){t.$set(t.scroll_boardD,"align",e)},expression:"scroll_boardD.align"}},t._l(t.options3,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      显示行号：\n      "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.scroll_boardD.index,callback:function(e){t.$set(t.scroll_boardD,"index",e)},expression:"scroll_boardD.index"}})],1),n("div",{staticClass:"box1"},[t._v("\n      轮播方式：\n      "),n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.scroll_boardD.carousel,callback:function(e){t.$set(t.scroll_boardD,"carousel",e)},expression:"scroll_boardD.carousel"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"box1"},[t._v("\n      悬浮暂停轮播：\n      "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.scroll_boardD.hoverPause,callback:function(e){t.$set(t.scroll_boardD,"hoverPause",e)},expression:"scroll_boardD.hoverPause"}})],1)])],1)},yf=[],wf={name:"attr-qk-scroll_boardD",props:{scroll_boardD:Object},data:function(){return{options3:[{value:"left",label:"左"},{value:"center",label:"中"},{value:"right",label:"右"}],options:[{value:"single",label:"单个"},{value:"page",label:"整页"}]}},created:function(){},methods:{}},xf=wf,bf=(n("bf25"),Object(p["a"])(xf,_f,yf,!1,null,"29313afe",null)),Cf=bf.exports,Bf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"流向图配置："}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("图表位置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.translateX,callback:function(e){t.$set(t.d3Sankey,"translateX",e)},expression:"d3Sankey.translateX"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("X")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.translateY,callback:function(e){t.$set(t.d3Sankey,"translateY",e)},expression:"d3Sankey.translateY"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("Y")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("图表尺寸：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.d3Sankey.bpWidth,callback:function(e){t.$set(t.d3Sankey,"bpWidth",e)},expression:"d3Sankey.bpWidth"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("宽度")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.d3Sankey.bpHeight,callback:function(e){t.$set(t.d3Sankey,"bpHeight",e)},expression:"d3Sankey.bpHeight"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("高度")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("中间标题：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"在这里修改标题内容",size:"mini"},model:{value:t.d3Sankey.title.text,callback:function(e){t.$set(t.d3Sankey.title,"text",e)},expression:"d3Sankey.title.text"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("标题")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.d3Sankey.title.color,callback:function(e){t.$set(t.d3Sankey.title,"color",e)},expression:"d3Sankey.title.color"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("标题颜色")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("标题位置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.title.x,callback:function(e){t.$set(t.d3Sankey.title,"x",e)},expression:"d3Sankey.title.x"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("X")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.title.y,callback:function(e){t.$set(t.d3Sankey.title,"y",e)},expression:"d3Sankey.title.y"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("Y")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("标题字体：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:1,"controls-position":"right"},model:{value:t.d3Sankey.title.size,callback:function(e){t.$set(t.d3Sankey.title,"size",e)},expression:"d3Sankey.title.size"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体大小")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:1,max:1e3,step:100,"controls-position":"right"},model:{value:t.d3Sankey.title.weight,callback:function(e){t.$set(t.d3Sankey.title,"weight",e)},expression:"d3Sankey.title.weight"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体粗细")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("左标题：")]),n("el-input",{staticStyle:{"margin-left":"10px",width:"200px"},attrs:{placeholder:"在这里修改标题内容",size:"mini"},model:{value:t.d3Sankey.leftTitle,callback:function(e){t.$set(t.d3Sankey,"leftTitle",e)},expression:"d3Sankey.leftTitle"}})],1),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("左标题位置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.leftX,callback:function(e){t.$set(t.d3Sankey,"leftX",e)},expression:"d3Sankey.leftX"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("X")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.leftY,callback:function(e){t.$set(t.d3Sankey,"leftY",e)},expression:"d3Sankey.leftY"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("Y")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("右标题：")]),n("el-input",{staticStyle:{"margin-left":"10px",width:"200px"},attrs:{placeholder:"在这里修改标题内容",size:"mini"},model:{value:t.d3Sankey.rightTitle,callback:function(e){t.$set(t.d3Sankey,"rightTitle",e)},expression:"d3Sankey.rightTitle"}})],1),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("右标题位置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.rightX,callback:function(e){t.$set(t.d3Sankey,"rightX",e)},expression:"d3Sankey.rightX"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("X")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.rightY,callback:function(e){t.$set(t.d3Sankey,"rightY",e)},expression:"d3Sankey.rightY"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("Y")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("左右标题：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.textSize1,callback:function(e){t.$set(t.d3Sankey,"textSize1",e)},expression:"d3Sankey.textSize1"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体大小")])],1),n("div",{staticClass:"col-3 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.d3Sankey.textColor1,callback:function(e){t.$set(t.d3Sankey,"textColor1",e)},expression:"d3Sankey.textColor1"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体颜色")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("左右文本：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.d3Sankey.textSize2,callback:function(e){t.$set(t.d3Sankey,"textSize2",e)},expression:"d3Sankey.textSize2"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体大小")])],1),n("div",{staticClass:"col-3 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.d3Sankey.textColor2,callback:function(e){t.$set(t.d3Sankey,"textColor2",e)},expression:"d3Sankey.textColor2"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体颜色")])],1)])])],1)},Ef=[],Tf={name:"attr-qk-d3Sankey",props:{d3Sankey:Object},watch:{d3Sankey:{handler:function(t){this.$emit("update:d3Sankey",t)},deep:!0}}},Sf=Tf,Mf=(n("e5d9"),n("7b1f"),Object(p["a"])(Sf,Bf,Ef,!1,null,"bded94fc",null)),Nf=Mf.exports,Df=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"画布设置："}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("画布位置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.viewBox.x,callback:function(e){t.$set(t.viewBox,"x",e)},expression:"viewBox.x"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("X")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.viewBox.y,callback:function(e){t.$set(t.viewBox,"y",e)},expression:"viewBox.y"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("Y")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("画布尺寸：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.viewBox.width,callback:function(e){t.$set(t.viewBox,"width",e)},expression:"viewBox.width"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("宽度")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.viewBox.height,callback:function(e){t.$set(t.viewBox,"height",e)},expression:"viewBox.height"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("高度")])],1)])])],1)},Of=[],Uf={name:"attr-qk-viewBox",props:{viewBox:Object}},If=Uf,Lf=(n("bb57"),n("d8a6"),Object(p["a"])(If,Df,Of,!1,null,"647dd3de",null)),Ff=Lf.exports,Rf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"3D地图配置："}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("是否缩放：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.map3D.roam,callback:function(e){t.$set(t.map3D,"roam",e)},expression:"map3D.roam"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("地图颜色：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.map3D.itemStyle.color,callback:function(e){t.$set(t.map3D.itemStyle,"color",e)},expression:"map3D.itemStyle.color"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("描边样式：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,step:.1,"controls-position":"right"},model:{value:t.map3D.itemStyle.borderWidth,callback:function(e){t.$set(t.map3D.itemStyle,"borderWidth",e)},expression:"map3D.itemStyle.borderWidth"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("描边宽度")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.map3D.itemStyle.borderColor,callback:function(e){t.$set(t.map3D.itemStyle,"borderColor",e)},expression:"map3D.itemStyle.borderColor"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("描边颜色")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("是否显示文本：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.map3D.label.show,callback:function(e){t.$set(t.map3D.label,"show",e)},expression:"map3D.label.show"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("文本字体：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:1,"controls-position":"right"},model:{value:t.map3D.label.textStyle.fontSize,callback:function(e){t.$set(t.map3D.label.textStyle,"fontSize",e)},expression:"map3D.label.textStyle.fontSize"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体大小")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:1,max:1e3,step:100,"controls-position":"right"},model:{value:t.map3D.label.textStyle.fontWeight,callback:function(e){t.$set(t.map3D.label.textStyle,"fontWeight",e)},expression:"map3D.label.textStyle.fontWeight"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体粗细")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("颜色设置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.map3D.label.textStyle.color,callback:function(e){t.$set(t.map3D.label.textStyle,"color",e)},expression:"map3D.label.textStyle.color"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("文本颜色")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.map3D.label.textStyle.backgroundColor,callback:function(e){t.$set(t.map3D.label.textStyle,"backgroundColor",e)},expression:"map3D.label.textStyle.backgroundColor"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("背景颜色")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("是否显示光照阴影：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.map3D.light.main.shadow,callback:function(e){t.$set(t.map3D.light.main,"shadow",e)},expression:"map3D.light.main.shadow"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("光照样式：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,step:.1,"controls-position":"right"},model:{value:t.map3D.light.main.intensity,callback:function(e){t.$set(t.map3D.light.main,"intensity",e)},expression:"map3D.light.main.intensity"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("光照强度")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.map3D.light.main.color,callback:function(e){t.$set(t.map3D.light.main,"color",e)},expression:"map3D.light.main.color"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("光照颜色")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("光源上下角度：")]),n("div",{staticClass:"col-1 attr-item-edit-input"},[n("el-slider",{staticStyle:{"margin-left":"15px"},attrs:{"show-input":"",min:-180,max:180,marks:{0:"",90:"","-90":""},"input-size":"mini"},model:{value:t.map3D.light.main.alpha,callback:function(e){t.$set(t.map3D.light.main,"alpha",e)},expression:"map3D.light.main.alpha"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("光源左右角度：")]),n("div",{staticClass:"col-1 attr-item-edit-input"},[n("el-slider",{staticStyle:{"margin-left":"15px"},attrs:{"show-input":"",min:-180,max:180,marks:{0:"",90:"","-90":""},"input-size":"mini"},model:{value:t.map3D.light.main.beta,callback:function(e){t.$set(t.map3D.light.main,"beta",e)},expression:"map3D.light.main.beta"}})],1)])])],1)},Pf=[],Qf={name:"attr-qk-map3D",props:{map3D:Object},watch:{map3D:{handler:function(t){this.$emit("update:map3D",t)},deep:!0}}},Hf=Qf,kf=(n("eaed"),n("a7e1"),Object(p["a"])(Hf,Rf,Pf,!1,null,"a015556e",null)),zf=kf.exports,Vf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"3D柱配置："}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("柱子设置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,step:.1,"controls-position":"right"},model:{value:t.bar3D.barSize,callback:function(e){t.$set(t.bar3D,"barSize",e)},expression:"bar3D.barSize"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("主柱子粗细")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.bar3D.minHeight,callback:function(e){t.$set(t.bar3D,"minHeight",e)},expression:"bar3D.minHeight"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("最小高度")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("柱子倒角：")]),n("div",{staticClass:"col-1 attr-item-edit-input"},[n("el-slider",{staticStyle:{"margin-left":"15px"},attrs:{step:.1,"show-input":"",min:0,max:1,marks:{0:"",.5:"",1:""},"input-size":"mini"},model:{value:t.bar3D.bevelSize,callback:function(e){t.$set(t.bar3D,"bevelSize",e)},expression:"bar3D.bevelSize"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("是否显示文本：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.bar3D.label.show,callback:function(e){t.$set(t.bar3D.label,"show",e)},expression:"bar3D.label.show"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("文本内容：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"在这里修改标题内容",size:"mini"},model:{value:t.bar3D.label.text1,callback:function(e){t.$set(t.bar3D.label,"text1",e)},expression:"bar3D.label.text1"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("内容")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"在这里修改标题内容",size:"mini"},model:{value:t.bar3D.label.text2,callback:function(e){t.$set(t.bar3D.label,"text2",e)},expression:"bar3D.label.text2"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("单位")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("文本字体：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:1,"controls-position":"right"},model:{value:t.bar3D.label.textStyle.fontSize,callback:function(e){t.$set(t.bar3D.label.textStyle,"fontSize",e)},expression:"bar3D.label.textStyle.fontSize"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体大小")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:1,max:1e3,step:100,"controls-position":"right"},model:{value:t.bar3D.label.textStyle.fontWeight,callback:function(e){t.$set(t.bar3D.label.textStyle,"fontWeight",e)},expression:"bar3D.label.textStyle.fontWeight"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体粗细")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("颜色设置：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.bar3D.label.textStyle.color,callback:function(e){t.$set(t.bar3D.label.textStyle,"color",e)},expression:"bar3D.label.textStyle.color"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("文本颜色")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.bar3D.label.textStyle.backgroundColor,callback:function(e){t.$set(t.bar3D.label.textStyle,"backgroundColor",e)},expression:"bar3D.label.textStyle.backgroundColor"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("背景颜色")])],1)])])],1)},Gf=[],Kf={name:"attr-qk-bar3D",props:{bar3D:Object},watch:{bar3D:{handler:function(t){this.$emit("update:bar3D",t)},deep:!0}}},jf=Kf,Xf=(n("0247"),n("4813"),Object(p["a"])(jf,Vf,Gf,!1,null,"6cd8dd64",null)),Wf=Xf.exports,Yf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"百度地图设置："}},[n("div",{staticClass:"attr-item-edit-wrapper marginB10"},[n("p",{staticClass:"attr-item-title"},[t._v("中心点：")]),n("div",{staticClass:"attr-item-edit-input"},[n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入名称",size:"mini"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePasteX(e)}},model:{value:t.bmapConfig.x,callback:function(e){t.$set(t.bmapConfig,"x",e)},expression:"bmapConfig.x"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("经度")])],1),t._v("\n      --"),n("div",{staticClass:"attr-item-edit-input"},[n("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入名称",size:"mini"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePasteY(e)}},model:{value:t.bmapConfig.y,callback:function(e){t.$set(t.bmapConfig,"y",e)},expression:"bmapConfig.y"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("纬度")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("是否缩放：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.bmapConfig.roam,callback:function(e){t.$set(t.bmapConfig,"roam",e)},expression:"bmapConfig.roam"}})],1),n("p",{staticClass:"attr-item-title"},[t._v("地图等级：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-input-number",{attrs:{"controls-position":"right",size:"mini",min:1},model:{value:t.bmapConfig.zoom,callback:function(e){t.$set(t.bmapConfig,"zoom",e)},expression:"bmapConfig.zoom"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("地图样式：")]),n("div",{staticClass:"attr-item-edit-input"},[n("el-input",{attrs:{placeholder:"请输入名称",size:"mini"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePasteStyle(e)}},model:{value:t.bmapConfig.styleId,callback:function(e){t.$set(t.bmapConfig,"styleId",e)},expression:"bmapConfig.styleId"}}),n("div",{staticClass:"attr-item-edit-input-des"},[n("el-link",{attrs:{type:"success",href:"http://lbsyun.baidu.com/customv2/index.html",target:"_blank"}},[t._v("个性化地图样式编辑器")])],1)],1)])])],1)},qf=[],Jf={name:"attr-qk-bmapConfig",props:{bmapConfig:Object},methods:{handlePasteX:function(t){this.bmapConfig.x=t.clipboardData.getData("Text")},handlePasteY:function(t){this.bmapConfig.y=t.clipboardData.getData("Text")},handlePasteStyle:function(t){this.bmapConfig.styleId=t.clipboardData.getData("Text")}},watch:{bmapConfig:{handler:function(t){this.$emit("update:bmapConfig",t)},deep:!0}}},Zf=Jf,$f=(n("f365"),n("d02f"),Object(p["a"])(Zf,Yf,qf,!1,null,"35fcc71a",null)),td=$f.exports,ed=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"飞线设置："}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("是否显示图标：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.linesConfig.effect1.show,callback:function(e){t.$set(t.linesConfig.effect1,"show",e)},expression:"linesConfig.effect1.show"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("图标效果：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.linesConfig.effect1.period,callback:function(e){t.$set(t.linesConfig.effect1,"period",e)},expression:"linesConfig.effect1.period"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("箭头指向速度")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,max:1,step:.1,"controls-position":"right"},model:{value:t.linesConfig.effect1.trailLength,callback:function(e){t.$set(t.linesConfig.effect1,"trailLength",e)},expression:"linesConfig.effect1.trailLength"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("特效尾迹长度")])],1)]),n("div",{staticClass:"marginB10"},[n("p",{staticClass:"attr-item-title"},[t._v("飞线图标：")]),n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"可以通过 'image://url' 设置为图片或者通过 'path://' 将图标设置为任意的矢量路径"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePaste(e)}},model:{value:t.linesConfig.effect1.symbol,callback:function(e){t.$set(t.linesConfig.effect1,"symbol",e)},expression:"linesConfig.effect1.symbol"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("\n          可以通过 'image://url' 设置为图片或者通过 'path://' 将图标设置为任意的矢量路径，\n          "),n("el-link",{attrs:{type:"primary",href:"https://echarts.apache.org/zh/option.html#series-effectScatter.symbol",target:"_blank"}},[t._v("官方文档")])],1)],1),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("飞线图标大小：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.linesConfig.effect1.symbolSize,callback:function(e){t.$set(t.linesConfig.effect1,"symbolSize",e)},expression:"linesConfig.effect1.symbolSize"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("线条颜色：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.linesConfig.lineStyle1.normal.color,callback:function(e){t.$set(t.linesConfig.lineStyle1.normal,"color",e)},expression:"linesConfig.lineStyle1.normal.color"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("线条样式：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.linesConfig.lineStyle1.normal.width,callback:function(e){t.$set(t.linesConfig.lineStyle1.normal,"width",e)},expression:"linesConfig.lineStyle1.normal.width"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("线宽")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:-1,max:1,step:.1,"controls-position":"right"},model:{value:t.linesConfig.lineStyle1.normal.curveness,callback:function(e){t.$set(t.linesConfig.lineStyle1.normal,"curveness",e)},expression:"linesConfig.lineStyle1.normal.curveness"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("曲度")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"col-2 attr-item-title"},[t._v("是否显示尾迹：")]),n("div",{staticClass:"sizeAndPosition-wrapper"},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.linesConfig.effect2.show,callback:function(e){t.$set(t.linesConfig.effect2,"show",e)},expression:"linesConfig.effect2.show"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("尾迹效果：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.linesConfig.effect2.period,callback:function(e){t.$set(t.linesConfig.effect2,"period",e)},expression:"linesConfig.effect2.period"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("指向速度")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,max:1,step:.1,"controls-position":"right"},model:{value:t.linesConfig.effect2.trailLength,callback:function(e){t.$set(t.linesConfig.effect2,"trailLength",e)},expression:"linesConfig.effect2.trailLength"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("尾迹长度")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("尾迹样式：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.linesConfig.effect2.color,callback:function(e){t.$set(t.linesConfig.effect2,"color",e)},expression:"linesConfig.effect2.color"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("特效尾迹颜色")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.linesConfig.effect2.symbolSize,callback:function(e){t.$set(t.linesConfig.effect2,"symbolSize",e)},expression:"linesConfig.effect2.symbolSize"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("尾迹图标大小")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("尾迹线条颜色：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.linesConfig.lineStyle2.normal.color,callback:function(e){t.$set(t.linesConfig.lineStyle2.normal,"color",e)},expression:"linesConfig.lineStyle2.normal.color"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("尾迹线条：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.linesConfig.lineStyle2.normal.width,callback:function(e){t.$set(t.linesConfig.lineStyle2.normal,"width",e)},expression:"linesConfig.lineStyle2.normal.width"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("线宽")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:-1,max:1,step:.1,"controls-position":"right"},model:{value:t.linesConfig.lineStyle2.normal.curveness,callback:function(e){t.$set(t.linesConfig.lineStyle2.normal,"curveness",e)},expression:"linesConfig.lineStyle2.normal.curveness"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("曲度")])],1)])])],1)},nd=[],rd={name:"attr-qk-linesConfig",props:{linesConfig:Object},methods:{handlePaste:function(t){this.linesConfig.effect1.symbol=t.clipboardData.getData("Text")}},watch:{linesConfig:{handler:function(t){this.$emit("update:linesConfig",t)},deep:!0}}},id=rd,ad=(n("3ac0"),n("a002"),Object(p["a"])(id,ed,nd,!1,null,"aba13378",null)),od=ad.exports,sd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticStyle:{"border-bottom":"none"}},[n("el-collapse-item",{attrs:{title:"起始点设置："}},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("是否显示文本：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.pointConfig.label.show,callback:function(e){t.$set(t.pointConfig.label,"show",e)},expression:"pointConfig.label.show"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("起点文本：")]),n("el-input",{staticStyle:{"margin-left":"10px",width:"200px"},attrs:{placeholder:"在这里修改标题内容",size:"mini"},model:{value:t.pointConfig.text1,callback:function(e){t.$set(t.pointConfig,"text1",e)},expression:"pointConfig.text1"}})],1),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("终点文本：")]),n("el-input",{staticStyle:{"margin-left":"10px",width:"200px"},attrs:{placeholder:"在这里修改标题内容",size:"mini"},model:{value:t.pointConfig.text2,callback:function(e){t.$set(t.pointConfig,"text2",e)},expression:"pointConfig.text2"}})],1),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("文本样式：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.pointConfig.label.color,callback:function(e){t.$set(t.pointConfig.label,"color",e)},expression:"pointConfig.label.color"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体颜色")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.pointConfig.label.position,callback:function(e){t.$set(t.pointConfig.label,"position",e)},expression:"pointConfig.label.position"}},t._l(t.options1,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体位置")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("文本字体：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.pointConfig.label.fontSize,callback:function(e){t.$set(t.pointConfig.label,"fontSize",e)},expression:"pointConfig.label.fontSize"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体大小")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:1,max:1e3,step:100,"controls-position":"right"},model:{value:t.pointConfig.label.fontWeight,callback:function(e){t.$set(t.pointConfig.label,"fontWeight",e)},expression:"pointConfig.label.fontWeight"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("字体粗细")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("是否开启鼠标滑过动画效果：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.pointConfig.hoverAnimation,callback:function(e){t.$set(t.pointConfig,"hoverAnimation",e)},expression:"pointConfig.hoverAnimation"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("涟漪特效：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.pointConfig.rippleEffect.color,callback:function(e){t.$set(t.pointConfig.rippleEffect,"color",e)},expression:"pointConfig.rippleEffect.color"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("涟漪颜色")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.pointConfig.rippleEffect.brushType,callback:function(e){t.$set(t.pointConfig.rippleEffect,"brushType",e)},expression:"pointConfig.rippleEffect.brushType"}},t._l(t.options2,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("波纹方式")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("涟漪动画：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.pointConfig.rippleEffect.period,callback:function(e){t.$set(t.pointConfig.rippleEffect,"period",e)},expression:"pointConfig.rippleEffect.period"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("动画周期(秒)")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,step:.1,"controls-position":"right"},model:{value:t.pointConfig.rippleEffect.scale,callback:function(e){t.$set(t.pointConfig.rippleEffect,"scale",e)},expression:"pointConfig.rippleEffect.scale"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("动画波纹缩放比例")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("图形颜色：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.pointConfig.itemStyle.color,callback:function(e){t.$set(t.pointConfig.itemStyle,"color",e)},expression:"pointConfig.itemStyle.color"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("阴影样式：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},model:{value:t.pointConfig.itemStyle.shadowColor,callback:function(e){t.$set(t.pointConfig.itemStyle,"shadowColor",e)},expression:"pointConfig.itemStyle.shadowColor"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("阴影颜色")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:t.pointConfig.itemStyle.shadowBlur,callback:function(e){t.$set(t.pointConfig.itemStyle,"shadowBlur",e)},expression:"pointConfig.itemStyle.shadowBlur"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("阴影模糊大小")])],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("选取图形方式：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.imageType,callback:function(e){t.imageType=e},expression:"imageType"}},t._l(t.options3,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),"type"===t.imageType?n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("基础形状选取：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.pointConfig.symbol,callback:function(e){t.$set(t.pointConfig,"symbol",e)},expression:"pointConfig.symbol"}},t._l(t.options4,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]):t._e(),"path"===t.imageType?n("div",[n("p",{staticClass:"attr-item-title"},[t._v("输入路径：")]),n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"可以通过 'image://url' 设置为图片或者通过 'path://' 将图标设置为任意的矢量路径"},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePaste(e)}},model:{value:t.pointConfig.symbol,callback:function(e){t.$set(t.pointConfig,"symbol",e)},expression:"pointConfig.symbol"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("\n        可以通过 'image://url' 设置为图片或者通过 'path://' 将图标设置为任意的矢量路径，\n        "),n("el-link",{attrs:{type:"primary",href:"https://echarts.apache.org/zh/option.html#series-effectScatter.symbol",target:"_blank"}},[t._v("官方文档")])],1)],1):t._e()])],1)},ld=[],cd={name:"attr-qk-pointConfig",props:{pointConfig:Object},data:function(){return{options1:[{value:"top",label:"顶部"},{value:"left",label:"左侧"},{value:"right",label:"右侧"},{value:"bottom",label:"底部"},{value:"inside",label:"内部"},{value:"insideLeft",label:"内部左侧"},{value:"insideRight",label:"内部右侧"},{value:"insideTop",label:"内部上侧"},{value:"insideBottom",label:"内部下侧"},{value:"insideTopLeft",label:"内部左上"},{value:"insideBottomLeft",label:"内部左下"},{value:"insideTopRight",label:"内部右上 "},{value:"insideBottomRight",label:"内部右下"}],options2:[{value:"stroke",label:"笔划"},{value:"fill",label:"填充"}],imageType:"type",options3:[{value:"type",label:"基础形状"},{value:"path",label:"输入路径"}],options4:[{value:"circle",label:"圆"},{value:"rect",label:"矩形"},{value:"roundRect",label:"圆形矩形"},{value:"triangle",label:"三角形"},{value:"diamond",label:"菱形"},{value:"pin",label:"针"},{value:"arrow",label:"箭头"},{value:"none",label:"无"}]}},methods:{handlePaste:function(t){this.pointConfig.symbol=t.clipboardData.getData("Text")}},watch:{pointConfig:{handler:function(t){this.$emit("update:pointConfig",t)},deep:!0}}},ud=cd,Ad=(n("1bb2"),n("fd5e"),Object(p["a"])(ud,sd,ld,!1,null,"d79c10e6",null)),hd=Ad.exports,fd=(_u={},Object(o["a"])(_u,Mc.name,Mc),Object(o["a"])(_u,Lc.name,Lc),Object(o["a"])(_u,Xc.name,Xc),Object(o["a"])(_u,$c.name,$c),Object(o["a"])(_u,kc.name,kc),Object(o["a"])(_u,su.name,su),Object(o["a"])(_u,fu.name,fu),Object(o["a"])(_u,bu.name,bu),Object(o["a"])(_u,Mu.name,Mu),Object(o["a"])(_u,Lu.name,Lu),Object(o["a"])(_u,ku.name,ku),Object(o["a"])(_u,Xu.name,Xu),Object(o["a"])(_u,$u.name,$u),Object(o["a"])(_u,aA.name,aA),Object(o["a"])(_u,AA.name,AA),Object(o["a"])(_u,gA.name,gA),Object(o["a"])(_u,MA.name,MA),Object(o["a"])(_u,bA.name,bA),Object(o["a"])(_u,LA.name,LA),Object(o["a"])(_u,kA.name,kA),Object(o["a"])(_u,XA.name,XA),Object(o["a"])(_u,$A.name,$A),Object(o["a"])(_u,ah.name,ah),Object(o["a"])(_u,Ah.name,Ah),Object(o["a"])(_u,gh.name,gh),Object(o["a"])(_u,bh.name,bh),Object(o["a"])(_u,Mh.name,Mh),Object(o["a"])(_u,Lh.name,Lh),Object(o["a"])(_u,kh.name,kh),Object(o["a"])(_u,Xh.name,Xh),Object(o["a"])(_u,$h.name,$h),Object(o["a"])(_u,of.name,of),Object(o["a"])(_u,hf.name,hf),Object(o["a"])(_u,vf.name,vf),Object(o["a"])(_u,Cf.name,Cf),Object(o["a"])(_u,Nf.name,Nf),Object(o["a"])(_u,Ff.name,Ff),Object(o["a"])(_u,zf.name,zf),Object(o["a"])(_u,Wf.name,Wf),Object(o["a"])(_u,td.name,td),Object(o["a"])(_u,od.name,od),Object(o["a"])(_u,hd.name,hd),_u);function dd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dd(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var md={components:pd({},fd),computed:pd(pd(pd({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(dl["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),{},{currentElementProps:function(){if(!this.activeElement.propsValue)return[];var t=Object.keys(this.activeElement.propsValue),e=Object.keys(fd);return t=t.filter((function(t){return e.includes("attr-qk-"+t)})),t}})},gd=md,vd=Object(p["a"])(gd,xc,bc,!1,null,"473de316",null),_d=vd.exports;function yd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yd(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xd={props:{},components:{baseAttr:wc,propsAttr:_d},computed:wd(wd({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(dl["c"])(["currentPageIndex","activeElementIndex"]))},bd=xd,Cd=(n("1765"),n("78cc"),Object(p["a"])(bd,oc,sc,!1,null,"2857d1bd",null)),Bd=Cd.exports,Ed=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-attr-edit components-attr-animate-edit"},[n("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?n("div",{staticClass:"attr-edit-inner"},[n("div",{staticClass:"animate-edit-btn-wrapper"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.addAnimate}},[t._v("添加动画")]),n("el-button",{attrs:{icon:"el-icon-caret-right",size:"small"},on:{click:function(e){return t.runAnimate(void 0)}}},[t._v("预览动画")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.activeElement.animations.length,expression:"activeElement.animations.length"}],staticClass:"el-animate-list-wrapper paddingT20"},[n("el-collapse",{attrs:{accordion:""}},t._l(t.activeElement.animations,(function(e,r){return n("el-collapse-item",{key:r},[n("template",{slot:"title"},[n("span",{staticClass:"el-animate-title-name"},[t._v("动画 "+t._s(r))]),n("div",{staticClass:"el-animate-title-type-wrapper"},[n("span",{staticClass:"el-animate-title-type",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleShowChooseAnimatePanel(r)}}},[t._v(t._s(e.type)+"  "),n("i",{staticClass:"el-icon-caret-right size-mini"})])]),n("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.runAnimate(r)}}},[n("i",{staticClass:"el-icon-caret-right"})]),n("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleDeleteAnimate(e)}}},[n("i",{staticClass:"el-icon-delete"})])]),n("div",{staticClass:"el-animate-item"},[n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("动画时长：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,step:.1},model:{value:e.duration,callback:function(n){t.$set(e,"duration",n)},expression:"item.duration"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("动画延迟：")]),n("div",{staticClass:"col-2  attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,step:.1},model:{value:e.delay,callback:function(n){t.$set(e,"delay",n)},expression:"item.delay"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("循环次数：")]),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:e.interationCount,callback:function(n){t.$set(e,"interationCount",n)},expression:"item.interationCount"}}),n("div",{staticClass:"attr-item-edit-input-des"},[t._v("次数")])],1),n("div",{staticClass:"col-2 attr-item-edit-input"},[n("el-checkbox",{attrs:{label:"infinite",border:"",size:"small"},model:{value:e.infinite,callback:function(n){t.$set(e,"infinite",n)},expression:"item.infinite"}},[t._v("循环播放")])],1)])])],2)})),1)],1)]):n("div",[n("p",{staticClass:"gray paddingT30 text-center white"},[t._v("请在画板上选择需要编辑得元素")])])]),n("div",{staticClass:"components-attr-edit animate-choose-list-wrapper",class:{fadeInUp:t.showAnimatePanel,fadeInDown:!t.showAnimatePanel,animate:t.showAnimatePanel}},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.animateCssDatas,(function(e){return n("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.label}},[n("el-scrollbar",{staticClass:"animate-choose-item"},t._l(e.children,(function(r,i){return n("div",{key:i,staticClass:"animate-choose-item-inner",on:{mouseover:function(e){t.hoverPreviewAnimate=r.value},mouseleave:function(e){t.hoverPreviewAnimate=""},click:function(e){return t.handleChooseAnimate(r)}}},[n("span",{staticClass:"animate-choose-image",class:[t.hoverPreviewAnimate===r.value&&r.value+" animated"],style:{backgroundPosition:e.bg_X+"px "+e.bg_Y+"px"}}),n("p",[t._v(t._s(r.label))])])})),0)],1)})),1)],1)],1)},Td=[],Sd=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向左进入",value:"fadeInLeft"},{label:"向右进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向左长距进入",value:"fadeInLeftBig"},{label:"向右长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向左弹入",value:"bounceInLeft"},{label:"向右弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速进入",value:"lightSpeedIn"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向左滑动展开",value:"slideInLeft"},{label:"向右滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"shake"},{label:"左右小幅晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"光速进出",value:"lightSpeedOut"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}],Md=Sd;function Nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nd(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Od={data:function(){return{animateCssDatas:Md,activeName:"进入",showAnimatePanel:!1,reSelectAnimateIndex:void 0,hoverPreviewAnimate:""}},computed:Dd(Dd({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(dl["c"])(["currentPageIndex","activeElementIndex","activeElement"])),watch:{activePageUUID:function(){this.addAnimate(!1)},activeElementUUID:function(){this.addAnimate(!1)}},methods:{handleChooseAnimate:function(t){this.showAnimatePanel=!1,void 0===this.reSelectAnimateIndex?this.$store.dispatch("addElementAnimate",t.value):(this.activeElement.animations[this.reSelectAnimateIndex].type=t.value,this.$store.dispatch("addHistoryCache"))},handleDeleteAnimate:function(t){this.$store.dispatch("deleteElementAnimate",t)},addAnimate:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showAnimatePanel=t,this.reSelectAnimateIndex=void 0},handleShowChooseAnimatePanel:function(t){this.reSelectAnimateIndex=t,this.showAnimatePanel=!0},runAnimate:function(t){var e=void 0===t?this.activeElement.animations:[this.activeElement.animations[t]];Gl.$emit("RUN_ANIMATIONS",this.activeElement.uuid,e)}}},Ud=Od,Id=(n("b078"),n("576a"),Object(p["a"])(Ud,Ed,Td,!1,null,"bfc79bb4",null)),Ld=Id.exports,Fd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-attr-edit"},[n("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?n("div",{staticClass:"attr-edit-inner"},[n("div",{staticClass:"animate-edit-btn-wrapper"},[n("el-dropdown",[n("el-button",{attrs:{type:"primary",size:"small"}},[t._v("\n            添加事件"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.eventTypeList,(function(e,r){return n("el-dropdown-item",{key:r},[n("div",{on:{click:function(n){return t.addEvent(e.value)}}},[t._v(t._s(e.label))])])})),1)],1),n("p",{staticClass:"gray inline-block fontsize-12 marginL10"},[t._v("事件在编辑模式下无效果")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.activeElement.events.length,expression:"activeElement.events.length"}],staticClass:"el-animate-list-wrapper paddingT20"},[n("el-collapse",{attrs:{accordion:""}},t._l(t.activeElement.events,(function(e,r){return n("el-collapse-item",{key:r},[n("template",{slot:"title"},[n("span",{staticClass:"el-animate-title-name"},[t._v("事件 "+t._s(r+1))]),n("div",{staticClass:"el-animate-title-type-wrapper"},[n("span",{staticClass:"el-animate-title-type"},[t._v(t._s(t._f("getLabelText")(e.type,t.eventTypeList)))])]),n("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteEvent(r)}}},[n("i",{staticClass:"el-icon-delete"})])]),n("div",{staticClass:"el-animate-item"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"share"!==e.type,expression:"item.type !== 'share'"}],staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("链接/接口url：")]),n("div",{staticClass:"col-1  attr-item-edit-input"},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url"},model:{value:e.url,callback:function(n){t.$set(e,"url",n)},expression:"item.url"}})],1)])])],2)})),1)],1)]):n("div",[n("p",{staticClass:"gray paddingT30 text-center white"},[t._v("请在画板上选择需要编辑得元素")])])])],1)},Rd=[];function Pd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pd(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Hd={name:"event-edit",data:function(){return{eventTypeList:[{label:"链接跳转",value:"link"},{label:"分享",value:"share"},{label:"表单提交",value:"submitForm"}]}},computed:Qd(Qd({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(dl["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),methods:{addEvent:function(t){this.$store.dispatch("addElementEvent",t)},deleteEvent:function(t){this.$store.dispatch("deleteElementEvent",t)}}},kd=Hd,zd=(n("396a"),Object(p["a"])(kd,Fd,Rd,!1,null,"3f9b647d",null)),Vd=zd.exports,Gd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-scrollbar",{staticClass:"components-attr-edit"},[n("p",{staticClass:"page-title fontBold"},[t._v("当前页样式")]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("背景颜色：")]),n("div",{staticClass:"attr-item-edit-input no-top"},[n("el-color-picker",{attrs:{size:"mini","show-alpha":!0},model:{value:t.activePage.commonStyle.backgroundColor,callback:function(e){t.$set(t.activePage.commonStyle,"backgroundColor",e)},expression:"activePage.commonStyle.backgroundColor"}})],1)]),n("div",{staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("背景图片：")]),n("div",{staticClass:"attr-item-edit-input"},[n("imageSelect",{attrs:{url:t.activePage.commonStyle.backgroundImage},on:{"update:url":function(e){return t.$set(t.activePage.commonStyle,"backgroundImage",e)}}})],1)])])},Kd=[];function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jd(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Wd={components:{imageSelect:pc},computed:Xd(Xd({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(dl["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"]))},Yd=Wd,qd=(n("2ad2"),Object(p["a"])(Yd,Gd,Kd,!1,null,"463e6eec",null)),Jd=qd.exports,Zd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-script-edit"},[n("p",{staticClass:"page-title fontBold"},[t._v("脚本编辑")]),n("p",{staticClass:"gray paddingL10 fontsize-12"},[t._v("js脚本在编辑模式下无效果")]),n("div",{staticClass:"paddingT20"},[n("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入代码"},model:{value:t.projectData.script,callback:function(e){t.$set(t.projectData,"script",e)},expression:"projectData.script"}})],1)])},$d=[];function tp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ep(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tp(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var np={computed:ep(ep({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(dl["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"]))},rp=np,ip=Object(p["a"])(rp,Zd,$d,!1,null,"32e50dc8",null),ap=ip.exports,op=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-contrl-bar"},[n("div",{staticClass:"button-item scale-wrappper"},[n("span",{staticClass:"scale-btn",on:{click:function(e){return t.updateScale("reduce")}}},[n("i",{staticClass:"el-icon-zoom-out"})]),n("span",{staticClass:"scale-input"},[t._v(t._s(parseFloat(100*t.scaleValue).toFixed(0))+"%")]),n("span",{staticClass:"scale-btn",on:{click:function(e){return t.updateScale("plus")}}},[n("i",{staticClass:"el-icon-zoom-in"})])]),n("div",{staticClass:"button-item",class:{disabled:!t.canUndo},on:{click:t.editorUndo}},[n("i",{staticClass:"iconfont iconundo1"}),n("p",[t._v("撤销")])]),n("div",{staticClass:"button-item",class:{disabled:!t.canRedo},on:{click:t.editorRedo}},[n("i",{staticClass:"iconfont iconredo1"}),n("p",[t._v("重做")])]),n("div",{staticClass:"button-item",on:{click:t.showPreview}},[n("i",{staticClass:"iconfont iconyulan"}),n("p",[t._v("预览保存")])]),n("div",{staticClass:"button-item",on:{click:t.save}},[n("i",{staticClass:"iconfont iconbaocun"}),n("p",[t._v("封面截图")])]),n("div",{staticClass:"button-item",on:{click:t.cancelFn}},[n("i",{staticClass:"iconfont icontuichu"}),n("p",[t._v("退出")])])])},sp=[];function lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lp(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var up={props:{loading:{type:Boolean,default:!1},scale:{type:Number,default:1}},data:function(){return{scaleValue:1}},computed:cp({},Object(dl["c"])(["canUndo","canRedo"])),created:function(){this.scaleValue=this.scale},methods:cp(cp({},Object(dl["b"])(["editorUndo","editorRedo"])),{},{updateScale:function(t,e){"plus"===t?this.scaleValue=this.scaleValue+(e||.1)>2?2:this.scaleValue+(e||.1):"reduce"===t?this.scaleValue=this.scaleValue-(e||.1)>.5?this.scaleValue-(e||.1):.5:"reset"===t&&(this.scaleValue=e||1),this.$emit("update:scale",this.scaleValue)},uploadSuccessPsd:function(t){this.$emit("import-psd-data",t)},save:function(){this.$emit("save")},showPreview:function(){this.$emit("showPreview")},publishFn:function(){this.$emit("publish")},cancelFn:function(){this.$emit("cancel")}})},Ap=up,hp=(n("d228"),Object(p["a"])(Ap,op,sp,!1,null,"71a33e7a",null)),fp=hp.exports,dp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("previewWrapper",{attrs:{pageId:t.pageId},on:{closePreview:t.closePreview}},[n("p",{staticClass:"page-title paddingL30",staticStyle:{color:"white"}},[t._v("页面基础设置")]),n("div",{staticClass:"preview-info-wrapper"},[n("div",{staticClass:"page-info"},[n("div",{staticClass:"page-cover"},[n("imageCropper",{attrs:{url:t.pageData.coverImage},on:{"update:url":function(e){return t.$set(t.pageData,"coverImage",e)}}})],1),n("div",{staticClass:"page-title-des"},[n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l",staticStyle:{color:"white"}},[t._v("标题：")]),n("div",{staticClass:"info-form-r"},[n("el-input",{model:{value:t.pageData.title,callback:function(e){t.$set(t.pageData,"title",e)},expression:"pageData.title"}})],1)]),n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l",staticStyle:{color:"white"}},[t._v("描述：")]),n("div",{staticClass:"info-form-r"},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.pageData.description,callback:function(e){t.$set(t.pageData,"description",e)},expression:"pageData.description"}})],1)])])]),n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l"},[n("el-checkbox",{staticStyle:{color:"white"},model:{value:t.pageData.shareConfig.shareWx,callback:function(e){t.$set(t.pageData.shareConfig,"shareWx",e)},expression:"pageData.shareConfig.shareWx"}},[t._v("设置微信分享样式")])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.pageData.shareConfig.shareWx,expression:"pageData.shareConfig.shareWx"}],staticClass:"share-wx-config-wrapper marginB30"},[n("div",{staticClass:"info-form-r page-info"},[n("div",{staticClass:"page-cover"},[n("imageCropper",{attrs:{url:t.pageData.shareConfig.coverImage},on:{"update:url":function(e){return t.$set(t.pageData.shareConfig,"coverImage",e)}}})],1),n("div",{staticClass:"page-title-des"},[n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l",staticStyle:{color:"white"}},[t._v("分享标题：")]),n("div",{staticClass:"info-form-r"},[n("el-input",{model:{value:t.pageData.shareConfig.title,callback:function(e){t.$set(t.pageData.shareConfig,"title",e)},expression:"pageData.shareConfig.title"}})],1)]),n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l",staticStyle:{color:"white"}},[t._v("分享描述：")]),n("div",{staticClass:"info-form-r"},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.pageData.shareConfig.description,callback:function(e){t.$set(t.pageData.shareConfig,"description",e)},expression:"pageData.shareConfig.description"}})],1)])])])]),n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l com-width",staticStyle:{color:"white"}},[t._v("翻页方式：")]),n("div",{staticClass:"info-form-r"},[n("el-select",{model:{value:t.pageData.flipType,callback:function(e){t.$set(t.pageData,"flipType",e)},expression:"pageData.flipType"}},[n("el-option",{attrs:{label:"上下翻页",value:0}}),n("el-option",{attrs:{label:"左右翻页",value:1}}),n("el-option",{attrs:{label:"翻书效果",value:2}})],1)],1)]),n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l com-width"}),n("div",{staticClass:"info-form-r"},[n("el-checkbox",{staticStyle:{color:"white"},model:{value:t.pageData.slideNumber,callback:function(e){t.$set(t.pageData,"slideNumber",e)},expression:"pageData.slideNumber"}},[t._v("显示页码")])],1)]),n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l com-width",staticStyle:{color:"white"}},[t._v("作品访问状态：")]),n("div",{staticClass:"info-form-r"},[n("el-select",{model:{value:t.pageData.status,callback:function(e){t.$set(t.pageData,"status",e)},expression:"pageData.status"}},[n("el-option",{attrs:{label:"允许访问",value:1}}),n("el-option",{attrs:{label:"不允许访问",value:0}})],1)],1)]),n("div",{staticClass:"foot-btn-wrapper"},[n("el-button",{attrs:{type:"primary"},on:{click:t.publishFn}},[t._v("保存并发布")]),n("el-button",{on:{click:t.saveFn}},[t._v("保 存")]),n("el-button",{on:{click:t.closePreview}},[t._v("取 消")])],1)])])},pp=[],mp=n("a1a8"),gp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-image-cropper"},[n("div",{staticClass:"inline-block cropper-res-img"},[n("img",{attrs:{src:t.url||t.defaultCoverImage,alt:"",onerror:t.defaultImg}}),n("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","before-upload":t.beforeUpload,accept:"image/gif, image/jpeg, image/png, image/bmp","show-file-list":!1}},[n("p",{staticClass:"cropper-res-img-title"},[t._v("更换主图")])])],1),n("el-dialog",{attrs:{title:"图片裁剪",visible:t.dialogVisible,"append-to-body":"",center:"",width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"cropper-wrapper"},[n("vueCropper",{ref:"cropper",attrs:{img:t.option.img,outputType:t.option.outputType,autoCrop:t.option.autoCrop,full:t.option.full,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixedBox:t.option.fixedBox,centerBox:t.option.centerBox,info:t.option.info}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.updateImage}},[t._v("确 定")])],1)])],1)},vp=[],_p=n("7e79"),yp={components:{VueCropper:_p["VueCropper"]},props:{url:String},data:function(){return{loading:!1,dialogVisible:!1,defaultCoverImage:n("5c58"),defaultImg:'this.src="'+n("5c58")+'"',option:{img:"",outputSize:1,full:!1,autoCrop:!0,outputType:"png",autoCropWidth:120,autoCropHeight:120,fixedBox:!1,centerBox:!1,info:!1}}},methods:{updateImage:function(){var t=this;this.loading=!0,this.$refs.cropper.getCropBlob((function(e){var n=wp(e),r=new FormData;r.append("file",n),t.$API.uploadCommonImage(r).then((function(e){t.loading=!1,t.dialogVisible=!1,t.$emit("update:url",e.body.url)})).catch((function(){t.loading=!1}))}))},beforeUpload:function(t){if(!(t.size>4194304)){var e=new FileReader,n=this;return e.onload=function(t){var e;e="object"===Object(es["a"])(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,n.option.img=e},e.readAsDataURL(t),this.dialogVisible=!0,!1}this.$message.error("上传图片不能超过4M！")}}};function wp(t,e){return t.lastModifiedDate=new Date,t.name=e||(new Date).getTime(),t}var xp=yp,bp=(n("f497"),Object(p["a"])(xp,gp,vp,!1,null,"949127e4",null)),Cp=bp.exports,Bp={components:{previewWrapper:mp["a"],imageCropper:Cp},props:{pageId:String,pageData:{type:Object,require:!0}},data:function(){return{}},methods:{closePreview:function(){this.$emit("closePreview",!1)},publishFn:function(){this.$emit("publishFn")},saveFn:function(){this.$emit("saveFn")}}},Ep=Bp,Tp=(n("df01"),Object(p["a"])(Ep,dp,pp,!1,null,"74c8ef02",null)),Sp=Tp.exports,Mp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"components-image-libs-wrapper",attrs:{title:"我的图片",visible:t.dialogVisible,width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"components-image-libs"},[n("div",{staticClass:"image-lib-side-bar"}),n("div",{staticClass:"image-lib-inner"},[n("div",{staticClass:"image-lib-btn"},[n("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","before-upload":t.beforeUpload,accept:"jpg,png,gif","show-file-list":!1}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),n("span",{staticClass:"el-upload__tip marginL20",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png/gif文件，且不超过2M")])],1)],1),t.imageList.length?n("el-scrollbar",{staticClass:"image-list-wrapper scroll-wrapper"},t._l(t.imageList,(function(e,r){return n("div",{key:r,staticClass:"image-item",on:{click:function(n){return t.handleImageClick(e.url)}}},[n("img",{attrs:{src:e.url,alt:""}})])})),0):n("div",{staticClass:"padding60 text-center gray"},[t._v("暂无数据")])],1)])])},Np=[],Dp={name:"image-libs",data:function(){return{dialogVisible:!1,uploading:!1,hasLoadData:!1,imageList:[],selectId:""}},created:function(){var t=this;Gl.$on("show-select-image",(function(e){t.dialogVisible=!0,t.selectId=e}))},watch:{dialogVisible:function(t){t&&!this.uploading&&this.getMyImages()}},methods:{beforeUpload:function(t){if(!(t.size>1048576)){var e=t.name.split("."),n=e[e.length-1];return["jpg","png","gif"].includes(n)?(this.uploadPsd(t),!1):(this.$message.error("请上传jpg/png/gif文件"),!1)}this.$message.error("psd文件不能超过1M！")},uploadPsd:function(t){var e=this,n=new FormData;n.append("file",t),this.uploading=!0,this.$API.uploadImage(n).then((function(t){e.uploading=!1,e.imageList.splice(0,0,t.body)})).catch((function(){e.uploading=!0}))},getMyImages:function(){var t=this;this.hasLoadData=!0,this.$API.getMyImages().then((function(e){t.imageList=e.body||[]}))},handleImageClick:function(t){Gl.$emit("select-image",this.selectId,t),this.dialogVisible=!1}}},Op=Dp,Up=(n("3cf8"),n("db72"),Object(p["a"])(Op,Mp,Np,!1,null,"a653f398",null)),Ip=Up.exports;function Lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lp(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Rp={components:{componentLibs:Al,pageManage:wl,templateLibs:Fl,imageLibs:Ip,editorPan:ac,attrEdit:Bd,animationEdit:Ld,eventEdit:Vd,pageAttrEdit:Jd,scriptEdit:ap,controlBar:fp,previewPage:Sp},data:function(){return{id:"",loading:!1,showPreview:!1,activeAttr:"属性",activeSideBar:"componentLibs",sidebarMenus:[{label:"组件列表",value:"componentLibs",elementUiIcon:"el-icon-s-operation"},{label:"页面管理",value:"pageManage",elementUiIcon:"el-icon-document"},{label:"模板库",value:"templateLibs",elementUiIcon:"el-icon-files"}],canvasConfig:{scale:1}}},computed:Fp({},Object(dl["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),created:function(){this.$store.dispatch("setPrjectData"),this.id=this.$route.query.id,this.initPageData()},methods:{initPageData:function(){var t=this;this.loading=!0,this.$API.getPageDetail({pageId:this.id}).then((function(e){t.loading=!1,t.$store.dispatch("setPrjectData",Fp({},e.body))})).catch((function(){t.loading=!1}))},saveFn:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$API.updatePage({pageData:this.projectData}).then((function(){e.$message.success("保存成功!"),e.showPreview=!1}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveSn:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.screenshots();case 2:this.$API.updatePage({pageData:this.projectData}).then((function(){e.$message.success("保存成功!"),e.showPreview=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),publishFn:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Fp({},this.projectData),e.isPublish=!0,this.$API.updatePage({pageData:e}).then((function(){n.$message.success("已成功保存并发布!"),n.showPreview=!1,n.$router.push({name:"pageList"})}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showPreviewFn:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$API.updatePage({pageData:this.projectData}).then((function(){e.showPreview=!0}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelFn:function(){var t=this;this.$confirm("确认退出编辑?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$router.push({name:"Home"})})).catch((function(){}))},screenshots:function(){var t=this,e=document.querySelector("#canvas-panel");return new Promise((function(n,r){$l()(e,{proxy:"".concat(t.$config.baseURL,"/common/html2canvas/corsproxy")}).then((function(e){var i=e.toDataURL("image/jpeg",.6),a=t.$mUtils.dataURItoBlob(i),o=new window.File([a],+new Date+".png",{type:"image/png"}),s=new FormData;s.append("file",o),t.$API.uploadCommonImage(s).then((function(e){t.projectData.coverImage=e.body.url,t.projectData.shareConfig.coverImage=e.body.url,n(e.body)})).catch((function(t){r(t)}))}))}))},importPsdData:function(t){var e=this,n=t.elements,r=t.document.width,i=this.projectData.width/r;n.forEach((function(t){var n=t.width,r=t.height,a=t.top,o=t.left,s=t.imageSrc,l=t.opacity,c=t.zIndex;setTimeout((function(){e.$store.dispatch("addElement",{elName:"qk-image",defaultStyle:{width:n*i,height:r*i,top:a*i,left:o*i,zIndex:c,opacity:l},needProps:{imageSrc:s}})}),10)}))}},watch:{$route:function(){window.location.reload()}}},Pp=Rp,Qp=(n("5df1"),n("fed7"),Object(p["a"])(Pp,r,i,!1,null,"0a9c5e18",null));e["default"]=Qp.exports},fc10:function(t,e,n){"use strict";n("8080")},fd5e:function(t,e,n){"use strict";n("105c")},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe36:function(t,e,n){},fed7:function(t,e,n){"use strict";n("8ad8")},fee9:function(t,e,n){"use strict";n("2af9")}}]);
//# sourceMappingURL=chunk-16db71c8.6cecb951.js.map